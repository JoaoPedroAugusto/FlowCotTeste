var Fh=Object.defineProperty;var jh=(t,e,n)=>e in t?Fh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var an=(t,e,n)=>jh(t,typeof e!="symbol"?e+"":e,n);function _mergeNamespaces(t,e){for(var n=0;n<e.length;n++){const o=e[n];if(typeof o!="string"&&!Array.isArray(o)){for(const l in o)if(l!=="default"&&!(l in t)){const u=Object.getOwnPropertyDescriptor(o,l);u&&Object.defineProperty(t,l,u.get?u:{enumerable:!0,get:()=>o[l]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production_min;function requireReact_production_min(){if(hasRequiredReact_production_min)return react_production_min;hasRequiredReact_production_min=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function b(ae){return ae===null||typeof ae!="object"?null:(ae=v&&ae[v]||ae["@@iterator"],typeof ae=="function"?ae:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,C={};function w(ae,pe,we){this.props=ae,this.context=pe,this.refs=C,this.updater=we||S}w.prototype.isReactComponent={},w.prototype.setState=function(ae,pe){if(typeof ae!="object"&&typeof ae!="function"&&ae!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ae,pe,"setState")},w.prototype.forceUpdate=function(ae){this.updater.enqueueForceUpdate(this,ae,"forceUpdate")};function R(){}R.prototype=w.prototype;function L(ae,pe,we){this.props=ae,this.context=pe,this.refs=C,this.updater=we||S}var N=L.prototype=new R;N.constructor=L,T(N,w.prototype),N.isPureReactComponent=!0;var F=Array.isArray,B=Object.prototype.hasOwnProperty,U={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function K(ae,pe,we){var _e,Me={},Oe=null,Ye=null;if(pe!=null)for(_e in pe.ref!==void 0&&(Ye=pe.ref),pe.key!==void 0&&(Oe=""+pe.key),pe)B.call(pe,_e)&&!z.hasOwnProperty(_e)&&(Me[_e]=pe[_e]);var qe=arguments.length-2;if(qe===1)Me.children=we;else if(1<qe){for(var Re=Array(qe),Je=0;Je<qe;Je++)Re[Je]=arguments[Je+2];Me.children=Re}if(ae&&ae.defaultProps)for(_e in qe=ae.defaultProps,qe)Me[_e]===void 0&&(Me[_e]=qe[_e]);return{$$typeof:t,type:ae,key:Oe,ref:Ye,props:Me,_owner:U.current}}function Q(ae,pe){return{$$typeof:t,type:ae.type,key:pe,ref:ae.ref,props:ae.props,_owner:ae._owner}}function q(ae){return typeof ae=="object"&&ae!==null&&ae.$$typeof===t}function H(ae){var pe={"=":"=0",":":"=2"};return"$"+ae.replace(/[=:]/g,function(we){return pe[we]})}var se=/\/+/g;function le(ae,pe){return typeof ae=="object"&&ae!==null&&ae.key!=null?H(""+ae.key):pe.toString(36)}function ne(ae,pe,we,_e,Me){var Oe=typeof ae;(Oe==="undefined"||Oe==="boolean")&&(ae=null);var Ye=!1;if(ae===null)Ye=!0;else switch(Oe){case"string":case"number":Ye=!0;break;case"object":switch(ae.$$typeof){case t:case e:Ye=!0}}if(Ye)return Ye=ae,Me=Me(Ye),ae=_e===""?"."+le(Ye,0):_e,F(Me)?(we="",ae!=null&&(we=ae.replace(se,"$&/")+"/"),ne(Me,pe,we,"",function(Je){return Je})):Me!=null&&(q(Me)&&(Me=Q(Me,we+(!Me.key||Ye&&Ye.key===Me.key?"":(""+Me.key).replace(se,"$&/")+"/")+ae)),pe.push(Me)),1;if(Ye=0,_e=_e===""?".":_e+":",F(ae))for(var qe=0;qe<ae.length;qe++){Oe=ae[qe];var Re=_e+le(Oe,qe);Ye+=ne(Oe,pe,we,Re,Me)}else if(Re=b(ae),typeof Re=="function")for(ae=Re.call(ae),qe=0;!(Oe=ae.next()).done;)Oe=Oe.value,Re=_e+le(Oe,qe++),Ye+=ne(Oe,pe,we,Re,Me);else if(Oe==="object")throw pe=String(ae),Error("Objects are not valid as a React child (found: "+(pe==="[object Object]"?"object with keys {"+Object.keys(ae).join(", ")+"}":pe)+"). If you meant to render a collection of children, use an array instead.");return Ye}function ce(ae,pe,we){if(ae==null)return ae;var _e=[],Me=0;return ne(ae,_e,"","",function(Oe){return pe.call(we,Oe,Me++)}),_e}function fe(ae){if(ae._status===-1){var pe=ae._result;pe=pe(),pe.then(function(we){(ae._status===0||ae._status===-1)&&(ae._status=1,ae._result=we)},function(we){(ae._status===0||ae._status===-1)&&(ae._status=2,ae._result=we)}),ae._status===-1&&(ae._status=0,ae._result=pe)}if(ae._status===1)return ae._result.default;throw ae._result}var ge={current:null},Z={transition:null},ie={ReactCurrentDispatcher:ge,ReactCurrentBatchConfig:Z,ReactCurrentOwner:U};function oe(){throw Error("act(...) is not supported in production builds of React.")}return react_production_min.Children={map:ce,forEach:function(ae,pe,we){ce(ae,function(){pe.apply(this,arguments)},we)},count:function(ae){var pe=0;return ce(ae,function(){pe++}),pe},toArray:function(ae){return ce(ae,function(pe){return pe})||[]},only:function(ae){if(!q(ae))throw Error("React.Children.only expected to receive a single React element child.");return ae}},react_production_min.Component=w,react_production_min.Fragment=n,react_production_min.Profiler=l,react_production_min.PureComponent=L,react_production_min.StrictMode=o,react_production_min.Suspense=d,react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,react_production_min.act=oe,react_production_min.cloneElement=function(ae,pe,we){if(ae==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ae+".");var _e=T({},ae.props),Me=ae.key,Oe=ae.ref,Ye=ae._owner;if(pe!=null){if(pe.ref!==void 0&&(Oe=pe.ref,Ye=U.current),pe.key!==void 0&&(Me=""+pe.key),ae.type&&ae.type.defaultProps)var qe=ae.type.defaultProps;for(Re in pe)B.call(pe,Re)&&!z.hasOwnProperty(Re)&&(_e[Re]=pe[Re]===void 0&&qe!==void 0?qe[Re]:pe[Re])}var Re=arguments.length-2;if(Re===1)_e.children=we;else if(1<Re){qe=Array(Re);for(var Je=0;Je<Re;Je++)qe[Je]=arguments[Je+2];_e.children=qe}return{$$typeof:t,type:ae.type,key:Me,ref:Oe,props:_e,_owner:Ye}},react_production_min.createContext=function(ae){return ae={$$typeof:h,_currentValue:ae,_currentValue2:ae,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ae.Provider={$$typeof:u,_context:ae},ae.Consumer=ae},react_production_min.createElement=K,react_production_min.createFactory=function(ae){var pe=K.bind(null,ae);return pe.type=ae,pe},react_production_min.createRef=function(){return{current:null}},react_production_min.forwardRef=function(ae){return{$$typeof:f,render:ae}},react_production_min.isValidElement=q,react_production_min.lazy=function(ae){return{$$typeof:m,_payload:{_status:-1,_result:ae},_init:fe}},react_production_min.memo=function(ae,pe){return{$$typeof:p,type:ae,compare:pe===void 0?null:pe}},react_production_min.startTransition=function(ae){var pe=Z.transition;Z.transition={};try{ae()}finally{Z.transition=pe}},react_production_min.unstable_act=oe,react_production_min.useCallback=function(ae,pe){return ge.current.useCallback(ae,pe)},react_production_min.useContext=function(ae){return ge.current.useContext(ae)},react_production_min.useDebugValue=function(){},react_production_min.useDeferredValue=function(ae){return ge.current.useDeferredValue(ae)},react_production_min.useEffect=function(ae,pe){return ge.current.useEffect(ae,pe)},react_production_min.useId=function(){return ge.current.useId()},react_production_min.useImperativeHandle=function(ae,pe,we){return ge.current.useImperativeHandle(ae,pe,we)},react_production_min.useInsertionEffect=function(ae,pe){return ge.current.useInsertionEffect(ae,pe)},react_production_min.useLayoutEffect=function(ae,pe){return ge.current.useLayoutEffect(ae,pe)},react_production_min.useMemo=function(ae,pe){return ge.current.useMemo(ae,pe)},react_production_min.useReducer=function(ae,pe,we){return ge.current.useReducer(ae,pe,we)},react_production_min.useRef=function(ae){return ge.current.useRef(ae)},react_production_min.useState=function(ae){return ge.current.useState(ae)},react_production_min.useSyncExternalStore=function(ae,pe,we){return ge.current.useSyncExternalStore(ae,pe,we)},react_production_min.useTransition=function(){return ge.current.useTransition()},react_production_min.version="18.3.1",react_production_min}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production_min()),react.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production_min;function requireReactJsxRuntime_production_min(){if(hasRequiredReactJsxRuntime_production_min)return reactJsxRuntime_production_min;hasRequiredReactJsxRuntime_production_min=1;var t=requireReact(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(f,d,p){var m,v={},b=null,S=null;p!==void 0&&(b=""+p),d.key!==void 0&&(b=""+d.key),d.ref!==void 0&&(S=d.ref);for(m in d)o.call(d,m)&&!u.hasOwnProperty(m)&&(v[m]=d[m]);if(f&&f.defaultProps)for(m in d=f.defaultProps,d)v[m]===void 0&&(v[m]=d[m]);return{$$typeof:e,type:f,key:b,ref:S,props:v,_owner:l.current}}return reactJsxRuntime_production_min.Fragment=n,reactJsxRuntime_production_min.jsx=h,reactJsxRuntime_production_min.jsxs=h,reactJsxRuntime_production_min}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production_min()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);var client={},reactDom={exports:{}},reactDom_production_min={},scheduler$2={exports:{}},scheduler_production_min$2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production_min$2;function requireScheduler_production_min$2(){return hasRequiredScheduler_production_min$2||(hasRequiredScheduler_production_min$2=1,function(t){function e(Z,ie){var oe=Z.length;Z.push(ie);e:for(;0<oe;){var ae=oe-1>>>1,pe=Z[ae];if(0<l(pe,ie))Z[ae]=ie,Z[oe]=pe,oe=ae;else break e}}function n(Z){return Z.length===0?null:Z[0]}function o(Z){if(Z.length===0)return null;var ie=Z[0],oe=Z.pop();if(oe!==ie){Z[0]=oe;e:for(var ae=0,pe=Z.length,we=pe>>>1;ae<we;){var _e=2*(ae+1)-1,Me=Z[_e],Oe=_e+1,Ye=Z[Oe];if(0>l(Me,oe))Oe<pe&&0>l(Ye,Me)?(Z[ae]=Ye,Z[Oe]=oe,ae=Oe):(Z[ae]=Me,Z[_e]=oe,ae=_e);else if(Oe<pe&&0>l(Ye,oe))Z[ae]=Ye,Z[Oe]=oe,ae=Oe;else break e}}return ie}function l(Z,ie){var oe=Z.sortIndex-ie.sortIndex;return oe!==0?oe:Z.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var h=Date,f=h.now();t.unstable_now=function(){return h.now()-f}}var d=[],p=[],m=1,v=null,b=3,S=!1,T=!1,C=!1,w=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(Z){for(var ie=n(p);ie!==null;){if(ie.callback===null)o(p);else if(ie.startTime<=Z)o(p),ie.sortIndex=ie.expirationTime,e(d,ie);else break;ie=n(p)}}function F(Z){if(C=!1,N(Z),!T)if(n(d)!==null)T=!0,fe(B);else{var ie=n(p);ie!==null&&ge(F,ie.startTime-Z)}}function B(Z,ie){T=!1,C&&(C=!1,R(K),K=-1),S=!0;var oe=b;try{for(N(ie),v=n(d);v!==null&&(!(v.expirationTime>ie)||Z&&!H());){var ae=v.callback;if(typeof ae=="function"){v.callback=null,b=v.priorityLevel;var pe=ae(v.expirationTime<=ie);ie=t.unstable_now(),typeof pe=="function"?v.callback=pe:v===n(d)&&o(d),N(ie)}else o(d);v=n(d)}if(v!==null)var we=!0;else{var _e=n(p);_e!==null&&ge(F,_e.startTime-ie),we=!1}return we}finally{v=null,b=oe,S=!1}}var U=!1,z=null,K=-1,Q=5,q=-1;function H(){return!(t.unstable_now()-q<Q)}function se(){if(z!==null){var Z=t.unstable_now();q=Z;var ie=!0;try{ie=z(!0,Z)}finally{ie?le():(U=!1,z=null)}}else U=!1}var le;if(typeof L=="function")le=function(){L(se)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,ce=ne.port2;ne.port1.onmessage=se,le=function(){ce.postMessage(null)}}else le=function(){w(se,0)};function fe(Z){z=Z,U||(U=!0,le())}function ge(Z,ie){K=w(function(){Z(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_continueExecution=function(){T||S||(T=!0,fe(B))},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(Z){switch(b){case 1:case 2:case 3:var ie=3;break;default:ie=b}var oe=b;b=ie;try{return Z()}finally{b=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Z,ie){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var oe=b;b=Z;try{return ie()}finally{b=oe}},t.unstable_scheduleCallback=function(Z,ie,oe){var ae=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?ae+oe:ae):oe=ae,Z){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=oe+pe,Z={id:m++,callback:ie,priorityLevel:Z,startTime:oe,expirationTime:pe,sortIndex:-1},oe>ae?(Z.sortIndex=oe,e(p,Z),n(d)===null&&Z===n(p)&&(C?(R(K),K=-1):C=!0,ge(F,oe-ae))):(Z.sortIndex=pe,e(d,Z),T||S||(T=!0,fe(B))),Z},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(Z){var ie=b;return function(){var oe=b;b=ie;try{return Z.apply(this,arguments)}finally{b=oe}}}}(scheduler_production_min$2)),scheduler_production_min$2}var hasRequiredScheduler$2;function requireScheduler$2(){return hasRequiredScheduler$2||(hasRequiredScheduler$2=1,scheduler$2.exports=requireScheduler_production_min$2()),scheduler$2.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production_min;function requireReactDom_production_min(){if(hasRequiredReactDom_production_min)return reactDom_production_min;hasRequiredReactDom_production_min=1;var t=requireReact(),e=requireScheduler$2();function n(_){for(var M="https://reactjs.org/docs/error-decoder.html?invariant="+_,O=1;O<arguments.length;O++)M+="&args[]="+encodeURIComponent(arguments[O]);return"Minified React error #"+_+"; visit "+M+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function u(_,M){h(_,M),h(_+"Capture",M)}function h(_,M){for(l[_]=M,_=0;_<M.length;_++)o.add(M[_])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},v={};function b(_){return d.call(v,_)?!0:d.call(m,_)?!1:p.test(_)?v[_]=!0:(m[_]=!0,!1)}function S(_,M,O,V){if(O!==null&&O.type===0)return!1;switch(typeof M){case"function":case"symbol":return!0;case"boolean":return V?!1:O!==null?!O.acceptsBooleans:(_=_.toLowerCase().slice(0,5),_!=="data-"&&_!=="aria-");default:return!1}}function T(_,M,O,V){if(M===null||typeof M>"u"||S(_,M,O,V))return!0;if(V)return!1;if(O!==null)switch(O.type){case 3:return!M;case 4:return M===!1;case 5:return isNaN(M);case 6:return isNaN(M)||1>M}return!1}function C(_,M,O,V,Y,ee,ue){this.acceptsBooleans=M===2||M===3||M===4,this.attributeName=V,this.attributeNamespace=Y,this.mustUseProperty=O,this.propertyName=_,this.type=M,this.sanitizeURL=ee,this.removeEmptyString=ue}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(_){w[_]=new C(_,0,!1,_,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(_){var M=_[0];w[M]=new C(M,1,!1,_[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(_){w[_]=new C(_,2,!1,_.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(_){w[_]=new C(_,2,!1,_,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(_){w[_]=new C(_,3,!1,_.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(_){w[_]=new C(_,3,!0,_,null,!1,!1)}),["capture","download"].forEach(function(_){w[_]=new C(_,4,!1,_,null,!1,!1)}),["cols","rows","size","span"].forEach(function(_){w[_]=new C(_,6,!1,_,null,!1,!1)}),["rowSpan","start"].forEach(function(_){w[_]=new C(_,5,!1,_.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function L(_){return _[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(_){var M=_.replace(R,L);w[M]=new C(M,1,!1,_,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(_){var M=_.replace(R,L);w[M]=new C(M,1,!1,_,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(_){var M=_.replace(R,L);w[M]=new C(M,1,!1,_,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(_){w[_]=new C(_,1,!1,_.toLowerCase(),null,!1,!1)}),w.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(_){w[_]=new C(_,1,!1,_.toLowerCase(),null,!0,!0)});function N(_,M,O,V){var Y=w.hasOwnProperty(M)?w[M]:null;(Y!==null?Y.type!==0:V||!(2<M.length)||M[0]!=="o"&&M[0]!=="O"||M[1]!=="n"&&M[1]!=="N")&&(T(M,O,Y,V)&&(O=null),V||Y===null?b(M)&&(O===null?_.removeAttribute(M):_.setAttribute(M,""+O)):Y.mustUseProperty?_[Y.propertyName]=O===null?Y.type===3?!1:"":O:(M=Y.attributeName,V=Y.attributeNamespace,O===null?_.removeAttribute(M):(Y=Y.type,O=Y===3||Y===4&&O===!0?"":""+O,V?_.setAttributeNS(V,M,O):_.setAttribute(M,O))))}var F=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),U=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),H=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),ce=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),ge=Symbol.for("react.offscreen"),Z=Symbol.iterator;function ie(_){return _===null||typeof _!="object"?null:(_=Z&&_[Z]||_["@@iterator"],typeof _=="function"?_:null)}var oe=Object.assign,ae;function pe(_){if(ae===void 0)try{throw Error()}catch(O){var M=O.stack.trim().match(/\n( *(at )?)/);ae=M&&M[1]||""}return`
`+ae+_}var we=!1;function _e(_,M){if(!_||we)return"";we=!0;var O=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(M)if(M=function(){throw Error()},Object.defineProperty(M.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(M,[])}catch(Ge){var V=Ge}Reflect.construct(_,[],M)}else{try{M.call()}catch(Ge){V=Ge}_.call(M.prototype)}else{try{throw Error()}catch(Ge){V=Ge}_()}}catch(Ge){if(Ge&&V&&typeof Ge.stack=="string"){for(var Y=Ge.stack.split(`
`),ee=V.stack.split(`
`),ue=Y.length-1,be=ee.length-1;1<=ue&&0<=be&&Y[ue]!==ee[be];)be--;for(;1<=ue&&0<=be;ue--,be--)if(Y[ue]!==ee[be]){if(ue!==1||be!==1)do if(ue--,be--,0>be||Y[ue]!==ee[be]){var Te=`
`+Y[ue].replace(" at new "," at ");return _.displayName&&Te.includes("<anonymous>")&&(Te=Te.replace("<anonymous>",_.displayName)),Te}while(1<=ue&&0<=be);break}}}finally{we=!1,Error.prepareStackTrace=O}return(_=_?_.displayName||_.name:"")?pe(_):""}function Me(_){switch(_.tag){case 5:return pe(_.type);case 16:return pe("Lazy");case 13:return pe("Suspense");case 19:return pe("SuspenseList");case 0:case 2:case 15:return _=_e(_.type,!1),_;case 11:return _=_e(_.type.render,!1),_;case 1:return _=_e(_.type,!0),_;default:return""}}function Oe(_){if(_==null)return null;if(typeof _=="function")return _.displayName||_.name||null;if(typeof _=="string")return _;switch(_){case z:return"Fragment";case U:return"Portal";case Q:return"Profiler";case K:return"StrictMode";case le:return"Suspense";case ne:return"SuspenseList"}if(typeof _=="object")switch(_.$$typeof){case H:return(_.displayName||"Context")+".Consumer";case q:return(_._context.displayName||"Context")+".Provider";case se:var M=_.render;return _=_.displayName,_||(_=M.displayName||M.name||"",_=_!==""?"ForwardRef("+_+")":"ForwardRef"),_;case ce:return M=_.displayName||null,M!==null?M:Oe(_.type)||"Memo";case fe:M=_._payload,_=_._init;try{return Oe(_(M))}catch{}}return null}function Ye(_){var M=_.type;switch(_.tag){case 24:return"Cache";case 9:return(M.displayName||"Context")+".Consumer";case 10:return(M._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return _=M.render,_=_.displayName||_.name||"",M.displayName||(_!==""?"ForwardRef("+_+")":"ForwardRef");case 7:return"Fragment";case 5:return M;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oe(M);case 8:return M===K?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof M=="function")return M.displayName||M.name||null;if(typeof M=="string")return M}return null}function qe(_){switch(typeof _){case"boolean":case"number":case"string":case"undefined":return _;case"object":return _;default:return""}}function Re(_){var M=_.type;return(_=_.nodeName)&&_.toLowerCase()==="input"&&(M==="checkbox"||M==="radio")}function Je(_){var M=Re(_)?"checked":"value",O=Object.getOwnPropertyDescriptor(_.constructor.prototype,M),V=""+_[M];if(!_.hasOwnProperty(M)&&typeof O<"u"&&typeof O.get=="function"&&typeof O.set=="function"){var Y=O.get,ee=O.set;return Object.defineProperty(_,M,{configurable:!0,get:function(){return Y.call(this)},set:function(ue){V=""+ue,ee.call(this,ue)}}),Object.defineProperty(_,M,{enumerable:O.enumerable}),{getValue:function(){return V},setValue:function(ue){V=""+ue},stopTracking:function(){_._valueTracker=null,delete _[M]}}}}function ke(_){_._valueTracker||(_._valueTracker=Je(_))}function de(_){if(!_)return!1;var M=_._valueTracker;if(!M)return!0;var O=M.getValue(),V="";return _&&(V=Re(_)?_.checked?"true":"false":_.value),_=V,_!==O?(M.setValue(_),!0):!1}function Be(_){if(_=_||(typeof document<"u"?document:void 0),typeof _>"u")return null;try{return _.activeElement||_.body}catch{return _.body}}function Pe(_,M){var O=M.checked;return oe({},M,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:O??_._wrapperState.initialChecked})}function et(_,M){var O=M.defaultValue==null?"":M.defaultValue,V=M.checked!=null?M.checked:M.defaultChecked;O=qe(M.value!=null?M.value:O),_._wrapperState={initialChecked:V,initialValue:O,controlled:M.type==="checkbox"||M.type==="radio"?M.checked!=null:M.value!=null}}function He(_,M){M=M.checked,M!=null&&N(_,"checked",M,!1)}function rt(_,M){He(_,M);var O=qe(M.value),V=M.type;if(O!=null)V==="number"?(O===0&&_.value===""||_.value!=O)&&(_.value=""+O):_.value!==""+O&&(_.value=""+O);else if(V==="submit"||V==="reset"){_.removeAttribute("value");return}M.hasOwnProperty("value")?ht(_,M.type,O):M.hasOwnProperty("defaultValue")&&ht(_,M.type,qe(M.defaultValue)),M.checked==null&&M.defaultChecked!=null&&(_.defaultChecked=!!M.defaultChecked)}function ot(_,M,O){if(M.hasOwnProperty("value")||M.hasOwnProperty("defaultValue")){var V=M.type;if(!(V!=="submit"&&V!=="reset"||M.value!==void 0&&M.value!==null))return;M=""+_._wrapperState.initialValue,O||M===_.value||(_.value=M),_.defaultValue=M}O=_.name,O!==""&&(_.name=""),_.defaultChecked=!!_._wrapperState.initialChecked,O!==""&&(_.name=O)}function ht(_,M,O){(M!=="number"||Be(_.ownerDocument)!==_)&&(O==null?_.defaultValue=""+_._wrapperState.initialValue:_.defaultValue!==""+O&&(_.defaultValue=""+O))}var xt=Array.isArray;function me(_,M,O,V){if(_=_.options,M){M={};for(var Y=0;Y<O.length;Y++)M["$"+O[Y]]=!0;for(O=0;O<_.length;O++)Y=M.hasOwnProperty("$"+_[O].value),_[O].selected!==Y&&(_[O].selected=Y),Y&&V&&(_[O].defaultSelected=!0)}else{for(O=""+qe(O),M=null,Y=0;Y<_.length;Y++){if(_[Y].value===O){_[Y].selected=!0,V&&(_[Y].defaultSelected=!0);return}M!==null||_[Y].disabled||(M=_[Y])}M!==null&&(M.selected=!0)}}function he(_,M){if(M.dangerouslySetInnerHTML!=null)throw Error(n(91));return oe({},M,{value:void 0,defaultValue:void 0,children:""+_._wrapperState.initialValue})}function Ne(_,M){var O=M.value;if(O==null){if(O=M.children,M=M.defaultValue,O!=null){if(M!=null)throw Error(n(92));if(xt(O)){if(1<O.length)throw Error(n(93));O=O[0]}M=O}M==null&&(M=""),O=M}_._wrapperState={initialValue:qe(O)}}function Ve(_,M){var O=qe(M.value),V=qe(M.defaultValue);O!=null&&(O=""+O,O!==_.value&&(_.value=O),M.defaultValue==null&&_.defaultValue!==O&&(_.defaultValue=O)),V!=null&&(_.defaultValue=""+V)}function tt(_){var M=_.textContent;M===_._wrapperState.initialValue&&M!==""&&M!==null&&(_.value=M)}function nt(_){switch(_){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pt(_,M){return _==null||_==="http://www.w3.org/1999/xhtml"?nt(M):_==="http://www.w3.org/2000/svg"&&M==="foreignObject"?"http://www.w3.org/1999/xhtml":_}var Tt,ut=function(_){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(M,O,V,Y){MSApp.execUnsafeLocalFunction(function(){return _(M,O,V,Y)})}:_}(function(_,M){if(_.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in _)_.innerHTML=M;else{for(Tt=Tt||document.createElement("div"),Tt.innerHTML="<svg>"+M.valueOf().toString()+"</svg>",M=Tt.firstChild;_.firstChild;)_.removeChild(_.firstChild);for(;M.firstChild;)_.appendChild(M.firstChild)}});function ft(_,M){if(M){var O=_.firstChild;if(O&&O===_.lastChild&&O.nodeType===3){O.nodeValue=M;return}}_.textContent=M}var Ft={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dt=["Webkit","ms","Moz","O"];Object.keys(Ft).forEach(function(_){dt.forEach(function(M){M=M+_.charAt(0).toUpperCase()+_.substring(1),Ft[M]=Ft[_]})});function yn(_,M,O){return M==null||typeof M=="boolean"||M===""?"":O||typeof M!="number"||M===0||Ft.hasOwnProperty(_)&&Ft[_]?(""+M).trim():M+"px"}function qt(_,M){_=_.style;for(var O in M)if(M.hasOwnProperty(O)){var V=O.indexOf("--")===0,Y=yn(O,M[O],V);O==="float"&&(O="cssFloat"),V?_.setProperty(O,Y):_[O]=Y}}var It=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Se(_,M){if(M){if(It[_]&&(M.children!=null||M.dangerouslySetInnerHTML!=null))throw Error(n(137,_));if(M.dangerouslySetInnerHTML!=null){if(M.children!=null)throw Error(n(60));if(typeof M.dangerouslySetInnerHTML!="object"||!("__html"in M.dangerouslySetInnerHTML))throw Error(n(61))}if(M.style!=null&&typeof M.style!="object")throw Error(n(62))}}function Xe(_,M){if(_.indexOf("-")===-1)return typeof M.is=="string";switch(_){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ve=null;function ze(_){return _=_.target||_.srcElement||window,_.correspondingUseElement&&(_=_.correspondingUseElement),_.nodeType===3?_.parentNode:_}var yt=null,Ee=null,it=null;function je(_){if(_=ki(_)){if(typeof yt!="function")throw Error(n(280));var M=_.stateNode;M&&(M=Yo(M),yt(_.stateNode,_.type,M))}}function at(_){Ee?it?it.push(_):it=[_]:Ee=_}function gt(){if(Ee){var _=Ee,M=it;if(it=Ee=null,je(_),M)for(_=0;_<M.length;_++)je(M[_])}}function Bt(_,M){return _(M)}function tn(){}var rn=!1;function cn(_,M,O){if(rn)return _(M,O);rn=!0;try{return Bt(_,M,O)}finally{rn=!1,(Ee!==null||it!==null)&&(tn(),gt())}}function Yt(_,M){var O=_.stateNode;if(O===null)return null;var V=Yo(O);if(V===null)return null;O=V[M];e:switch(M){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(V=!V.disabled)||(_=_.type,V=!(_==="button"||_==="input"||_==="select"||_==="textarea")),_=!V;break e;default:_=!1}if(_)return null;if(O&&typeof O!="function")throw Error(n(231,M,typeof O));return O}var pn=!1;if(f)try{var In={};Object.defineProperty(In,"passive",{get:function(){pn=!0}}),window.addEventListener("test",In,In),window.removeEventListener("test",In,In)}catch{pn=!1}function fi(_,M,O,V,Y,ee,ue,be,Te){var Ge=Array.prototype.slice.call(arguments,3);try{M.apply(O,Ge)}catch(lt){this.onError(lt)}}var zr=!1,Mi=null,ti=!1,Yi=null,mo={onError:function(_){zr=!0,Mi=_}};function go(_,M,O,V,Y,ee,ue,be,Te){zr=!1,Mi=null,fi.apply(mo,arguments)}function ml(_,M,O,V,Y,ee,ue,be,Te){if(go.apply(this,arguments),zr){if(zr){var Ge=Mi;zr=!1,Mi=null}else throw Error(n(198));ti||(ti=!0,Yi=Ge)}}function Pi(_){var M=_,O=_;if(_.alternate)for(;M.return;)M=M.return;else{_=M;do M=_,(M.flags&4098)!==0&&(O=M.return),_=M.return;while(_)}return M.tag===3?O:null}function yo(_){if(_.tag===13){var M=_.memoizedState;if(M===null&&(_=_.alternate,_!==null&&(M=_.memoizedState)),M!==null)return M.dehydrated}return null}function ye(_){if(Pi(_)!==_)throw Error(n(188))}function De(_){var M=_.alternate;if(!M){if(M=Pi(_),M===null)throw Error(n(188));return M!==_?null:_}for(var O=_,V=M;;){var Y=O.return;if(Y===null)break;var ee=Y.alternate;if(ee===null){if(V=Y.return,V!==null){O=V;continue}break}if(Y.child===ee.child){for(ee=Y.child;ee;){if(ee===O)return ye(Y),_;if(ee===V)return ye(Y),M;ee=ee.sibling}throw Error(n(188))}if(O.return!==V.return)O=Y,V=ee;else{for(var ue=!1,be=Y.child;be;){if(be===O){ue=!0,O=Y,V=ee;break}if(be===V){ue=!0,V=Y,O=ee;break}be=be.sibling}if(!ue){for(be=ee.child;be;){if(be===O){ue=!0,O=ee,V=Y;break}if(be===V){ue=!0,V=ee,O=Y;break}be=be.sibling}if(!ue)throw Error(n(189))}}if(O.alternate!==V)throw Error(n(190))}if(O.tag!==3)throw Error(n(188));return O.stateNode.current===O?_:M}function We(_){return _=De(_),_!==null?Ke(_):null}function Ke(_){if(_.tag===5||_.tag===6)return _;for(_=_.child;_!==null;){var M=Ke(_);if(M!==null)return M;_=_.sibling}return null}var Ue=e.unstable_scheduleCallback,St=e.unstable_cancelCallback,Nt=e.unstable_shouldYield,$t=e.unstable_requestPaint,Et=e.unstable_now,Ht=e.unstable_getCurrentPriorityLevel,zt=e.unstable_ImmediatePriority,Gt=e.unstable_UserBlockingPriority,xn=e.unstable_NormalPriority,Qn=e.unstable_LowPriority,_n=e.unstable_IdlePriority,Fn=null,Lt=null;function Mt(_){if(Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(Fn,_,void 0,(_.current.flags&128)===128)}catch{}}var On=Math.clz32?Math.clz32:di,Jt=Math.log,Dn=Math.LN2;function di(_){return _>>>=0,_===0?32:31-(Jt(_)/Dn|0)|0}var dr=64,jn=4194304;function wn(_){switch(_&-_){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return _&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return _}}function Ir(_,M){var O=_.pendingLanes;if(O===0)return 0;var V=0,Y=_.suspendedLanes,ee=_.pingedLanes,ue=O&268435455;if(ue!==0){var be=ue&~Y;be!==0?V=wn(be):(ee&=ue,ee!==0&&(V=wn(ee)))}else ue=O&~Y,ue!==0?V=wn(ue):ee!==0&&(V=wn(ee));if(V===0)return 0;if(M!==0&&M!==V&&(M&Y)===0&&(Y=V&-V,ee=M&-M,Y>=ee||Y===16&&(ee&4194240)!==0))return M;if((V&4)!==0&&(V|=O&16),M=_.entangledLanes,M!==0)for(_=_.entanglements,M&=V;0<M;)O=31-On(M),Y=1<<O,V|=_[O],M&=~Y;return V}function qa(_,M){switch(_){case 1:case 2:case 4:return M+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return M+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function er(_,M){for(var O=_.suspendedLanes,V=_.pingedLanes,Y=_.expirationTimes,ee=_.pendingLanes;0<ee;){var ue=31-On(ee),be=1<<ue,Te=Y[ue];Te===-1?((be&O)===0||(be&V)!==0)&&(Y[ue]=qa(be,M)):Te<=M&&(_.expiredLanes|=be),ee&=~be}}function Zi(_){return _=_.pendingLanes&-1073741825,_!==0?_:_&1073741824?1073741824:0}function Er(){var _=dr;return dr<<=1,(dr&4194240)===0&&(dr=64),_}function Ha(_){for(var M=[],O=0;31>O;O++)M.push(_);return M}function Ts(_,M,O){_.pendingLanes|=M,M!==536870912&&(_.suspendedLanes=0,_.pingedLanes=0),_=_.eventTimes,M=31-On(M),_[M]=O}function ru(_,M){var O=_.pendingLanes&~M;_.pendingLanes=M,_.suspendedLanes=0,_.pingedLanes=0,_.expiredLanes&=M,_.mutableReadLanes&=M,_.entangledLanes&=M,M=_.entanglements;var V=_.eventTimes;for(_=_.expirationTimes;0<O;){var Y=31-On(O),ee=1<<Y;M[Y]=0,V[Y]=-1,_[Y]=-1,O&=~ee}}function Wa(_,M){var O=_.entangledLanes|=M;for(_=_.entanglements;O;){var V=31-On(O),Y=1<<V;Y&M|_[V]&M&&(_[V]|=M),O&=~Y}}var un=0;function Xa(_){return _&=-_,1<_?4<_?(_&268435455)!==0?16:536870912:4:1}var As,gl,uc,vo,xo,ha=!1,_o=[],mi=null,nn=null,Ti=null,fa=new Map,Ka=new Map,Ji=[],iu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gn(_,M){switch(_){case"focusin":case"focusout":mi=null;break;case"dragenter":case"dragleave":nn=null;break;case"mouseover":case"mouseout":Ti=null;break;case"pointerover":case"pointerout":fa.delete(M.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ka.delete(M.pointerId)}}function da(_,M,O,V,Y,ee){return _===null||_.nativeEvent!==ee?(_={blockedOn:M,domEventName:O,eventSystemFlags:V,nativeEvent:ee,targetContainers:[Y]},M!==null&&(M=ki(M),M!==null&&gl(M)),_):(_.eventSystemFlags|=V,M=_.targetContainers,Y!==null&&M.indexOf(Y)===-1&&M.push(Y),_)}function au(_,M,O,V,Y){switch(M){case"focusin":return mi=da(mi,_,M,O,V,Y),!0;case"dragenter":return nn=da(nn,_,M,O,V,Y),!0;case"mouseover":return Ti=da(Ti,_,M,O,V,Y),!0;case"pointerover":var ee=Y.pointerId;return fa.set(ee,da(fa.get(ee)||null,_,M,O,V,Y)),!0;case"gotpointercapture":return ee=Y.pointerId,Ka.set(ee,da(Ka.get(ee)||null,_,M,O,V,Y)),!0}return!1}function bo(_){var M=aa(_.target);if(M!==null){var O=Pi(M);if(O!==null){if(M=O.tag,M===13){if(M=yo(O),M!==null){_.blockedOn=M,xo(_.priority,function(){uc(O)});return}}else if(M===3&&O.stateNode.current.memoizedState.isDehydrated){_.blockedOn=O.tag===3?O.stateNode.containerInfo:null;return}}}_.blockedOn=null}function So(_){if(_.blockedOn!==null)return!1;for(var M=_.targetContainers;0<M.length;){var O=qr(_.domEventName,_.eventSystemFlags,M[0],_.nativeEvent);if(O===null){O=_.nativeEvent;var V=new O.constructor(O.type,O);ve=V,O.target.dispatchEvent(V),ve=null}else return M=ki(O),M!==null&&gl(M),_.blockedOn=O,!1;M.shift()}return!0}function Cs(_,M,O){So(_)&&O.delete(M)}function gi(){ha=!1,mi!==null&&So(mi)&&(mi=null),nn!==null&&So(nn)&&(nn=null),Ti!==null&&So(Ti)&&(Ti=null),fa.forEach(Cs),Ka.forEach(Cs)}function Rs(_,M){_.blockedOn===M&&(_.blockedOn=null,ha||(ha=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,gi)))}function Is(_){function M(Y){return Rs(Y,_)}if(0<_o.length){Rs(_o[0],_);for(var O=1;O<_o.length;O++){var V=_o[O];V.blockedOn===_&&(V.blockedOn=null)}}for(mi!==null&&Rs(mi,_),nn!==null&&Rs(nn,_),Ti!==null&&Rs(Ti,_),fa.forEach(M),Ka.forEach(M),O=0;O<Ji.length;O++)V=Ji[O],V.blockedOn===_&&(V.blockedOn=null);for(;0<Ji.length&&(O=Ji[0],O.blockedOn===null);)bo(O),O.blockedOn===null&&Ji.shift()}var pr=F.ReactCurrentBatchConfig,Gr=!0;function Eo(_,M,O,V){var Y=un,ee=pr.transition;pr.transition=null;try{un=1,wo(_,M,O,V)}finally{un=Y,pr.transition=ee}}function yl(_,M,O,V){var Y=un,ee=pr.transition;pr.transition=null;try{un=4,wo(_,M,O,V)}finally{un=Y,pr.transition=ee}}function wo(_,M,O,V){if(Gr){var Y=qr(_,M,O,V);if(Y===null)Go(_,M,V,Mo,O),Gn(_,V);else if(au(Y,_,M,O,V))V.stopPropagation();else if(Gn(_,V),M&4&&-1<iu.indexOf(_)){for(;Y!==null;){var ee=ki(Y);if(ee!==null&&As(ee),ee=qr(_,M,O,V),ee===null&&Go(_,M,V,Mo,O),ee===Y)break;Y=ee}Y!==null&&V.stopPropagation()}else Go(_,M,V,null,O)}}var Mo=null;function qr(_,M,O,V){if(Mo=null,_=ze(V),_=aa(_),_!==null)if(M=Pi(_),M===null)_=null;else if(O=M.tag,O===13){if(_=yo(M),_!==null)return _;_=null}else if(O===3){if(M.stateNode.current.memoizedState.isDehydrated)return M.tag===3?M.stateNode.containerInfo:null;_=null}else M!==_&&(_=null);return Mo=_,null}function hc(_){switch(_){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ht()){case zt:return 1;case Gt:return 4;case xn:case Qn:return 16;case _n:return 536870912;default:return 16}default:return 16}}var ni=null,vl=null,wr=null;function Os(){if(wr)return wr;var _,M=vl,O=M.length,V,Y="value"in ni?ni.value:ni.textContent,ee=Y.length;for(_=0;_<O&&M[_]===Y[_];_++);var ue=O-_;for(V=1;V<=ue&&M[O-V]===Y[ee-V];V++);return wr=Y.slice(_,1<V?1-V:void 0)}function pa(_){var M=_.keyCode;return"charCode"in _?(_=_.charCode,_===0&&M===13&&(_=13)):_=M,_===10&&(_=13),32<=_||_===13?_:0}function Ai(){return!0}function Po(){return!1}function mr(_){function M(O,V,Y,ee,ue){this._reactName=O,this._targetInst=Y,this.type=V,this.nativeEvent=ee,this.target=ue,this.currentTarget=null;for(var be in _)_.hasOwnProperty(be)&&(O=_[be],this[be]=O?O(ee):ee[be]);return this.isDefaultPrevented=(ee.defaultPrevented!=null?ee.defaultPrevented:ee.returnValue===!1)?Ai:Po,this.isPropagationStopped=Po,this}return oe(M.prototype,{preventDefault:function(){this.defaultPrevented=!0;var O=this.nativeEvent;O&&(O.preventDefault?O.preventDefault():typeof O.returnValue!="unknown"&&(O.returnValue=!1),this.isDefaultPrevented=Ai)},stopPropagation:function(){var O=this.nativeEvent;O&&(O.stopPropagation?O.stopPropagation():typeof O.cancelBubble!="unknown"&&(O.cancelBubble=!0),this.isPropagationStopped=Ai)},persist:function(){},isPersistent:Ai}),M}var ma={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(_){return _.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ds=mr(ma),ga=oe({},ma,{view:0,detail:0}),Ya=mr(ga),Mr,Hr,Wr,Za=oe({},ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ea,button:0,buttons:0,relatedTarget:function(_){return _.relatedTarget===void 0?_.fromElement===_.srcElement?_.toElement:_.fromElement:_.relatedTarget},movementX:function(_){return"movementX"in _?_.movementX:(_!==Wr&&(Wr&&_.type==="mousemove"?(Mr=_.screenX-Wr.screenX,Hr=_.screenY-Wr.screenY):Hr=Mr=0,Wr=_),Mr)},movementY:function(_){return"movementY"in _?_.movementY:Hr}}),xl=mr(Za),Ci=oe({},Za,{dataTransfer:0}),Qi=mr(Ci),To=oe({},ga,{relatedTarget:0}),Ao=mr(To),Co=oe({},ma,{animationName:0,elapsedTime:0,pseudoElement:0}),fc=mr(Co),dc=oe({},ma,{clipboardData:function(_){return"clipboardData"in _?_.clipboardData:window.clipboardData}}),_l=mr(dc),Ro=oe({},ma,{data:0}),bl=mr(Ro),pc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ja(_){var M=this.nativeEvent;return M.getModifierState?M.getModifierState(_):(_=Sl[_])?!!M[_]:!1}function ea(){return Ja}var Io=oe({},ga,{key:function(_){if(_.key){var M=pc[_.key]||_.key;if(M!=="Unidentified")return M}return _.type==="keypress"?(_=pa(_),_===13?"Enter":String.fromCharCode(_)):_.type==="keydown"||_.type==="keyup"?mc[_.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ea,charCode:function(_){return _.type==="keypress"?pa(_):0},keyCode:function(_){return _.type==="keydown"||_.type==="keyup"?_.keyCode:0},which:function(_){return _.type==="keypress"?pa(_):_.type==="keydown"||_.type==="keyup"?_.keyCode:0}}),Oo=mr(Io),Xr=oe({},Za,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Or=mr(Xr),ya=oe({},ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ea}),Ri=mr(ya),Ii=oe({},ma,{propertyName:0,elapsedTime:0,pseudoElement:0}),va=mr(Ii),gc=oe({},Za,{deltaX:function(_){return"deltaX"in _?_.deltaX:"wheelDeltaX"in _?-_.wheelDeltaX:0},deltaY:function(_){return"deltaY"in _?_.deltaY:"wheelDeltaY"in _?-_.wheelDeltaY:"wheelDelta"in _?-_.wheelDelta:0},deltaZ:0,deltaMode:0}),El=mr(gc),wl=[9,13,27,32],gr=f&&"CompositionEvent"in window,tr=null;f&&"documentMode"in document&&(tr=document.documentMode);var Tn=f&&"TextEvent"in window&&!tr,Qa=f&&(!gr||tr&&8<tr&&11>=tr),Kr=" ",Ml=!1;function Pl(_,M){switch(_){case"keyup":return wl.indexOf(M.keyCode)!==-1;case"keydown":return M.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Do(_){return _=_.detail,typeof _=="object"&&"data"in _?_.data:null}var ta=!1;function yc(_,M){switch(_){case"compositionend":return Do(M);case"keypress":return M.which!==32?null:(Ml=!0,Kr);case"textInput":return _=M.data,_===Kr&&Ml?null:_;default:return null}}function Ls(_,M){if(ta)return _==="compositionend"||!gr&&Pl(_,M)?(_=Os(),wr=vl=ni=null,ta=!1,_):null;switch(_){case"paste":return null;case"keypress":if(!(M.ctrlKey||M.altKey||M.metaKey)||M.ctrlKey&&M.altKey){if(M.char&&1<M.char.length)return M.char;if(M.which)return String.fromCharCode(M.which)}return null;case"compositionend":return Qa&&M.locale!=="ko"?null:M.data;default:return null}}var es={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lo(_){var M=_&&_.nodeName&&_.nodeName.toLowerCase();return M==="input"?!!es[_.type]:M==="textarea"}function ts(_,M,O,V){at(V),M=qo(M,"onChange"),0<M.length&&(O=new Ds("onChange","change",null,O,V),_.push({event:O,listeners:M}))}var na=null,ns=null;function vc(_){os(_,0)}function Oi(_){var M=Bn(_);if(de(M))return _}function xc(_,M){if(_==="change")return M}var rs=!1;if(f){var Pr;if(f){var xa="oninput"in document;if(!xa){var ba=document.createElement("div");ba.setAttribute("oninput","return;"),xa=typeof ba.oninput=="function"}Pr=xa}else Pr=!1;rs=Pr&&(!document.documentMode||9<document.documentMode)}function ri(){na&&(na.detachEvent("onpropertychange",ko),ns=na=null)}function ko(_){if(_.propertyName==="value"&&Oi(ns)){var M=[];ts(M,ns,_,ze(_)),cn(vc,M)}}function as(_,M,O){_==="focusin"?(ri(),na=M,ns=O,na.attachEvent("onpropertychange",ko)):_==="focusout"&&ri()}function _c(_){if(_==="selectionchange"||_==="keyup"||_==="keydown")return Oi(ns)}function Tl(_,M){if(_==="click")return Oi(M)}function Cn(_,M){if(_==="input"||_==="change")return Oi(M)}function No(_,M){return _===M&&(_!==0||1/_===1/M)||_!==_&&M!==M}var Dr=typeof Object.is=="function"?Object.is:No;function Sa(_,M){if(Dr(_,M))return!0;if(typeof _!="object"||_===null||typeof M!="object"||M===null)return!1;var O=Object.keys(_),V=Object.keys(M);if(O.length!==V.length)return!1;for(V=0;V<O.length;V++){var Y=O[V];if(!d.call(M,Y)||!Dr(_[Y],M[Y]))return!1}return!0}function ks(_){for(;_&&_.firstChild;)_=_.firstChild;return _}function Lr(_,M){var O=ks(_);_=0;for(var V;O;){if(O.nodeType===3){if(V=_+O.textContent.length,_<=M&&V>=M)return{node:O,offset:M-_};_=V}e:{for(;O;){if(O.nextSibling){O=O.nextSibling;break e}O=O.parentNode}O=void 0}O=ks(O)}}function Ea(_,M){return _&&M?_===M?!0:_&&_.nodeType===3?!1:M&&M.nodeType===3?Ea(_,M.parentNode):"contains"in _?_.contains(M):_.compareDocumentPosition?!!(_.compareDocumentPosition(M)&16):!1:!1}function Rn(){for(var _=window,M=Be();M instanceof _.HTMLIFrameElement;){try{var O=typeof M.contentWindow.location.href=="string"}catch{O=!1}if(O)_=M.contentWindow;else break;M=Be(_.document)}return M}function Wn(_){var M=_&&_.nodeName&&_.nodeName.toLowerCase();return M&&(M==="input"&&(_.type==="text"||_.type==="search"||_.type==="tel"||_.type==="url"||_.type==="password")||M==="textarea"||_.contentEditable==="true")}function Xn(_){var M=Rn(),O=_.focusedElem,V=_.selectionRange;if(M!==O&&O&&O.ownerDocument&&Ea(O.ownerDocument.documentElement,O)){if(V!==null&&Wn(O)){if(M=V.start,_=V.end,_===void 0&&(_=M),"selectionStart"in O)O.selectionStart=M,O.selectionEnd=Math.min(_,O.value.length);else if(_=(M=O.ownerDocument||document)&&M.defaultView||window,_.getSelection){_=_.getSelection();var Y=O.textContent.length,ee=Math.min(V.start,Y);V=V.end===void 0?ee:Math.min(V.end,Y),!_.extend&&ee>V&&(Y=V,V=ee,ee=Y),Y=Lr(O,ee);var ue=Lr(O,V);Y&&ue&&(_.rangeCount!==1||_.anchorNode!==Y.node||_.anchorOffset!==Y.offset||_.focusNode!==ue.node||_.focusOffset!==ue.offset)&&(M=M.createRange(),M.setStart(Y.node,Y.offset),_.removeAllRanges(),ee>V?(_.addRange(M),_.extend(ue.node,ue.offset)):(M.setEnd(ue.node,ue.offset),_.addRange(M)))}}for(M=[],_=O;_=_.parentNode;)_.nodeType===1&&M.push({element:_,left:_.scrollLeft,top:_.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<M.length;O++)_=M[O],_.element.scrollLeft=_.left,_.element.scrollTop=_.top}}var Fo=f&&"documentMode"in document&&11>=document.documentMode,yi=null,wa=null,Ns=null,Kn=!1;function jo(_,M,O){var V=O.window===O?O.document:O.nodeType===9?O:O.ownerDocument;Kn||yi==null||yi!==Be(V)||(V=yi,"selectionStart"in V&&Wn(V)?V={start:V.selectionStart,end:V.selectionEnd}:(V=(V.ownerDocument&&V.ownerDocument.defaultView||window).getSelection(),V={anchorNode:V.anchorNode,anchorOffset:V.anchorOffset,focusNode:V.focusNode,focusOffset:V.focusOffset}),Ns&&Sa(Ns,V)||(Ns=V,V=qo(wa,"onSelect"),0<V.length&&(M=new Ds("onSelect","select",null,M,O),_.push({event:M,listeners:V}),M.target=yi)))}function ss(_,M){var O={};return O[_.toLowerCase()]=M.toLowerCase(),O["Webkit"+_]="webkit"+M,O["Moz"+_]="moz"+M,O}var ra={animationend:ss("Animation","AnimationEnd"),animationiteration:ss("Animation","AnimationIteration"),animationstart:ss("Animation","AnimationStart"),transitionend:ss("Transition","TransitionEnd")},ii={},ai={};f&&(ai=document.createElement("div").style,"AnimationEvent"in window||(delete ra.animationend.animation,delete ra.animationiteration.animation,delete ra.animationstart.animation),"TransitionEvent"in window||delete ra.transitionend.transition);function vi(_){if(ii[_])return ii[_];if(!ra[_])return _;var M=ra[_],O;for(O in M)if(M.hasOwnProperty(O)&&O in ai)return ii[_]=M[O];return _}var Fs=vi("animationend"),js=vi("animationiteration"),Al=vi("animationstart"),Cl=vi("transitionend"),Rl=new Map,Il="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Di(_,M){Rl.set(_,M),u(M,[_])}for(var Bo=0;Bo<Il.length;Bo++){var Bs=Il[Bo],$s=Bs.toLowerCase(),bc=Bs[0].toUpperCase()+Bs.slice(1);Di($s,"on"+bc)}Di(Fs,"onAnimationEnd"),Di(js,"onAnimationIteration"),Di(Al,"onAnimationStart"),Di("dblclick","onDoubleClick"),Di("focusin","onFocus"),Di("focusout","onBlur"),Di(Cl,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ia="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$o=new Set("cancel close invalid load scroll toggle".split(" ").concat(ia));function Vo(_,M,O){var V=_.type||"unknown-event";_.currentTarget=O,ml(V,M,void 0,_),_.currentTarget=null}function os(_,M){M=(M&4)!==0;for(var O=0;O<_.length;O++){var V=_[O],Y=V.event;V=V.listeners;e:{var ee=void 0;if(M)for(var ue=V.length-1;0<=ue;ue--){var be=V[ue],Te=be.instance,Ge=be.currentTarget;if(be=be.listener,Te!==ee&&Y.isPropagationStopped())break e;Vo(Y,be,Ge),ee=Te}else for(ue=0;ue<V.length;ue++){if(be=V[ue],Te=be.instance,Ge=be.currentTarget,be=be.listener,Te!==ee&&Y.isPropagationStopped())break e;Vo(Y,be,Ge),ee=Te}}}if(ti)throw _=Yi,ti=!1,Yi=null,_}function bn(_,M){var O=M[Ta];O===void 0&&(O=M[Ta]=new Set);var V=_+"__bubble";O.has(V)||(zo(M,_,2,!1),O.add(V))}function Uo(_,M,O){var V=0;M&&(V|=4),zo(O,_,V,M)}var Vs="_reactListening"+Math.random().toString(36).slice(2);function ls(_){if(!_[Vs]){_[Vs]=!0,o.forEach(function(O){O!=="selectionchange"&&($o.has(O)||Uo(O,!1,_),Uo(O,!0,_))});var M=_.nodeType===9?_:_.ownerDocument;M===null||M[Vs]||(M[Vs]=!0,Uo("selectionchange",!1,M))}}function zo(_,M,O,V){switch(hc(M)){case 1:var Y=Eo;break;case 4:Y=yl;break;default:Y=wo}O=Y.bind(null,M,O,_),Y=void 0,!pn||M!=="touchstart"&&M!=="touchmove"&&M!=="wheel"||(Y=!0),V?Y!==void 0?_.addEventListener(M,O,{capture:!0,passive:Y}):_.addEventListener(M,O,!0):Y!==void 0?_.addEventListener(M,O,{passive:Y}):_.addEventListener(M,O,!1)}function Go(_,M,O,V,Y){var ee=V;if((M&1)===0&&(M&2)===0&&V!==null)e:for(;;){if(V===null)return;var ue=V.tag;if(ue===3||ue===4){var be=V.stateNode.containerInfo;if(be===Y||be.nodeType===8&&be.parentNode===Y)break;if(ue===4)for(ue=V.return;ue!==null;){var Te=ue.tag;if((Te===3||Te===4)&&(Te=ue.stateNode.containerInfo,Te===Y||Te.nodeType===8&&Te.parentNode===Y))return;ue=ue.return}for(;be!==null;){if(ue=aa(be),ue===null)return;if(Te=ue.tag,Te===5||Te===6){V=ee=ue;continue e}be=be.parentNode}}V=V.return}cn(function(){var Ge=ee,lt=ze(O),ct=[];e:{var st=Rl.get(_);if(st!==void 0){var wt=Ds,Rt=_;switch(_){case"keypress":if(pa(O)===0)break e;case"keydown":case"keyup":wt=Oo;break;case"focusin":Rt="focus",wt=Ao;break;case"focusout":Rt="blur",wt=Ao;break;case"beforeblur":case"afterblur":wt=Ao;break;case"click":if(O.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":wt=xl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":wt=Qi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":wt=Ri;break;case Fs:case js:case Al:wt=fc;break;case Cl:wt=va;break;case"scroll":wt=Ya;break;case"wheel":wt=El;break;case"copy":case"cut":case"paste":wt=_l;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":wt=Or}var Ot=(M&4)!==0,Hn=!Ot&&_==="scroll",Le=Ot?st!==null?st+"Capture":null:st;Ot=[];for(var Ae=Ge,Fe;Ae!==null;){Fe=Ae;var mt=Fe.stateNode;if(Fe.tag===5&&mt!==null&&(Fe=mt,Le!==null&&(mt=Yt(Ae,Le),mt!=null&&Ot.push(cs(Ae,mt,Fe)))),Hn)break;Ae=Ae.return}0<Ot.length&&(st=new wt(st,Rt,null,O,lt),ct.push({event:st,listeners:Ot}))}}if((M&7)===0){e:{if(st=_==="mouseover"||_==="pointerover",wt=_==="mouseout"||_==="pointerout",st&&O!==ve&&(Rt=O.relatedTarget||O.fromElement)&&(aa(Rt)||Rt[Nr]))break e;if((wt||st)&&(st=lt.window===lt?lt:(st=lt.ownerDocument)?st.defaultView||st.parentWindow:window,wt?(Rt=O.relatedTarget||O.toElement,wt=Ge,Rt=Rt?aa(Rt):null,Rt!==null&&(Hn=Pi(Rt),Rt!==Hn||Rt.tag!==5&&Rt.tag!==6)&&(Rt=null)):(wt=null,Rt=Ge),wt!==Rt)){if(Ot=xl,mt="onMouseLeave",Le="onMouseEnter",Ae="mouse",(_==="pointerout"||_==="pointerover")&&(Ot=Or,mt="onPointerLeave",Le="onPointerEnter",Ae="pointer"),Hn=wt==null?st:Bn(wt),Fe=Rt==null?st:Bn(Rt),st=new Ot(mt,Ae+"leave",wt,O,lt),st.target=Hn,st.relatedTarget=Fe,mt=null,aa(lt)===Ge&&(Ot=new Ot(Le,Ae+"enter",Rt,O,lt),Ot.target=Fe,Ot.relatedTarget=Hn,mt=Ot),Hn=mt,wt&&Rt)t:{for(Ot=wt,Le=Rt,Ae=0,Fe=Ot;Fe;Fe=Ma(Fe))Ae++;for(Fe=0,mt=Le;mt;mt=Ma(mt))Fe++;for(;0<Ae-Fe;)Ot=Ma(Ot),Ae--;for(;0<Fe-Ae;)Le=Ma(Le),Fe--;for(;Ae--;){if(Ot===Le||Le!==null&&Ot===Le.alternate)break t;Ot=Ma(Ot),Le=Ma(Le)}Ot=null}else Ot=null;wt!==null&&Sc(ct,st,wt,Ot,!1),Rt!==null&&Hn!==null&&Sc(ct,Hn,Rt,Ot,!0)}}e:{if(st=Ge?Bn(Ge):window,wt=st.nodeName&&st.nodeName.toLowerCase(),wt==="select"||wt==="input"&&st.type==="file")var kt=xc;else if(Lo(st))if(rs)kt=Cn;else{kt=_c;var Vt=as}else(wt=st.nodeName)&&wt.toLowerCase()==="input"&&(st.type==="checkbox"||st.type==="radio")&&(kt=Tl);if(kt&&(kt=kt(_,Ge))){ts(ct,kt,O,lt);break e}Vt&&Vt(_,st,Ge),_==="focusout"&&(Vt=st._wrapperState)&&Vt.controlled&&st.type==="number"&&ht(st,"number",st.value)}switch(Vt=Ge?Bn(Ge):window,_){case"focusin":(Lo(Vt)||Vt.contentEditable==="true")&&(yi=Vt,wa=Ge,Ns=null);break;case"focusout":Ns=wa=yi=null;break;case"mousedown":Kn=!0;break;case"contextmenu":case"mouseup":case"dragend":Kn=!1,jo(ct,O,lt);break;case"selectionchange":if(Fo)break;case"keydown":case"keyup":jo(ct,O,lt)}var Ut;if(gr)e:{switch(_){case"compositionstart":var Wt="onCompositionStart";break e;case"compositionend":Wt="onCompositionEnd";break e;case"compositionupdate":Wt="onCompositionUpdate";break e}Wt=void 0}else ta?Pl(_,O)&&(Wt="onCompositionEnd"):_==="keydown"&&O.keyCode===229&&(Wt="onCompositionStart");Wt&&(Qa&&O.locale!=="ko"&&(ta||Wt!=="onCompositionStart"?Wt==="onCompositionEnd"&&ta&&(Ut=Os()):(ni=lt,vl="value"in ni?ni.value:ni.textContent,ta=!0)),Vt=qo(Ge,Wt),0<Vt.length&&(Wt=new bl(Wt,_,null,O,lt),ct.push({event:Wt,listeners:Vt}),Ut?Wt.data=Ut:(Ut=Do(O),Ut!==null&&(Wt.data=Ut)))),(Ut=Tn?yc(_,O):Ls(_,O))&&(Ge=qo(Ge,"onBeforeInput"),0<Ge.length&&(lt=new bl("onBeforeInput","beforeinput",null,O,lt),ct.push({event:lt,listeners:Ge}),lt.data=Ut))}os(ct,M)})}function cs(_,M,O){return{instance:_,listener:M,currentTarget:O}}function qo(_,M){for(var O=M+"Capture",V=[];_!==null;){var Y=_,ee=Y.stateNode;Y.tag===5&&ee!==null&&(Y=ee,ee=Yt(_,O),ee!=null&&V.unshift(cs(_,ee,Y)),ee=Yt(_,M),ee!=null&&V.push(cs(_,ee,Y))),_=_.return}return V}function Ma(_){if(_===null)return null;do _=_.return;while(_&&_.tag!==5);return _||null}function Sc(_,M,O,V,Y){for(var ee=M._reactName,ue=[];O!==null&&O!==V;){var be=O,Te=be.alternate,Ge=be.stateNode;if(Te!==null&&Te===V)break;be.tag===5&&Ge!==null&&(be=Ge,Y?(Te=Yt(O,ee),Te!=null&&ue.unshift(cs(O,Te,be))):Y||(Te=Yt(O,ee),Te!=null&&ue.push(cs(O,Te,be)))),O=O.return}ue.length!==0&&_.push({event:M,listeners:ue})}var su=/\r\n?/g,Ec=/\u0000|\uFFFD/g;function Ol(_){return(typeof _=="string"?_:""+_).replace(su,`
`).replace(Ec,"")}function Us(_,M,O){if(M=Ol(M),Ol(_)!==M&&O)throw Error(n(425))}function zs(){}var us=null,Dl=null;function Ll(_,M){return _==="textarea"||_==="noscript"||typeof M.children=="string"||typeof M.children=="number"||typeof M.dangerouslySetInnerHTML=="object"&&M.dangerouslySetInnerHTML!==null&&M.dangerouslySetInnerHTML.__html!=null}var kl=typeof setTimeout=="function"?setTimeout:void 0,Nl=typeof clearTimeout=="function"?clearTimeout:void 0,Ho=typeof Promise=="function"?Promise:void 0,ou=typeof queueMicrotask=="function"?queueMicrotask:typeof Ho<"u"?function(_){return Ho.resolve(null).then(_).catch(wc)}:kl;function wc(_){setTimeout(function(){throw _})}function Wo(_,M){var O=M,V=0;do{var Y=O.nextSibling;if(_.removeChild(O),Y&&Y.nodeType===8)if(O=Y.data,O==="/$"){if(V===0){_.removeChild(Y),Is(M);return}V--}else O!=="$"&&O!=="$?"&&O!=="$!"||V++;O=Y}while(O);Is(M)}function Li(_){for(;_!=null;_=_.nextSibling){var M=_.nodeType;if(M===1||M===3)break;if(M===8){if(M=_.data,M==="$"||M==="$!"||M==="$?")break;if(M==="/$")return null}}return _}function Fl(_){_=_.previousSibling;for(var M=0;_;){if(_.nodeType===8){var O=_.data;if(O==="$"||O==="$!"||O==="$?"){if(M===0)return _;M--}else O==="/$"&&M++}_=_.previousSibling}return null}var Pa=Math.random().toString(36).slice(2),qn="__reactFiber$"+Pa,hs="__reactProps$"+Pa,Nr="__reactContainer$"+Pa,Ta="__reactEvents$"+Pa,Xo="__reactListeners$"+Pa,Ko="__reactHandles$"+Pa;function aa(_){var M=_[qn];if(M)return M;for(var O=_.parentNode;O;){if(M=O[Nr]||O[qn]){if(O=M.alternate,M.child!==null||O!==null&&O.child!==null)for(_=Fl(_);_!==null;){if(O=_[qn])return O;_=Fl(_)}return M}_=O,O=_.parentNode}return null}function ki(_){return _=_[qn]||_[Nr],!_||_.tag!==5&&_.tag!==6&&_.tag!==13&&_.tag!==3?null:_}function Bn(_){if(_.tag===5||_.tag===6)return _.stateNode;throw Error(n(33))}function Yo(_){return _[hs]||null}var jl=[],Yn=-1;function Ln(_){return{current:_}}function Sn(_){0>Yn||(_.current=jl[Yn],jl[Yn]=null,Yn--)}function vn(_,M){Yn++,jl[Yn]=_.current,_.current=M}var Ni={},nr=Ln(Ni),yr=Ln(!1),Fi=Ni;function Aa(_,M){var O=_.type.contextTypes;if(!O)return Ni;var V=_.stateNode;if(V&&V.__reactInternalMemoizedUnmaskedChildContext===M)return V.__reactInternalMemoizedMaskedChildContext;var Y={},ee;for(ee in O)Y[ee]=M[ee];return V&&(_=_.stateNode,_.__reactInternalMemoizedUnmaskedChildContext=M,_.__reactInternalMemoizedMaskedChildContext=Y),Y}function lr(_){return _=_.childContextTypes,_!=null}function Gs(){Sn(yr),Sn(nr)}function Bl(_,M,O){if(nr.current!==Ni)throw Error(n(168));vn(nr,M),vn(yr,O)}function qs(_,M,O){var V=_.stateNode;if(M=M.childContextTypes,typeof V.getChildContext!="function")return O;V=V.getChildContext();for(var Y in V)if(!(Y in M))throw Error(n(108,Ye(_)||"Unknown",Y));return oe({},O,V)}function Ca(_){return _=(_=_.stateNode)&&_.__reactInternalMemoizedMergedChildContext||Ni,Fi=nr.current,vn(nr,_),vn(yr,yr.current),!0}function $l(_,M,O){var V=_.stateNode;if(!V)throw Error(n(169));O?(_=qs(_,M,Fi),V.__reactInternalMemoizedMergedChildContext=_,Sn(yr),Sn(nr),vn(nr,_)):Sn(yr),vn(yr,O)}var si=null,Hs=!1,Zo=!1;function Ws(_){si===null?si=[_]:si.push(_)}function Mc(_){Hs=!0,Ws(_)}function xi(){if(!Zo&&si!==null){Zo=!0;var _=0,M=un;try{var O=si;for(un=1;_<O.length;_++){var V=O[_];do V=V(!0);while(V!==null)}si=null,Hs=!1}catch(Y){throw si!==null&&(si=si.slice(_+1)),Ue(zt,xi),Y}finally{un=M,Zo=!1}}return null}var Ra=[],Tr=0,Jo=null,Qo=0,vr=[],Zn=0,Ia=null,vt=1,Yr="";function ji(_,M){Ra[Tr++]=Qo,Ra[Tr++]=Jo,Jo=_,Qo=M}function Vl(_,M,O){vr[Zn++]=vt,vr[Zn++]=Yr,vr[Zn++]=Ia,Ia=_;var V=vt;_=Yr;var Y=32-On(V)-1;V&=~(1<<Y),O+=1;var ee=32-On(M)+Y;if(30<ee){var ue=Y-Y%5;ee=(V&(1<<ue)-1).toString(32),V>>=ue,Y-=ue,vt=1<<32-On(M)+Y|O<<Y|V,Yr=ee+_}else vt=1<<ee|O<<Y|V,Yr=_}function Ul(_){_.return!==null&&(ji(_,1),Vl(_,1,0))}function Bi(_){for(;_===Jo;)Jo=Ra[--Tr],Ra[Tr]=null,Qo=Ra[--Tr],Ra[Tr]=null;for(;_===Ia;)Ia=vr[--Zn],vr[Zn]=null,Yr=vr[--Zn],vr[Zn]=null,vt=vr[--Zn],vr[Zn]=null}var rr=null,xr=null,Mn=!1,Zr=null;function zl(_,M){var O=wi(5,null,null,0);O.elementType="DELETED",O.stateNode=M,O.return=_,M=_.deletions,M===null?(_.deletions=[O],_.flags|=16):M.push(O)}function Gl(_,M){switch(_.tag){case 5:var O=_.type;return M=M.nodeType!==1||O.toLowerCase()!==M.nodeName.toLowerCase()?null:M,M!==null?(_.stateNode=M,rr=_,xr=Li(M.firstChild),!0):!1;case 6:return M=_.pendingProps===""||M.nodeType!==3?null:M,M!==null?(_.stateNode=M,rr=_,xr=null,!0):!1;case 13:return M=M.nodeType!==8?null:M,M!==null?(O=Ia!==null?{id:vt,overflow:Yr}:null,_.memoizedState={dehydrated:M,treeContext:O,retryLane:1073741824},O=wi(18,null,null,0),O.stateNode=M,O.return=_,_.child=O,rr=_,xr=null,!0):!1;default:return!1}}function el(_){return(_.mode&1)!==0&&(_.flags&128)===0}function tl(_){if(Mn){var M=xr;if(M){var O=M;if(!Gl(_,M)){if(el(_))throw Error(n(418));M=Li(O.nextSibling);var V=rr;M&&Gl(_,M)?zl(V,O):(_.flags=_.flags&-4097|2,Mn=!1,rr=_)}}else{if(el(_))throw Error(n(418));_.flags=_.flags&-4097|2,Mn=!1,rr=_}}}function nl(_){for(_=_.return;_!==null&&_.tag!==5&&_.tag!==3&&_.tag!==13;)_=_.return;rr=_}function fs(_){if(_!==rr)return!1;if(!Mn)return nl(_),Mn=!0,!1;var M;if((M=_.tag!==3)&&!(M=_.tag!==5)&&(M=_.type,M=M!=="head"&&M!=="body"&&!Ll(_.type,_.memoizedProps)),M&&(M=xr)){if(el(_))throw ql(),Error(n(418));for(;M;)zl(_,M),M=Li(M.nextSibling)}if(nl(_),_.tag===13){if(_=_.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(n(317));e:{for(_=_.nextSibling,M=0;_;){if(_.nodeType===8){var O=_.data;if(O==="/$"){if(M===0){xr=Li(_.nextSibling);break e}M--}else O!=="$"&&O!=="$!"&&O!=="$?"||M++}_=_.nextSibling}xr=null}}else xr=rr?Li(_.stateNode.nextSibling):null;return!0}function ql(){for(var _=xr;_;)_=Li(_.nextSibling)}function sa(){xr=rr=null,Mn=!1}function ds(_){Zr===null?Zr=[_]:Zr.push(_)}var lu=F.ReactCurrentBatchConfig;function Xs(_,M,O){if(_=O.ref,_!==null&&typeof _!="function"&&typeof _!="object"){if(O._owner){if(O=O._owner,O){if(O.tag!==1)throw Error(n(309));var V=O.stateNode}if(!V)throw Error(n(147,_));var Y=V,ee=""+_;return M!==null&&M.ref!==null&&typeof M.ref=="function"&&M.ref._stringRef===ee?M.ref:(M=function(ue){var be=Y.refs;ue===null?delete be[ee]:be[ee]=ue},M._stringRef=ee,M)}if(typeof _!="string")throw Error(n(284));if(!O._owner)throw Error(n(290,_))}return _}function Ks(_,M){throw _=Object.prototype.toString.call(M),Error(n(31,_==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":_))}function Hl(_){var M=_._init;return M(_._payload)}function Wl(_){function M(Le,Ae){if(_){var Fe=Le.deletions;Fe===null?(Le.deletions=[Ae],Le.flags|=16):Fe.push(Ae)}}function O(Le,Ae){if(!_)return null;for(;Ae!==null;)M(Le,Ae),Ae=Ae.sibling;return null}function V(Le,Ae){for(Le=new Map;Ae!==null;)Ae.key!==null?Le.set(Ae.key,Ae):Le.set(Ae.index,Ae),Ae=Ae.sibling;return Le}function Y(Le,Ae){return Le=ws(Le,Ae),Le.index=0,Le.sibling=null,Le}function ee(Le,Ae,Fe){return Le.index=Fe,_?(Fe=Le.alternate,Fe!==null?(Fe=Fe.index,Fe<Ae?(Le.flags|=2,Ae):Fe):(Le.flags|=2,Ae)):(Le.flags|=1048576,Ae)}function ue(Le){return _&&Le.alternate===null&&(Le.flags|=2),Le}function be(Le,Ae,Fe,mt){return Ae===null||Ae.tag!==6?(Ae=Tu(Fe,Le.mode,mt),Ae.return=Le,Ae):(Ae=Y(Ae,Fe),Ae.return=Le,Ae)}function Te(Le,Ae,Fe,mt){var kt=Fe.type;return kt===z?lt(Le,Ae,Fe.props.children,mt,Fe.key):Ae!==null&&(Ae.elementType===kt||typeof kt=="object"&&kt!==null&&kt.$$typeof===fe&&Hl(kt)===Ae.type)?(mt=Y(Ae,Fe.props),mt.ref=Xs(Le,Ae,Fe),mt.return=Le,mt):(mt=Xc(Fe.type,Fe.key,Fe.props,null,Le.mode,mt),mt.ref=Xs(Le,Ae,Fe),mt.return=Le,mt)}function Ge(Le,Ae,Fe,mt){return Ae===null||Ae.tag!==4||Ae.stateNode.containerInfo!==Fe.containerInfo||Ae.stateNode.implementation!==Fe.implementation?(Ae=Au(Fe,Le.mode,mt),Ae.return=Le,Ae):(Ae=Y(Ae,Fe.children||[]),Ae.return=Le,Ae)}function lt(Le,Ae,Fe,mt,kt){return Ae===null||Ae.tag!==7?(Ae=po(Fe,Le.mode,mt,kt),Ae.return=Le,Ae):(Ae=Y(Ae,Fe),Ae.return=Le,Ae)}function ct(Le,Ae,Fe){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number")return Ae=Tu(""+Ae,Le.mode,Fe),Ae.return=Le,Ae;if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case B:return Fe=Xc(Ae.type,Ae.key,Ae.props,null,Le.mode,Fe),Fe.ref=Xs(Le,null,Ae),Fe.return=Le,Fe;case U:return Ae=Au(Ae,Le.mode,Fe),Ae.return=Le,Ae;case fe:var mt=Ae._init;return ct(Le,mt(Ae._payload),Fe)}if(xt(Ae)||ie(Ae))return Ae=po(Ae,Le.mode,Fe,null),Ae.return=Le,Ae;Ks(Le,Ae)}return null}function st(Le,Ae,Fe,mt){var kt=Ae!==null?Ae.key:null;if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number")return kt!==null?null:be(Le,Ae,""+Fe,mt);if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case B:return Fe.key===kt?Te(Le,Ae,Fe,mt):null;case U:return Fe.key===kt?Ge(Le,Ae,Fe,mt):null;case fe:return kt=Fe._init,st(Le,Ae,kt(Fe._payload),mt)}if(xt(Fe)||ie(Fe))return kt!==null?null:lt(Le,Ae,Fe,mt,null);Ks(Le,Fe)}return null}function wt(Le,Ae,Fe,mt,kt){if(typeof mt=="string"&&mt!==""||typeof mt=="number")return Le=Le.get(Fe)||null,be(Ae,Le,""+mt,kt);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case B:return Le=Le.get(mt.key===null?Fe:mt.key)||null,Te(Ae,Le,mt,kt);case U:return Le=Le.get(mt.key===null?Fe:mt.key)||null,Ge(Ae,Le,mt,kt);case fe:var Vt=mt._init;return wt(Le,Ae,Fe,Vt(mt._payload),kt)}if(xt(mt)||ie(mt))return Le=Le.get(Fe)||null,lt(Ae,Le,mt,kt,null);Ks(Ae,mt)}return null}function Rt(Le,Ae,Fe,mt){for(var kt=null,Vt=null,Ut=Ae,Wt=Ae=0,fr=null;Ut!==null&&Wt<Fe.length;Wt++){Ut.index>Wt?(fr=Ut,Ut=null):fr=Ut.sibling;var dn=st(Le,Ut,Fe[Wt],mt);if(dn===null){Ut===null&&(Ut=fr);break}_&&Ut&&dn.alternate===null&&M(Le,Ut),Ae=ee(dn,Ae,Wt),Vt===null?kt=dn:Vt.sibling=dn,Vt=dn,Ut=fr}if(Wt===Fe.length)return O(Le,Ut),Mn&&ji(Le,Wt),kt;if(Ut===null){for(;Wt<Fe.length;Wt++)Ut=ct(Le,Fe[Wt],mt),Ut!==null&&(Ae=ee(Ut,Ae,Wt),Vt===null?kt=Ut:Vt.sibling=Ut,Vt=Ut);return Mn&&ji(Le,Wt),kt}for(Ut=V(Le,Ut);Wt<Fe.length;Wt++)fr=wt(Ut,Le,Wt,Fe[Wt],mt),fr!==null&&(_&&fr.alternate!==null&&Ut.delete(fr.key===null?Wt:fr.key),Ae=ee(fr,Ae,Wt),Vt===null?kt=fr:Vt.sibling=fr,Vt=fr);return _&&Ut.forEach(function(Ms){return M(Le,Ms)}),Mn&&ji(Le,Wt),kt}function Ot(Le,Ae,Fe,mt){var kt=ie(Fe);if(typeof kt!="function")throw Error(n(150));if(Fe=kt.call(Fe),Fe==null)throw Error(n(151));for(var Vt=kt=null,Ut=Ae,Wt=Ae=0,fr=null,dn=Fe.next();Ut!==null&&!dn.done;Wt++,dn=Fe.next()){Ut.index>Wt?(fr=Ut,Ut=null):fr=Ut.sibling;var Ms=st(Le,Ut,dn.value,mt);if(Ms===null){Ut===null&&(Ut=fr);break}_&&Ut&&Ms.alternate===null&&M(Le,Ut),Ae=ee(Ms,Ae,Wt),Vt===null?kt=Ms:Vt.sibling=Ms,Vt=Ms,Ut=fr}if(dn.done)return O(Le,Ut),Mn&&ji(Le,Wt),kt;if(Ut===null){for(;!dn.done;Wt++,dn=Fe.next())dn=ct(Le,dn.value,mt),dn!==null&&(Ae=ee(dn,Ae,Wt),Vt===null?kt=dn:Vt.sibling=dn,Vt=dn);return Mn&&ji(Le,Wt),kt}for(Ut=V(Le,Ut);!dn.done;Wt++,dn=Fe.next())dn=wt(Ut,Le,Wt,dn.value,mt),dn!==null&&(_&&dn.alternate!==null&&Ut.delete(dn.key===null?Wt:dn.key),Ae=ee(dn,Ae,Wt),Vt===null?kt=dn:Vt.sibling=dn,Vt=dn);return _&&Ut.forEach(function(Nh){return M(Le,Nh)}),Mn&&ji(Le,Wt),kt}function Hn(Le,Ae,Fe,mt){if(typeof Fe=="object"&&Fe!==null&&Fe.type===z&&Fe.key===null&&(Fe=Fe.props.children),typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case B:e:{for(var kt=Fe.key,Vt=Ae;Vt!==null;){if(Vt.key===kt){if(kt=Fe.type,kt===z){if(Vt.tag===7){O(Le,Vt.sibling),Ae=Y(Vt,Fe.props.children),Ae.return=Le,Le=Ae;break e}}else if(Vt.elementType===kt||typeof kt=="object"&&kt!==null&&kt.$$typeof===fe&&Hl(kt)===Vt.type){O(Le,Vt.sibling),Ae=Y(Vt,Fe.props),Ae.ref=Xs(Le,Vt,Fe),Ae.return=Le,Le=Ae;break e}O(Le,Vt);break}else M(Le,Vt);Vt=Vt.sibling}Fe.type===z?(Ae=po(Fe.props.children,Le.mode,mt,Fe.key),Ae.return=Le,Le=Ae):(mt=Xc(Fe.type,Fe.key,Fe.props,null,Le.mode,mt),mt.ref=Xs(Le,Ae,Fe),mt.return=Le,Le=mt)}return ue(Le);case U:e:{for(Vt=Fe.key;Ae!==null;){if(Ae.key===Vt)if(Ae.tag===4&&Ae.stateNode.containerInfo===Fe.containerInfo&&Ae.stateNode.implementation===Fe.implementation){O(Le,Ae.sibling),Ae=Y(Ae,Fe.children||[]),Ae.return=Le,Le=Ae;break e}else{O(Le,Ae);break}else M(Le,Ae);Ae=Ae.sibling}Ae=Au(Fe,Le.mode,mt),Ae.return=Le,Le=Ae}return ue(Le);case fe:return Vt=Fe._init,Hn(Le,Ae,Vt(Fe._payload),mt)}if(xt(Fe))return Rt(Le,Ae,Fe,mt);if(ie(Fe))return Ot(Le,Ae,Fe,mt);Ks(Le,Fe)}return typeof Fe=="string"&&Fe!==""||typeof Fe=="number"?(Fe=""+Fe,Ae!==null&&Ae.tag===6?(O(Le,Ae.sibling),Ae=Y(Ae,Fe),Ae.return=Le,Le=Ae):(O(Le,Ae),Ae=Tu(Fe,Le.mode,mt),Ae.return=Le,Le=Ae),ue(Le)):O(Le,Ae)}return Hn}var Oa=Wl(!0),Ys=Wl(!1),Da=Ln(null),La=null,$i=null,ps=null;function Na(){ps=$i=La=null}function Zs(_){var M=Da.current;Sn(Da),_._currentValue=M}function Js(_,M,O){for(;_!==null;){var V=_.alternate;if((_.childLanes&M)!==M?(_.childLanes|=M,V!==null&&(V.childLanes|=M)):V!==null&&(V.childLanes&M)!==M&&(V.childLanes|=M),_===O)break;_=_.return}}function oa(_,M){La=_,ps=$i=null,_=_.dependencies,_!==null&&_.firstContext!==null&&((_.lanes&M)!==0&&(en=!0),_.firstContext=null)}function Fr(_){var M=_._currentValue;if(ps!==_)if(_={context:_,memoizedValue:M,next:null},$i===null){if(La===null)throw Error(n(308));$i=_,La.dependencies={lanes:0,firstContext:_}}else $i=$i.next=_;return M}var Vi=null;function Xl(_){Vi===null?Vi=[_]:Vi.push(_)}function Qs(_,M,O,V){var Y=M.interleaved;return Y===null?(O.next=O,Xl(M)):(O.next=Y.next,Y.next=O),M.interleaved=O,oi(_,V)}function oi(_,M){_.lanes|=M;var O=_.alternate;for(O!==null&&(O.lanes|=M),O=_,_=_.return;_!==null;)_.childLanes|=M,O=_.alternate,O!==null&&(O.childLanes|=M),O=_,_=_.return;return O.tag===3?O.stateNode:null}var mn=!1;function Qt(_){_.updateQueue={baseState:_.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $n(_,M){_=_.updateQueue,M.updateQueue===_&&(M.updateQueue={baseState:_.baseState,firstBaseUpdate:_.firstBaseUpdate,lastBaseUpdate:_.lastBaseUpdate,shared:_.shared,effects:_.effects})}function gn(_,M){return{eventTime:_,lane:M,tag:0,payload:null,callback:null,next:null}}function An(_,M,O){var V=_.updateQueue;if(V===null)return null;if(V=V.shared,(fn&2)!==0){var Y=V.pending;return Y===null?M.next=M:(M.next=Y.next,Y.next=M),V.pending=M,oi(_,O)}return Y=V.interleaved,Y===null?(M.next=M,Xl(V)):(M.next=Y.next,Y.next=M),V.interleaved=M,oi(_,O)}function cr(_,M,O){if(M=M.updateQueue,M!==null&&(M=M.shared,(O&4194240)!==0)){var V=M.lanes;V&=_.pendingLanes,O|=V,M.lanes=O,Wa(_,O)}}function Fa(_,M){var O=_.updateQueue,V=_.alternate;if(V!==null&&(V=V.updateQueue,O===V)){var Y=null,ee=null;if(O=O.firstBaseUpdate,O!==null){do{var ue={eventTime:O.eventTime,lane:O.lane,tag:O.tag,payload:O.payload,callback:O.callback,next:null};ee===null?Y=ee=ue:ee=ee.next=ue,O=O.next}while(O!==null);ee===null?Y=ee=M:ee=ee.next=M}else Y=ee=M;O={baseState:V.baseState,firstBaseUpdate:Y,lastBaseUpdate:ee,shared:V.shared,effects:V.effects},_.updateQueue=O;return}_=O.lastBaseUpdate,_===null?O.firstBaseUpdate=M:_.next=M,O.lastBaseUpdate=M}function kn(_,M,O,V){var Y=_.updateQueue;mn=!1;var ee=Y.firstBaseUpdate,ue=Y.lastBaseUpdate,be=Y.shared.pending;if(be!==null){Y.shared.pending=null;var Te=be,Ge=Te.next;Te.next=null,ue===null?ee=Ge:ue.next=Ge,ue=Te;var lt=_.alternate;lt!==null&&(lt=lt.updateQueue,be=lt.lastBaseUpdate,be!==ue&&(be===null?lt.firstBaseUpdate=Ge:be.next=Ge,lt.lastBaseUpdate=Te))}if(ee!==null){var ct=Y.baseState;ue=0,lt=Ge=Te=null,be=ee;do{var st=be.lane,wt=be.eventTime;if((V&st)===st){lt!==null&&(lt=lt.next={eventTime:wt,lane:0,tag:be.tag,payload:be.payload,callback:be.callback,next:null});e:{var Rt=_,Ot=be;switch(st=M,wt=O,Ot.tag){case 1:if(Rt=Ot.payload,typeof Rt=="function"){ct=Rt.call(wt,ct,st);break e}ct=Rt;break e;case 3:Rt.flags=Rt.flags&-65537|128;case 0:if(Rt=Ot.payload,st=typeof Rt=="function"?Rt.call(wt,ct,st):Rt,st==null)break e;ct=oe({},ct,st);break e;case 2:mn=!0}}be.callback!==null&&be.lane!==0&&(_.flags|=64,st=Y.effects,st===null?Y.effects=[be]:st.push(be))}else wt={eventTime:wt,lane:st,tag:be.tag,payload:be.payload,callback:be.callback,next:null},lt===null?(Ge=lt=wt,Te=ct):lt=lt.next=wt,ue|=st;if(be=be.next,be===null){if(be=Y.shared.pending,be===null)break;st=be,be=st.next,st.next=null,Y.lastBaseUpdate=st,Y.shared.pending=null}}while(!0);if(lt===null&&(Te=ct),Y.baseState=Te,Y.firstBaseUpdate=Ge,Y.lastBaseUpdate=lt,M=Y.shared.interleaved,M!==null){Y=M;do ue|=Y.lane,Y=Y.next;while(Y!==M)}else ee===null&&(Y.shared.lanes=0);co|=ue,_.lanes=ue,_.memoizedState=ct}}function ms(_,M,O){if(_=M.effects,M.effects=null,_!==null)for(M=0;M<_.length;M++){var V=_[M],Y=V.callback;if(Y!==null){if(V.callback=null,V=O,typeof Y!="function")throw Error(n(191,Y));Y.call(V)}}}var _i={},jr=Ln(_i),ja=Ln(_i),Ui=Ln(_i);function Vn(_){if(_===_i)throw Error(n(174));return _}function eo(_,M){switch(vn(Ui,M),vn(ja,_),vn(jr,_i),_=M.nodeType,_){case 9:case 11:M=(M=M.documentElement)?M.namespaceURI:Pt(null,"");break;default:_=_===8?M.parentNode:M,M=_.namespaceURI||null,_=_.tagName,M=Pt(M,_)}Sn(jr),vn(jr,M)}function la(){Sn(jr),Sn(ja),Sn(Ui)}function Ba(_){Vn(Ui.current);var M=Vn(jr.current),O=Pt(M,_.type);M!==O&&(vn(ja,_),vn(jr,O))}function gs(_){ja.current===_&&(Sn(jr),Sn(ja))}var Pn=Ln(0);function li(_){for(var M=_;M!==null;){if(M.tag===13){var O=M.memoizedState;if(O!==null&&(O=O.dehydrated,O===null||O.data==="$?"||O.data==="$!"))return M}else if(M.tag===19&&M.memoizedProps.revealOrder!==void 0){if((M.flags&128)!==0)return M}else if(M.child!==null){M.child.return=M,M=M.child;continue}if(M===_)break;for(;M.sibling===null;){if(M.return===null||M.return===_)return null;M=M.return}M.sibling.return=M.return,M=M.sibling}return null}var ys=[];function bi(){for(var _=0;_<ys.length;_++)ys[_]._workInProgressVersionPrimary=null;ys.length=0}var $a=F.ReactCurrentDispatcher,Va=F.ReactCurrentBatchConfig,zi=0,En=null,Nn=null,hn=null,ci=!1,ur=!1,ca=0,Ar=0;function ir(){throw Error(n(321))}function no(_,M){if(M===null)return!1;for(var O=0;O<M.length&&O<_.length;O++)if(!Dr(_[O],M[O]))return!1;return!0}function ro(_,M,O,V,Y,ee){if(zi=ee,En=M,M.memoizedState=null,M.updateQueue=null,M.lanes=0,$a.current=_===null||_.memoizedState===null?Oc:Dc,_=O(V,Y),ur){ee=0;do{if(ur=!1,ca=0,25<=ee)throw Error(n(301));ee+=1,hn=Nn=null,M.updateQueue=null,$a.current=Lc,_=O(V,Y)}while(ur)}if($a.current=cl,M=Nn!==null&&Nn.next!==null,zi=0,hn=Nn=En=null,ci=!1,M)throw Error(n(300));return _}function Kl(){var _=ca!==0;return ca=0,_}function ar(){var _={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?En.memoizedState=hn=_:hn=hn.next=_,hn}function Br(){if(Nn===null){var _=En.alternate;_=_!==null?_.memoizedState:null}else _=Nn.next;var M=hn===null?En.memoizedState:hn.next;if(M!==null)hn=M,Nn=_;else{if(_===null)throw Error(n(310));Nn=_,_={memoizedState:Nn.memoizedState,baseState:Nn.baseState,baseQueue:Nn.baseQueue,queue:Nn.queue,next:null},hn===null?En.memoizedState=hn=_:hn=hn.next=_}return hn}function vs(_,M){return typeof M=="function"?M(_):M}function io(_){var M=Br(),O=M.queue;if(O===null)throw Error(n(311));O.lastRenderedReducer=_;var V=Nn,Y=V.baseQueue,ee=O.pending;if(ee!==null){if(Y!==null){var ue=Y.next;Y.next=ee.next,ee.next=ue}V.baseQueue=Y=ee,O.pending=null}if(Y!==null){ee=Y.next,V=V.baseState;var be=ue=null,Te=null,Ge=ee;do{var lt=Ge.lane;if((zi&lt)===lt)Te!==null&&(Te=Te.next={lane:0,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null}),V=Ge.hasEagerState?Ge.eagerState:_(V,Ge.action);else{var ct={lane:lt,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null};Te===null?(be=Te=ct,ue=V):Te=Te.next=ct,En.lanes|=lt,co|=lt}Ge=Ge.next}while(Ge!==null&&Ge!==ee);Te===null?ue=V:Te.next=be,Dr(V,M.memoizedState)||(en=!0),M.memoizedState=V,M.baseState=ue,M.baseQueue=Te,O.lastRenderedState=V}if(_=O.interleaved,_!==null){Y=_;do ee=Y.lane,En.lanes|=ee,co|=ee,Y=Y.next;while(Y!==_)}else Y===null&&(O.lanes=0);return[M.memoizedState,O.dispatch]}function Gi(_){var M=Br(),O=M.queue;if(O===null)throw Error(n(311));O.lastRenderedReducer=_;var V=O.dispatch,Y=O.pending,ee=M.memoizedState;if(Y!==null){O.pending=null;var ue=Y=Y.next;do ee=_(ee,ue.action),ue=ue.next;while(ue!==Y);Dr(ee,M.memoizedState)||(en=!0),M.memoizedState=ee,M.baseQueue===null&&(M.baseState=ee),O.lastRenderedState=ee}return[ee,V]}function Yl(){}function Zl(_,M){var O=En,V=Br(),Y=M(),ee=!Dr(V.memoizedState,Y);if(ee&&(V.memoizedState=Y,en=!0),V=V.queue,ec(Pc.bind(null,O,V,_),[_]),V.getSnapshot!==M||ee||hn!==null&&hn.memoizedState.tag&1){if(O.flags|=2048,ui(9,ao.bind(null,O,V,Y,M),void 0,null),hr===null)throw Error(n(349));(zi&30)!==0||rl(O,M,Y)}return Y}function rl(_,M,O){_.flags|=16384,_={getSnapshot:M,value:O},M=En.updateQueue,M===null?(M={lastEffect:null,stores:null},En.updateQueue=M,M.stores=[_]):(O=M.stores,O===null?M.stores=[_]:O.push(_))}function ao(_,M,O,V){M.value=O,M.getSnapshot=V,Tc(M)&&Jl(_)}function Pc(_,M,O){return O(function(){Tc(M)&&Jl(_)})}function Tc(_){var M=_.getSnapshot;_=_.value;try{var O=M();return!Dr(_,O)}catch{return!0}}function Jl(_){var M=oi(_,1);M!==null&&Ki(M,_,1,-1)}function Ql(_){var M=ar();return typeof _=="function"&&(_=_()),M.memoizedState=M.baseState=_,_={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:_},M.queue=_,_=_.dispatch=Ua.bind(null,En,_),[M.memoizedState,_]}function ui(_,M,O,V){return _={tag:_,create:M,destroy:O,deps:V,next:null},M=En.updateQueue,M===null?(M={lastEffect:null,stores:null},En.updateQueue=M,M.lastEffect=_.next=_):(O=M.lastEffect,O===null?M.lastEffect=_.next=_:(V=O.next,O.next=_,_.next=V,M.lastEffect=_)),_}function Ac(){return Br().memoizedState}function Si(_,M,O,V){var Y=ar();En.flags|=_,Y.memoizedState=ui(1|M,O,void 0,V===void 0?null:V)}function so(_,M,O,V){var Y=Br();V=V===void 0?null:V;var ee=void 0;if(Nn!==null){var ue=Nn.memoizedState;if(ee=ue.destroy,V!==null&&no(V,ue.deps)){Y.memoizedState=ui(M,O,ee,V);return}}En.flags|=_,Y.memoizedState=ui(1|M,O,ee,V)}function _r(_,M){return Si(8390656,8,_,M)}function ec(_,M){return so(2048,8,_,M)}function tc(_,M){return so(4,2,_,M)}function Cc(_,M){return so(4,4,_,M)}function Rc(_,M){if(typeof M=="function")return _=_(),M(_),function(){M(null)};if(M!=null)return _=_(),M.current=_,function(){M.current=null}}function nc(_,M,O){return O=O!=null?O.concat([_]):null,so(4,4,Rc.bind(null,M,_),O)}function il(){}function Ic(_,M){var O=Br();M=M===void 0?null:M;var V=O.memoizedState;return V!==null&&M!==null&&no(M,V[1])?V[0]:(O.memoizedState=[_,M],_)}function $r(_,M){var O=Br();M=M===void 0?null:M;var V=O.memoizedState;return V!==null&&M!==null&&no(M,V[1])?V[0]:(_=_(),O.memoizedState=[_,M],_)}function al(_,M,O){return(zi&21)===0?(_.baseState&&(_.baseState=!1,en=!0),_.memoizedState=O):(Dr(O,M)||(O=Er(),En.lanes|=O,co|=O,_.baseState=!0),M)}function cu(_,M){var O=un;un=O!==0&&4>O?O:4,_(!0);var V=Va.transition;Va.transition={};try{_(!1),M()}finally{un=O,Va.transition=V}}function qi(){return Br().memoizedState}function sl(_,M,O){var V=Ss(_);if(O={lane:V,action:O,hasEagerState:!1,eagerState:null,next:null},oo(_))ol(M,O);else if(O=Qs(_,M,O,V),O!==null){var Y=Ur();Ki(O,_,V,Y),ll(O,M,V)}}function Ua(_,M,O){var V=Ss(_),Y={lane:V,action:O,hasEagerState:!1,eagerState:null,next:null};if(oo(_))ol(M,Y);else{var ee=_.alternate;if(_.lanes===0&&(ee===null||ee.lanes===0)&&(ee=M.lastRenderedReducer,ee!==null))try{var ue=M.lastRenderedState,be=ee(ue,O);if(Y.hasEagerState=!0,Y.eagerState=be,Dr(be,ue)){var Te=M.interleaved;Te===null?(Y.next=Y,Xl(M)):(Y.next=Te.next,Te.next=Y),M.interleaved=Y;return}}catch{}finally{}O=Qs(_,M,Y,V),O!==null&&(Y=Ur(),Ki(O,_,V,Y),ll(O,M,V))}}function oo(_){var M=_.alternate;return _===En||M!==null&&M===En}function ol(_,M){ur=ci=!0;var O=_.pending;O===null?M.next=M:(M.next=O.next,O.next=M),_.pending=M}function ll(_,M,O){if((O&4194240)!==0){var V=M.lanes;V&=_.pendingLanes,O|=V,M.lanes=O,Wa(_,O)}}var cl={readContext:Fr,useCallback:ir,useContext:ir,useEffect:ir,useImperativeHandle:ir,useInsertionEffect:ir,useLayoutEffect:ir,useMemo:ir,useReducer:ir,useRef:ir,useState:ir,useDebugValue:ir,useDeferredValue:ir,useTransition:ir,useMutableSource:ir,useSyncExternalStore:ir,useId:ir,unstable_isNewReconciler:!1},Oc={readContext:Fr,useCallback:function(_,M){return ar().memoizedState=[_,M===void 0?null:M],_},useContext:Fr,useEffect:_r,useImperativeHandle:function(_,M,O){return O=O!=null?O.concat([_]):null,Si(4194308,4,Rc.bind(null,M,_),O)},useLayoutEffect:function(_,M){return Si(4194308,4,_,M)},useInsertionEffect:function(_,M){return Si(4,2,_,M)},useMemo:function(_,M){var O=ar();return M=M===void 0?null:M,_=_(),O.memoizedState=[_,M],_},useReducer:function(_,M,O){var V=ar();return M=O!==void 0?O(M):M,V.memoizedState=V.baseState=M,_={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_,lastRenderedState:M},V.queue=_,_=_.dispatch=sl.bind(null,En,_),[V.memoizedState,_]},useRef:function(_){var M=ar();return _={current:_},M.memoizedState=_},useState:Ql,useDebugValue:il,useDeferredValue:function(_){return ar().memoizedState=_},useTransition:function(){var _=Ql(!1),M=_[0];return _=cu.bind(null,_[1]),ar().memoizedState=_,[M,_]},useMutableSource:function(){},useSyncExternalStore:function(_,M,O){var V=En,Y=ar();if(Mn){if(O===void 0)throw Error(n(407));O=O()}else{if(O=M(),hr===null)throw Error(n(349));(zi&30)!==0||rl(V,M,O)}Y.memoizedState=O;var ee={value:O,getSnapshot:M};return Y.queue=ee,_r(Pc.bind(null,V,ee,_),[_]),V.flags|=2048,ui(9,ao.bind(null,V,ee,O,M),void 0,null),O},useId:function(){var _=ar(),M=hr.identifierPrefix;if(Mn){var O=Yr,V=vt;O=(V&~(1<<32-On(V)-1)).toString(32)+O,M=":"+M+"R"+O,O=ca++,0<O&&(M+="H"+O.toString(32)),M+=":"}else O=Ar++,M=":"+M+"r"+O.toString(32)+":";return _.memoizedState=M},unstable_isNewReconciler:!1},Dc={readContext:Fr,useCallback:Ic,useContext:Fr,useEffect:ec,useImperativeHandle:nc,useInsertionEffect:tc,useLayoutEffect:Cc,useMemo:$r,useReducer:io,useRef:Ac,useState:function(){return io(vs)},useDebugValue:il,useDeferredValue:function(_){var M=Br();return al(M,Nn.memoizedState,_)},useTransition:function(){var _=io(vs)[0],M=Br().memoizedState;return[_,M]},useMutableSource:Yl,useSyncExternalStore:Zl,useId:qi,unstable_isNewReconciler:!1},Lc={readContext:Fr,useCallback:Ic,useContext:Fr,useEffect:ec,useImperativeHandle:nc,useInsertionEffect:tc,useLayoutEffect:Cc,useMemo:$r,useReducer:Gi,useRef:Ac,useState:function(){return Gi(vs)},useDebugValue:il,useDeferredValue:function(_){var M=Br();return Nn===null?M.memoizedState=_:al(M,Nn.memoizedState,_)},useTransition:function(){var _=Gi(vs)[0],M=Br().memoizedState;return[_,M]},useMutableSource:Yl,useSyncExternalStore:Zl,useId:qi,unstable_isNewReconciler:!1};function Jr(_,M){if(_&&_.defaultProps){M=oe({},M),_=_.defaultProps;for(var O in _)M[O]===void 0&&(M[O]=_[O]);return M}return M}function lo(_,M,O,V){M=_.memoizedState,O=O(V,M),O=O==null?M:oe({},M,O),_.memoizedState=O,_.lanes===0&&(_.updateQueue.baseState=O)}var ul={isMounted:function(_){return(_=_._reactInternals)?Pi(_)===_:!1},enqueueSetState:function(_,M,O){_=_._reactInternals;var V=Ur(),Y=Ss(_),ee=gn(V,Y);ee.payload=M,O!=null&&(ee.callback=O),M=An(_,ee,Y),M!==null&&(Ki(M,_,Y,V),cr(M,_,Y))},enqueueReplaceState:function(_,M,O){_=_._reactInternals;var V=Ur(),Y=Ss(_),ee=gn(V,Y);ee.tag=1,ee.payload=M,O!=null&&(ee.callback=O),M=An(_,ee,Y),M!==null&&(Ki(M,_,Y,V),cr(M,_,Y))},enqueueForceUpdate:function(_,M){_=_._reactInternals;var O=Ur(),V=Ss(_),Y=gn(O,V);Y.tag=2,M!=null&&(Y.callback=M),M=An(_,Y,V),M!==null&&(Ki(M,_,V,O),cr(M,_,V))}};function kc(_,M,O,V,Y,ee,ue){return _=_.stateNode,typeof _.shouldComponentUpdate=="function"?_.shouldComponentUpdate(V,ee,ue):M.prototype&&M.prototype.isPureReactComponent?!Sa(O,V)||!Sa(Y,ee):!0}function A(_,M,O){var V=!1,Y=Ni,ee=M.contextType;return typeof ee=="object"&&ee!==null?ee=Fr(ee):(Y=lr(M)?Fi:nr.current,V=M.contextTypes,ee=(V=V!=null)?Aa(_,Y):Ni),M=new M(O,ee),_.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,M.updater=ul,_.stateNode=M,M._reactInternals=_,V&&(_=_.stateNode,_.__reactInternalMemoizedUnmaskedChildContext=Y,_.__reactInternalMemoizedMaskedChildContext=ee),M}function I(_,M,O,V){_=M.state,typeof M.componentWillReceiveProps=="function"&&M.componentWillReceiveProps(O,V),typeof M.UNSAFE_componentWillReceiveProps=="function"&&M.UNSAFE_componentWillReceiveProps(O,V),M.state!==_&&ul.enqueueReplaceState(M,M.state,null)}function $(_,M,O,V){var Y=_.stateNode;Y.props=O,Y.state=_.memoizedState,Y.refs={},Qt(_);var ee=M.contextType;typeof ee=="object"&&ee!==null?Y.context=Fr(ee):(ee=lr(M)?Fi:nr.current,Y.context=Aa(_,ee)),Y.state=_.memoizedState,ee=M.getDerivedStateFromProps,typeof ee=="function"&&(lo(_,M,ee,O),Y.state=_.memoizedState),typeof M.getDerivedStateFromProps=="function"||typeof Y.getSnapshotBeforeUpdate=="function"||typeof Y.UNSAFE_componentWillMount!="function"&&typeof Y.componentWillMount!="function"||(M=Y.state,typeof Y.componentWillMount=="function"&&Y.componentWillMount(),typeof Y.UNSAFE_componentWillMount=="function"&&Y.UNSAFE_componentWillMount(),M!==Y.state&&ul.enqueueReplaceState(Y,Y.state,null),kn(_,O,Y,V),Y.state=_.memoizedState),typeof Y.componentDidMount=="function"&&(_.flags|=4194308)}function G(_,M){try{var O="",V=M;do O+=Me(V),V=V.return;while(V);var Y=O}catch(ee){Y=`
Error generating stack: `+ee.message+`
`+ee.stack}return{value:_,source:M,stack:Y,digest:null}}function J(_,M,O){return{value:_,source:null,stack:O??null,digest:M??null}}function te(_,M){try{console.error(M.value)}catch(O){setTimeout(function(){throw O})}}var xe=typeof WeakMap=="function"?WeakMap:Map;function Ce(_,M,O){O=gn(-1,O),O.tag=3,O.payload={element:null};var V=M.value;return O.callback=function(){Uc||(Uc=!0,xu=V),te(_,M)},O}function Qe(_,M,O){O=gn(-1,O),O.tag=3;var V=_.type.getDerivedStateFromError;if(typeof V=="function"){var Y=M.value;O.payload=function(){return V(Y)},O.callback=function(){te(_,M)}}var ee=_.stateNode;return ee!==null&&typeof ee.componentDidCatch=="function"&&(O.callback=function(){te(_,M),typeof V!="function"&&(_s===null?_s=new Set([this]):_s.add(this));var ue=M.stack;this.componentDidCatch(M.value,{componentStack:ue!==null?ue:""})}),O}function pt(_,M,O){var V=_.pingCache;if(V===null){V=_.pingCache=new xe;var Y=new Set;V.set(M,Y)}else Y=V.get(M),Y===void 0&&(Y=new Set,V.set(M,Y));Y.has(O)||(Y.add(O),_=Mh.bind(null,_,M,O),M.then(_,_))}function At(_){do{var M;if((M=_.tag===13)&&(M=_.memoizedState,M=M!==null?M.dehydrated!==null:!0),M)return _;_=_.return}while(_!==null);return null}function Xt(_,M,O,V,Y){return(_.mode&1)===0?(_===M?_.flags|=65536:(_.flags|=128,O.flags|=131072,O.flags&=-52805,O.tag===1&&(O.alternate===null?O.tag=17:(M=gn(-1,1),M.tag=2,An(O,M,1))),O.lanes|=1),_):(_.flags|=65536,_.lanes=Y,_)}var jt=F.ReactCurrentOwner,en=!1;function bt(_,M,O,V){M.child=_===null?Ys(M,null,O,V):Oa(M,_.child,O,V)}function sr(_,M,O,V,Y){O=O.render;var ee=M.ref;return oa(M,Y),V=ro(_,M,O,V,ee,Y),O=Kl(),_!==null&&!en?(M.updateQueue=_.updateQueue,M.flags&=-2053,_.lanes&=~Y,za(_,M,Y)):(Mn&&O&&Ul(M),M.flags|=1,bt(_,M,V,Y),M.child)}function Vr(_,M,O,V,Y){if(_===null){var ee=O.type;return typeof ee=="function"&&!Pu(ee)&&ee.defaultProps===void 0&&O.compare===null&&O.defaultProps===void 0?(M.tag=15,M.type=ee,$e(_,M,ee,V,Y)):(_=Xc(O.type,null,V,M,M.mode,Y),_.ref=M.ref,_.return=M,M.child=_)}if(ee=_.child,(_.lanes&Y)===0){var ue=ee.memoizedProps;if(O=O.compare,O=O!==null?O:Sa,O(ue,V)&&_.ref===M.ref)return za(_,M,Y)}return M.flags|=1,_=ws(ee,V),_.ref=M.ref,_.return=M,M.child=_}function $e(_,M,O,V,Y){if(_!==null){var ee=_.memoizedProps;if(Sa(ee,V)&&_.ref===M.ref)if(en=!1,M.pendingProps=V=ee,(_.lanes&Y)!==0)(_.flags&131072)!==0&&(en=!0);else return M.lanes=_.lanes,za(_,M,Y)}return _t(_,M,O,V,Y)}function Ie(_,M,O){var V=M.pendingProps,Y=V.children,ee=_!==null?_.memoizedState:null;if(V.mode==="hidden")if((M.mode&1)===0)M.memoizedState={baseLanes:0,cachePool:null,transitions:null},vn(fl,hi),hi|=O;else{if((O&1073741824)===0)return _=ee!==null?ee.baseLanes|O:O,M.lanes=M.childLanes=1073741824,M.memoizedState={baseLanes:_,cachePool:null,transitions:null},M.updateQueue=null,vn(fl,hi),hi|=_,null;M.memoizedState={baseLanes:0,cachePool:null,transitions:null},V=ee!==null?ee.baseLanes:O,vn(fl,hi),hi|=V}else ee!==null?(V=ee.baseLanes|O,M.memoizedState=null):V=O,vn(fl,hi),hi|=V;return bt(_,M,Y,O),M.child}function Ze(_,M){var O=M.ref;(_===null&&O!==null||_!==null&&_.ref!==O)&&(M.flags|=512,M.flags|=2097152)}function _t(_,M,O,V,Y){var ee=lr(O)?Fi:nr.current;return ee=Aa(M,ee),oa(M,Y),O=ro(_,M,O,V,ee,Y),V=Kl(),_!==null&&!en?(M.updateQueue=_.updateQueue,M.flags&=-2053,_.lanes&=~Y,za(_,M,Y)):(Mn&&V&&Ul(M),M.flags|=1,bt(_,M,O,Y),M.child)}function Dt(_,M,O,V,Y){if(lr(O)){var ee=!0;Ca(M)}else ee=!1;if(oa(M,Y),M.stateNode===null)Fc(_,M),A(M,O,V),$(M,O,V,Y),V=!0;else if(_===null){var ue=M.stateNode,be=M.memoizedProps;ue.props=be;var Te=ue.context,Ge=O.contextType;typeof Ge=="object"&&Ge!==null?Ge=Fr(Ge):(Ge=lr(O)?Fi:nr.current,Ge=Aa(M,Ge));var lt=O.getDerivedStateFromProps,ct=typeof lt=="function"||typeof ue.getSnapshotBeforeUpdate=="function";ct||typeof ue.UNSAFE_componentWillReceiveProps!="function"&&typeof ue.componentWillReceiveProps!="function"||(be!==V||Te!==Ge)&&I(M,ue,V,Ge),mn=!1;var st=M.memoizedState;ue.state=st,kn(M,V,ue,Y),Te=M.memoizedState,be!==V||st!==Te||yr.current||mn?(typeof lt=="function"&&(lo(M,O,lt,V),Te=M.memoizedState),(be=mn||kc(M,O,be,V,st,Te,Ge))?(ct||typeof ue.UNSAFE_componentWillMount!="function"&&typeof ue.componentWillMount!="function"||(typeof ue.componentWillMount=="function"&&ue.componentWillMount(),typeof ue.UNSAFE_componentWillMount=="function"&&ue.UNSAFE_componentWillMount()),typeof ue.componentDidMount=="function"&&(M.flags|=4194308)):(typeof ue.componentDidMount=="function"&&(M.flags|=4194308),M.memoizedProps=V,M.memoizedState=Te),ue.props=V,ue.state=Te,ue.context=Ge,V=be):(typeof ue.componentDidMount=="function"&&(M.flags|=4194308),V=!1)}else{ue=M.stateNode,$n(_,M),be=M.memoizedProps,Ge=M.type===M.elementType?be:Jr(M.type,be),ue.props=Ge,ct=M.pendingProps,st=ue.context,Te=O.contextType,typeof Te=="object"&&Te!==null?Te=Fr(Te):(Te=lr(O)?Fi:nr.current,Te=Aa(M,Te));var wt=O.getDerivedStateFromProps;(lt=typeof wt=="function"||typeof ue.getSnapshotBeforeUpdate=="function")||typeof ue.UNSAFE_componentWillReceiveProps!="function"&&typeof ue.componentWillReceiveProps!="function"||(be!==ct||st!==Te)&&I(M,ue,V,Te),mn=!1,st=M.memoizedState,ue.state=st,kn(M,V,ue,Y);var Rt=M.memoizedState;be!==ct||st!==Rt||yr.current||mn?(typeof wt=="function"&&(lo(M,O,wt,V),Rt=M.memoizedState),(Ge=mn||kc(M,O,Ge,V,st,Rt,Te)||!1)?(lt||typeof ue.UNSAFE_componentWillUpdate!="function"&&typeof ue.componentWillUpdate!="function"||(typeof ue.componentWillUpdate=="function"&&ue.componentWillUpdate(V,Rt,Te),typeof ue.UNSAFE_componentWillUpdate=="function"&&ue.UNSAFE_componentWillUpdate(V,Rt,Te)),typeof ue.componentDidUpdate=="function"&&(M.flags|=4),typeof ue.getSnapshotBeforeUpdate=="function"&&(M.flags|=1024)):(typeof ue.componentDidUpdate!="function"||be===_.memoizedProps&&st===_.memoizedState||(M.flags|=4),typeof ue.getSnapshotBeforeUpdate!="function"||be===_.memoizedProps&&st===_.memoizedState||(M.flags|=1024),M.memoizedProps=V,M.memoizedState=Rt),ue.props=V,ue.state=Rt,ue.context=Te,V=Ge):(typeof ue.componentDidUpdate!="function"||be===_.memoizedProps&&st===_.memoizedState||(M.flags|=4),typeof ue.getSnapshotBeforeUpdate!="function"||be===_.memoizedProps&&st===_.memoizedState||(M.flags|=1024),V=!1)}return Zt(_,M,O,V,ee,Y)}function Zt(_,M,O,V,Y,ee){Ze(_,M);var ue=(M.flags&128)!==0;if(!V&&!ue)return Y&&$l(M,O,!1),za(_,M,ee);V=M.stateNode,jt.current=M;var be=ue&&typeof O.getDerivedStateFromError!="function"?null:V.render();return M.flags|=1,_!==null&&ue?(M.child=Oa(M,_.child,null,ee),M.child=Oa(M,null,be,ee)):bt(_,M,be,ee),M.memoizedState=V.state,Y&&$l(M,O,!0),M.child}function Kt(_){var M=_.stateNode;M.pendingContext?Bl(_,M.pendingContext,M.pendingContext!==M.context):M.context&&Bl(_,M.context,!1),eo(_,M.containerInfo)}function on(_,M,O,V,Y){return sa(),ds(Y),M.flags|=256,bt(_,M,O,V),M.child}var Un={dehydrated:null,treeContext:null,retryLane:0};function sn(_){return{baseLanes:_,cachePool:null,transitions:null}}function Hi(_,M,O){var V=M.pendingProps,Y=Pn.current,ee=!1,ue=(M.flags&128)!==0,be;if((be=ue)||(be=_!==null&&_.memoizedState===null?!1:(Y&2)!==0),be?(ee=!0,M.flags&=-129):(_===null||_.memoizedState!==null)&&(Y|=1),vn(Pn,Y&1),_===null)return tl(M),_=M.memoizedState,_!==null&&(_=_.dehydrated,_!==null)?((M.mode&1)===0?M.lanes=1:_.data==="$!"?M.lanes=8:M.lanes=1073741824,null):(ue=V.children,_=V.fallback,ee?(V=M.mode,ee=M.child,ue={mode:"hidden",children:ue},(V&1)===0&&ee!==null?(ee.childLanes=0,ee.pendingProps=ue):ee=Kc(ue,V,0,null),_=po(_,V,O,null),ee.return=M,_.return=M,ee.sibling=_,M.child=ee,M.child.memoizedState=sn(O),M.memoizedState=Un,_):rc(M,ue));if(Y=_.memoizedState,Y!==null&&(be=Y.dehydrated,be!==null))return fh(_,M,ue,V,be,Y,O);if(ee){ee=V.fallback,ue=M.mode,Y=_.child,be=Y.sibling;var Te={mode:"hidden",children:V.children};return(ue&1)===0&&M.child!==Y?(V=M.child,V.childLanes=0,V.pendingProps=Te,M.deletions=null):(V=ws(Y,Te),V.subtreeFlags=Y.subtreeFlags&14680064),be!==null?ee=ws(be,ee):(ee=po(ee,ue,O,null),ee.flags|=2),ee.return=M,V.return=M,V.sibling=ee,M.child=V,V=ee,ee=M.child,ue=_.child.memoizedState,ue=ue===null?sn(O):{baseLanes:ue.baseLanes|O,cachePool:null,transitions:ue.transitions},ee.memoizedState=ue,ee.childLanes=_.childLanes&~O,M.memoizedState=Un,V}return ee=_.child,_=ee.sibling,V=ws(ee,{mode:"visible",children:V.children}),(M.mode&1)===0&&(V.lanes=O),V.return=M,V.sibling=null,_!==null&&(O=M.deletions,O===null?(M.deletions=[_],M.flags|=16):O.push(_)),M.child=V,M.memoizedState=null,V}function rc(_,M){return M=Kc({mode:"visible",children:M},_.mode,0,null),M.return=_,_.child=M}function Nc(_,M,O,V){return V!==null&&ds(V),Oa(M,_.child,null,O),_=rc(M,M.pendingProps.children),_.flags|=2,M.memoizedState=null,_}function fh(_,M,O,V,Y,ee,ue){if(O)return M.flags&256?(M.flags&=-257,V=J(Error(n(422))),Nc(_,M,ue,V)):M.memoizedState!==null?(M.child=_.child,M.flags|=128,null):(ee=V.fallback,Y=M.mode,V=Kc({mode:"visible",children:V.children},Y,0,null),ee=po(ee,Y,ue,null),ee.flags|=2,V.return=M,ee.return=M,V.sibling=ee,M.child=V,(M.mode&1)!==0&&Oa(M,_.child,null,ue),M.child.memoizedState=sn(ue),M.memoizedState=Un,ee);if((M.mode&1)===0)return Nc(_,M,ue,null);if(Y.data==="$!"){if(V=Y.nextSibling&&Y.nextSibling.dataset,V)var be=V.dgst;return V=be,ee=Error(n(419)),V=J(ee,V,void 0),Nc(_,M,ue,V)}if(be=(ue&_.childLanes)!==0,en||be){if(V=hr,V!==null){switch(ue&-ue){case 4:Y=2;break;case 16:Y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Y=32;break;case 536870912:Y=268435456;break;default:Y=0}Y=(Y&(V.suspendedLanes|ue))!==0?0:Y,Y!==0&&Y!==ee.retryLane&&(ee.retryLane=Y,oi(_,Y),Ki(V,_,Y,-1))}return Mu(),V=J(Error(n(421))),Nc(_,M,ue,V)}return Y.data==="$?"?(M.flags|=128,M.child=_.child,M=Ph.bind(null,_),Y._reactRetry=M,null):(_=ee.treeContext,xr=Li(Y.nextSibling),rr=M,Mn=!0,Zr=null,_!==null&&(vr[Zn++]=vt,vr[Zn++]=Yr,vr[Zn++]=Ia,vt=_.id,Yr=_.overflow,Ia=M),M=rc(M,V.children),M.flags|=4096,M)}function ku(_,M,O){_.lanes|=M;var V=_.alternate;V!==null&&(V.lanes|=M),Js(_.return,M,O)}function uu(_,M,O,V,Y){var ee=_.memoizedState;ee===null?_.memoizedState={isBackwards:M,rendering:null,renderingStartTime:0,last:V,tail:O,tailMode:Y}:(ee.isBackwards=M,ee.rendering=null,ee.renderingStartTime=0,ee.last=V,ee.tail=O,ee.tailMode=Y)}function Nu(_,M,O){var V=M.pendingProps,Y=V.revealOrder,ee=V.tail;if(bt(_,M,V.children,O),V=Pn.current,(V&2)!==0)V=V&1|2,M.flags|=128;else{if(_!==null&&(_.flags&128)!==0)e:for(_=M.child;_!==null;){if(_.tag===13)_.memoizedState!==null&&ku(_,O,M);else if(_.tag===19)ku(_,O,M);else if(_.child!==null){_.child.return=_,_=_.child;continue}if(_===M)break e;for(;_.sibling===null;){if(_.return===null||_.return===M)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}V&=1}if(vn(Pn,V),(M.mode&1)===0)M.memoizedState=null;else switch(Y){case"forwards":for(O=M.child,Y=null;O!==null;)_=O.alternate,_!==null&&li(_)===null&&(Y=O),O=O.sibling;O=Y,O===null?(Y=M.child,M.child=null):(Y=O.sibling,O.sibling=null),uu(M,!1,Y,O,ee);break;case"backwards":for(O=null,Y=M.child,M.child=null;Y!==null;){if(_=Y.alternate,_!==null&&li(_)===null){M.child=Y;break}_=Y.sibling,Y.sibling=O,O=Y,Y=_}uu(M,!0,O,null,ee);break;case"together":uu(M,!1,null,null,void 0);break;default:M.memoizedState=null}return M.child}function Fc(_,M){(M.mode&1)===0&&_!==null&&(_.alternate=null,M.alternate=null,M.flags|=2)}function za(_,M,O){if(_!==null&&(M.dependencies=_.dependencies),co|=M.lanes,(O&M.childLanes)===0)return null;if(_!==null&&M.child!==_.child)throw Error(n(153));if(M.child!==null){for(_=M.child,O=ws(_,_.pendingProps),M.child=O,O.return=M;_.sibling!==null;)_=_.sibling,O=O.sibling=ws(_,_.pendingProps),O.return=M;O.sibling=null}return M.child}function dh(_,M,O){switch(M.tag){case 3:Kt(M),sa();break;case 5:Ba(M);break;case 1:lr(M.type)&&Ca(M);break;case 4:eo(M,M.stateNode.containerInfo);break;case 10:var V=M.type._context,Y=M.memoizedProps.value;vn(Da,V._currentValue),V._currentValue=Y;break;case 13:if(V=M.memoizedState,V!==null)return V.dehydrated!==null?(vn(Pn,Pn.current&1),M.flags|=128,null):(O&M.child.childLanes)!==0?Hi(_,M,O):(vn(Pn,Pn.current&1),_=za(_,M,O),_!==null?_.sibling:null);vn(Pn,Pn.current&1);break;case 19:if(V=(O&M.childLanes)!==0,(_.flags&128)!==0){if(V)return Nu(_,M,O);M.flags|=128}if(Y=M.memoizedState,Y!==null&&(Y.rendering=null,Y.tail=null,Y.lastEffect=null),vn(Pn,Pn.current),V)break;return null;case 22:case 23:return M.lanes=0,Ie(_,M,O)}return za(_,M,O)}var Fu,hu,ju,Bu;Fu=function(_,M){for(var O=M.child;O!==null;){if(O.tag===5||O.tag===6)_.appendChild(O.stateNode);else if(O.tag!==4&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===M)break;for(;O.sibling===null;){if(O.return===null||O.return===M)return;O=O.return}O.sibling.return=O.return,O=O.sibling}},hu=function(){},ju=function(_,M,O,V){var Y=_.memoizedProps;if(Y!==V){_=M.stateNode,Vn(jr.current);var ee=null;switch(O){case"input":Y=Pe(_,Y),V=Pe(_,V),ee=[];break;case"select":Y=oe({},Y,{value:void 0}),V=oe({},V,{value:void 0}),ee=[];break;case"textarea":Y=he(_,Y),V=he(_,V),ee=[];break;default:typeof Y.onClick!="function"&&typeof V.onClick=="function"&&(_.onclick=zs)}Se(O,V);var ue;O=null;for(Ge in Y)if(!V.hasOwnProperty(Ge)&&Y.hasOwnProperty(Ge)&&Y[Ge]!=null)if(Ge==="style"){var be=Y[Ge];for(ue in be)be.hasOwnProperty(ue)&&(O||(O={}),O[ue]="")}else Ge!=="dangerouslySetInnerHTML"&&Ge!=="children"&&Ge!=="suppressContentEditableWarning"&&Ge!=="suppressHydrationWarning"&&Ge!=="autoFocus"&&(l.hasOwnProperty(Ge)?ee||(ee=[]):(ee=ee||[]).push(Ge,null));for(Ge in V){var Te=V[Ge];if(be=Y!=null?Y[Ge]:void 0,V.hasOwnProperty(Ge)&&Te!==be&&(Te!=null||be!=null))if(Ge==="style")if(be){for(ue in be)!be.hasOwnProperty(ue)||Te&&Te.hasOwnProperty(ue)||(O||(O={}),O[ue]="");for(ue in Te)Te.hasOwnProperty(ue)&&be[ue]!==Te[ue]&&(O||(O={}),O[ue]=Te[ue])}else O||(ee||(ee=[]),ee.push(Ge,O)),O=Te;else Ge==="dangerouslySetInnerHTML"?(Te=Te?Te.__html:void 0,be=be?be.__html:void 0,Te!=null&&be!==Te&&(ee=ee||[]).push(Ge,Te)):Ge==="children"?typeof Te!="string"&&typeof Te!="number"||(ee=ee||[]).push(Ge,""+Te):Ge!=="suppressContentEditableWarning"&&Ge!=="suppressHydrationWarning"&&(l.hasOwnProperty(Ge)?(Te!=null&&Ge==="onScroll"&&bn("scroll",_),ee||be===Te||(ee=[])):(ee=ee||[]).push(Ge,Te))}O&&(ee=ee||[]).push("style",O);var Ge=ee;(M.updateQueue=Ge)&&(M.flags|=4)}},Bu=function(_,M,O,V){O!==V&&(M.flags|=4)};function ic(_,M){if(!Mn)switch(_.tailMode){case"hidden":M=_.tail;for(var O=null;M!==null;)M.alternate!==null&&(O=M),M=M.sibling;O===null?_.tail=null:O.sibling=null;break;case"collapsed":O=_.tail;for(var V=null;O!==null;)O.alternate!==null&&(V=O),O=O.sibling;V===null?M||_.tail===null?_.tail=null:_.tail.sibling=null:V.sibling=null}}function Cr(_){var M=_.alternate!==null&&_.alternate.child===_.child,O=0,V=0;if(M)for(var Y=_.child;Y!==null;)O|=Y.lanes|Y.childLanes,V|=Y.subtreeFlags&14680064,V|=Y.flags&14680064,Y.return=_,Y=Y.sibling;else for(Y=_.child;Y!==null;)O|=Y.lanes|Y.childLanes,V|=Y.subtreeFlags,V|=Y.flags,Y.return=_,Y=Y.sibling;return _.subtreeFlags|=V,_.childLanes=O,M}function ph(_,M,O){var V=M.pendingProps;switch(Bi(M),M.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cr(M),null;case 1:return lr(M.type)&&Gs(),Cr(M),null;case 3:return V=M.stateNode,la(),Sn(yr),Sn(nr),bi(),V.pendingContext&&(V.context=V.pendingContext,V.pendingContext=null),(_===null||_.child===null)&&(fs(M)?M.flags|=4:_===null||_.memoizedState.isDehydrated&&(M.flags&256)===0||(M.flags|=1024,Zr!==null&&(Su(Zr),Zr=null))),hu(_,M),Cr(M),null;case 5:gs(M);var Y=Vn(Ui.current);if(O=M.type,_!==null&&M.stateNode!=null)ju(_,M,O,V,Y),_.ref!==M.ref&&(M.flags|=512,M.flags|=2097152);else{if(!V){if(M.stateNode===null)throw Error(n(166));return Cr(M),null}if(_=Vn(jr.current),fs(M)){V=M.stateNode,O=M.type;var ee=M.memoizedProps;switch(V[qn]=M,V[hs]=ee,_=(M.mode&1)!==0,O){case"dialog":bn("cancel",V),bn("close",V);break;case"iframe":case"object":case"embed":bn("load",V);break;case"video":case"audio":for(Y=0;Y<ia.length;Y++)bn(ia[Y],V);break;case"source":bn("error",V);break;case"img":case"image":case"link":bn("error",V),bn("load",V);break;case"details":bn("toggle",V);break;case"input":et(V,ee),bn("invalid",V);break;case"select":V._wrapperState={wasMultiple:!!ee.multiple},bn("invalid",V);break;case"textarea":Ne(V,ee),bn("invalid",V)}Se(O,ee),Y=null;for(var ue in ee)if(ee.hasOwnProperty(ue)){var be=ee[ue];ue==="children"?typeof be=="string"?V.textContent!==be&&(ee.suppressHydrationWarning!==!0&&Us(V.textContent,be,_),Y=["children",be]):typeof be=="number"&&V.textContent!==""+be&&(ee.suppressHydrationWarning!==!0&&Us(V.textContent,be,_),Y=["children",""+be]):l.hasOwnProperty(ue)&&be!=null&&ue==="onScroll"&&bn("scroll",V)}switch(O){case"input":ke(V),ot(V,ee,!0);break;case"textarea":ke(V),tt(V);break;case"select":case"option":break;default:typeof ee.onClick=="function"&&(V.onclick=zs)}V=Y,M.updateQueue=V,V!==null&&(M.flags|=4)}else{ue=Y.nodeType===9?Y:Y.ownerDocument,_==="http://www.w3.org/1999/xhtml"&&(_=nt(O)),_==="http://www.w3.org/1999/xhtml"?O==="script"?(_=ue.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild)):typeof V.is=="string"?_=ue.createElement(O,{is:V.is}):(_=ue.createElement(O),O==="select"&&(ue=_,V.multiple?ue.multiple=!0:V.size&&(ue.size=V.size))):_=ue.createElementNS(_,O),_[qn]=M,_[hs]=V,Fu(_,M,!1,!1),M.stateNode=_;e:{switch(ue=Xe(O,V),O){case"dialog":bn("cancel",_),bn("close",_),Y=V;break;case"iframe":case"object":case"embed":bn("load",_),Y=V;break;case"video":case"audio":for(Y=0;Y<ia.length;Y++)bn(ia[Y],_);Y=V;break;case"source":bn("error",_),Y=V;break;case"img":case"image":case"link":bn("error",_),bn("load",_),Y=V;break;case"details":bn("toggle",_),Y=V;break;case"input":et(_,V),Y=Pe(_,V),bn("invalid",_);break;case"option":Y=V;break;case"select":_._wrapperState={wasMultiple:!!V.multiple},Y=oe({},V,{value:void 0}),bn("invalid",_);break;case"textarea":Ne(_,V),Y=he(_,V),bn("invalid",_);break;default:Y=V}Se(O,Y),be=Y;for(ee in be)if(be.hasOwnProperty(ee)){var Te=be[ee];ee==="style"?qt(_,Te):ee==="dangerouslySetInnerHTML"?(Te=Te?Te.__html:void 0,Te!=null&&ut(_,Te)):ee==="children"?typeof Te=="string"?(O!=="textarea"||Te!=="")&&ft(_,Te):typeof Te=="number"&&ft(_,""+Te):ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&ee!=="autoFocus"&&(l.hasOwnProperty(ee)?Te!=null&&ee==="onScroll"&&bn("scroll",_):Te!=null&&N(_,ee,Te,ue))}switch(O){case"input":ke(_),ot(_,V,!1);break;case"textarea":ke(_),tt(_);break;case"option":V.value!=null&&_.setAttribute("value",""+qe(V.value));break;case"select":_.multiple=!!V.multiple,ee=V.value,ee!=null?me(_,!!V.multiple,ee,!1):V.defaultValue!=null&&me(_,!!V.multiple,V.defaultValue,!0);break;default:typeof Y.onClick=="function"&&(_.onclick=zs)}switch(O){case"button":case"input":case"select":case"textarea":V=!!V.autoFocus;break e;case"img":V=!0;break e;default:V=!1}}V&&(M.flags|=4)}M.ref!==null&&(M.flags|=512,M.flags|=2097152)}return Cr(M),null;case 6:if(_&&M.stateNode!=null)Bu(_,M,_.memoizedProps,V);else{if(typeof V!="string"&&M.stateNode===null)throw Error(n(166));if(O=Vn(Ui.current),Vn(jr.current),fs(M)){if(V=M.stateNode,O=M.memoizedProps,V[qn]=M,(ee=V.nodeValue!==O)&&(_=rr,_!==null))switch(_.tag){case 3:Us(V.nodeValue,O,(_.mode&1)!==0);break;case 5:_.memoizedProps.suppressHydrationWarning!==!0&&Us(V.nodeValue,O,(_.mode&1)!==0)}ee&&(M.flags|=4)}else V=(O.nodeType===9?O:O.ownerDocument).createTextNode(V),V[qn]=M,M.stateNode=V}return Cr(M),null;case 13:if(Sn(Pn),V=M.memoizedState,_===null||_.memoizedState!==null&&_.memoizedState.dehydrated!==null){if(Mn&&xr!==null&&(M.mode&1)!==0&&(M.flags&128)===0)ql(),sa(),M.flags|=98560,ee=!1;else if(ee=fs(M),V!==null&&V.dehydrated!==null){if(_===null){if(!ee)throw Error(n(318));if(ee=M.memoizedState,ee=ee!==null?ee.dehydrated:null,!ee)throw Error(n(317));ee[qn]=M}else sa(),(M.flags&128)===0&&(M.memoizedState=null),M.flags|=4;Cr(M),ee=!1}else Zr!==null&&(Su(Zr),Zr=null),ee=!0;if(!ee)return M.flags&65536?M:null}return(M.flags&128)!==0?(M.lanes=O,M):(V=V!==null,V!==(_!==null&&_.memoizedState!==null)&&V&&(M.child.flags|=8192,(M.mode&1)!==0&&(_===null||(Pn.current&1)!==0?or===0&&(or=3):Mu())),M.updateQueue!==null&&(M.flags|=4),Cr(M),null);case 4:return la(),hu(_,M),_===null&&ls(M.stateNode.containerInfo),Cr(M),null;case 10:return Zs(M.type._context),Cr(M),null;case 17:return lr(M.type)&&Gs(),Cr(M),null;case 19:if(Sn(Pn),ee=M.memoizedState,ee===null)return Cr(M),null;if(V=(M.flags&128)!==0,ue=ee.rendering,ue===null)if(V)ic(ee,!1);else{if(or!==0||_!==null&&(_.flags&128)!==0)for(_=M.child;_!==null;){if(ue=li(_),ue!==null){for(M.flags|=128,ic(ee,!1),V=ue.updateQueue,V!==null&&(M.updateQueue=V,M.flags|=4),M.subtreeFlags=0,V=O,O=M.child;O!==null;)ee=O,_=V,ee.flags&=14680066,ue=ee.alternate,ue===null?(ee.childLanes=0,ee.lanes=_,ee.child=null,ee.subtreeFlags=0,ee.memoizedProps=null,ee.memoizedState=null,ee.updateQueue=null,ee.dependencies=null,ee.stateNode=null):(ee.childLanes=ue.childLanes,ee.lanes=ue.lanes,ee.child=ue.child,ee.subtreeFlags=0,ee.deletions=null,ee.memoizedProps=ue.memoizedProps,ee.memoizedState=ue.memoizedState,ee.updateQueue=ue.updateQueue,ee.type=ue.type,_=ue.dependencies,ee.dependencies=_===null?null:{lanes:_.lanes,firstContext:_.firstContext}),O=O.sibling;return vn(Pn,Pn.current&1|2),M.child}_=_.sibling}ee.tail!==null&&Et()>dl&&(M.flags|=128,V=!0,ic(ee,!1),M.lanes=4194304)}else{if(!V)if(_=li(ue),_!==null){if(M.flags|=128,V=!0,O=_.updateQueue,O!==null&&(M.updateQueue=O,M.flags|=4),ic(ee,!0),ee.tail===null&&ee.tailMode==="hidden"&&!ue.alternate&&!Mn)return Cr(M),null}else 2*Et()-ee.renderingStartTime>dl&&O!==1073741824&&(M.flags|=128,V=!0,ic(ee,!1),M.lanes=4194304);ee.isBackwards?(ue.sibling=M.child,M.child=ue):(O=ee.last,O!==null?O.sibling=ue:M.child=ue,ee.last=ue)}return ee.tail!==null?(M=ee.tail,ee.rendering=M,ee.tail=M.sibling,ee.renderingStartTime=Et(),M.sibling=null,O=Pn.current,vn(Pn,V?O&1|2:O&1),M):(Cr(M),null);case 22:case 23:return wu(),V=M.memoizedState!==null,_!==null&&_.memoizedState!==null!==V&&(M.flags|=8192),V&&(M.mode&1)!==0?(hi&1073741824)!==0&&(Cr(M),M.subtreeFlags&6&&(M.flags|=8192)):Cr(M),null;case 24:return null;case 25:return null}throw Error(n(156,M.tag))}function mh(_,M){switch(Bi(M),M.tag){case 1:return lr(M.type)&&Gs(),_=M.flags,_&65536?(M.flags=_&-65537|128,M):null;case 3:return la(),Sn(yr),Sn(nr),bi(),_=M.flags,(_&65536)!==0&&(_&128)===0?(M.flags=_&-65537|128,M):null;case 5:return gs(M),null;case 13:if(Sn(Pn),_=M.memoizedState,_!==null&&_.dehydrated!==null){if(M.alternate===null)throw Error(n(340));sa()}return _=M.flags,_&65536?(M.flags=_&-65537|128,M):null;case 19:return Sn(Pn),null;case 4:return la(),null;case 10:return Zs(M.type._context),null;case 22:case 23:return wu(),null;case 24:return null;default:return null}}var jc=!1,Rr=!1,gh=typeof WeakSet=="function"?WeakSet:Set,Ct=null;function hl(_,M){var O=_.ref;if(O!==null)if(typeof O=="function")try{O(null)}catch(V){zn(_,M,V)}else O.current=null}function fu(_,M,O){try{O()}catch(V){zn(_,M,V)}}var $u=!1;function yh(_,M){if(us=Gr,_=Rn(),Wn(_)){if("selectionStart"in _)var O={start:_.selectionStart,end:_.selectionEnd};else e:{O=(O=_.ownerDocument)&&O.defaultView||window;var V=O.getSelection&&O.getSelection();if(V&&V.rangeCount!==0){O=V.anchorNode;var Y=V.anchorOffset,ee=V.focusNode;V=V.focusOffset;try{O.nodeType,ee.nodeType}catch{O=null;break e}var ue=0,be=-1,Te=-1,Ge=0,lt=0,ct=_,st=null;t:for(;;){for(var wt;ct!==O||Y!==0&&ct.nodeType!==3||(be=ue+Y),ct!==ee||V!==0&&ct.nodeType!==3||(Te=ue+V),ct.nodeType===3&&(ue+=ct.nodeValue.length),(wt=ct.firstChild)!==null;)st=ct,ct=wt;for(;;){if(ct===_)break t;if(st===O&&++Ge===Y&&(be=ue),st===ee&&++lt===V&&(Te=ue),(wt=ct.nextSibling)!==null)break;ct=st,st=ct.parentNode}ct=wt}O=be===-1||Te===-1?null:{start:be,end:Te}}else O=null}O=O||{start:0,end:0}}else O=null;for(Dl={focusedElem:_,selectionRange:O},Gr=!1,Ct=M;Ct!==null;)if(M=Ct,_=M.child,(M.subtreeFlags&1028)!==0&&_!==null)_.return=M,Ct=_;else for(;Ct!==null;){M=Ct;try{var Rt=M.alternate;if((M.flags&1024)!==0)switch(M.tag){case 0:case 11:case 15:break;case 1:if(Rt!==null){var Ot=Rt.memoizedProps,Hn=Rt.memoizedState,Le=M.stateNode,Ae=Le.getSnapshotBeforeUpdate(M.elementType===M.type?Ot:Jr(M.type,Ot),Hn);Le.__reactInternalSnapshotBeforeUpdate=Ae}break;case 3:var Fe=M.stateNode.containerInfo;Fe.nodeType===1?Fe.textContent="":Fe.nodeType===9&&Fe.documentElement&&Fe.removeChild(Fe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(mt){zn(M,M.return,mt)}if(_=M.sibling,_!==null){_.return=M.return,Ct=_;break}Ct=M.return}return Rt=$u,$u=!1,Rt}function ac(_,M,O){var V=M.updateQueue;if(V=V!==null?V.lastEffect:null,V!==null){var Y=V=V.next;do{if((Y.tag&_)===_){var ee=Y.destroy;Y.destroy=void 0,ee!==void 0&&fu(M,O,ee)}Y=Y.next}while(Y!==V)}}function Bc(_,M){if(M=M.updateQueue,M=M!==null?M.lastEffect:null,M!==null){var O=M=M.next;do{if((O.tag&_)===_){var V=O.create;O.destroy=V()}O=O.next}while(O!==M)}}function du(_){var M=_.ref;if(M!==null){var O=_.stateNode;switch(_.tag){case 5:_=O;break;default:_=O}typeof M=="function"?M(_):M.current=_}}function Vu(_){var M=_.alternate;M!==null&&(_.alternate=null,Vu(M)),_.child=null,_.deletions=null,_.sibling=null,_.tag===5&&(M=_.stateNode,M!==null&&(delete M[qn],delete M[hs],delete M[Ta],delete M[Xo],delete M[Ko])),_.stateNode=null,_.return=null,_.dependencies=null,_.memoizedProps=null,_.memoizedState=null,_.pendingProps=null,_.stateNode=null,_.updateQueue=null}function Uu(_){return _.tag===5||_.tag===3||_.tag===4}function zu(_){e:for(;;){for(;_.sibling===null;){if(_.return===null||Uu(_.return))return null;_=_.return}for(_.sibling.return=_.return,_=_.sibling;_.tag!==5&&_.tag!==6&&_.tag!==18;){if(_.flags&2||_.child===null||_.tag===4)continue e;_.child.return=_,_=_.child}if(!(_.flags&2))return _.stateNode}}function pu(_,M,O){var V=_.tag;if(V===5||V===6)_=_.stateNode,M?O.nodeType===8?O.parentNode.insertBefore(_,M):O.insertBefore(_,M):(O.nodeType===8?(M=O.parentNode,M.insertBefore(_,O)):(M=O,M.appendChild(_)),O=O._reactRootContainer,O!=null||M.onclick!==null||(M.onclick=zs));else if(V!==4&&(_=_.child,_!==null))for(pu(_,M,O),_=_.sibling;_!==null;)pu(_,M,O),_=_.sibling}function mu(_,M,O){var V=_.tag;if(V===5||V===6)_=_.stateNode,M?O.insertBefore(_,M):O.appendChild(_);else if(V!==4&&(_=_.child,_!==null))for(mu(_,M,O),_=_.sibling;_!==null;)mu(_,M,O),_=_.sibling}var br=null,Wi=!1;function xs(_,M,O){for(O=O.child;O!==null;)Gu(_,M,O),O=O.sibling}function Gu(_,M,O){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(Fn,O)}catch{}switch(O.tag){case 5:Rr||hl(O,M);case 6:var V=br,Y=Wi;br=null,xs(_,M,O),br=V,Wi=Y,br!==null&&(Wi?(_=br,O=O.stateNode,_.nodeType===8?_.parentNode.removeChild(O):_.removeChild(O)):br.removeChild(O.stateNode));break;case 18:br!==null&&(Wi?(_=br,O=O.stateNode,_.nodeType===8?Wo(_.parentNode,O):_.nodeType===1&&Wo(_,O),Is(_)):Wo(br,O.stateNode));break;case 4:V=br,Y=Wi,br=O.stateNode.containerInfo,Wi=!0,xs(_,M,O),br=V,Wi=Y;break;case 0:case 11:case 14:case 15:if(!Rr&&(V=O.updateQueue,V!==null&&(V=V.lastEffect,V!==null))){Y=V=V.next;do{var ee=Y,ue=ee.destroy;ee=ee.tag,ue!==void 0&&((ee&2)!==0||(ee&4)!==0)&&fu(O,M,ue),Y=Y.next}while(Y!==V)}xs(_,M,O);break;case 1:if(!Rr&&(hl(O,M),V=O.stateNode,typeof V.componentWillUnmount=="function"))try{V.props=O.memoizedProps,V.state=O.memoizedState,V.componentWillUnmount()}catch(be){zn(O,M,be)}xs(_,M,O);break;case 21:xs(_,M,O);break;case 22:O.mode&1?(Rr=(V=Rr)||O.memoizedState!==null,xs(_,M,O),Rr=V):xs(_,M,O);break;default:xs(_,M,O)}}function qu(_){var M=_.updateQueue;if(M!==null){_.updateQueue=null;var O=_.stateNode;O===null&&(O=_.stateNode=new gh),M.forEach(function(V){var Y=Th.bind(null,_,V);O.has(V)||(O.add(V),V.then(Y,Y))})}}function Xi(_,M){var O=M.deletions;if(O!==null)for(var V=0;V<O.length;V++){var Y=O[V];try{var ee=_,ue=M,be=ue;e:for(;be!==null;){switch(be.tag){case 5:br=be.stateNode,Wi=!1;break e;case 3:br=be.stateNode.containerInfo,Wi=!0;break e;case 4:br=be.stateNode.containerInfo,Wi=!0;break e}be=be.return}if(br===null)throw Error(n(160));Gu(ee,ue,Y),br=null,Wi=!1;var Te=Y.alternate;Te!==null&&(Te.return=null),Y.return=null}catch(Ge){zn(Y,M,Ge)}}if(M.subtreeFlags&12854)for(M=M.child;M!==null;)Hu(M,_),M=M.sibling}function Hu(_,M){var O=_.alternate,V=_.flags;switch(_.tag){case 0:case 11:case 14:case 15:if(Xi(M,_),ua(_),V&4){try{ac(3,_,_.return),Bc(3,_)}catch(Ot){zn(_,_.return,Ot)}try{ac(5,_,_.return)}catch(Ot){zn(_,_.return,Ot)}}break;case 1:Xi(M,_),ua(_),V&512&&O!==null&&hl(O,O.return);break;case 5:if(Xi(M,_),ua(_),V&512&&O!==null&&hl(O,O.return),_.flags&32){var Y=_.stateNode;try{ft(Y,"")}catch(Ot){zn(_,_.return,Ot)}}if(V&4&&(Y=_.stateNode,Y!=null)){var ee=_.memoizedProps,ue=O!==null?O.memoizedProps:ee,be=_.type,Te=_.updateQueue;if(_.updateQueue=null,Te!==null)try{be==="input"&&ee.type==="radio"&&ee.name!=null&&He(Y,ee),Xe(be,ue);var Ge=Xe(be,ee);for(ue=0;ue<Te.length;ue+=2){var lt=Te[ue],ct=Te[ue+1];lt==="style"?qt(Y,ct):lt==="dangerouslySetInnerHTML"?ut(Y,ct):lt==="children"?ft(Y,ct):N(Y,lt,ct,Ge)}switch(be){case"input":rt(Y,ee);break;case"textarea":Ve(Y,ee);break;case"select":var st=Y._wrapperState.wasMultiple;Y._wrapperState.wasMultiple=!!ee.multiple;var wt=ee.value;wt!=null?me(Y,!!ee.multiple,wt,!1):st!==!!ee.multiple&&(ee.defaultValue!=null?me(Y,!!ee.multiple,ee.defaultValue,!0):me(Y,!!ee.multiple,ee.multiple?[]:"",!1))}Y[hs]=ee}catch(Ot){zn(_,_.return,Ot)}}break;case 6:if(Xi(M,_),ua(_),V&4){if(_.stateNode===null)throw Error(n(162));Y=_.stateNode,ee=_.memoizedProps;try{Y.nodeValue=ee}catch(Ot){zn(_,_.return,Ot)}}break;case 3:if(Xi(M,_),ua(_),V&4&&O!==null&&O.memoizedState.isDehydrated)try{Is(M.containerInfo)}catch(Ot){zn(_,_.return,Ot)}break;case 4:Xi(M,_),ua(_);break;case 13:Xi(M,_),ua(_),Y=_.child,Y.flags&8192&&(ee=Y.memoizedState!==null,Y.stateNode.isHidden=ee,!ee||Y.alternate!==null&&Y.alternate.memoizedState!==null||(vu=Et())),V&4&&qu(_);break;case 22:if(lt=O!==null&&O.memoizedState!==null,_.mode&1?(Rr=(Ge=Rr)||lt,Xi(M,_),Rr=Ge):Xi(M,_),ua(_),V&8192){if(Ge=_.memoizedState!==null,(_.stateNode.isHidden=Ge)&&!lt&&(_.mode&1)!==0)for(Ct=_,lt=_.child;lt!==null;){for(ct=Ct=lt;Ct!==null;){switch(st=Ct,wt=st.child,st.tag){case 0:case 11:case 14:case 15:ac(4,st,st.return);break;case 1:hl(st,st.return);var Rt=st.stateNode;if(typeof Rt.componentWillUnmount=="function"){V=st,O=st.return;try{M=V,Rt.props=M.memoizedProps,Rt.state=M.memoizedState,Rt.componentWillUnmount()}catch(Ot){zn(V,O,Ot)}}break;case 5:hl(st,st.return);break;case 22:if(st.memoizedState!==null){Ku(ct);continue}}wt!==null?(wt.return=st,Ct=wt):Ku(ct)}lt=lt.sibling}e:for(lt=null,ct=_;;){if(ct.tag===5){if(lt===null){lt=ct;try{Y=ct.stateNode,Ge?(ee=Y.style,typeof ee.setProperty=="function"?ee.setProperty("display","none","important"):ee.display="none"):(be=ct.stateNode,Te=ct.memoizedProps.style,ue=Te!=null&&Te.hasOwnProperty("display")?Te.display:null,be.style.display=yn("display",ue))}catch(Ot){zn(_,_.return,Ot)}}}else if(ct.tag===6){if(lt===null)try{ct.stateNode.nodeValue=Ge?"":ct.memoizedProps}catch(Ot){zn(_,_.return,Ot)}}else if((ct.tag!==22&&ct.tag!==23||ct.memoizedState===null||ct===_)&&ct.child!==null){ct.child.return=ct,ct=ct.child;continue}if(ct===_)break e;for(;ct.sibling===null;){if(ct.return===null||ct.return===_)break e;lt===ct&&(lt=null),ct=ct.return}lt===ct&&(lt=null),ct.sibling.return=ct.return,ct=ct.sibling}}break;case 19:Xi(M,_),ua(_),V&4&&qu(_);break;case 21:break;default:Xi(M,_),ua(_)}}function ua(_){var M=_.flags;if(M&2){try{e:{for(var O=_.return;O!==null;){if(Uu(O)){var V=O;break e}O=O.return}throw Error(n(160))}switch(V.tag){case 5:var Y=V.stateNode;V.flags&32&&(ft(Y,""),V.flags&=-33);var ee=zu(_);mu(_,ee,Y);break;case 3:case 4:var ue=V.stateNode.containerInfo,be=zu(_);pu(_,be,ue);break;default:throw Error(n(161))}}catch(Te){zn(_,_.return,Te)}_.flags&=-3}M&4096&&(_.flags&=-4097)}function xh(_,M,O){Ct=_,Wu(_)}function Wu(_,M,O){for(var V=(_.mode&1)!==0;Ct!==null;){var Y=Ct,ee=Y.child;if(Y.tag===22&&V){var ue=Y.memoizedState!==null||jc;if(!ue){var be=Y.alternate,Te=be!==null&&be.memoizedState!==null||Rr;be=jc;var Ge=Rr;if(jc=ue,(Rr=Te)&&!Ge)for(Ct=Y;Ct!==null;)ue=Ct,Te=ue.child,ue.tag===22&&ue.memoizedState!==null?Yu(Y):Te!==null?(Te.return=ue,Ct=Te):Yu(Y);for(;ee!==null;)Ct=ee,Wu(ee),ee=ee.sibling;Ct=Y,jc=be,Rr=Ge}Xu(_)}else(Y.subtreeFlags&8772)!==0&&ee!==null?(ee.return=Y,Ct=ee):Xu(_)}}function Xu(_){for(;Ct!==null;){var M=Ct;if((M.flags&8772)!==0){var O=M.alternate;try{if((M.flags&8772)!==0)switch(M.tag){case 0:case 11:case 15:Rr||Bc(5,M);break;case 1:var V=M.stateNode;if(M.flags&4&&!Rr)if(O===null)V.componentDidMount();else{var Y=M.elementType===M.type?O.memoizedProps:Jr(M.type,O.memoizedProps);V.componentDidUpdate(Y,O.memoizedState,V.__reactInternalSnapshotBeforeUpdate)}var ee=M.updateQueue;ee!==null&&ms(M,ee,V);break;case 3:var ue=M.updateQueue;if(ue!==null){if(O=null,M.child!==null)switch(M.child.tag){case 5:O=M.child.stateNode;break;case 1:O=M.child.stateNode}ms(M,ue,O)}break;case 5:var be=M.stateNode;if(O===null&&M.flags&4){O=be;var Te=M.memoizedProps;switch(M.type){case"button":case"input":case"select":case"textarea":Te.autoFocus&&O.focus();break;case"img":Te.src&&(O.src=Te.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(M.memoizedState===null){var Ge=M.alternate;if(Ge!==null){var lt=Ge.memoizedState;if(lt!==null){var ct=lt.dehydrated;ct!==null&&Is(ct)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Rr||M.flags&512&&du(M)}catch(st){zn(M,M.return,st)}}if(M===_){Ct=null;break}if(O=M.sibling,O!==null){O.return=M.return,Ct=O;break}Ct=M.return}}function Ku(_){for(;Ct!==null;){var M=Ct;if(M===_){Ct=null;break}var O=M.sibling;if(O!==null){O.return=M.return,Ct=O;break}Ct=M.return}}function Yu(_){for(;Ct!==null;){var M=Ct;try{switch(M.tag){case 0:case 11:case 15:var O=M.return;try{Bc(4,M)}catch(Te){zn(M,O,Te)}break;case 1:var V=M.stateNode;if(typeof V.componentDidMount=="function"){var Y=M.return;try{V.componentDidMount()}catch(Te){zn(M,Y,Te)}}var ee=M.return;try{du(M)}catch(Te){zn(M,ee,Te)}break;case 5:var ue=M.return;try{du(M)}catch(Te){zn(M,ue,Te)}}}catch(Te){zn(M,M.return,Te)}if(M===_){Ct=null;break}var be=M.sibling;if(be!==null){be.return=M.return,Ct=be;break}Ct=M.return}}var _h=Math.ceil,$c=F.ReactCurrentDispatcher,gu=F.ReactCurrentOwner,Ei=F.ReactCurrentBatchConfig,fn=0,hr=null,Jn=null,Sr=0,hi=0,fl=Ln(0),or=0,sc=null,co=0,Vc=0,yu=0,oc=null,Qr=null,vu=0,dl=1/0,Ga=null,Uc=!1,xu=null,_s=null,zc=!1,bs=null,Gc=0,lc=0,_u=null,qc=-1,Hc=0;function Ur(){return(fn&6)!==0?Et():qc!==-1?qc:qc=Et()}function Ss(_){return(_.mode&1)===0?1:(fn&2)!==0&&Sr!==0?Sr&-Sr:lu.transition!==null?(Hc===0&&(Hc=Er()),Hc):(_=un,_!==0||(_=window.event,_=_===void 0?16:hc(_.type)),_)}function Ki(_,M,O,V){if(50<lc)throw lc=0,_u=null,Error(n(185));Ts(_,O,V),((fn&2)===0||_!==hr)&&(_===hr&&((fn&2)===0&&(Vc|=O),or===4&&Es(_,Sr)),ei(_,V),O===1&&fn===0&&(M.mode&1)===0&&(dl=Et()+500,Hs&&xi()))}function ei(_,M){var O=_.callbackNode;er(_,M);var V=Ir(_,_===hr?Sr:0);if(V===0)O!==null&&St(O),_.callbackNode=null,_.callbackPriority=0;else if(M=V&-V,_.callbackPriority!==M){if(O!=null&&St(O),M===1)_.tag===0?Mc(Ju.bind(null,_)):Ws(Ju.bind(null,_)),ou(function(){(fn&6)===0&&xi()}),O=null;else{switch(Xa(V)){case 1:O=zt;break;case 4:O=Gt;break;case 16:O=xn;break;case 536870912:O=_n;break;default:O=xn}O=sh(O,Zu.bind(null,_))}_.callbackPriority=M,_.callbackNode=O}}function Zu(_,M){if(qc=-1,Hc=0,(fn&6)!==0)throw Error(n(327));var O=_.callbackNode;if(pl()&&_.callbackNode!==O)return null;var V=Ir(_,_===hr?Sr:0);if(V===0)return null;if((V&30)!==0||(V&_.expiredLanes)!==0||M)M=Wc(_,V);else{M=V;var Y=fn;fn|=2;var ee=eh();(hr!==_||Sr!==M)&&(Ga=null,dl=Et()+500,ho(_,M));do try{Eh();break}catch(be){Qu(_,be)}while(!0);Na(),$c.current=ee,fn=Y,Jn!==null?M=0:(hr=null,Sr=0,M=or)}if(M!==0){if(M===2&&(Y=Zi(_),Y!==0&&(V=Y,M=bu(_,Y))),M===1)throw O=sc,ho(_,0),Es(_,V),ei(_,Et()),O;if(M===6)Es(_,V);else{if(Y=_.current.alternate,(V&30)===0&&!bh(Y)&&(M=Wc(_,V),M===2&&(ee=Zi(_),ee!==0&&(V=ee,M=bu(_,ee))),M===1))throw O=sc,ho(_,0),Es(_,V),ei(_,Et()),O;switch(_.finishedWork=Y,_.finishedLanes=V,M){case 0:case 1:throw Error(n(345));case 2:fo(_,Qr,Ga);break;case 3:if(Es(_,V),(V&130023424)===V&&(M=vu+500-Et(),10<M)){if(Ir(_,0)!==0)break;if(Y=_.suspendedLanes,(Y&V)!==V){Ur(),_.pingedLanes|=_.suspendedLanes&Y;break}_.timeoutHandle=kl(fo.bind(null,_,Qr,Ga),M);break}fo(_,Qr,Ga);break;case 4:if(Es(_,V),(V&4194240)===V)break;for(M=_.eventTimes,Y=-1;0<V;){var ue=31-On(V);ee=1<<ue,ue=M[ue],ue>Y&&(Y=ue),V&=~ee}if(V=Y,V=Et()-V,V=(120>V?120:480>V?480:1080>V?1080:1920>V?1920:3e3>V?3e3:4320>V?4320:1960*_h(V/1960))-V,10<V){_.timeoutHandle=kl(fo.bind(null,_,Qr,Ga),V);break}fo(_,Qr,Ga);break;case 5:fo(_,Qr,Ga);break;default:throw Error(n(329))}}}return ei(_,Et()),_.callbackNode===O?Zu.bind(null,_):null}function bu(_,M){var O=oc;return _.current.memoizedState.isDehydrated&&(ho(_,M).flags|=256),_=Wc(_,M),_!==2&&(M=Qr,Qr=O,M!==null&&Su(M)),_}function Su(_){Qr===null?Qr=_:Qr.push.apply(Qr,_)}function bh(_){for(var M=_;;){if(M.flags&16384){var O=M.updateQueue;if(O!==null&&(O=O.stores,O!==null))for(var V=0;V<O.length;V++){var Y=O[V],ee=Y.getSnapshot;Y=Y.value;try{if(!Dr(ee(),Y))return!1}catch{return!1}}}if(O=M.child,M.subtreeFlags&16384&&O!==null)O.return=M,M=O;else{if(M===_)break;for(;M.sibling===null;){if(M.return===null||M.return===_)return!0;M=M.return}M.sibling.return=M.return,M=M.sibling}}return!0}function Es(_,M){for(M&=~yu,M&=~Vc,_.suspendedLanes|=M,_.pingedLanes&=~M,_=_.expirationTimes;0<M;){var O=31-On(M),V=1<<O;_[O]=-1,M&=~V}}function Ju(_){if((fn&6)!==0)throw Error(n(327));pl();var M=Ir(_,0);if((M&1)===0)return ei(_,Et()),null;var O=Wc(_,M);if(_.tag!==0&&O===2){var V=Zi(_);V!==0&&(M=V,O=bu(_,V))}if(O===1)throw O=sc,ho(_,0),Es(_,M),ei(_,Et()),O;if(O===6)throw Error(n(345));return _.finishedWork=_.current.alternate,_.finishedLanes=M,fo(_,Qr,Ga),ei(_,Et()),null}function Eu(_,M){var O=fn;fn|=1;try{return _(M)}finally{fn=O,fn===0&&(dl=Et()+500,Hs&&xi())}}function uo(_){bs!==null&&bs.tag===0&&(fn&6)===0&&pl();var M=fn;fn|=1;var O=Ei.transition,V=un;try{if(Ei.transition=null,un=1,_)return _()}finally{un=V,Ei.transition=O,fn=M,(fn&6)===0&&xi()}}function wu(){hi=fl.current,Sn(fl)}function ho(_,M){_.finishedWork=null,_.finishedLanes=0;var O=_.timeoutHandle;if(O!==-1&&(_.timeoutHandle=-1,Nl(O)),Jn!==null)for(O=Jn.return;O!==null;){var V=O;switch(Bi(V),V.tag){case 1:V=V.type.childContextTypes,V!=null&&Gs();break;case 3:la(),Sn(yr),Sn(nr),bi();break;case 5:gs(V);break;case 4:la();break;case 13:Sn(Pn);break;case 19:Sn(Pn);break;case 10:Zs(V.type._context);break;case 22:case 23:wu()}O=O.return}if(hr=_,Jn=_=ws(_.current,null),Sr=hi=M,or=0,sc=null,yu=Vc=co=0,Qr=oc=null,Vi!==null){for(M=0;M<Vi.length;M++)if(O=Vi[M],V=O.interleaved,V!==null){O.interleaved=null;var Y=V.next,ee=O.pending;if(ee!==null){var ue=ee.next;ee.next=Y,V.next=ue}O.pending=V}Vi=null}return _}function Qu(_,M){do{var O=Jn;try{if(Na(),$a.current=cl,ci){for(var V=En.memoizedState;V!==null;){var Y=V.queue;Y!==null&&(Y.pending=null),V=V.next}ci=!1}if(zi=0,hn=Nn=En=null,ur=!1,ca=0,gu.current=null,O===null||O.return===null){or=1,sc=M,Jn=null;break}e:{var ee=_,ue=O.return,be=O,Te=M;if(M=Sr,be.flags|=32768,Te!==null&&typeof Te=="object"&&typeof Te.then=="function"){var Ge=Te,lt=be,ct=lt.tag;if((lt.mode&1)===0&&(ct===0||ct===11||ct===15)){var st=lt.alternate;st?(lt.updateQueue=st.updateQueue,lt.memoizedState=st.memoizedState,lt.lanes=st.lanes):(lt.updateQueue=null,lt.memoizedState=null)}var wt=At(ue);if(wt!==null){wt.flags&=-257,Xt(wt,ue,be,ee,M),wt.mode&1&&pt(ee,Ge,M),M=wt,Te=Ge;var Rt=M.updateQueue;if(Rt===null){var Ot=new Set;Ot.add(Te),M.updateQueue=Ot}else Rt.add(Te);break e}else{if((M&1)===0){pt(ee,Ge,M),Mu();break e}Te=Error(n(426))}}else if(Mn&&be.mode&1){var Hn=At(ue);if(Hn!==null){(Hn.flags&65536)===0&&(Hn.flags|=256),Xt(Hn,ue,be,ee,M),ds(G(Te,be));break e}}ee=Te=G(Te,be),or!==4&&(or=2),oc===null?oc=[ee]:oc.push(ee),ee=ue;do{switch(ee.tag){case 3:ee.flags|=65536,M&=-M,ee.lanes|=M;var Le=Ce(ee,Te,M);Fa(ee,Le);break e;case 1:be=Te;var Ae=ee.type,Fe=ee.stateNode;if((ee.flags&128)===0&&(typeof Ae.getDerivedStateFromError=="function"||Fe!==null&&typeof Fe.componentDidCatch=="function"&&(_s===null||!_s.has(Fe)))){ee.flags|=65536,M&=-M,ee.lanes|=M;var mt=Qe(ee,be,M);Fa(ee,mt);break e}}ee=ee.return}while(ee!==null)}nh(O)}catch(kt){M=kt,Jn===O&&O!==null&&(Jn=O=O.return);continue}break}while(!0)}function eh(){var _=$c.current;return $c.current=cl,_===null?cl:_}function Mu(){(or===0||or===3||or===2)&&(or=4),hr===null||(co&268435455)===0&&(Vc&268435455)===0||Es(hr,Sr)}function Wc(_,M){var O=fn;fn|=2;var V=eh();(hr!==_||Sr!==M)&&(Ga=null,ho(_,M));do try{Sh();break}catch(Y){Qu(_,Y)}while(!0);if(Na(),fn=O,$c.current=V,Jn!==null)throw Error(n(261));return hr=null,Sr=0,or}function Sh(){for(;Jn!==null;)th(Jn)}function Eh(){for(;Jn!==null&&!Nt();)th(Jn)}function th(_){var M=ah(_.alternate,_,hi);_.memoizedProps=_.pendingProps,M===null?nh(_):Jn=M,gu.current=null}function nh(_){var M=_;do{var O=M.alternate;if(_=M.return,(M.flags&32768)===0){if(O=ph(O,M,hi),O!==null){Jn=O;return}}else{if(O=mh(O,M),O!==null){O.flags&=32767,Jn=O;return}if(_!==null)_.flags|=32768,_.subtreeFlags=0,_.deletions=null;else{or=6,Jn=null;return}}if(M=M.sibling,M!==null){Jn=M;return}Jn=M=_}while(M!==null);or===0&&(or=5)}function fo(_,M,O){var V=un,Y=Ei.transition;try{Ei.transition=null,un=1,wh(_,M,O,V)}finally{Ei.transition=Y,un=V}return null}function wh(_,M,O,V){do pl();while(bs!==null);if((fn&6)!==0)throw Error(n(327));O=_.finishedWork;var Y=_.finishedLanes;if(O===null)return null;if(_.finishedWork=null,_.finishedLanes=0,O===_.current)throw Error(n(177));_.callbackNode=null,_.callbackPriority=0;var ee=O.lanes|O.childLanes;if(ru(_,ee),_===hr&&(Jn=hr=null,Sr=0),(O.subtreeFlags&2064)===0&&(O.flags&2064)===0||zc||(zc=!0,sh(xn,function(){return pl(),null})),ee=(O.flags&15990)!==0,(O.subtreeFlags&15990)!==0||ee){ee=Ei.transition,Ei.transition=null;var ue=un;un=1;var be=fn;fn|=4,gu.current=null,yh(_,O),Hu(O,_),Xn(Dl),Gr=!!us,Dl=us=null,_.current=O,xh(O),$t(),fn=be,un=ue,Ei.transition=ee}else _.current=O;if(zc&&(zc=!1,bs=_,Gc=Y),ee=_.pendingLanes,ee===0&&(_s=null),Mt(O.stateNode),ei(_,Et()),M!==null)for(V=_.onRecoverableError,O=0;O<M.length;O++)Y=M[O],V(Y.value,{componentStack:Y.stack,digest:Y.digest});if(Uc)throw Uc=!1,_=xu,xu=null,_;return(Gc&1)!==0&&_.tag!==0&&pl(),ee=_.pendingLanes,(ee&1)!==0?_===_u?lc++:(lc=0,_u=_):lc=0,xi(),null}function pl(){if(bs!==null){var _=Xa(Gc),M=Ei.transition,O=un;try{if(Ei.transition=null,un=16>_?16:_,bs===null)var V=!1;else{if(_=bs,bs=null,Gc=0,(fn&6)!==0)throw Error(n(331));var Y=fn;for(fn|=4,Ct=_.current;Ct!==null;){var ee=Ct,ue=ee.child;if((Ct.flags&16)!==0){var be=ee.deletions;if(be!==null){for(var Te=0;Te<be.length;Te++){var Ge=be[Te];for(Ct=Ge;Ct!==null;){var lt=Ct;switch(lt.tag){case 0:case 11:case 15:ac(8,lt,ee)}var ct=lt.child;if(ct!==null)ct.return=lt,Ct=ct;else for(;Ct!==null;){lt=Ct;var st=lt.sibling,wt=lt.return;if(Vu(lt),lt===Ge){Ct=null;break}if(st!==null){st.return=wt,Ct=st;break}Ct=wt}}}var Rt=ee.alternate;if(Rt!==null){var Ot=Rt.child;if(Ot!==null){Rt.child=null;do{var Hn=Ot.sibling;Ot.sibling=null,Ot=Hn}while(Ot!==null)}}Ct=ee}}if((ee.subtreeFlags&2064)!==0&&ue!==null)ue.return=ee,Ct=ue;else e:for(;Ct!==null;){if(ee=Ct,(ee.flags&2048)!==0)switch(ee.tag){case 0:case 11:case 15:ac(9,ee,ee.return)}var Le=ee.sibling;if(Le!==null){Le.return=ee.return,Ct=Le;break e}Ct=ee.return}}var Ae=_.current;for(Ct=Ae;Ct!==null;){ue=Ct;var Fe=ue.child;if((ue.subtreeFlags&2064)!==0&&Fe!==null)Fe.return=ue,Ct=Fe;else e:for(ue=Ae;Ct!==null;){if(be=Ct,(be.flags&2048)!==0)try{switch(be.tag){case 0:case 11:case 15:Bc(9,be)}}catch(kt){zn(be,be.return,kt)}if(be===ue){Ct=null;break e}var mt=be.sibling;if(mt!==null){mt.return=be.return,Ct=mt;break e}Ct=be.return}}if(fn=Y,xi(),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(Fn,_)}catch{}V=!0}return V}finally{un=O,Ei.transition=M}}return!1}function rh(_,M,O){M=G(O,M),M=Ce(_,M,1),_=An(_,M,1),M=Ur(),_!==null&&(Ts(_,1,M),ei(_,M))}function zn(_,M,O){if(_.tag===3)rh(_,_,O);else for(;M!==null;){if(M.tag===3){rh(M,_,O);break}else if(M.tag===1){var V=M.stateNode;if(typeof M.type.getDerivedStateFromError=="function"||typeof V.componentDidCatch=="function"&&(_s===null||!_s.has(V))){_=G(O,_),_=Qe(M,_,1),M=An(M,_,1),_=Ur(),M!==null&&(Ts(M,1,_),ei(M,_));break}}M=M.return}}function Mh(_,M,O){var V=_.pingCache;V!==null&&V.delete(M),M=Ur(),_.pingedLanes|=_.suspendedLanes&O,hr===_&&(Sr&O)===O&&(or===4||or===3&&(Sr&130023424)===Sr&&500>Et()-vu?ho(_,0):yu|=O),ei(_,M)}function ih(_,M){M===0&&((_.mode&1)===0?M=1:(M=jn,jn<<=1,(jn&130023424)===0&&(jn=4194304)));var O=Ur();_=oi(_,M),_!==null&&(Ts(_,M,O),ei(_,O))}function Ph(_){var M=_.memoizedState,O=0;M!==null&&(O=M.retryLane),ih(_,O)}function Th(_,M){var O=0;switch(_.tag){case 13:var V=_.stateNode,Y=_.memoizedState;Y!==null&&(O=Y.retryLane);break;case 19:V=_.stateNode;break;default:throw Error(n(314))}V!==null&&V.delete(M),ih(_,O)}var ah;ah=function(_,M,O){if(_!==null)if(_.memoizedProps!==M.pendingProps||yr.current)en=!0;else{if((_.lanes&O)===0&&(M.flags&128)===0)return en=!1,dh(_,M,O);en=(_.flags&131072)!==0}else en=!1,Mn&&(M.flags&1048576)!==0&&Vl(M,Qo,M.index);switch(M.lanes=0,M.tag){case 2:var V=M.type;Fc(_,M),_=M.pendingProps;var Y=Aa(M,nr.current);oa(M,O),Y=ro(null,M,V,_,Y,O);var ee=Kl();return M.flags|=1,typeof Y=="object"&&Y!==null&&typeof Y.render=="function"&&Y.$$typeof===void 0?(M.tag=1,M.memoizedState=null,M.updateQueue=null,lr(V)?(ee=!0,Ca(M)):ee=!1,M.memoizedState=Y.state!==null&&Y.state!==void 0?Y.state:null,Qt(M),Y.updater=ul,M.stateNode=Y,Y._reactInternals=M,$(M,V,_,O),M=Zt(null,M,V,!0,ee,O)):(M.tag=0,Mn&&ee&&Ul(M),bt(null,M,Y,O),M=M.child),M;case 16:V=M.elementType;e:{switch(Fc(_,M),_=M.pendingProps,Y=V._init,V=Y(V._payload),M.type=V,Y=M.tag=Ch(V),_=Jr(V,_),Y){case 0:M=_t(null,M,V,_,O);break e;case 1:M=Dt(null,M,V,_,O);break e;case 11:M=sr(null,M,V,_,O);break e;case 14:M=Vr(null,M,V,Jr(V.type,_),O);break e}throw Error(n(306,V,""))}return M;case 0:return V=M.type,Y=M.pendingProps,Y=M.elementType===V?Y:Jr(V,Y),_t(_,M,V,Y,O);case 1:return V=M.type,Y=M.pendingProps,Y=M.elementType===V?Y:Jr(V,Y),Dt(_,M,V,Y,O);case 3:e:{if(Kt(M),_===null)throw Error(n(387));V=M.pendingProps,ee=M.memoizedState,Y=ee.element,$n(_,M),kn(M,V,null,O);var ue=M.memoizedState;if(V=ue.element,ee.isDehydrated)if(ee={element:V,isDehydrated:!1,cache:ue.cache,pendingSuspenseBoundaries:ue.pendingSuspenseBoundaries,transitions:ue.transitions},M.updateQueue.baseState=ee,M.memoizedState=ee,M.flags&256){Y=G(Error(n(423)),M),M=on(_,M,V,O,Y);break e}else if(V!==Y){Y=G(Error(n(424)),M),M=on(_,M,V,O,Y);break e}else for(xr=Li(M.stateNode.containerInfo.firstChild),rr=M,Mn=!0,Zr=null,O=Ys(M,null,V,O),M.child=O;O;)O.flags=O.flags&-3|4096,O=O.sibling;else{if(sa(),V===Y){M=za(_,M,O);break e}bt(_,M,V,O)}M=M.child}return M;case 5:return Ba(M),_===null&&tl(M),V=M.type,Y=M.pendingProps,ee=_!==null?_.memoizedProps:null,ue=Y.children,Ll(V,Y)?ue=null:ee!==null&&Ll(V,ee)&&(M.flags|=32),Ze(_,M),bt(_,M,ue,O),M.child;case 6:return _===null&&tl(M),null;case 13:return Hi(_,M,O);case 4:return eo(M,M.stateNode.containerInfo),V=M.pendingProps,_===null?M.child=Oa(M,null,V,O):bt(_,M,V,O),M.child;case 11:return V=M.type,Y=M.pendingProps,Y=M.elementType===V?Y:Jr(V,Y),sr(_,M,V,Y,O);case 7:return bt(_,M,M.pendingProps,O),M.child;case 8:return bt(_,M,M.pendingProps.children,O),M.child;case 12:return bt(_,M,M.pendingProps.children,O),M.child;case 10:e:{if(V=M.type._context,Y=M.pendingProps,ee=M.memoizedProps,ue=Y.value,vn(Da,V._currentValue),V._currentValue=ue,ee!==null)if(Dr(ee.value,ue)){if(ee.children===Y.children&&!yr.current){M=za(_,M,O);break e}}else for(ee=M.child,ee!==null&&(ee.return=M);ee!==null;){var be=ee.dependencies;if(be!==null){ue=ee.child;for(var Te=be.firstContext;Te!==null;){if(Te.context===V){if(ee.tag===1){Te=gn(-1,O&-O),Te.tag=2;var Ge=ee.updateQueue;if(Ge!==null){Ge=Ge.shared;var lt=Ge.pending;lt===null?Te.next=Te:(Te.next=lt.next,lt.next=Te),Ge.pending=Te}}ee.lanes|=O,Te=ee.alternate,Te!==null&&(Te.lanes|=O),Js(ee.return,O,M),be.lanes|=O;break}Te=Te.next}}else if(ee.tag===10)ue=ee.type===M.type?null:ee.child;else if(ee.tag===18){if(ue=ee.return,ue===null)throw Error(n(341));ue.lanes|=O,be=ue.alternate,be!==null&&(be.lanes|=O),Js(ue,O,M),ue=ee.sibling}else ue=ee.child;if(ue!==null)ue.return=ee;else for(ue=ee;ue!==null;){if(ue===M){ue=null;break}if(ee=ue.sibling,ee!==null){ee.return=ue.return,ue=ee;break}ue=ue.return}ee=ue}bt(_,M,Y.children,O),M=M.child}return M;case 9:return Y=M.type,V=M.pendingProps.children,oa(M,O),Y=Fr(Y),V=V(Y),M.flags|=1,bt(_,M,V,O),M.child;case 14:return V=M.type,Y=Jr(V,M.pendingProps),Y=Jr(V.type,Y),Vr(_,M,V,Y,O);case 15:return $e(_,M,M.type,M.pendingProps,O);case 17:return V=M.type,Y=M.pendingProps,Y=M.elementType===V?Y:Jr(V,Y),Fc(_,M),M.tag=1,lr(V)?(_=!0,Ca(M)):_=!1,oa(M,O),A(M,V,Y),$(M,V,Y,O),Zt(null,M,V,!0,_,O);case 19:return Nu(_,M,O);case 22:return Ie(_,M,O)}throw Error(n(156,M.tag))};function sh(_,M){return Ue(_,M)}function Ah(_,M,O,V){this.tag=_,this.key=O,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=M,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=V,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wi(_,M,O,V){return new Ah(_,M,O,V)}function Pu(_){return _=_.prototype,!(!_||!_.isReactComponent)}function Ch(_){if(typeof _=="function")return Pu(_)?1:0;if(_!=null){if(_=_.$$typeof,_===se)return 11;if(_===ce)return 14}return 2}function ws(_,M){var O=_.alternate;return O===null?(O=wi(_.tag,M,_.key,_.mode),O.elementType=_.elementType,O.type=_.type,O.stateNode=_.stateNode,O.alternate=_,_.alternate=O):(O.pendingProps=M,O.type=_.type,O.flags=0,O.subtreeFlags=0,O.deletions=null),O.flags=_.flags&14680064,O.childLanes=_.childLanes,O.lanes=_.lanes,O.child=_.child,O.memoizedProps=_.memoizedProps,O.memoizedState=_.memoizedState,O.updateQueue=_.updateQueue,M=_.dependencies,O.dependencies=M===null?null:{lanes:M.lanes,firstContext:M.firstContext},O.sibling=_.sibling,O.index=_.index,O.ref=_.ref,O}function Xc(_,M,O,V,Y,ee){var ue=2;if(V=_,typeof _=="function")Pu(_)&&(ue=1);else if(typeof _=="string")ue=5;else e:switch(_){case z:return po(O.children,Y,ee,M);case K:ue=8,Y|=8;break;case Q:return _=wi(12,O,M,Y|2),_.elementType=Q,_.lanes=ee,_;case le:return _=wi(13,O,M,Y),_.elementType=le,_.lanes=ee,_;case ne:return _=wi(19,O,M,Y),_.elementType=ne,_.lanes=ee,_;case ge:return Kc(O,Y,ee,M);default:if(typeof _=="object"&&_!==null)switch(_.$$typeof){case q:ue=10;break e;case H:ue=9;break e;case se:ue=11;break e;case ce:ue=14;break e;case fe:ue=16,V=null;break e}throw Error(n(130,_==null?_:typeof _,""))}return M=wi(ue,O,M,Y),M.elementType=_,M.type=V,M.lanes=ee,M}function po(_,M,O,V){return _=wi(7,_,V,M),_.lanes=O,_}function Kc(_,M,O,V){return _=wi(22,_,V,M),_.elementType=ge,_.lanes=O,_.stateNode={isHidden:!1},_}function Tu(_,M,O){return _=wi(6,_,null,M),_.lanes=O,_}function Au(_,M,O){return M=wi(4,_.children!==null?_.children:[],_.key,M),M.lanes=O,M.stateNode={containerInfo:_.containerInfo,pendingChildren:null,implementation:_.implementation},M}function Rh(_,M,O,V,Y){this.tag=M,this.containerInfo=_,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ha(0),this.expirationTimes=Ha(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ha(0),this.identifierPrefix=V,this.onRecoverableError=Y,this.mutableSourceEagerHydrationData=null}function Cu(_,M,O,V,Y,ee,ue,be,Te){return _=new Rh(_,M,O,be,Te),M===1?(M=1,ee===!0&&(M|=8)):M=0,ee=wi(3,null,null,M),_.current=ee,ee.stateNode=_,ee.memoizedState={element:V,isDehydrated:O,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qt(ee),_}function Ih(_,M,O){var V=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:V==null?null:""+V,children:_,containerInfo:M,implementation:O}}function oh(_){if(!_)return Ni;_=_._reactInternals;e:{if(Pi(_)!==_||_.tag!==1)throw Error(n(170));var M=_;do{switch(M.tag){case 3:M=M.stateNode.context;break e;case 1:if(lr(M.type)){M=M.stateNode.__reactInternalMemoizedMergedChildContext;break e}}M=M.return}while(M!==null);throw Error(n(171))}if(_.tag===1){var O=_.type;if(lr(O))return qs(_,O,M)}return M}function lh(_,M,O,V,Y,ee,ue,be,Te){return _=Cu(O,V,!0,_,Y,ee,ue,be,Te),_.context=oh(null),O=_.current,V=Ur(),Y=Ss(O),ee=gn(V,Y),ee.callback=M??null,An(O,ee,Y),_.current.lanes=Y,Ts(_,Y,V),ei(_,V),_}function Yc(_,M,O,V){var Y=M.current,ee=Ur(),ue=Ss(Y);return O=oh(O),M.context===null?M.context=O:M.pendingContext=O,M=gn(ee,ue),M.payload={element:_},V=V===void 0?null:V,V!==null&&(M.callback=V),_=An(Y,M,ue),_!==null&&(Ki(_,Y,ue,ee),cr(_,Y,ue)),ue}function Zc(_){if(_=_.current,!_.child)return null;switch(_.child.tag){case 5:return _.child.stateNode;default:return _.child.stateNode}}function ch(_,M){if(_=_.memoizedState,_!==null&&_.dehydrated!==null){var O=_.retryLane;_.retryLane=O!==0&&O<M?O:M}}function Ru(_,M){ch(_,M),(_=_.alternate)&&ch(_,M)}function Oh(){return null}var uh=typeof reportError=="function"?reportError:function(_){console.error(_)};function Iu(_){this._internalRoot=_}Jc.prototype.render=Iu.prototype.render=function(_){var M=this._internalRoot;if(M===null)throw Error(n(409));Yc(_,M,null,null)},Jc.prototype.unmount=Iu.prototype.unmount=function(){var _=this._internalRoot;if(_!==null){this._internalRoot=null;var M=_.containerInfo;uo(function(){Yc(null,_,null,null)}),M[Nr]=null}};function Jc(_){this._internalRoot=_}Jc.prototype.unstable_scheduleHydration=function(_){if(_){var M=vo();_={blockedOn:null,target:_,priority:M};for(var O=0;O<Ji.length&&M!==0&&M<Ji[O].priority;O++);Ji.splice(O,0,_),O===0&&bo(_)}};function Ou(_){return!(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)}function Qc(_){return!(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11&&(_.nodeType!==8||_.nodeValue!==" react-mount-point-unstable "))}function hh(){}function Dh(_,M,O,V,Y){if(Y){if(typeof V=="function"){var ee=V;V=function(){var Ge=Zc(ue);ee.call(Ge)}}var ue=lh(M,V,_,0,null,!1,!1,"",hh);return _._reactRootContainer=ue,_[Nr]=ue.current,ls(_.nodeType===8?_.parentNode:_),uo(),ue}for(;Y=_.lastChild;)_.removeChild(Y);if(typeof V=="function"){var be=V;V=function(){var Ge=Zc(Te);be.call(Ge)}}var Te=Cu(_,0,!1,null,null,!1,!1,"",hh);return _._reactRootContainer=Te,_[Nr]=Te.current,ls(_.nodeType===8?_.parentNode:_),uo(function(){Yc(M,Te,O,V)}),Te}function eu(_,M,O,V,Y){var ee=O._reactRootContainer;if(ee){var ue=ee;if(typeof Y=="function"){var be=Y;Y=function(){var Te=Zc(ue);be.call(Te)}}Yc(M,ue,_,Y)}else ue=Dh(O,M,_,Y,V);return Zc(ue)}As=function(_){switch(_.tag){case 3:var M=_.stateNode;if(M.current.memoizedState.isDehydrated){var O=wn(M.pendingLanes);O!==0&&(Wa(M,O|1),ei(M,Et()),(fn&6)===0&&(dl=Et()+500,xi()))}break;case 13:uo(function(){var V=oi(_,1);if(V!==null){var Y=Ur();Ki(V,_,1,Y)}}),Ru(_,1)}},gl=function(_){if(_.tag===13){var M=oi(_,134217728);if(M!==null){var O=Ur();Ki(M,_,134217728,O)}Ru(_,134217728)}},uc=function(_){if(_.tag===13){var M=Ss(_),O=oi(_,M);if(O!==null){var V=Ur();Ki(O,_,M,V)}Ru(_,M)}},vo=function(){return un},xo=function(_,M){var O=un;try{return un=_,M()}finally{un=O}},yt=function(_,M,O){switch(M){case"input":if(rt(_,O),M=O.name,O.type==="radio"&&M!=null){for(O=_;O.parentNode;)O=O.parentNode;for(O=O.querySelectorAll("input[name="+JSON.stringify(""+M)+'][type="radio"]'),M=0;M<O.length;M++){var V=O[M];if(V!==_&&V.form===_.form){var Y=Yo(V);if(!Y)throw Error(n(90));de(V),rt(V,Y)}}}break;case"textarea":Ve(_,O);break;case"select":M=O.value,M!=null&&me(_,!!O.multiple,M,!1)}},Bt=Eu,tn=uo;var Lh={usingClientEntryPoint:!1,Events:[ki,Bn,Yo,at,gt,Eu]},cc={findFiberByHostInstance:aa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kh={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(_){return _=We(_),_===null?null:_.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||Oh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tu.isDisabled&&tu.supportsFiber)try{Fn=tu.inject(kh),Lt=tu}catch{}}return reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lh,reactDom_production_min.createPortal=function(_,M){var O=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ou(M))throw Error(n(200));return Ih(_,M,null,O)},reactDom_production_min.createRoot=function(_,M){if(!Ou(_))throw Error(n(299));var O=!1,V="",Y=uh;return M!=null&&(M.unstable_strictMode===!0&&(O=!0),M.identifierPrefix!==void 0&&(V=M.identifierPrefix),M.onRecoverableError!==void 0&&(Y=M.onRecoverableError)),M=Cu(_,1,!1,null,null,O,!1,V,Y),_[Nr]=M.current,ls(_.nodeType===8?_.parentNode:_),new Iu(M)},reactDom_production_min.findDOMNode=function(_){if(_==null)return null;if(_.nodeType===1)return _;var M=_._reactInternals;if(M===void 0)throw typeof _.render=="function"?Error(n(188)):(_=Object.keys(_).join(","),Error(n(268,_)));return _=We(M),_=_===null?null:_.stateNode,_},reactDom_production_min.flushSync=function(_){return uo(_)},reactDom_production_min.hydrate=function(_,M,O){if(!Qc(M))throw Error(n(200));return eu(null,_,M,!0,O)},reactDom_production_min.hydrateRoot=function(_,M,O){if(!Ou(_))throw Error(n(405));var V=O!=null&&O.hydratedSources||null,Y=!1,ee="",ue=uh;if(O!=null&&(O.unstable_strictMode===!0&&(Y=!0),O.identifierPrefix!==void 0&&(ee=O.identifierPrefix),O.onRecoverableError!==void 0&&(ue=O.onRecoverableError)),M=lh(M,null,_,1,O??null,Y,!1,ee,ue),_[Nr]=M.current,ls(_),V)for(_=0;_<V.length;_++)O=V[_],Y=O._getVersion,Y=Y(O._source),M.mutableSourceEagerHydrationData==null?M.mutableSourceEagerHydrationData=[O,Y]:M.mutableSourceEagerHydrationData.push(O,Y);return new Jc(M)},reactDom_production_min.render=function(_,M,O){if(!Qc(M))throw Error(n(200));return eu(null,_,M,!1,O)},reactDom_production_min.unmountComponentAtNode=function(_){if(!Qc(_))throw Error(n(40));return _._reactRootContainer?(uo(function(){eu(null,null,_,!1,function(){_._reactRootContainer=null,_[Nr]=null})}),!0):!1},reactDom_production_min.unstable_batchedUpdates=Eu,reactDom_production_min.unstable_renderSubtreeIntoContainer=function(_,M,O,V){if(!Qc(O))throw Error(n(200));if(_==null||_._reactInternals===void 0)throw Error(n(38));return eu(_,M,O,!1,V)},reactDom_production_min.version="18.3.1-next-f1338f8080-20240426",reactDom_production_min}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),reactDom.exports=requireReactDom_production_min(),reactDom.exports}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client;hasRequiredClient=1;var t=requireReactDom();return client.createRoot=t.createRoot,client.hydrateRoot=t.hydrateRoot,client}var clientExports=requireClient();requireReactDom();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$s(){return _extends$s=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$s.apply(this,arguments)}var Action;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(t){t===void 0&&(t={});function e(o,l){let{pathname:u,search:h,hash:f}=o.location;return createLocation("",{pathname:u,search:h,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(o,l){return typeof l=="string"?l:createPath(l)}return getUrlBasedHistory(e,n,null,t)}function invariant$2(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function warning(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(t,e){return{usr:t.state,key:t.key,idx:e}}function createLocation(t,e,n,o){return n===void 0&&(n=null),_extends$s({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?parsePath(e):e,{state:n,key:e&&e.key||o||createKey()})}function createPath(t){let{pathname:e="/",search:n="",hash:o=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),o&&o!=="#"&&(e+=o.charAt(0)==="#"?o:"#"+o),e}function parsePath(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let o=t.indexOf("?");o>=0&&(e.search=t.substr(o),t=t.substr(0,o)),t&&(e.pathname=t)}return e}function getUrlBasedHistory(t,e,n,o){o===void 0&&(o={});let{window:l=document.defaultView,v5Compat:u=!1}=o,h=l.history,f=Action.Pop,d=null,p=m();p==null&&(p=0,h.replaceState(_extends$s({},h.state,{idx:p}),""));function m(){return(h.state||{idx:null}).idx}function v(){f=Action.Pop;let w=m(),R=w==null?null:w-p;p=w,d&&d({action:f,location:C.location,delta:R})}function b(w,R){f=Action.Push;let L=createLocation(C.location,w,R);p=m()+1;let N=getHistoryState(L,p),F=C.createHref(L);try{h.pushState(N,"",F)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;l.location.assign(F)}u&&d&&d({action:f,location:C.location,delta:1})}function S(w,R){f=Action.Replace;let L=createLocation(C.location,w,R);p=m();let N=getHistoryState(L,p),F=C.createHref(L);h.replaceState(N,"",F),u&&d&&d({action:f,location:C.location,delta:0})}function T(w){let R=l.location.origin!=="null"?l.location.origin:l.location.href,L=typeof w=="string"?w:createPath(w);return L=L.replace(/ $/,"%20"),invariant$2(R,"No window.location.(origin|href) available to create URL for href: "+L),new URL(L,R)}let C={get action(){return f},get location(){return t(l,h)},listen(w){if(d)throw new Error("A history only accepts one active listener");return l.addEventListener(PopStateEventType,v),d=w,()=>{l.removeEventListener(PopStateEventType,v),d=null}},createHref(w){return e(l,w)},createURL:T,encodeLocation(w){let R=T(w);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:b,replace:S,go(w){return h.go(w)}};return C}var ResultType;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ResultType||(ResultType={}));function matchRoutes(t,e,n){return n===void 0&&(n="/"),matchRoutesImpl(t,e,n)}function matchRoutesImpl(t,e,n,o){let l=typeof e=="string"?parsePath(e):e,u=stripBasename(l.pathname||"/",n);if(u==null)return null;let h=flattenRoutes(t);rankRouteBranches(h);let f=null;for(let d=0;f==null&&d<h.length;++d){let p=decodePath(u);f=matchRouteBranch(h[d],p)}return f}function flattenRoutes(t,e,n,o){e===void 0&&(e=[]),n===void 0&&(n=[]),o===void 0&&(o="");let l=(u,h,f)=>{let d={relativePath:f===void 0?u.path||"":f,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};d.relativePath.startsWith("/")&&(invariant$2(d.relativePath.startsWith(o),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(o.length));let p=joinPaths([o,d.relativePath]),m=n.concat(d);u.children&&u.children.length>0&&(invariant$2(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),flattenRoutes(u.children,e,m,p)),!(u.path==null&&!u.index)&&e.push({path:p,score:computeScore(p,u.index),routesMeta:m})};return t.forEach((u,h)=>{var f;if(u.path===""||!((f=u.path)!=null&&f.includes("?")))l(u,h);else for(let d of explodeOptionalSegments(u.path))l(u,h,d)}),e}function explodeOptionalSegments(t){let e=t.split("/");if(e.length===0)return[];let[n,...o]=e,l=n.endsWith("?"),u=n.replace(/\?$/,"");if(o.length===0)return l?[u,""]:[u];let h=explodeOptionalSegments(o.join("/")),f=[];return f.push(...h.map(d=>d===""?u:[u,d].join("/"))),l&&f.push(...h),f.map(d=>t.startsWith("/")&&d===""?"/":d)}function rankRouteBranches(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:compareIndexes(e.routesMeta.map(o=>o.childrenIndex),n.routesMeta.map(o=>o.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=t=>t==="*";function computeScore(t,e){let n=t.split("/"),o=n.length;return n.some(isSplat)&&(o+=splatPenalty),e&&(o+=indexRouteValue),n.filter(l=>!isSplat(l)).reduce((l,u)=>l+(paramRe.test(u)?dynamicSegmentValue:u===""?emptySegmentValue:staticSegmentValue),o)}function compareIndexes(t,e){return t.length===e.length&&t.slice(0,-1).every((o,l)=>o===e[l])?t[t.length-1]-e[e.length-1]:0}function matchRouteBranch(t,e,n){let{routesMeta:o}=t,l={},u="/",h=[];for(let f=0;f<o.length;++f){let d=o[f],p=f===o.length-1,m=u==="/"?e:e.slice(u.length)||"/",v=matchPath({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},m),b=d.route;if(!v)return null;Object.assign(l,v.params),h.push({params:l,pathname:joinPaths([u,v.pathname]),pathnameBase:normalizePathname(joinPaths([u,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(u=joinPaths([u,v.pathnameBase]))}return h}function matchPath(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,o]=compilePath(t.path,t.caseSensitive,t.end),l=e.match(n);if(!l)return null;let u=l[0],h=u.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:o.reduce((p,m,v)=>{let{paramName:b,isOptional:S}=m;if(b==="*"){let C=f[v]||"";h=u.slice(0,u.length-C.length).replace(/(.)\/+$/,"$1")}const T=f[v];return S&&!T?p[b]=void 0:p[b]=(T||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:h,pattern:t}}function compilePath(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),warning(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let o=[],l="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,f,d)=>(o.push({paramName:f,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(o.push({paramName:"*"}),l+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":t!==""&&t!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),o]}function decodePath(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return warning(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function stripBasename(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,o=t.charAt(n);return o&&o!=="/"?null:t.slice(n)||"/"}function resolvePath(t,e){e===void 0&&(e="/");let{pathname:n,search:o="",hash:l=""}=typeof t=="string"?parsePath(t):t;return{pathname:n?n.startsWith("/")?n:resolvePathname(n,e):e,search:normalizeSearch(o),hash:normalizeHash(l)}}function resolvePathname(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function getInvalidPathError(t,e,n,o){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function getResolveToMatches(t,e){let n=getPathContributingMatches(t);return e?n.map((o,l)=>l===n.length-1?o.pathname:o.pathnameBase):n.map(o=>o.pathnameBase)}function resolveTo(t,e,n,o){o===void 0&&(o=!1);let l;typeof t=="string"?l=parsePath(t):(l=_extends$s({},t),invariant$2(!l.pathname||!l.pathname.includes("?"),getInvalidPathError("?","pathname","search",l)),invariant$2(!l.pathname||!l.pathname.includes("#"),getInvalidPathError("#","pathname","hash",l)),invariant$2(!l.search||!l.search.includes("#"),getInvalidPathError("#","search","hash",l)));let u=t===""||l.pathname==="",h=u?"/":l.pathname,f;if(h==null)f=n;else{let v=e.length-1;if(!o&&h.startsWith("..")){let b=h.split("/");for(;b[0]==="..";)b.shift(),v-=1;l.pathname=b.join("/")}f=v>=0?e[v]:"/"}let d=resolvePath(l,f),p=h&&h!=="/"&&h.endsWith("/"),m=(u||h===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||m)&&(d.pathname+="/"),d}const joinPaths=t=>t.join("/").replace(/\/\/+/g,"/"),normalizePathname=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,normalizeHash=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function isRouteErrorResponse(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$r(){return _extends$r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$r.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(t,e){let{relative:n}=e===void 0?{}:e;useInRouterContext()||invariant$2(!1);let{basename:o,navigator:l}=reactExports.useContext(NavigationContext),{hash:u,pathname:h,search:f}=useResolvedPath(t,{relative:n}),d=h;return o!=="/"&&(d=h==="/"?o:joinPaths([o,h])),l.createHref({pathname:d,search:f,hash:u})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$2(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect$3(t){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(t)}function useNavigate(){let{isDataRoute:t}=reactExports.useContext(RouteContext);return t?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant$2(!1);let t=reactExports.useContext(DataRouterContext),{basename:e,future:n,navigator:o}=reactExports.useContext(NavigationContext),{matches:l}=reactExports.useContext(RouteContext),{pathname:u}=useLocation(),h=JSON.stringify(getResolveToMatches(l,n.v7_relativeSplatPath)),f=reactExports.useRef(!1);return useIsomorphicLayoutEffect$3(()=>{f.current=!0}),reactExports.useCallback(function(p,m){if(m===void 0&&(m={}),!f.current)return;if(typeof p=="number"){o.go(p);return}let v=resolveTo(p,JSON.parse(h),u,m.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:joinPaths([e,v.pathname])),(m.replace?o.replace:o.push)(v,m.state,m)},[e,o,h,u,t])}const OutletContext=reactExports.createContext(null);function useOutlet(t){let e=reactExports.useContext(RouteContext).outlet;return e&&reactExports.createElement(OutletContext.Provider,{value:t},e)}function useResolvedPath(t,e){let{relative:n}=e===void 0?{}:e,{future:o}=reactExports.useContext(NavigationContext),{matches:l}=reactExports.useContext(RouteContext),{pathname:u}=useLocation(),h=JSON.stringify(getResolveToMatches(l,o.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(t,JSON.parse(h),u,n==="path"),[t,h,u,n])}function useRoutes(t,e){return useRoutesImpl(t,e)}function useRoutesImpl(t,e,n,o){useInRouterContext()||invariant$2(!1);let{navigator:l,static:u}=reactExports.useContext(NavigationContext),{matches:h}=reactExports.useContext(RouteContext),f=h[h.length-1],d=f?f.params:{};f&&f.pathname;let p=f?f.pathnameBase:"/";f&&f.route;let m=useLocation(),v;if(e){var b;let R=typeof e=="string"?parsePath(e):e;p==="/"||(b=R.pathname)!=null&&b.startsWith(p)||invariant$2(!1),v=R}else v=m;let S=v.pathname||"/",T=S;if(p!=="/"){let R=p.replace(/^\//,"").split("/");T="/"+S.replace(/^\//,"").split("/").slice(R.length).join("/")}let C=matchRoutes(t,{pathname:T}),w=_renderMatches(C&&C.map(R=>Object.assign({},R,{params:Object.assign({},d,R.params),pathname:joinPaths([p,l.encodeLocation?l.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?p:joinPaths([p,l.encodeLocation?l.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),h,n,o);return e&&w?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$r({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:Action.Pop}},w):w}function DefaultErrorComponent(){let t=useRouteError(),e=isRouteErrorResponse(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},e),n?reactExports.createElement("pre",{style:l},n):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(t){let{routeContext:e,match:n,children:o}=t,l=reactExports.useContext(DataRouterContext);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),reactExports.createElement(RouteContext.Provider,{value:e},o)}function _renderMatches(t,e,n,o){var l;if(e===void 0&&(e=[]),n===void 0&&(n=null),o===void 0&&(o=null),t==null){var u;if(!n)return null;if(n.errors)t=n.matches;else if((u=o)!=null&&u.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let h=t,f=(l=n)==null?void 0:l.errors;if(f!=null){let m=h.findIndex(v=>v.route.id&&(f==null?void 0:f[v.route.id])!==void 0);m>=0||invariant$2(!1),h=h.slice(0,Math.min(h.length,m+1))}let d=!1,p=-1;if(n&&o&&o.v7_partialHydration)for(let m=0;m<h.length;m++){let v=h[m];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=m),v.route.id){let{loaderData:b,errors:S}=n,T=v.route.loader&&b[v.route.id]===void 0&&(!S||S[v.route.id]===void 0);if(v.route.lazy||T){d=!0,p>=0?h=h.slice(0,p+1):h=[h[0]];break}}}return h.reduceRight((m,v,b)=>{let S,T=!1,C=null,w=null;n&&(S=f&&v.route.id?f[v.route.id]:void 0,C=v.route.errorElement||defaultErrorElement,d&&(p<0&&b===0?(warningOnce("route-fallback"),T=!0,w=null):p===b&&(T=!0,w=v.route.hydrateFallbackElement||null)));let R=e.concat(h.slice(0,b+1)),L=()=>{let N;return S?N=C:T?N=w:v.route.Component?N=reactExports.createElement(v.route.Component,null):v.route.element?N=v.route.element:N=m,reactExports.createElement(RenderedRoute,{match:v,routeContext:{outlet:m,matches:R,isDataRoute:n!=null},children:N})};return n&&(v.route.ErrorBoundary||v.route.errorElement||b===0)?reactExports.createElement(RenderErrorBoundary,{location:n.location,revalidation:n.revalidation,component:C,error:S,children:L(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):L()},null)}var DataRouterHook$1=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(DataRouterHook$1||{}),DataRouterStateHook$1=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(DataRouterStateHook$1||{});function useDataRouterContext(t){let e=reactExports.useContext(DataRouterContext);return e||invariant$2(!1),e}function useDataRouterState(t){let e=reactExports.useContext(DataRouterStateContext);return e||invariant$2(!1),e}function useRouteContext(t){let e=reactExports.useContext(RouteContext);return e||invariant$2(!1),e}function useCurrentRouteId(t){let e=useRouteContext(),n=e.matches[e.matches.length-1];return n.route.id||invariant$2(!1),n.route.id}function useRouteError(){var t;let e=reactExports.useContext(RouteErrorContext),n=useDataRouterState(),o=useCurrentRouteId();return e!==void 0?e:(t=n.errors)==null?void 0:t[o]}function useNavigateStable(){let{router:t}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),e=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),n=reactExports.useRef(!1);return useIsomorphicLayoutEffect$3(()=>{n.current=!0}),reactExports.useCallback(function(l,u){u===void 0&&(u={}),n.current&&(typeof l=="number"?t.navigate(l):t.navigate(l,_extends$r({fromRouteId:e},u)))},[t,e])}const alreadyWarned$1={};function warningOnce(t,e,n){alreadyWarned$1[t]||(alreadyWarned$1[t]=!0)}function logV6DeprecationWarnings(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Outlet(t){return useOutlet(t.context)}function Route(t){invariant$2(!1)}function Router(t){let{basename:e="/",children:n=null,location:o,navigationType:l=Action.Pop,navigator:u,static:h=!1,future:f}=t;useInRouterContext()&&invariant$2(!1);let d=e.replace(/^\/*/,"/"),p=reactExports.useMemo(()=>({basename:d,navigator:u,static:h,future:_extends$r({v7_relativeSplatPath:!1},f)}),[d,f,u,h]);typeof o=="string"&&(o=parsePath(o));let{pathname:m="/",search:v="",hash:b="",state:S=null,key:T="default"}=o,C=reactExports.useMemo(()=>{let w=stripBasename(m,d);return w==null?null:{location:{pathname:w,search:v,hash:b,state:S,key:T},navigationType:l}},[d,m,v,b,S,T,l]);return C==null?null:reactExports.createElement(NavigationContext.Provider,{value:p},reactExports.createElement(LocationContext.Provider,{children:n,value:C}))}function Routes(t){let{children:e,location:n}=t;return useRoutes(createRoutesFromChildren(e),n)}new Promise(()=>{});function createRoutesFromChildren(t,e){e===void 0&&(e=[]);let n=[];return reactExports.Children.forEach(t,(o,l)=>{if(!reactExports.isValidElement(o))return;let u=[...e,l];if(o.type===reactExports.Fragment){n.push.apply(n,createRoutesFromChildren(o.props.children,u));return}o.type!==Route&&invariant$2(!1),!o.props.index||!o.props.children||invariant$2(!1);let h={id:o.props.id||u.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(h.children=createRoutesFromChildren(o.props.children,u)),n.push(h)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$q(){return _extends$q=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$q.apply(this,arguments)}function _objectWithoutPropertiesLoose$g(t,e){if(t==null)return{};var n={},o=Object.keys(t),l,u;for(u=0;u<o.length;u++)l=o[u],!(e.indexOf(l)>=0)&&(n[l]=t[l]);return n}function isModifiedEvent(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function shouldProcessLinkClick(t,e){return t.button===0&&(!e||e==="_self")&&!isModifiedEvent(t)}const _excluded$g=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=React$1[START_TRANSITION];function BrowserRouter(t){let{basename:e,children:n,future:o,window:l}=t,u=reactExports.useRef();u.current==null&&(u.current=createBrowserHistory({window:l,v5Compat:!0}));let h=u.current,[f,d]=reactExports.useState({action:h.action,location:h.location}),{v7_startTransition:p}=o||{},m=reactExports.useCallback(v=>{p&&startTransitionImpl?startTransitionImpl(()=>d(v)):d(v)},[d,p]);return reactExports.useLayoutEffect(()=>h.listen(m),[h,m]),reactExports.useEffect(()=>logV6DeprecationWarnings(o),[o]),reactExports.createElement(Router,{basename:e,children:n,location:f.location,navigationType:f.action,navigator:h,future:o})}const isBrowser$1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function(e,n){let{onClick:o,relative:l,reloadDocument:u,replace:h,state:f,target:d,to:p,preventScrollReset:m,viewTransition:v}=e,b=_objectWithoutPropertiesLoose$g(e,_excluded$g),{basename:S}=reactExports.useContext(NavigationContext),T,C=!1;if(typeof p=="string"&&ABSOLUTE_URL_REGEX.test(p)&&(T=p,isBrowser$1))try{let N=new URL(window.location.href),F=p.startsWith("//")?new URL(N.protocol+p):new URL(p),B=stripBasename(F.pathname,S);F.origin===N.origin&&B!=null?p=B+F.search+F.hash:C=!0}catch{}let w=useHref(p,{relative:l}),R=useLinkClickHandler(p,{replace:h,state:f,target:d,preventScrollReset:m,relative:l,viewTransition:v});function L(N){o&&o(N),N.defaultPrevented||R(N)}return reactExports.createElement("a",_extends$q({},b,{href:T||w,onClick:C||u?o:L,ref:n,target:d}))});var DataRouterHook;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(t,e){let{target:n,replace:o,state:l,preventScrollReset:u,relative:h,viewTransition:f}=e===void 0?{}:e,d=useNavigate(),p=useLocation(),m=useResolvedPath(t,{relative:h});return reactExports.useCallback(v=>{if(shouldProcessLinkClick(v,n)){v.preventDefault();let b=o!==void 0?o:createPath(p)===createPath(m);d(t,{replace:b,state:l,preventScrollReset:u,relative:h,viewTransition:f})}},[p,d,m,o,l,n,t,u,h,f])}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),createLucideIcon=(t,e)=>{const n=reactExports.forwardRef(({color:o="currentColor",size:l=24,strokeWidth:u=2,absoluteStrokeWidth:h,className:f="",children:d,...p},m)=>reactExports.createElement("svg",{ref:m,...defaultAttributes,width:l,height:l,stroke:o,strokeWidth:h?Number(u)*24/Number(l):u,className:["lucide",`lucide-${toKebabCase(t)}`,f].join(" "),...p},[...e.map(([v,b])=>reactExports.createElement(v,b)),...Array.isArray(d)?d:[d]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AlertTriangle=createLucideIcon("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AreaChart=createLucideIcon("AreaChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M7 12v5h12V8l-5 5-4-4Z",key:"zxz28u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowLeft=createLucideIcon("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowRightCircle=createLucideIcon("ArrowRightCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"m12 16 4-4-4-4",key:"1i9zcv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowRight=createLucideIcon("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowUpRight=createLucideIcon("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BarChart2=createLucideIcon("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BarChart3=createLucideIcon("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BarChart$1=createLucideIcon("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BookOpen=createLucideIcon("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BrainCircuit=createLucideIcon("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bug=createLucideIcon("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Check=createLucideIcon("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronLeft=createLucideIcon("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronRight=createLucideIcon("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CloudRain=createLucideIcon("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cpu=createLucideIcon("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Database=createLucideIcon("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Droplet=createLucideIcon("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Droplets=createLucideIcon("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HelpCircle=createLucideIcon("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Home=createLucideIcon("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Info=createLucideIcon("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Instagram=createLucideIcon("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Leaf=createLucideIcon("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lightbulb=createLucideIcon("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LineChart=createLucideIcon("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Linkedin=createLucideIcon("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mail=createLucideIcon("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Maximize=createLucideIcon("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Menu=createLucideIcon("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pause=createLucideIcon("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PenTool=createLucideIcon("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Play=createLucideIcon("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RotateCcw=createLucideIcon("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ruler=createLucideIcon("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Satellite=createLucideIcon("Satellite",[["path",{d:"M13 7 9 3 5 7l4 4",key:"vyckw6"}],["path",{d:"m17 11 4 4-4 4-4-4",key:"rchckc"}],["path",{d:"m8 12 4 4 6-6-4-4Z",key:"1sshf7"}],["path",{d:"m16 8 3-3",key:"x428zp"}],["path",{d:"M9 21a6 6 0 0 0-6-6",key:"1iajcf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Scaling=createLucideIcon("Scaling",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M14 15H9v-5",key:"pi4jk9"}],["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M21 3 9 15",key:"15kdhq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Send=createLucideIcon("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Settings=createLucideIcon("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ShieldCheck=createLucideIcon("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sprout=createLucideIcon("Sprout",[["path",{d:"M7 20h10",key:"e6iznv"}],["path",{d:"M10 20c5.5-2.5.8-6.4 3-10",key:"161w41"}],["path",{d:"M9.5 9.4c1.1.8 1.8 2.2 2.3 3.7-2 .4-3.5.4-4.8-.3-1.2-.6-2.3-1.9-3-4.2 2.8-.5 4.4 0 5.5.8z",key:"9gtqwd"}],["path",{d:"M14.1 6a7 7 0 0 0-1.1 4c1.9-.1 3.3-.6 4.3-1.4 1-1 1.6-2.3 1.7-4.6-2.7.1-4 1-4.9 2z",key:"bkxnd2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Thermometer=createLucideIcon("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Twitter=createLucideIcon("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Video=createLucideIcon("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Volume2=createLucideIcon("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VolumeX=createLucideIcon("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wind=createLucideIcon("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$1=createLucideIcon("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZoomIn=createLucideIcon("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZoomOut=createLucideIcon("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),navItems=[{name:"Início",path:"/"},{name:"O que é Yield Gap",path:"/what-is-yield-gap"},{name:"Evolução Histórica",path:"/historical-evolution"},{name:"Ferramentas",path:"/tools-for-yield-gap"},{name:"Soluções",path:"/solve-yield-gap"},{name:"Mapa",path:"/mapa"}],Navbar=()=>{const[t,e]=reactExports.useState(!1),[n,o]=reactExports.useState(!1),l=useLocation();return reactExports.useEffect(()=>{const u=()=>{o(window.scrollY>20)};return window.addEventListener("scroll",u),()=>window.removeEventListener("scroll",u)},[]),reactExports.useEffect(()=>{e(!1)},[l]),jsxRuntimeExports.jsx("nav",{className:`fixed w-full z-50 transition-all duration-300 ${n?"bg-white shadow-md py-2":"bg-transparent py-4"}`,children:jsxRuntimeExports.jsxs("div",{className:"container-custom",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs(Link,{to:"/",className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Leaf,{size:28,className:"text-primary-600"}),jsxRuntimeExports.jsx("span",{className:"text-xl font-semibold text-primary-800",children:"FlowCot"})]}),jsxRuntimeExports.jsx("div",{className:"hidden lg:flex items-center space-x-6",children:navItems.map(u=>jsxRuntimeExports.jsx(Link,{to:u.path,className:`text-sm font-medium transition-colors ${l.pathname===u.path?"text-primary-600 border-b-2 border-primary-600":n?"text-gray-700 hover:text-primary-600":"text-gray-800 hover:text-primary-600"}`,children:u.name},u.path))}),jsxRuntimeExports.jsx("button",{className:"lg:hidden text-gray-700 focus:outline-none",onClick:()=>e(!t),children:t?jsxRuntimeExports.jsx(X$1,{size:24}):jsxRuntimeExports.jsx(Menu,{size:24})})]}),t&&jsxRuntimeExports.jsx("div",{className:"lg:hidden mt-4 bg-white rounded-md shadow-lg py-4 px-2 absolute left-4 right-4",children:jsxRuntimeExports.jsx("div",{className:"flex flex-col space-y-3",children:navItems.map(u=>jsxRuntimeExports.jsx(Link,{to:u.path,className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${l.pathname===u.path?"bg-primary-50 text-primary-600":"text-gray-700 hover:bg-gray-50 hover:text-primary-600"}`,children:u.name},u.path))})})]})})},Footer=()=>jsxRuntimeExports.jsx("footer",{className:"bg-gray-900 text-white",children:jsxRuntimeExports.jsxs("div",{className:"container-custom py-12",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[jsxRuntimeExports.jsx(Leaf,{size:24,className:"text-primary-400"}),jsxRuntimeExports.jsx("span",{className:"text-xl font-semibold",children:"AlgodãoTech"})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mb-4",children:"Disseminando conhecimento e oferecendo soluções para a redução do yield gap na cotonicultura brasileira."}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-4 text-gray-400",children:[jsxRuntimeExports.jsx("a",{href:"#",className:"hover:text-primary-400 transition-colors",children:jsxRuntimeExports.jsx(Instagram,{size:20})}),jsxRuntimeExports.jsx("a",{href:"#",className:"hover:text-primary-400 transition-colors",children:jsxRuntimeExports.jsx(Linkedin,{size:20})}),jsxRuntimeExports.jsx("a",{href:"#",className:"hover:text-primary-400 transition-colors",children:jsxRuntimeExports.jsx(Twitter,{size:20})})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-white text-lg font-semibold mb-4",children:"Navegação"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-2",children:[jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link,{to:"/",className:"text-gray-400 hover:text-primary-400 transition-colors",children:"Início"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link,{to:"/what-is-yield-gap",className:"text-gray-400 hover:text-primary-400 transition-colors",children:"O que é Yield Gap"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link,{to:"/historical-evolution",className:"text-gray-400 hover:text-primary-400 transition-colors",children:"Evolução Histórica"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link,{to:"/tools-for-yield-gap",className:"text-gray-400 hover:text-primary-400 transition-colors",children:"Ferramentas"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link,{to:"/solve-yield-gap",className:"text-gray-400 hover:text-primary-400 transition-colors",children:"Soluções"})})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-white text-lg font-semibold mb-4",children:"Recursos"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-2",children:[jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link,{to:"/minecraft-yield-gap",className:"text-gray-400 hover:text-primary-400 transition-colors",children:"Minecraft e o Yield Gap"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link,{to:"/steps-to-avoid",className:"text-gray-400 hover:text-primary-400 transition-colors",children:"Passos Práticos"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("a",{href:"#",className:"text-gray-400 hover:text-primary-400 transition-colors",children:"FAQ"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("a",{href:"#",className:"text-gray-400 hover:text-primary-400 transition-colors",children:"Blog"})})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-white text-lg font-semibold mb-4",children:"Contato"}),jsxRuntimeExports.jsx("div",{className:"space-y-3 text-gray-400",children:jsxRuntimeExports.jsxs("p",{className:"flex items-center",children:[jsxRuntimeExports.jsx(Mail,{size:18,className:"mr-2"}),jsxRuntimeExports.jsx("a",{href:"mailto:contato@algodaotech.com.br",className:"hover:text-primary-400 transition-colors",children:"contato@algodaotech.com.br"})]})}),jsxRuntimeExports.jsx("div",{className:"mt-6",children:jsxRuntimeExports.jsx(Link,{to:"/about-us",className:"btn btn-outline text-primary-400 border-primary-400 hover:bg-primary-400 hover:text-white text-sm px-4 py-2",children:"Sobre Nós"})})]})]}),jsxRuntimeExports.jsx("div",{className:"border-t border-gray-800 mt-12 pt-6 text-center text-gray-500 text-sm",children:jsxRuntimeExports.jsxs("p",{children:["© ",new Date().getFullYear()," AlgodãoTech. Todos os direitos reservados."]})})]})}),MotionConfigContext=reactExports.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),MotionContext=reactExports.createContext({}),PresenceContext=reactExports.createContext(null),isBrowser=typeof document<"u",useIsomorphicLayoutEffect$2=isBrowser?reactExports.useLayoutEffect:reactExports.useEffect,LazyContext=reactExports.createContext({strict:!1}),camelToDash=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId);function useVisualElement(t,e,n,o){const{visualElement:l}=reactExports.useContext(MotionContext),u=reactExports.useContext(LazyContext),h=reactExports.useContext(PresenceContext),f=reactExports.useContext(MotionConfigContext).reducedMotion,d=reactExports.useRef();o=o||u.renderer,!d.current&&o&&(d.current=o(t,{visualState:e,parent:l,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:f}));const p=d.current;reactExports.useInsertionEffect(()=>{p&&p.update(n,h)});const m=reactExports.useRef(!!(n[optimizedAppearDataAttribute]&&!window.HandoffComplete));return useIsomorphicLayoutEffect$2(()=>{p&&(p.render(),m.current&&p.animationState&&p.animationState.animateChanges())}),reactExports.useEffect(()=>{p&&(p.updateFeatures(),!m.current&&p.animationState&&p.animationState.animateChanges(),m.current&&(m.current=!1,window.HandoffComplete=!0))}),p}function isRefObject$1(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function useMotionRef(t,e,n){return reactExports.useCallback(o=>{o&&t.mount&&t.mount(o),e&&(o?e.mount(o):e.unmount()),n&&(typeof n=="function"?n(o):isRefObject$1(n)&&(n.current=o))},[e])}function isVariantLabel(t){return typeof t=="string"||Array.isArray(t)}function isAnimationControls(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(t){return isAnimationControls(t.animate)||variantProps.some(e=>isVariantLabel(t[e]))}function isVariantNode(t){return!!(isControllingVariants(t)||t.variants)}function getCurrentTreeVariants(t,e){if(isControllingVariants(t)){const{initial:n,animate:o}=t;return{initial:n===!1||isVariantLabel(n)?n:void 0,animate:isVariantLabel(o)?o:void 0}}return t.inherit!==!1?e:{}}function useCreateMotionContext(t){const{initial:e,animate:n}=getCurrentTreeVariants(t,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:e,animate:n}),[variantLabelsAsDependency(e),variantLabelsAsDependency(n)])}function variantLabelsAsDependency(t){return Array.isArray(t)?t.join(" "):t}const featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const t in featureProps)featureDefinitions[t]={isEnabled:e=>featureProps[t].some(n=>!!e[n])};function loadFeatures(t){for(const e in t)featureDefinitions[e]={...featureDefinitions[e],...t[e]}}const LayoutGroupContext=reactExports.createContext({}),SwitchLayoutGroupContext=reactExports.createContext({}),motionComponentSymbol=Symbol.for("motionComponentSymbol");function createMotionComponent({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:o,Component:l}){t&&loadFeatures(t);function u(f,d){let p;const m={...reactExports.useContext(MotionConfigContext),...f,layoutId:useLayoutId(f)},{isStatic:v}=m,b=useCreateMotionContext(f),S=o(f,v);if(!v&&isBrowser){b.visualElement=useVisualElement(l,S,m,e);const T=reactExports.useContext(SwitchLayoutGroupContext),C=reactExports.useContext(LazyContext).strict;b.visualElement&&(p=b.visualElement.loadFeatures(m,C,t,T))}return reactExports.createElement(MotionContext.Provider,{value:b},p&&b.visualElement?reactExports.createElement(p,{visualElement:b.visualElement,...m}):null,n(l,f,useMotionRef(S,b.visualElement,d),S,v,b.visualElement))}const h=reactExports.forwardRef(u);return h[motionComponentSymbol]=l,h}function useLayoutId({layoutId:t}){const e=reactExports.useContext(LayoutGroupContext).id;return e&&t!==void 0?e+"-"+t:t}function createMotionProxy(t){function e(o,l={}){return createMotionComponent(t(o,l))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(o,l)=>(n.has(l)||n.set(l,e(l)),n.get(l))})}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(t){return typeof t!="string"||t.includes("-")?!1:!!(lowercaseSVGElements.indexOf(t)>-1||/[A-Z]/.test(t))}const scaleCorrectors={};function addScaleCorrector(t){Object.assign(scaleCorrectors,t)}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder);function isForcedMotionValue(t,{layout:e,layoutId:n}){return transformProps.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!scaleCorrectors[t]||t==="opacity")}const isMotionValue=t=>!!(t&&t.getVelocity),translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},o,l){let u="";for(let h=0;h<numTransforms;h++){const f=transformPropOrder[h];if(t[f]!==void 0){const d=translateAlias[f]||f;u+=`${d}(${t[f]}) `}}return e&&!t.z&&(u+="translateZ(0)"),u=u.trim(),l?u=l(t,o?"":u):n&&o&&(u="none"),u}const checkStringStartsWith=t=>e=>typeof e=="string"&&e.startsWith(t),isCSSVariableName=checkStringStartsWith("--"),isCSSVariableToken=checkStringStartsWith("var(--"),cssVariableRegex=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,getValueAsType=(t,e)=>e&&typeof t=="number"?e.transform(t):t,clamp$1=(t,e,n)=>Math.min(Math.max(n,t),e),number$3={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},alpha$2={...number$3,transform:t=>clamp$1(0,1,t)},scale={...number$3,default:1},sanitize=t=>Math.round(t*1e5)/1e5,floatRegex=/(-)?([\d]*\.?[\d])+/g,colorRegex=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,singleColorRegex=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function isString$1(t){return typeof t=="string"}const createUnitType=t=>({test:e=>isString$1(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px$1=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:t=>percent.parse(t)/100,transform:t=>percent.transform(t*100)},int={...number$3,transform:Math.round},numberValueTypes={borderWidth:px$1,borderTopWidth:px$1,borderRightWidth:px$1,borderBottomWidth:px$1,borderLeftWidth:px$1,borderRadius:px$1,radius:px$1,borderTopLeftRadius:px$1,borderTopRightRadius:px$1,borderBottomRightRadius:px$1,borderBottomLeftRadius:px$1,width:px$1,maxWidth:px$1,height:px$1,maxHeight:px$1,size:px$1,top:px$1,right:px$1,bottom:px$1,left:px$1,padding:px$1,paddingTop:px$1,paddingRight:px$1,paddingBottom:px$1,paddingLeft:px$1,margin:px$1,marginTop:px$1,marginRight:px$1,marginBottom:px$1,marginLeft:px$1,rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px$1,translateX:px$1,translateY:px$1,translateZ:px$1,x:px$1,y:px$1,z:px$1,perspective:px$1,transformPerspective:px$1,opacity:alpha$2,originX:progressPercentage,originY:progressPercentage,originZ:px$1,zIndex:int,fillOpacity:alpha$2,strokeOpacity:alpha$2,numOctaves:int};function buildHTMLStyles(t,e,n,o){const{style:l,vars:u,transform:h,transformOrigin:f}=t;let d=!1,p=!1,m=!0;for(const v in e){const b=e[v];if(isCSSVariableName(v)){u[v]=b;continue}const S=numberValueTypes[v],T=getValueAsType(b,S);if(transformProps.has(v)){if(d=!0,h[v]=T,!m)continue;b!==(S.default||0)&&(m=!1)}else v.startsWith("origin")?(p=!0,f[v]=T):l[v]=T}if(e.transform||(d||o?l.transform=buildTransform(t.transform,n,m,o):l.transform&&(l.transform="none")),p){const{originX:v="50%",originY:b="50%",originZ:S=0}=f;l.transformOrigin=`${v} ${b} ${S}`}}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function copyRawValuesOnly(t,e,n){for(const o in e)!isMotionValue(e[o])&&!isForcedMotionValue(o,n)&&(t[o]=e[o])}function useInitialMotionValues({transformTemplate:t},e,n){return reactExports.useMemo(()=>{const o=createHtmlRenderState();return buildHTMLStyles(o,e,{enableHardwareAcceleration:!n},t),Object.assign({},o.vars,o.style)},[e])}function useStyle(t,e,n){const o=t.style||{},l={};return copyRawValuesOnly(l,o,t),Object.assign(l,useInitialMotionValues(t,e,n)),t.transformValues?t.transformValues(l):l}function useHTMLProps(t,e,n){const o={},l=useStyle(t,e,n);return t.drag&&t.dragListener!==!1&&(o.draggable=!1,l.userSelect=l.WebkitUserSelect=l.WebkitTouchCallout="none",l.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(o.tabIndex=0),o.style=l,o}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||validMotionProps.has(t)}let shouldForward=t=>!isValidMotionProp(t);function loadExternalIsValidProp(t){t&&(shouldForward=e=>e.startsWith("on")?!isValidMotionProp(e):t(e))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps$1(t,e,n){const o={};for(const l in t)l==="values"&&typeof t.values=="object"||(shouldForward(l)||n===!0&&isValidMotionProp(l)||!e&&!isValidMotionProp(l)||t.draggable&&l.startsWith("onDrag"))&&(o[l]=t[l]);return o}function calcOrigin$1(t,e,n){return typeof t=="string"?t:px$1.transform(e+n*t)}function calcSVGTransformOrigin(t,e,n){const o=calcOrigin$1(e,t.x,t.width),l=calcOrigin$1(n,t.y,t.height);return`${o} ${l}`}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(t,e,n=1,o=0,l=!0){t.pathLength=1;const u=l?dashKeys:camelKeys;t[u.offset]=px$1.transform(-o);const h=px$1.transform(e),f=px$1.transform(n);t[u.array]=`${h} ${f}`}function buildSVGAttrs(t,{attrX:e,attrY:n,attrScale:o,originX:l,originY:u,pathLength:h,pathSpacing:f=1,pathOffset:d=0,...p},m,v,b){if(buildHTMLStyles(t,p,m,b),v){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:S,style:T,dimensions:C}=t;S.transform&&(C&&(T.transform=S.transform),delete S.transform),C&&(l!==void 0||u!==void 0||T.transform)&&(T.transformOrigin=calcSVGTransformOrigin(C,l!==void 0?l:.5,u!==void 0?u:.5)),e!==void 0&&(S.x=e),n!==void 0&&(S.y=n),o!==void 0&&(S.scale=o),h!==void 0&&buildSVGPath(S,h,f,d,!1)}const createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=t=>typeof t=="string"&&t.toLowerCase()==="svg";function useSVGProps(t,e,n,o){const l=reactExports.useMemo(()=>{const u=createSvgRenderState();return buildSVGAttrs(u,e,{enableHardwareAcceleration:!1},isSVGTag(o),t.transformTemplate),{...u.attrs,style:{...u.style}}},[e]);if(t.style){const u={};copyRawValuesOnly(u,t.style,t),l.style={...u,...l.style}}return l}function createUseRender(t=!1){return(n,o,l,{latestValues:u},h)=>{const d=(isSVGComponent(n)?useSVGProps:useHTMLProps)(o,u,h,n),m={...filterProps$1(o,typeof n=="string",t),...d,ref:l},{children:v}=o,b=reactExports.useMemo(()=>isMotionValue(v)?v.get():v,[v]);return reactExports.createElement(n,{...m,children:b})}}function renderHTML(t,{style:e,vars:n},o,l){Object.assign(t.style,e,l&&l.getProjectionStyles(o));for(const u in n)t.style.setProperty(u,n[u])}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(t,e,n,o){renderHTML(t,e,void 0,o);for(const l in e.attrs)t.setAttribute(camelCaseAttributes.has(l)?l:camelToDash(l),e.attrs[l])}function scrapeMotionValuesFromProps$1(t,e){const{style:n}=t,o={};for(const l in n)(isMotionValue(n[l])||e.style&&isMotionValue(e.style[l])||isForcedMotionValue(l,t))&&(o[l]=n[l]);return o}function scrapeMotionValuesFromProps(t,e){const n=scrapeMotionValuesFromProps$1(t,e);for(const o in t)if(isMotionValue(t[o])||isMotionValue(e[o])){const l=transformPropOrder.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;n[l]=t[o]}return n}function resolveVariantFromProps(t,e,n,o={},l={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,o,l)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,o,l)),e}function useConstant(t){const e=reactExports.useRef(null);return e.current===null&&(e.current=t()),e.current}const isKeyframesTarget=t=>Array.isArray(t),isCustomValue=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),resolveFinalValueInKeyframes=t=>isKeyframesTarget(t)?t[t.length-1]||0:t;function resolveMotionValue(t){const e=isMotionValue(t)?t.get():t;return isCustomValue(e)?e.toValue():e}function makeState({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},o,l,u){const h={latestValues:makeLatestValues(o,l,u,t),renderState:e()};return n&&(h.mount=f=>n(o,f,h)),h}const makeUseVisualState=t=>(e,n)=>{const o=reactExports.useContext(MotionContext),l=reactExports.useContext(PresenceContext),u=()=>makeState(t,e,o,l);return n?u():useConstant(u)};function makeLatestValues(t,e,n,o){const l={},u=o(t,{});for(const b in u)l[b]=resolveMotionValue(u[b]);let{initial:h,animate:f}=t;const d=isControllingVariants(t),p=isVariantNode(t);e&&p&&!d&&t.inherit!==!1&&(h===void 0&&(h=e.initial),f===void 0&&(f=e.animate));let m=n?n.initial===!1:!1;m=m||h===!1;const v=m?f:h;return v&&typeof v!="boolean"&&!isAnimationControls(v)&&(Array.isArray(v)?v:[v]).forEach(S=>{const T=resolveVariantFromProps(t,S);if(!T)return;const{transitionEnd:C,transition:w,...R}=T;for(const L in R){let N=R[L];if(Array.isArray(N)){const F=m?N.length-1:0;N=N[F]}N!==null&&(l[L]=N)}for(const L in C)l[L]=C[L]}),l}const noop$2=t=>t;class Queue{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function createRenderStep(t){let e=new Queue,n=new Queue,o=0,l=!1,u=!1;const h=new WeakSet,f={schedule:(d,p=!1,m=!1)=>{const v=m&&l,b=v?e:n;return p&&h.add(d),b.add(d)&&v&&l&&(o=e.order.length),d},cancel:d=>{n.remove(d),h.delete(d)},process:d=>{if(l){u=!0;return}if(l=!0,[e,n]=[n,e],n.clear(),o=e.order.length,o)for(let p=0;p<o;p++){const m=e.order[p];m(d),h.has(m)&&(f.schedule(m),t())}l=!1,u&&(u=!1,f.process(d))}};return f}const stepsOrder=["prepare","read","update","preRender","render","postRender"],maxElapsed=40;function createRenderBatcher(t,e){let n=!1,o=!0;const l={delta:0,timestamp:0,isProcessing:!1},u=stepsOrder.reduce((v,b)=>(v[b]=createRenderStep(()=>n=!0),v),{}),h=v=>u[v].process(l),f=()=>{const v=performance.now();n=!1,l.delta=o?1e3/60:Math.max(Math.min(v-l.timestamp,maxElapsed),1),l.timestamp=v,l.isProcessing=!0,stepsOrder.forEach(h),l.isProcessing=!1,n&&e&&(o=!1,t(f))},d=()=>{n=!0,o=!0,l.isProcessing||t(f)};return{schedule:stepsOrder.reduce((v,b)=>{const S=u[b];return v[b]=(T,C=!1,w=!1)=>(n||d(),S.schedule(T,C,w)),v},{}),cancel:v=>stepsOrder.forEach(b=>u[b].cancel(v)),state:l,steps:u}}const{schedule:frame,cancel:cancelFrame,state:frameData,steps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop$2,!0),svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onMount:(t,e,{renderState:n,latestValues:o})=>{frame.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),frame.render(()=>{buildSVGAttrs(n,o,{enableHardwareAcceleration:!1},isSVGTag(e.tagName),t.transformTemplate),renderSVG(e,n)})}})},htmlMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function createDomMotionConfig(t,{forwardMotionProps:e=!1},n,o){return{...isSVGComponent(t)?svgMotionConfig:htmlMotionConfig,preloadedFeatures:n,useRender:createUseRender(e),createVisualElement:o,Component:t}}function addDomEvent(t,e,n,o={passive:!0}){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n)}const isPrimaryPointer=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function extractEventInfo(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const addPointerInfo=t=>e=>isPrimaryPointer(e)&&t(e,extractEventInfo(e));function addPointerEvent(t,e,n,o){return addDomEvent(t,e,addPointerInfo(n),o)}const combineFunctions=(t,e)=>n=>e(t(n)),pipe=(...t)=>t.reduce(combineFunctions);function createLock(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const globalHorizontalLock=createLock("dragHorizontal"),globalVerticalLock=createLock("dragVertical");function getGlobalLock(t){let e=!1;if(t==="y")e=globalVerticalLock();else if(t==="x")e=globalHorizontalLock();else{const n=globalHorizontalLock(),o=globalVerticalLock();n&&o?e=()=>{n(),o()}:(n&&n(),o&&o())}return e}function isDragActive(){const t=getGlobalLock(!0);return t?(t(),!1):!0}class Feature{constructor(e){this.isMounted=!1,this.node=e}update(){}}function addHoverEvent(t,e){const n="pointer"+(e?"enter":"leave"),o="onHover"+(e?"Start":"End"),l=(u,h)=>{if(u.pointerType==="touch"||isDragActive())return;const f=t.getProps();t.animationState&&f.whileHover&&t.animationState.setActive("whileHover",e),f[o]&&frame.update(()=>f[o](u,h))};return addPointerEvent(t.current,n,l,{passive:!t.getProps()[o]})}class HoverGesture extends Feature{mount(){this.unmount=pipe(addHoverEvent(this.node,!0),addHoverEvent(this.node,!1))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const isNodeOrChild=(t,e)=>e?t===e?!0:isNodeOrChild(t,e.parentElement):!1;function fireSyntheticPointerEvent(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,extractEventInfo(n))}class PressGesture extends Feature{constructor(){super(...arguments),this.removeStartListeners=noop$2,this.removeEndListeners=noop$2,this.removeAccessibleListeners=noop$2,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const o=this.node.getProps(),u=addPointerEvent(window,"pointerup",(f,d)=>{if(!this.checkPressEnd())return;const{onTap:p,onTapCancel:m,globalTapTarget:v}=this.node.getProps();frame.update(()=>{!v&&!isNodeOrChild(this.node.current,f.target)?m&&m(f,d):p&&p(f,d)})},{passive:!(o.onTap||o.onPointerUp)}),h=addPointerEvent(window,"pointercancel",(f,d)=>this.cancelPress(f,d),{passive:!(o.onTapCancel||o.onPointerCancel)});this.removeEndListeners=pipe(u,h),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=u=>{if(u.key!=="Enter"||this.isPressing)return;const h=f=>{f.key!=="Enter"||!this.checkPressEnd()||fireSyntheticPointerEvent("up",(d,p)=>{const{onTap:m}=this.node.getProps();m&&frame.update(()=>m(d,p))})};this.removeEndListeners(),this.removeEndListeners=addDomEvent(this.node.current,"keyup",h),fireSyntheticPointerEvent("down",(f,d)=>{this.startPress(f,d)})},n=addDomEvent(this.node.current,"keydown",e),o=()=>{this.isPressing&&fireSyntheticPointerEvent("cancel",(u,h)=>this.cancelPress(u,h))},l=addDomEvent(this.node.current,"blur",o);this.removeAccessibleListeners=pipe(n,l)}}startPress(e,n){this.isPressing=!0;const{onTapStart:o,whileTap:l}=this.node.getProps();l&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),o&&frame.update(()=>o(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!isDragActive()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:o}=this.node.getProps();o&&frame.update(()=>o(e,n))}mount(){const e=this.node.getProps(),n=addPointerEvent(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),o=addDomEvent(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=pipe(n,o)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=t=>{const e=observerCallbacks.get(t.target);e&&e(t)},fireAllObserverCallbacks=t=>{t.forEach(fireObserverCallback)};function initIntersectionObserver({root:t,...e}){const n=t||document;observers.has(n)||observers.set(n,{});const o=observers.get(n),l=JSON.stringify(e);return o[l]||(o[l]=new IntersectionObserver(fireAllObserverCallbacks,{root:t,...e})),o[l]}function observeIntersection(t,e,n){const o=initIntersectionObserver(e);return observerCallbacks.set(t,n),o.observe(t),()=>{observerCallbacks.delete(t),o.unobserve(t)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:o,amount:l="some",once:u}=e,h={root:n?n.current:void 0,rootMargin:o,threshold:typeof l=="number"?l:thresholdNames[l]},f=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,u&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:m,onViewportLeave:v}=this.node.getProps(),b=p?m:v;b&&b(d)};return observeIntersection(this.node.current,h,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(e,n))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}};function shallowCompare(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let o=0;o<n;o++)if(e[o]!==t[o])return!1;return!0}function getCurrent(t){const e={};return t.values.forEach((n,o)=>e[o]=n.get()),e}function getVelocity$1(t){const e={};return t.values.forEach((n,o)=>e[o]=n.getVelocity()),e}function resolveVariant(t,e,n){const o=t.getProps();return resolveVariantFromProps(o,e,n!==void 0?n:o.custom,getCurrent(t),getVelocity$1(t))}let invariant$1=noop$2;const secondsToMilliseconds=t=>t*1e3,millisecondsToSeconds=t=>t/1e3,instantAnimationState={current:!1},isBezierDefinition=t=>Array.isArray(t)&&typeof t[0]=="number";function isWaapiSupportedEasing(t){return!!(!t||typeof t=="string"&&supportedWaapiEasing[t]||isBezierDefinition(t)||Array.isArray(t)&&t.every(isWaapiSupportedEasing))}const cubicBezierAsString=([t,e,n,o])=>`cubic-bezier(${t}, ${e}, ${n}, ${o})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(t){if(t)return isBezierDefinition(t)?cubicBezierAsString(t):Array.isArray(t)?t.map(mapEasingToNativeEasing):supportedWaapiEasing[t]}function animateStyle(t,e,n,{delay:o=0,duration:l,repeat:u=0,repeatType:h="loop",ease:f,times:d}={}){const p={[e]:n};d&&(p.offset=d);const m=mapEasingToNativeEasing(f);return Array.isArray(m)&&(p.easing=m),t.animate(p,{delay:o,duration:l,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:u+1,direction:h==="reverse"?"alternate":"normal"})}function getFinalKeyframe(t,{repeat:e,repeatType:n="loop"}){const o=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[o]}const calcBezier=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(t,e,n,o,l){let u,h,f=0;do h=e+(n-e)/2,u=calcBezier(h,o,l)-t,u>0?n=h:e=h;while(Math.abs(u)>subdivisionPrecision&&++f<subdivisionMaxIterations);return h}function cubicBezier$1(t,e,n,o){if(t===e&&n===o)return noop$2;const l=u=>binarySubdivide(u,0,1,t,n);return u=>u===0||u===1?u:calcBezier(l(u),e,o)}const easeIn=cubicBezier$1(.42,0,1,1),easeOut=cubicBezier$1(0,0,.58,1),easeInOut=cubicBezier$1(.42,0,.58,1),isEasingArray=t=>Array.isArray(t)&&typeof t[0]!="number",mirrorEasing=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,reverseEasing=t=>e=>1-t(1-e),circIn=t=>1-Math.sin(Math.acos(t)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),backOut=cubicBezier$1(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=t=>(t*=2)<1?.5*backIn(t):.5*(2-Math.pow(2,-10*(t-1))),easingLookup={linear:noop$2,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},easingDefinitionToFunction=t=>{if(Array.isArray(t)){invariant$1(t.length===4);const[e,n,o,l]=t;return cubicBezier$1(e,n,o,l)}else if(typeof t=="string")return easingLookup[t];return t},isColorString=(t,e)=>n=>!!(isString$1(n)&&singleColorRegex.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),splitColor=(t,e,n)=>o=>{if(!isString$1(o))return o;const[l,u,h,f]=o.match(floatRegex);return{[t]:parseFloat(l),[e]:parseFloat(u),[n]:parseFloat(h),alpha:f!==void 0?parseFloat(f):1}},clampRgbUnit=t=>clamp$1(0,255,t),rgbUnit={...number$3,transform:t=>Math.round(clampRgbUnit(t))},rgba$1={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:o=1})=>"rgba("+rgbUnit.transform(t)+", "+rgbUnit.transform(e)+", "+rgbUnit.transform(n)+", "+sanitize(alpha$2.transform(o))+")"};function parseHex(t){let e="",n="",o="",l="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),o=t.substring(5,7),l=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),o=t.substring(3,4),l=t.substring(4,5),e+=e,n+=n,o+=o,l+=l),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(o,16),alpha:l?parseInt(l,16)/255:1}}const hex$2={test:isColorString("#"),parse:parseHex,transform:rgba$1.transform},hsla$1={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:o=1})=>"hsla("+Math.round(t)+", "+percent.transform(sanitize(e))+", "+percent.transform(sanitize(n))+", "+sanitize(alpha$2.transform(o))+")"},color$2={test:t=>rgba$1.test(t)||hex$2.test(t)||hsla$1.test(t),parse:t=>rgba$1.test(t)?rgba$1.parse(t):hsla$1.test(t)?hsla$1.parse(t):hex$2.parse(t),transform:t=>isString$1(t)?t:t.hasOwnProperty("red")?rgba$1.transform(t):hsla$1.transform(t)},mix=(t,e,n)=>-n*t+n*e+t;function hueToRgb(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function hslaToRgba({hue:t,saturation:e,lightness:n,alpha:o}){t/=360,e/=100,n/=100;let l=0,u=0,h=0;if(!e)l=u=h=n;else{const f=n<.5?n*(1+e):n+e-n*e,d=2*n-f;l=hueToRgb(d,f,t+1/3),u=hueToRgb(d,f,t),h=hueToRgb(d,f,t-1/3)}return{red:Math.round(l*255),green:Math.round(u*255),blue:Math.round(h*255),alpha:o}}const mixLinearColor=(t,e,n)=>{const o=t*t;return Math.sqrt(Math.max(0,n*(e*e-o)+o))},colorTypes=[hex$2,rgba$1,hsla$1],getColorType=t=>colorTypes.find(e=>e.test(t));function asRGBA(t){const e=getColorType(t);let n=e.parse(t);return e===hsla$1&&(n=hslaToRgba(n)),n}const mixColor=(t,e)=>{const n=asRGBA(t),o=asRGBA(e),l={...n};return u=>(l.red=mixLinearColor(n.red,o.red,u),l.green=mixLinearColor(n.green,o.green,u),l.blue=mixLinearColor(n.blue,o.blue,u),l.alpha=mix(n.alpha,o.alpha,u),rgba$1.transform(l))};function test(t){var e,n;return isNaN(t)&&isString$1(t)&&(((e=t.match(floatRegex))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(colorRegex))===null||n===void 0?void 0:n.length)||0)>0}const cssVarTokeniser={regex:cssVariableRegex,countKey:"Vars",token:"${v}",parse:noop$2},colorTokeniser={regex:colorRegex,countKey:"Colors",token:"${c}",parse:color$2.parse},numberTokeniser={regex:floatRegex,countKey:"Numbers",token:"${n}",parse:number$3.parse};function tokenise(t,{regex:e,countKey:n,token:o,parse:l}){const u=t.tokenised.match(e);u&&(t["num"+n]=u.length,t.tokenised=t.tokenised.replace(e,o),t.values.push(...u.map(l)))}function analyseComplexValue(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&tokenise(n,cssVarTokeniser),tokenise(n,colorTokeniser),tokenise(n,numberTokeniser),n}function parseComplexValue(t){return analyseComplexValue(t).values}function createTransformer(t){const{values:e,numColors:n,numVars:o,tokenised:l}=analyseComplexValue(t),u=e.length;return h=>{let f=l;for(let d=0;d<u;d++)d<o?f=f.replace(cssVarTokeniser.token,h[d]):d<o+n?f=f.replace(colorTokeniser.token,color$2.transform(h[d])):f=f.replace(numberTokeniser.token,sanitize(h[d]));return f}}const convertNumbersToZero=t=>typeof t=="number"?0:t;function getAnimatableNone$1(t){const e=parseComplexValue(t);return createTransformer(t)(e.map(convertNumbersToZero))}const complex={test,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1},mixImmediate=(t,e)=>n=>`${n>0?e:t}`;function getMixer(t,e){return typeof t=="number"?n=>mix(t,e,n):color$2.test(t)?mixColor(t,e):t.startsWith("var(")?mixImmediate(t,e):mixComplex(t,e)}const mixArray=(t,e)=>{const n=[...t],o=n.length,l=t.map((u,h)=>getMixer(u,e[h]));return u=>{for(let h=0;h<o;h++)n[h]=l[h](u);return n}},mixObject=(t,e)=>{const n={...t,...e},o={};for(const l in n)t[l]!==void 0&&e[l]!==void 0&&(o[l]=getMixer(t[l],e[l]));return l=>{for(const u in o)n[u]=o[u](l);return n}},mixComplex=(t,e)=>{const n=complex.createTransformer(e),o=analyseComplexValue(t),l=analyseComplexValue(e);return o.numVars===l.numVars&&o.numColors===l.numColors&&o.numNumbers>=l.numNumbers?pipe(mixArray(o.values,l.values),n):mixImmediate(t,e)},progress=(t,e,n)=>{const o=e-t;return o===0?1:(n-t)/o},mixNumber=(t,e)=>n=>mix(t,e,n);function detectMixerFactory(t){return typeof t=="number"?mixNumber:typeof t=="string"?color$2.test(t)?mixColor:mixComplex:Array.isArray(t)?mixArray:typeof t=="object"?mixObject:mixNumber}function createMixers(t,e,n){const o=[],l=n||detectMixerFactory(t[0]),u=t.length-1;for(let h=0;h<u;h++){let f=l(t[h],t[h+1]);if(e){const d=Array.isArray(e)?e[h]||noop$2:e;f=pipe(d,f)}o.push(f)}return o}function interpolate$3(t,e,{clamp:n=!0,ease:o,mixer:l}={}){const u=t.length;if(invariant$1(u===e.length),u===1)return()=>e[0];t[0]>t[u-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=createMixers(e,o,l),f=h.length,d=p=>{let m=0;if(f>1)for(;m<t.length-2&&!(p<t[m+1]);m++);const v=progress(t[m],t[m+1],p);return h[m](v)};return n?p=>d(clamp$1(t[0],t[u-1],p)):d}function fillOffset(t,e){const n=t[t.length-1];for(let o=1;o<=e;o++){const l=progress(0,e,o);t.push(mix(n,1,l))}}function defaultOffset(t){const e=[0];return fillOffset(e,t.length-1),e}function convertOffsetToTimes(t,e){return t.map(n=>n*e)}function defaultEasing(t,e){return t.map(()=>e||easeInOut).splice(0,t.length-1)}function keyframes({duration:t=300,keyframes:e,times:n,ease:o="easeInOut"}){const l=isEasingArray(o)?o.map(easingDefinitionToFunction):easingDefinitionToFunction(o),u={done:!1,value:e[0]},h=convertOffsetToTimes(n&&n.length===e.length?n:defaultOffset(e),t),f=interpolate$3(h,e,{ease:Array.isArray(l)?l:defaultEasing(e,l)});return{calculatedDuration:t,next:d=>(u.value=f(d),u.done=d>=t,u)}}function velocityPerSecond(t,e){return e?t*(1e3/e):0}const velocitySampleDuration=5;function calcGeneratorVelocity(t,e,n){const o=Math.max(e-velocitySampleDuration,0);return velocityPerSecond(n-t(o),e-o)}const safeMin=.001,minDuration=.01,maxDuration$1=10,minDamping=.05,maxDamping=1;function findSpring({duration:t=800,bounce:e=.25,velocity:n=0,mass:o=1}){let l,u,h=1-e;h=clamp$1(minDamping,maxDamping,h),t=clamp$1(minDuration,maxDuration$1,millisecondsToSeconds(t)),h<1?(l=p=>{const m=p*h,v=m*t,b=m-n,S=calcAngularFreq(p,h),T=Math.exp(-v);return safeMin-b/S*T},u=p=>{const v=p*h*t,b=v*n+n,S=Math.pow(h,2)*Math.pow(p,2)*t,T=Math.exp(-v),C=calcAngularFreq(Math.pow(p,2),h);return(-l(p)+safeMin>0?-1:1)*((b-S)*T)/C}):(l=p=>{const m=Math.exp(-p*t),v=(p-n)*t+1;return-.001+m*v},u=p=>{const m=Math.exp(-p*t),v=(n-p)*(t*t);return m*v});const f=5/t,d=approximateRoot(l,u,f);if(t=secondsToMilliseconds(t),isNaN(d))return{stiffness:100,damping:10,duration:t};{const p=Math.pow(d,2)*o;return{stiffness:p,damping:h*2*Math.sqrt(o*p),duration:t}}}const rootIterations=12;function approximateRoot(t,e,n){let o=n;for(let l=1;l<rootIterations;l++)o=o-t(o)/e(o);return o}function calcAngularFreq(t,e){return t*Math.sqrt(1-e*e)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(t,e){return e.some(n=>t[n]!==void 0)}function getSpringOptions(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!isSpringType(t,physicsKeys)&&isSpringType(t,durationKeys)){const n=findSpring(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function spring({keyframes:t,restDelta:e,restSpeed:n,...o}){const l=t[0],u=t[t.length-1],h={done:!1,value:l},{stiffness:f,damping:d,mass:p,duration:m,velocity:v,isResolvedFromDuration:b}=getSpringOptions({...o,velocity:-millisecondsToSeconds(o.velocity||0)}),S=v||0,T=d/(2*Math.sqrt(f*p)),C=u-l,w=millisecondsToSeconds(Math.sqrt(f/p)),R=Math.abs(C)<5;n||(n=R?.01:2),e||(e=R?.005:.5);let L;if(T<1){const N=calcAngularFreq(w,T);L=F=>{const B=Math.exp(-T*w*F);return u-B*((S+T*w*C)/N*Math.sin(N*F)+C*Math.cos(N*F))}}else if(T===1)L=N=>u-Math.exp(-w*N)*(C+(S+w*C)*N);else{const N=w*Math.sqrt(T*T-1);L=F=>{const B=Math.exp(-T*w*F),U=Math.min(N*F,300);return u-B*((S+T*w*C)*Math.sinh(U)+N*C*Math.cosh(U))/N}}return{calculatedDuration:b&&m||null,next:N=>{const F=L(N);if(b)h.done=N>=m;else{let B=S;N!==0&&(T<1?B=calcGeneratorVelocity(L,N,F):B=0);const U=Math.abs(B)<=n,z=Math.abs(u-F)<=e;h.done=U&&z}return h.value=h.done?u:F,h}}}function inertia({keyframes:t,velocity:e=0,power:n=.8,timeConstant:o=325,bounceDamping:l=10,bounceStiffness:u=500,modifyTarget:h,min:f,max:d,restDelta:p=.5,restSpeed:m}){const v=t[0],b={done:!1,value:v},S=K=>f!==void 0&&K<f||d!==void 0&&K>d,T=K=>f===void 0?d:d===void 0||Math.abs(f-K)<Math.abs(d-K)?f:d;let C=n*e;const w=v+C,R=h===void 0?w:h(w);R!==w&&(C=R-v);const L=K=>-C*Math.exp(-K/o),N=K=>R+L(K),F=K=>{const Q=L(K),q=N(K);b.done=Math.abs(Q)<=p,b.value=b.done?R:q};let B,U;const z=K=>{S(b.value)&&(B=K,U=spring({keyframes:[b.value,T(b.value)],velocity:calcGeneratorVelocity(N,K,b.value),damping:l,stiffness:u,restDelta:p,restSpeed:m}))};return z(0),{calculatedDuration:null,next:K=>{let Q=!1;return!U&&B===void 0&&(Q=!0,F(K),z(K)),B!==void 0&&K>B?U.next(K-B):(!Q&&F(K),b)}}}const frameloopDriver=t=>{const e=({timestamp:n})=>t(n);return{start:()=>frame.update(e,!0),stop:()=>cancelFrame(e),now:()=>frameData.isProcessing?frameData.timestamp:performance.now()}},maxGeneratorDuration=2e4;function calcGeneratorDuration(t){let e=0;const n=50;let o=t.next(e);for(;!o.done&&e<maxGeneratorDuration;)e+=n,o=t.next(e);return e>=maxGeneratorDuration?1/0:e}const types={decay:inertia,inertia,tween:keyframes,keyframes,spring};function animateValue({autoplay:t=!0,delay:e=0,driver:n=frameloopDriver,keyframes:o,type:l="keyframes",repeat:u=0,repeatDelay:h=0,repeatType:f="loop",onPlay:d,onStop:p,onComplete:m,onUpdate:v,...b}){let S=1,T=!1,C,w;const R=()=>{w=new Promise(ae=>{C=ae})};R();let L;const N=types[l]||keyframes;let F;N!==keyframes&&typeof o[0]!="number"&&(F=interpolate$3([0,100],o,{clamp:!1}),o=[0,100]);const B=N({...b,keyframes:o});let U;f==="mirror"&&(U=N({...b,keyframes:[...o].reverse(),velocity:-(b.velocity||0)}));let z="idle",K=null,Q=null,q=null;B.calculatedDuration===null&&u&&(B.calculatedDuration=calcGeneratorDuration(B));const{calculatedDuration:H}=B;let se=1/0,le=1/0;H!==null&&(se=H+h,le=se*(u+1)-h);let ne=0;const ce=ae=>{if(Q===null)return;S>0&&(Q=Math.min(Q,ae)),S<0&&(Q=Math.min(ae-le/S,Q)),K!==null?ne=K:ne=Math.round(ae-Q)*S;const pe=ne-e*(S>=0?1:-1),we=S>=0?pe<0:pe>le;ne=Math.max(pe,0),z==="finished"&&K===null&&(ne=le);let _e=ne,Me=B;if(u){const Re=Math.min(ne,le)/se;let Je=Math.floor(Re),ke=Re%1;!ke&&Re>=1&&(ke=1),ke===1&&Je--,Je=Math.min(Je,u+1),!!(Je%2)&&(f==="reverse"?(ke=1-ke,h&&(ke-=h/se)):f==="mirror"&&(Me=U)),_e=clamp$1(0,1,ke)*se}const Oe=we?{done:!1,value:o[0]}:Me.next(_e);F&&(Oe.value=F(Oe.value));let{done:Ye}=Oe;!we&&H!==null&&(Ye=S>=0?ne>=le:ne<=0);const qe=K===null&&(z==="finished"||z==="running"&&Ye);return v&&v(Oe.value),qe&&Z(),Oe},fe=()=>{L&&L.stop(),L=void 0},ge=()=>{z="idle",fe(),C(),R(),Q=q=null},Z=()=>{z="finished",m&&m(),fe(),C()},ie=()=>{if(T)return;L||(L=n(ce));const ae=L.now();d&&d(),K!==null?Q=ae-K:(!Q||z==="finished")&&(Q=ae),z==="finished"&&R(),q=Q,K=null,z="running",L.start()};t&&ie();const oe={then(ae,pe){return w.then(ae,pe)},get time(){return millisecondsToSeconds(ne)},set time(ae){ae=secondsToMilliseconds(ae),ne=ae,K!==null||!L||S===0?K=ae:Q=L.now()-ae/S},get duration(){const ae=B.calculatedDuration===null?calcGeneratorDuration(B):B.calculatedDuration;return millisecondsToSeconds(ae)},get speed(){return S},set speed(ae){ae===S||!L||(S=ae,oe.time=millisecondsToSeconds(ne))},get state(){return z},play:ie,pause:()=>{z="paused",K=ne},stop:()=>{T=!0,z!=="idle"&&(z="idle",p&&p(),ge())},cancel:()=>{q!==null&&ce(q),ge()},complete:()=>{z="finished"},sample:ae=>(Q=0,ce(ae))};return oe}function memo(t){let e;return()=>(e===void 0&&(e=t()),e)}const supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),acceleratedValues=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),sampleDelta=10,maxDuration=2e4,requiresPregeneratedKeyframes=(t,e)=>e.type==="spring"||t==="backgroundColor"||!isWaapiSupportedEasing(e.ease);function createAcceleratedAnimation(t,e,{onUpdate:n,onComplete:o,...l}){if(!(supportsWaapi()&&acceleratedValues.has(e)&&!l.repeatDelay&&l.repeatType!=="mirror"&&l.damping!==0&&l.type!=="inertia"))return!1;let h=!1,f,d,p=!1;const m=()=>{d=new Promise(N=>{f=N})};m();let{keyframes:v,duration:b=300,ease:S,times:T}=l;if(requiresPregeneratedKeyframes(e,l)){const N=animateValue({...l,repeat:0,delay:0});let F={done:!1,value:v[0]};const B=[];let U=0;for(;!F.done&&U<maxDuration;)F=N.sample(U),B.push(F.value),U+=sampleDelta;T=void 0,v=B,b=U-sampleDelta,S="linear"}const C=animateStyle(t.owner.current,e,v,{...l,duration:b,ease:S,times:T}),w=()=>{p=!1,C.cancel()},R=()=>{p=!0,frame.update(w),f(),m()};return C.onfinish=()=>{p||(t.set(getFinalKeyframe(v,l)),o&&o(),R())},{then(N,F){return d.then(N,F)},attachTimeline(N){return C.timeline=N,C.onfinish=null,noop$2},get time(){return millisecondsToSeconds(C.currentTime||0)},set time(N){C.currentTime=secondsToMilliseconds(N)},get speed(){return C.playbackRate},set speed(N){C.playbackRate=N},get duration(){return millisecondsToSeconds(b)},play:()=>{h||(C.play(),cancelFrame(w))},pause:()=>C.pause(),stop:()=>{if(h=!0,C.playState==="idle")return;const{currentTime:N}=C;if(N){const F=animateValue({...l,autoplay:!1});t.setWithVelocity(F.sample(N-sampleDelta).value,F.sample(N).value,sampleDelta)}R()},complete:()=>{p||C.finish()},cancel:R}}function createInstantAnimation({keyframes:t,delay:e,onUpdate:n,onComplete:o}){const l=()=>(n&&n(t[t.length-1]),o&&o(),{time:0,speed:1,duration:0,play:noop$2,pause:noop$2,stop:noop$2,then:u=>(u(),Promise.resolve()),cancel:noop$2,complete:noop$2});return e?animateValue({keyframes:[0,1],duration:0,delay:e,onComplete:l}):l()}const underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(t,{keyframes:e})=>e.length>2?keyframesTransition:transformProps.has(t)?t.startsWith("scale")?criticallyDampedSpring(e[1]):underDampedSpring:ease,isAnimatable=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(complex.test(e)||e==="0")&&!e.startsWith("url(")),maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[o]=n.match(floatRegex)||[];if(!o)return t;const l=n.replace(o,"");let u=maxDefaults.has(e)?1:0;return o!==n&&(u*=100),e+"("+u+l+")"}const functionRegex=/([a-z-]*)\(.*?\)/g,filter={...complex,getAnimatableNone:t=>{const e=t.match(functionRegex);return e?e.map(applyDefaultFilter).join(" "):t}},defaultValueTypes={...numberValueTypes,color:color$2,backgroundColor:color$2,outlineColor:color$2,fill:color$2,stroke:color$2,borderColor:color$2,borderTopColor:color$2,borderRightColor:color$2,borderBottomColor:color$2,borderLeftColor:color$2,filter,WebkitFilter:filter},getDefaultValueType=t=>defaultValueTypes[t];function getAnimatableNone(t,e){let n=getDefaultValueType(t);return n!==filter&&(n=complex),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const isZeroValueString=t=>/^0[^.\s]+$/.test(t);function isNone(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||isZeroValueString(t)}function getKeyframes(t,e,n,o){const l=isAnimatable(e,n);let u;Array.isArray(n)?u=[...n]:u=[null,n];const h=o.from!==void 0?o.from:t.get();let f;const d=[];for(let p=0;p<u.length;p++)u[p]===null&&(u[p]=p===0?h:u[p-1]),isNone(u[p])&&d.push(p),typeof u[p]=="string"&&u[p]!=="none"&&u[p]!=="0"&&(f=u[p]);if(l&&d.length&&f)for(let p=0;p<d.length;p++){const m=d[p];u[m]=getAnimatableNone(e,f)}return u}function isTransitionDefined({when:t,delay:e,delayChildren:n,staggerChildren:o,staggerDirection:l,repeat:u,repeatType:h,repeatDelay:f,from:d,elapsed:p,...m}){return!!Object.keys(m).length}function getValueTransition(t,e){return t[e]||t.default||t}const MotionGlobalConfig={skipAnimations:!1},animateMotionValue=(t,e,n,o={})=>l=>{const u=getValueTransition(o,t)||{},h=u.delay||o.delay||0;let{elapsed:f=0}=o;f=f-secondsToMilliseconds(h);const d=getKeyframes(e,t,n,u),p=d[0],m=d[d.length-1],v=isAnimatable(t,p),b=isAnimatable(t,m);let S={keyframes:d,velocity:e.getVelocity(),ease:"easeOut",...u,delay:-f,onUpdate:T=>{e.set(T),u.onUpdate&&u.onUpdate(T)},onComplete:()=>{l(),u.onComplete&&u.onComplete()}};if(isTransitionDefined(u)||(S={...S,...getDefaultTransition(t,S)}),S.duration&&(S.duration=secondsToMilliseconds(S.duration)),S.repeatDelay&&(S.repeatDelay=secondsToMilliseconds(S.repeatDelay)),!v||!b||instantAnimationState.current||u.type===!1||MotionGlobalConfig.skipAnimations)return createInstantAnimation(S);if(!o.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const T=createAcceleratedAnimation(e,t,S);if(T)return T}return animateValue(S)};function isWillChangeMotionValue(t){return!!(isMotionValue(t)&&t.add)}const isNumericalString=t=>/^\-?\d*\.?\d+$/.test(t);function addUniqueItem(t,e){t.indexOf(e)===-1&&t.push(e)}function removeItem(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class SubscriptionManager{constructor(){this.subscriptions=[]}add(e){return addUniqueItem(this.subscriptions,e),()=>removeItem(this.subscriptions,e)}notify(e,n,o){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](e,n,o);else for(let u=0;u<l;u++){const h=this.subscriptions[u];h&&h(e,n,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const isFloat=t=>!isNaN(parseFloat(t));class MotionValue{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(o,l=!0)=>{this.prev=this.current,this.current=o;const{delta:u,timestamp:h}=frameData;this.lastUpdated!==h&&(this.timeDelta=u,this.lastUpdated=h,frame.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),l&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>frame.postRender(this.velocityCheck),this.velocityCheck=({timestamp:o})=>{o!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=isFloat(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new SubscriptionManager);const o=this.events[e].add(n);return e==="change"?()=>{o(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,o){this.set(n),this.prev=e,this.timeDelta=o}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?velocityPerSecond(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(t,e){return new MotionValue(t,e)}const testValueType=t=>e=>e.test(t),auto={test:t=>t==="auto",parse:t=>t},dimensionValueTypes=[number$3,px$1,percent,degrees,vw,vh,auto],findDimensionValueType=t=>dimensionValueTypes.find(testValueType(t)),valueTypes=[...dimensionValueTypes,color$2,complex],findValueType=t=>valueTypes.find(testValueType(t));function setMotionValue(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,motionValue(n))}function setTarget(t,e){const n=resolveVariant(t,e);let{transitionEnd:o={},transition:l={},...u}=n?t.makeTargetAnimatable(n,!1):{};u={...u,...o};for(const h in u){const f=resolveFinalValueInKeyframes(u[h]);setMotionValue(t,h,f)}}function setVariants(t,e){[...e].reverse().forEach(o=>{const l=t.getVariant(o);l&&setTarget(t,l),t.variantChildren&&t.variantChildren.forEach(u=>{setVariants(u,e)})})}function setValues(t,e){if(Array.isArray(e))return setVariants(t,e);if(typeof e=="string")return setVariants(t,[e]);setTarget(t,e)}function checkTargetForNewValues(t,e,n){var o,l;const u=Object.keys(e).filter(f=>!t.hasValue(f)),h=u.length;if(h)for(let f=0;f<h;f++){const d=u[f],p=e[d];let m=null;Array.isArray(p)&&(m=p[0]),m===null&&(m=(l=(o=n[d])!==null&&o!==void 0?o:t.readValue(d))!==null&&l!==void 0?l:e[d]),m!=null&&(typeof m=="string"&&(isNumericalString(m)||isZeroValueString(m))?m=parseFloat(m):!findValueType(m)&&complex.test(p)&&(m=getAnimatableNone(d,p)),t.addValue(d,motionValue(m,{owner:t})),n[d]===void 0&&(n[d]=m),m!==null&&t.setBaseTarget(d,m))}}function getOriginFromTransition(t,e){return e?(e[t]||e.default||e).from:void 0}function getOrigin(t,e,n){const o={};for(const l in t){const u=getOriginFromTransition(l,e);if(u!==void 0)o[l]=u;else{const h=n.getValue(l);h&&(o[l]=h.get())}}return o}function shouldBlockAnimation({protectedKeys:t,needsAnimating:e},n){const o=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,o}function hasKeyframesChanged(t,e){const n=t.get();if(Array.isArray(e)){for(let o=0;o<e.length;o++)if(e[o]!==n)return!0}else return n!==e}function animateTarget(t,e,{delay:n=0,transitionOverride:o,type:l}={}){let{transition:u=t.getDefaultTransition(),transitionEnd:h,...f}=t.makeTargetAnimatable(e);const d=t.getValue("willChange");o&&(u=o);const p=[],m=l&&t.animationState&&t.animationState.getState()[l];for(const v in f){const b=t.getValue(v),S=f[v];if(!b||S===void 0||m&&shouldBlockAnimation(m,v))continue;const T={delay:n,elapsed:0,...getValueTransition(u||{},v)};if(window.HandoffAppearAnimations){const R=t.getProps()[optimizedAppearDataAttribute];if(R){const L=window.HandoffAppearAnimations(R,v,b,frame);L!==null&&(T.elapsed=L,T.isHandoff=!0)}}let C=!T.isHandoff&&!hasKeyframesChanged(b,S);if(T.type==="spring"&&(b.getVelocity()||T.velocity)&&(C=!1),b.animation&&(C=!1),C)continue;b.start(animateMotionValue(v,b,S,t.shouldReduceMotion&&transformProps.has(v)?{type:!1}:T));const w=b.animation;isWillChangeMotionValue(d)&&(d.add(v),w.then(()=>d.remove(v))),p.push(w)}return h&&Promise.all(p).then(()=>{h&&setTarget(t,h)}),p}function animateVariant(t,e,n={}){const o=resolveVariant(t,e,n.custom);let{transition:l=t.getDefaultTransition()||{}}=o||{};n.transitionOverride&&(l=n.transitionOverride);const u=o?()=>Promise.all(animateTarget(t,o,n)):()=>Promise.resolve(),h=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:p=0,staggerChildren:m,staggerDirection:v}=l;return animateChildren(t,e,p+d,m,v,n)}:()=>Promise.resolve(),{when:f}=l;if(f){const[d,p]=f==="beforeChildren"?[u,h]:[h,u];return d().then(()=>p())}else return Promise.all([u(),h(n.delay)])}function animateChildren(t,e,n=0,o=0,l=1,u){const h=[],f=(t.variantChildren.size-1)*o,d=l===1?(p=0)=>p*o:(p=0)=>f-p*o;return Array.from(t.variantChildren).sort(sortByTreeOrder).forEach((p,m)=>{p.notify("AnimationStart",e),h.push(animateVariant(p,e,{...u,delay:n+d(m)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(h)}function sortByTreeOrder(t,e){return t.sortNodePosition(e)}function animateVisualElement(t,e,n={}){t.notify("AnimationStart",e);let o;if(Array.isArray(e)){const l=e.map(u=>animateVariant(t,u,n));o=Promise.all(l)}else if(typeof e=="string")o=animateVariant(t,e,n);else{const l=typeof e=="function"?resolveVariant(t,e,n.custom):e;o=Promise.all(animateTarget(t,l,n))}return o.then(()=>t.notify("AnimationComplete",e))}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(t){return e=>Promise.all(e.map(({animation:n,options:o})=>animateVisualElement(t,n,o)))}function createAnimationState(t){let e=animateList(t);const n=createState();let o=!0;const l=(d,p)=>{const m=resolveVariant(t,p);if(m){const{transition:v,transitionEnd:b,...S}=m;d={...d,...S,...b}}return d};function u(d){e=d(t)}function h(d,p){const m=t.getProps(),v=t.getVariantContext(!0)||{},b=[],S=new Set;let T={},C=1/0;for(let R=0;R<numAnimationTypes;R++){const L=reversePriorityOrder[R],N=n[L],F=m[L]!==void 0?m[L]:v[L],B=isVariantLabel(F),U=L===p?N.isActive:null;U===!1&&(C=R);let z=F===v[L]&&F!==m[L]&&B;if(z&&o&&t.manuallyAnimateOnMount&&(z=!1),N.protectedKeys={...T},!N.isActive&&U===null||!F&&!N.prevProp||isAnimationControls(F)||typeof F=="boolean")continue;let Q=checkVariantsDidChange(N.prevProp,F)||L===p&&N.isActive&&!z&&B||R>C&&B,q=!1;const H=Array.isArray(F)?F:[F];let se=H.reduce(l,{});U===!1&&(se={});const{prevResolvedValues:le={}}=N,ne={...le,...se},ce=fe=>{Q=!0,S.has(fe)&&(q=!0,S.delete(fe)),N.needsAnimating[fe]=!0};for(const fe in ne){const ge=se[fe],Z=le[fe];if(T.hasOwnProperty(fe))continue;let ie=!1;isKeyframesTarget(ge)&&isKeyframesTarget(Z)?ie=!shallowCompare(ge,Z):ie=ge!==Z,ie?ge!==void 0?ce(fe):S.add(fe):ge!==void 0&&S.has(fe)?ce(fe):N.protectedKeys[fe]=!0}N.prevProp=F,N.prevResolvedValues=se,N.isActive&&(T={...T,...se}),o&&t.blockInitialAnimation&&(Q=!1),Q&&(!z||q)&&b.push(...H.map(fe=>({animation:fe,options:{type:L,...d}})))}if(S.size){const R={};S.forEach(L=>{const N=t.getBaseTarget(L);N!==void 0&&(R[L]=N)}),b.push({animation:R})}let w=!!b.length;return o&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(w=!1),o=!1,w?e(b):Promise.resolve()}function f(d,p,m){var v;if(n[d].isActive===p)return Promise.resolve();(v=t.variantChildren)===null||v===void 0||v.forEach(S=>{var T;return(T=S.animationState)===null||T===void 0?void 0:T.setActive(d,p)}),n[d].isActive=p;const b=h(m,d);for(const S in n)n[S].protectedKeys={};return b}return{animateChanges:h,setActive:f,setAnimateFunction:u,getState:()=>n}}function checkVariantsDidChange(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!shallowCompare(e,t):!1}function createTypeState(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class AnimationFeature extends Feature{constructor(e){super(e),e.animationState||(e.animationState=createAnimationState(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),isAnimationControls(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let id$1=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$1++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:o}=this.node.presenceContext,{isPresent:l}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===l)return;const u=this.node.animationState.setActive("exit",!e,{custom:o??this.node.getProps().custom});n&&!e&&u.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}},distance=(t,e)=>Math.abs(t-e);function distance2D(t,e){const n=distance(t.x,e.x),o=distance(t.y,e.y);return Math.sqrt(n**2+o**2)}class PanSession{constructor(e,n,{transformPagePoint:o,contextWindow:l,dragSnapToOrigin:u=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=getPanInfo(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,S=distance2D(v.offset,{x:0,y:0})>=3;if(!b&&!S)return;const{point:T}=v,{timestamp:C}=frameData;this.history.push({...T,timestamp:C});const{onStart:w,onMove:R}=this.handlers;b||(w&&w(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,v)},this.handlePointerMove=(v,b)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=transformPoint(b,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(v,b)=>{this.end();const{onEnd:S,onSessionEnd:T,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=getPanInfo(v.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(b,this.transformPagePoint),this.history);this.startEvent&&S&&S(v,w),T&&T(v,w)},!isPrimaryPointer(e))return;this.dragSnapToOrigin=u,this.handlers=n,this.transformPagePoint=o,this.contextWindow=l||window;const h=extractEventInfo(e),f=transformPoint(h,this.transformPagePoint),{point:d}=f,{timestamp:p}=frameData;this.history=[{...d,timestamp:p}];const{onSessionStart:m}=n;m&&m(e,getPanInfo(f,this.history)),this.removeListeners=pipe(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(t,e){return e?{point:e(t.point)}:t}function subtractPoint(t,e){return{x:t.x-e.x,y:t.y-e.y}}function getPanInfo({point:t},e){return{point:t,delta:subtractPoint(t,lastDevicePoint(e)),offset:subtractPoint(t,startDevicePoint(e)),velocity:getVelocity(e,.1)}}function startDevicePoint(t){return t[0]}function lastDevicePoint(t){return t[t.length-1]}function getVelocity(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,o=null;const l=lastDevicePoint(t);for(;n>=0&&(o=t[n],!(l.timestamp-o.timestamp>secondsToMilliseconds(e)));)n--;if(!o)return{x:0,y:0};const u=millisecondsToSeconds(l.timestamp-o.timestamp);if(u===0)return{x:0,y:0};const h={x:(l.x-o.x)/u,y:(l.y-o.y)/u};return h.x===1/0&&(h.x=0),h.y===1/0&&(h.y=0),h}function calcLength(t){return t.max-t.min}function isNear(t,e=0,n=.01){return Math.abs(t-e)<=n}function calcAxisDelta(t,e,n,o=.5){t.origin=o,t.originPoint=mix(e.min,e.max,t.origin),t.scale=calcLength(n)/calcLength(e),(isNear(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=mix(n.min,n.max,t.origin)-t.originPoint,(isNear(t.translate)||isNaN(t.translate))&&(t.translate=0)}function calcBoxDelta(t,e,n,o){calcAxisDelta(t.x,e.x,n.x,o?o.originX:void 0),calcAxisDelta(t.y,e.y,n.y,o?o.originY:void 0)}function calcRelativeAxis(t,e,n){t.min=n.min+e.min,t.max=t.min+calcLength(e)}function calcRelativeBox(t,e,n){calcRelativeAxis(t.x,e.x,n.x),calcRelativeAxis(t.y,e.y,n.y)}function calcRelativeAxisPosition(t,e,n){t.min=e.min-n.min,t.max=t.min+calcLength(e)}function calcRelativePosition(t,e,n){calcRelativeAxisPosition(t.x,e.x,n.x),calcRelativeAxisPosition(t.y,e.y,n.y)}function applyConstraints(t,{min:e,max:n},o){return e!==void 0&&t<e?t=o?mix(e,t,o.min):Math.max(t,e):n!==void 0&&t>n&&(t=o?mix(n,t,o.max):Math.min(t,n)),t}function calcRelativeAxisConstraints(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function calcRelativeConstraints(t,{top:e,left:n,bottom:o,right:l}){return{x:calcRelativeAxisConstraints(t.x,n,l),y:calcRelativeAxisConstraints(t.y,e,o)}}function calcViewportAxisConstraints(t,e){let n=e.min-t.min,o=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,o]=[o,n]),{min:n,max:o}}function calcViewportConstraints(t,e){return{x:calcViewportAxisConstraints(t.x,e.x),y:calcViewportAxisConstraints(t.y,e.y)}}function calcOrigin(t,e){let n=.5;const o=calcLength(t),l=calcLength(e);return l>o?n=progress(e.min,e.max-o,t.min):o>l&&(n=progress(t.min,t.max-l,e.min)),clamp$1(0,1,n)}function rebaseAxisConstraints(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const defaultElastic=.35;function resolveDragElastic(t=defaultElastic){return t===!1?t=0:t===!0&&(t=defaultElastic),{x:resolveAxisElastic(t,"left","right"),y:resolveAxisElastic(t,"top","bottom")}}function resolveAxisElastic(t,e,n){return{min:resolvePointElastic(t,e),max:resolvePointElastic(t,n)}}function resolvePointElastic(t,e){return typeof t=="number"?t:t[e]||0}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()});function eachAxis(t){return[t("x"),t("y")]}function convertBoundingBoxToBox({top:t,left:e,right:n,bottom:o}){return{x:{min:e,max:n},y:{min:t,max:o}}}function convertBoxToBoundingBox({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function transformBoxPoints(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),o=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:o.y,right:o.x}}function isIdentityScale(t){return t===void 0||t===1}function hasScale({scale:t,scaleX:e,scaleY:n}){return!isIdentityScale(t)||!isIdentityScale(e)||!isIdentityScale(n)}function hasTransform(t){return hasScale(t)||has2DTranslate(t)||t.z||t.rotate||t.rotateX||t.rotateY}function has2DTranslate(t){return is2DTranslate(t.x)||is2DTranslate(t.y)}function is2DTranslate(t){return t&&t!=="0%"}function scalePoint(t,e,n){const o=t-n,l=e*o;return n+l}function applyPointDelta(t,e,n,o,l){return l!==void 0&&(t=scalePoint(t,l,o)),scalePoint(t,n,o)+e}function applyAxisDelta(t,e=0,n=1,o,l){t.min=applyPointDelta(t.min,e,n,o,l),t.max=applyPointDelta(t.max,e,n,o,l)}function applyBoxDelta(t,{x:e,y:n}){applyAxisDelta(t.x,e.translate,e.scale,e.originPoint),applyAxisDelta(t.y,n.translate,n.scale,n.originPoint)}function applyTreeDeltas(t,e,n,o=!1){const l=n.length;if(!l)return;e.x=e.y=1;let u,h;for(let f=0;f<l;f++){u=n[f],h=u.projectionDelta;const d=u.instance;d&&d.style&&d.style.display==="contents"||(o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&transformBox(t,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),h&&(e.x*=h.x.scale,e.y*=h.y.scale,applyBoxDelta(t,h)),o&&hasTransform(u.latestValues)&&transformBox(t,u.latestValues))}e.x=snapToDefault(e.x),e.y=snapToDefault(e.y)}function snapToDefault(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function translateAxis(t,e){t.min=t.min+e,t.max=t.max+e}function transformAxis(t,e,[n,o,l]){const u=e[l]!==void 0?e[l]:.5,h=mix(t.min,t.max,u);applyAxisDelta(t,e[n],e[o],h,e.scale)}const xKeys$1=["x","scaleX","originX"],yKeys$1=["y","scaleY","originY"];function transformBox(t,e){transformAxis(t.x,e,xKeys$1),transformAxis(t.y,e,yKeys$1)}function measureViewportBox(t,e){return convertBoundingBoxToBox(transformBoxPoints(t.getBoundingClientRect(),e))}function measurePageBox(t,e,n){const o=measureViewportBox(t,n),{scroll:l}=e;return l&&(translateAxis(o.x,l.offset.x),translateAxis(o.y,l.offset.y)),o}const getContextWindow=({current:t})=>t?t.ownerDocument.defaultView:null,elementDragControls=new WeakMap;class VisualElementDragControls{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const l=m=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(extractEventInfo(m,"page").point)},u=(m,v)=>{const{drag:b,dragPropagation:S,onDragStart:T}=this.getProps();if(b&&!S&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=getGlobalLock(b),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(w=>{let R=this.getAxisMotionValue(w).get()||0;if(percent.test(R)){const{projection:L}=this.visualElement;if(L&&L.layout){const N=L.layout.layoutBox[w];N&&(R=calcLength(N)*(parseFloat(R)/100))}}this.originPoint[w]=R}),T&&frame.update(()=>T(m,v),!1,!0);const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},h=(m,v)=>{const{dragPropagation:b,dragDirectionLock:S,onDirectionLock:T,onDrag:C}=this.getProps();if(!b&&!this.openGlobalLock)return;const{offset:w}=v;if(S&&this.currentDirection===null){this.currentDirection=getCurrentDirection(w),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",v.point,w),this.updateAxis("y",v.point,w),this.visualElement.render(),C&&C(m,v)},f=(m,v)=>this.stop(m,v),d=()=>eachAxis(m=>{var v;return this.getAnimationState(m)==="paused"&&((v=this.getAxisMotionValue(m).animation)===null||v===void 0?void 0:v.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new PanSession(e,{onSessionStart:l,onStart:u,onMove:h,onSessionEnd:f,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:getContextWindow(this.visualElement)})}stop(e,n){const o=this.isDragging;if(this.cancel(),!o)return;const{velocity:l}=n;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&frame.update(()=>u(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:o}=this.getProps();!o&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,o){const{drag:l}=this.getProps();if(!o||!shouldDrag(e,l,this.currentDirection))return;const u=this.getAxisMotionValue(e);let h=this.originPoint[e]+o[e];this.constraints&&this.constraints[e]&&(h=applyConstraints(h,this.constraints[e],this.elastic[e])),u.set(h)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:o}=this.getProps(),l=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,u=this.constraints;n&&isRefObject$1(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&l?this.constraints=calcRelativeConstraints(l.layoutBox,n):this.constraints=!1,this.elastic=resolveDragElastic(o),u!==this.constraints&&l&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(h=>{this.getAxisMotionValue(h)&&(this.constraints[h]=rebaseAxisConstraints(l.layoutBox[h],this.constraints[h]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!isRefObject$1(e))return!1;const o=e.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const u=measurePageBox(o,l.root,this.visualElement.getTransformPagePoint());let h=calcViewportConstraints(l.layout.layoutBox,u);if(n){const f=n(convertBoxToBoundingBox(h));this.hasMutatedConstraints=!!f,f&&(h=convertBoundingBoxToBox(f))}return h}startAnimation(e){const{drag:n,dragMomentum:o,dragElastic:l,dragTransition:u,dragSnapToOrigin:h,onDragTransitionEnd:f}=this.getProps(),d=this.constraints||{},p=eachAxis(m=>{if(!shouldDrag(m,n,this.currentDirection))return;let v=d&&d[m]||{};h&&(v={min:0,max:0});const b=l?200:1e6,S=l?40:1e7,T={type:"inertia",velocity:o?e[m]:0,bounceStiffness:b,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...u,...v};return this.startAxisValueAnimation(m,T)});return Promise.all(p).then(f)}startAxisValueAnimation(e,n){const o=this.getAxisMotionValue(e);return o.start(animateMotionValue(e,o,0,n))}stopAnimation(){eachAxis(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){eachAxis(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),o=this.visualElement.getProps(),l=o[n];return l||this.visualElement.getValue(e,(o.initial?o.initial[e]:void 0)||0)}snapToCursor(e){eachAxis(n=>{const{drag:o}=this.getProps();if(!shouldDrag(n,o,this.currentDirection))return;const{projection:l}=this.visualElement,u=this.getAxisMotionValue(n);if(l&&l.layout){const{min:h,max:f}=l.layout.layoutBox[n];u.set(e[n]-mix(h,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:o}=this.visualElement;if(!isRefObject$1(n)||!o||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};eachAxis(h=>{const f=this.getAxisMotionValue(h);if(f){const d=f.get();l[h]=calcOrigin({min:d,max:d},this.constraints[h])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.resolveConstraints(),eachAxis(h=>{if(!shouldDrag(h,e,null))return;const f=this.getAxisMotionValue(h),{min:d,max:p}=this.constraints[h];f.set(mix(d,p,l[h]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const e=this.visualElement.current,n=addPointerEvent(e,"pointerdown",d=>{const{drag:p,dragListener:m=!0}=this.getProps();p&&m&&this.start(d)}),o=()=>{const{dragConstraints:d}=this.getProps();isRefObject$1(d)&&(this.constraints=this.resolveRefConstraints())},{projection:l}=this.visualElement,u=l.addEventListener("measure",o);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),o();const h=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),f=l.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(eachAxis(m=>{const v=this.getAxisMotionValue(m);v&&(this.originPoint[m]+=d[m].translate,v.set(v.get()+d[m].translate))}),this.visualElement.render())});return()=>{h(),n(),u(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:o=!1,dragPropagation:l=!1,dragConstraints:u=!1,dragElastic:h=defaultElastic,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:o,dragPropagation:l,dragConstraints:u,dragElastic:h,dragMomentum:f}}}function shouldDrag(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function getCurrentDirection(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class DragGesture extends Feature{constructor(e){super(e),this.removeGroupControls=noop$2,this.removeListeners=noop$2,this.controls=new VisualElementDragControls(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop$2}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=t=>(e,n)=>{t&&frame.update(()=>t(e,n))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop$2}onPointerDown(e){this.session=new PanSession(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:o,onPanEnd:l}=this.node.getProps();return{onSessionStart:asyncHandler(e),onStart:asyncHandler(n),onMove:o,onEnd:(u,h)=>{delete this.session,l&&frame.update(()=>l(u,h))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function usePresence(){const t=reactExports.useContext(PresenceContext);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:o}=t,l=reactExports.useId();return reactExports.useEffect(()=>o(l),[]),!e&&n?[!1,()=>n&&n(l)]:[!0]}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const correctBorderRadius={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(px$1.test(t))t=parseFloat(t);else return t;const n=pixelsToPercent(t,e.target.x),o=pixelsToPercent(t,e.target.y);return`${n}% ${o}%`}},correctBoxShadow={correct:(t,{treeScale:e,projectionDelta:n})=>{const o=t,l=complex.parse(t);if(l.length>5)return o;const u=complex.createTransformer(t),h=typeof l[0]!="number"?1:0,f=n.x.scale*e.x,d=n.y.scale*e.y;l[0+h]/=f,l[1+h]/=d;const p=mix(f,d,.5);return typeof l[2+h]=="number"&&(l[2+h]/=p),typeof l[3+h]=="number"&&(l[3+h]/=p),u(l)}};class MeasureLayoutWithContext extends React.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:o,layoutId:l}=this.props,{projection:u}=e;addScaleCorrector(defaultScaleCorrectors),u&&(n.group&&n.group.add(u),o&&o.register&&l&&o.register(u),u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:o,drag:l,isPresent:u}=this.props,h=o.projection;return h&&(h.isPresent=u,l||e.layoutDependency!==n||n===void 0?h.willUpdate():this.safeToRemove(),e.isPresent!==u&&(u?h.promote():h.relegate()||frame.postRender(()=>{const f=h.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:o}=this.props,{projection:l}=e;l&&(l.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(l),o&&o.deregister&&o.deregister(l))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function MeasureLayout(t){const[e,n]=usePresence(),o=reactExports.useContext(LayoutGroupContext);return React.createElement(MeasureLayoutWithContext,{...t,layoutGroup:o,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:e,safeToRemove:n})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow},borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=t=>typeof t=="string"?parseFloat(t):t,isPx=t=>typeof t=="number"||px$1.test(t);function mixValues(t,e,n,o,l,u){l?(t.opacity=mix(0,n.opacity!==void 0?n.opacity:1,easeCrossfadeIn(o)),t.opacityExit=mix(e.opacity!==void 0?e.opacity:1,0,easeCrossfadeOut(o))):u&&(t.opacity=mix(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,o));for(let h=0;h<numBorders;h++){const f=`border${borders[h]}Radius`;let d=getRadius(e,f),p=getRadius(n,f);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||isPx(d)===isPx(p)?(t[f]=Math.max(mix(asNumber(d),asNumber(p),o),0),(percent.test(p)||percent.test(d))&&(t[f]+="%")):t[f]=p}(e.rotate||n.rotate)&&(t.rotate=mix(e.rotate||0,n.rotate||0,o))}function getRadius(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop$2);function compress(t,e,n){return o=>o<t?0:o>e?1:n(progress(t,e,o))}function copyAxisInto(t,e){t.min=e.min,t.max=e.max}function copyBoxInto(t,e){copyAxisInto(t.x,e.x),copyAxisInto(t.y,e.y)}function removePointDelta(t,e,n,o,l){return t-=e,t=scalePoint(t,1/n,o),l!==void 0&&(t=scalePoint(t,1/l,o)),t}function removeAxisDelta(t,e=0,n=1,o=.5,l,u=t,h=t){if(percent.test(e)&&(e=parseFloat(e),e=mix(h.min,h.max,e/100)-h.min),typeof e!="number")return;let f=mix(u.min,u.max,o);t===u&&(f-=e),t.min=removePointDelta(t.min,e,n,f,l),t.max=removePointDelta(t.max,e,n,f,l)}function removeAxisTransforms(t,e,[n,o,l],u,h){removeAxisDelta(t,e[n],e[o],e[l],e.scale,u,h)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(t,e,n,o){removeAxisTransforms(t.x,e,xKeys,n?n.x:void 0,o?o.x:void 0),removeAxisTransforms(t.y,e,yKeys,n?n.y:void 0,o?o.y:void 0)}function isAxisDeltaZero(t){return t.translate===0&&t.scale===1}function isDeltaZero(t){return isAxisDeltaZero(t.x)&&isAxisDeltaZero(t.y)}function boxEquals(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function boxEqualsRounded(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function aspectRatio(t){return calcLength(t.x)/calcLength(t.y)}class NodeStack{constructor(){this.members=[]}add(e){addUniqueItem(this.members,e),e.scheduleRender()}remove(e){if(removeItem(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(l=>e===l);if(n===0)return!1;let o;for(let l=n;l>=0;l--){const u=this.members[l];if(u.isPresent!==!1){o=u;break}}return o?(this.promote(o),!0):!1}promote(e,n){const o=this.lead;if(e!==o&&(this.prevLead=o,this.lead=e,e.show(),o)){o.instance&&o.scheduleRender(),e.scheduleRender(),e.resumeFrom=o,n&&(e.resumeFrom.preserveOpacity=!0),o.snapshot&&(e.snapshot=o.snapshot,e.snapshot.latestValues=o.animationValues||o.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:l}=e.options;l===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:o}=e;n.onExitComplete&&n.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(t,e,n){let o="";const l=t.x.translate/e.x,u=t.y.translate/e.y;if((l||u)&&(o=`translate3d(${l}px, ${u}px, 0) `),(e.x!==1||e.y!==1)&&(o+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:d,rotateX:p,rotateY:m}=n;d&&(o+=`rotate(${d}deg) `),p&&(o+=`rotateX(${p}deg) `),m&&(o+=`rotateY(${m}deg) `)}const h=t.x.scale*e.x,f=t.y.scale*e.y;return(h!==1||f!==1)&&(o+=`scale(${h}, ${f})`),o||"none"}const compareByDepth=(t,e)=>t.depth-e.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(e){addUniqueItem(this.children,e),this.isDirty=!0}remove(e){removeItem(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(e)}}function delay(t,e){const n=performance.now(),o=({timestamp:l})=>{const u=l-n;u>=e&&(cancelFrame(o),t(u-e))};return frame.read(o,!0),()=>cancelFrame(o)}function record(t){window.MotionDebug&&window.MotionDebug.record(t)}function isSVGElement(t){return t instanceof SVGElement&&t.tagName!=="svg"}function animateSingleValue(t,e,n){const o=isMotionValue(t)?t:motionValue(t);return o.start(animateMotionValue("",o,e,n)),o.animation}const transformAxes=["","X","Y","Z"],hiddenVisibility={visibility:"hidden"},animationTarget=1e3;let id=0;const projectionFrameData={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function createProjectionNode({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:o,resetTransform:l}){return class{constructor(h={},f=e==null?void 0:e()){this.id=id++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,projectionFrameData.totalNodes=projectionFrameData.resolvedTargetDeltas=projectionFrameData.recalculatedProjection=0,this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes),record(projectionFrameData)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=h,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(h,f){return this.eventHandlers.has(h)||this.eventHandlers.set(h,new SubscriptionManager),this.eventHandlers.get(h).add(f)}notifyListeners(h,...f){const d=this.eventHandlers.get(h);d&&d.notify(...f)}hasListeners(h){return this.eventHandlers.has(h)}mount(h,f=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=isSVGElement(h),this.instance=h;const{layoutId:d,layout:p,visualElement:m}=this.options;if(m&&!m.current&&m.mount(h),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),f&&(p||d)&&(this.isLayoutDirty=!0),t){let v;const b=()=>this.root.updateBlockedByResize=!1;t(h,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=delay(b,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&m&&(d||p)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:b,hasRelativeTargetChanged:S,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||m.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:w,onLayoutAnimationComplete:R}=m.getProps(),L=!this.targetLayout||!boxEqualsRounded(this.targetLayout,T)||S,N=!b&&S;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||N||b&&(L||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,N);const F={...getValueTransition(C,"layout"),onPlay:w,onComplete:R};(m.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F)}else b||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const h=this.getStack();h&&h.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetRotation),this.animationId++)}getTransformTemplate(){const{visualElement:h}=this.options;return h&&h.getProps().transformTemplate}willUpdate(h=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const v=this.path[m];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:f,layout:d}=this.options;if(f===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),h&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}this.isUpdating||this.nodes.forEach(clearIsLayoutDirty),this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots();const f=performance.now();frameData.delta=clamp$1(0,1e3/60,f-frameData.timestamp),frameData.timestamp=f,frameData.isProcessing=!0,steps.update.process(frameData),steps.preRender.process(frameData),steps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const h=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,h?h.layoutBox:void 0)}updateScroll(h="measure"){let f=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===h&&(f=!1),f&&(this.scroll={animationId:this.root.animationId,phase:h,isRoot:o(this.instance),offset:n(this.instance)})}resetTransform(){if(!l)return;const h=this.isLayoutDirty||this.shouldResetTransform,f=this.projectionDelta&&!isDeltaZero(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,m=p!==this.prevTransformTemplateValue;h&&(f||hasTransform(this.latestValues)||m)&&(l(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(h=!0){const f=this.measurePageBox();let d=this.removeElementScroll(f);return h&&(d=this.removeTransform(d)),roundBox(d),{animationId:this.root.animationId,measuredBox:f,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:h}=this.options;if(!h)return createBox();const f=h.measureViewportBox(),{scroll:d}=this.root;return d&&(translateAxis(f.x,d.offset.x),translateAxis(f.y,d.offset.y)),f}removeElementScroll(h){const f=createBox();copyBoxInto(f,h);for(let d=0;d<this.path.length;d++){const p=this.path[d],{scroll:m,options:v}=p;if(p!==this.root&&m&&v.layoutScroll){if(m.isRoot){copyBoxInto(f,h);const{scroll:b}=this.root;b&&(translateAxis(f.x,-b.offset.x),translateAxis(f.y,-b.offset.y))}translateAxis(f.x,m.offset.x),translateAxis(f.y,m.offset.y)}}return f}applyTransform(h,f=!1){const d=createBox();copyBoxInto(d,h);for(let p=0;p<this.path.length;p++){const m=this.path[p];!f&&m.options.layoutScroll&&m.scroll&&m!==m.root&&transformBox(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),hasTransform(m.latestValues)&&transformBox(d,m.latestValues)}return hasTransform(this.latestValues)&&transformBox(d,this.latestValues),d}removeTransform(h){const f=createBox();copyBoxInto(f,h);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!hasTransform(p.latestValues))continue;hasScale(p.latestValues)&&p.updateSnapshot();const m=createBox(),v=p.measurePageBox();copyBoxInto(m,v),removeBoxTransforms(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,m)}return hasTransform(this.latestValues)&&removeBoxTransforms(f,this.latestValues),f}setTargetDelta(h){this.targetDelta=h,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(h){this.options={...this.options,...h,crossfade:h.crossfade!==void 0?h.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(h=!1){var f;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(h||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((f=this.parent)===null||f===void 0)&&f.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:v,layoutId:b}=this.options;if(!(!this.layout||!(v||b))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,S.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}projectionFrameData.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var h;const f=this.getLead(),d=!!this.resumingFrom||this!==f;let p=!0;if((this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(p=!1),p)return;const{layout:m,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||v))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,S=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,d),f.layout&&!f.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(f.target=f.layout.layoutBox);const{target:T}=f;if(!T){this.projectionTransform&&(this.projectionDelta=createDelta(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta());const C=this.projectionTransform;calcBoxDelta(this.projectionDelta,this.layoutCorrected,T,this.latestValues),this.projectionTransform=buildProjectionTransform(this.projectionDelta,this.treeScale),(this.projectionTransform!==C||this.treeScale.x!==b||this.treeScale.y!==S)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T)),projectionFrameData.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(h=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),h){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(h,f=!1){const d=this.snapshot,p=d?d.latestValues:{},m={...this.latestValues},v=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const b=createBox(),S=d?d.source:void 0,T=this.layout?this.layout.source:void 0,C=S!==T,w=this.getStack(),R=!w||w.members.length<=1,L=!!(C&&!R&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let N;this.mixTargetDelta=F=>{const B=F/1e3;mixAxisDelta(v.x,h.x,B),mixAxisDelta(v.y,h.y,B),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,b,B),N&&boxEquals(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=createBox()),copyBoxInto(N,this.relativeTarget)),C&&(this.animationValues=m,mixValues(m,p,this.latestValues,B,L,R)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(h){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.currentAnimation=animateSingleValue(0,animationTarget,{...h,onUpdate:f=>{this.mixTargetDelta(f),h.onUpdate&&h.onUpdate(f)},onComplete:()=>{h.onComplete&&h.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const h=this.getStack();h&&h.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const h=this.getLead();let{targetWithTransforms:f,target:d,layout:p,latestValues:m}=h;if(!(!f||!d||!p)){if(this!==h&&this.layout&&p&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||createBox();const v=calcLength(this.layout.layoutBox.x);d.x.min=h.target.x.min,d.x.max=d.x.min+v;const b=calcLength(this.layout.layoutBox.y);d.y.min=h.target.y.min,d.y.max=d.y.min+b}copyBoxInto(f,d),transformBox(f,m),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,f,m)}}registerSharedNode(h,f){this.sharedNodes.has(h)||this.sharedNodes.set(h,new NodeStack),this.sharedNodes.get(h).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const h=this.getStack();return h?h.lead===this:!0}getLead(){var h;const{layoutId:f}=this.options;return f?((h=this.getStack())===null||h===void 0?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:f}=this.options;return f?(h=this.getStack())===null||h===void 0?void 0:h.prevLead:void 0}getStack(){const{layoutId:h}=this.options;if(h)return this.root.sharedNodes.get(h)}promote({needsReset:h,transition:f,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),h&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const h=this.getStack();return h?h.relegate(this):!1}resetRotation(){const{visualElement:h}=this.options;if(!h)return;let f=!1;const{latestValues:d}=h;if((d.rotate||d.rotateX||d.rotateY||d.rotateZ)&&(f=!0),!f)return;const p={};for(let m=0;m<transformAxes.length;m++){const v="rotate"+transformAxes[m];d[v]&&(p[v]=d[v],h.setStaticValue(v,0))}h.render();for(const m in p)h.setStaticValue(m,p[m]);h.scheduleRender()}getProjectionStyles(h){var f,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hiddenVisibility;const p={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=resolveMotionValue(h==null?void 0:h.pointerEvents)||"",p.transform=m?m(this.latestValues,""):"none",p;const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){const C={};return this.options.layoutId&&(C.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,C.pointerEvents=resolveMotionValue(h==null?void 0:h.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(C.transform=m?m({},""):"none",this.hasProjected=!1),C}const b=v.animationValues||v.latestValues;this.applyTransformsToTarget(),p.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,b),m&&(p.transform=m(b,p.transform));const{x:S,y:T}=this.projectionDelta;p.transformOrigin=`${S.origin*100}% ${T.origin*100}% 0`,v.animationValues?p.opacity=v===this?(d=(f=b.opacity)!==null&&f!==void 0?f:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:b.opacityExit:p.opacity=v===this?b.opacity!==void 0?b.opacity:"":b.opacityExit!==void 0?b.opacityExit:0;for(const C in scaleCorrectors){if(b[C]===void 0)continue;const{correct:w,applyTo:R}=scaleCorrectors[C],L=p.transform==="none"?b[C]:w(b[C],v);if(R){const N=R.length;for(let F=0;F<N;F++)p[R[F]]=L}else p[C]=L}return this.options.layoutId&&(p.pointerEvents=v===this?resolveMotionValue(h==null?void 0:h.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(h=>{var f;return(f=h.currentAnimation)===null||f===void 0?void 0:f.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(t){t.updateLayout()}function notifyLayoutUpdate(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:o,measuredBox:l}=t.layout,{animationType:u}=t.options,h=n.source!==t.layout.source;u==="size"?eachAxis(v=>{const b=h?n.measuredBox[v]:n.layoutBox[v],S=calcLength(b);b.min=o[v].min,b.max=b.min+S}):shouldAnimatePositionOnly(u,n.layoutBox,o)&&eachAxis(v=>{const b=h?n.measuredBox[v]:n.layoutBox[v],S=calcLength(o[v]);b.max=b.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+S)});const f=createDelta();calcBoxDelta(f,o,n.layoutBox);const d=createDelta();h?calcBoxDelta(d,t.applyTransform(l,!0),n.measuredBox):calcBoxDelta(d,o,n.layoutBox);const p=!isDeltaZero(f);let m=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:b,layout:S}=v;if(b&&S){const T=createBox();calcRelativePosition(T,n.layoutBox,b.layoutBox);const C=createBox();calcRelativePosition(C,o,S.layoutBox),boxEqualsRounded(T,C)||(m=!0),v.options.layoutRoot&&(t.relativeTarget=C,t.relativeTargetOrigin=T,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:o,snapshot:n,delta:d,layoutDelta:f,hasLayoutChanged:p,hasRelativeTargetChanged:m})}else if(t.isLead()){const{onExitComplete:o}=t.options;o&&o()}t.options.transition=void 0}function propagateDirtyNodes(t){projectionFrameData.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function cleanDirtyNodes(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function clearSnapshot(t){t.clearSnapshot()}function clearMeasurements(t){t.clearMeasurements()}function clearIsLayoutDirty(t){t.isLayoutDirty=!1}function resetTransformStyle(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function finishAnimation(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function resolveTargetDelta(t){t.resolveTargetDelta()}function calcProjection(t){t.calcProjection()}function resetRotation(t){t.resetRotation()}function removeLeadSnapshots(t){t.removeLeadSnapshot()}function mixAxisDelta(t,e,n){t.translate=mix(e.translate,0,n),t.scale=mix(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function mixAxis(t,e,n,o){t.min=mix(e.min,n.min,o),t.max=mix(e.max,n.max,o)}function mixBox(t,e,n,o){mixAxis(t.x,e.x,n.x,o),mixAxis(t.y,e.y,n.y,o)}function hasOpacityCrossfade(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop$2;function roundAxis(t){t.min=roundPoint(t.min),t.max=roundPoint(t.max)}function roundBox(t){roundAxis(t.x),roundAxis(t.y)}function shouldAnimatePositionOnly(t,e,n){return t==="position"||t==="preserve-aspect"&&!isNear(aspectRatio(e),aspectRatio(n),.2)}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(t,e)=>addDomEvent(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const t=new DocumentProjectionNode({});t.mount(window),t.setOptions({layoutScroll:!0}),rootProjectionNode.current=t}return rootProjectionNode.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}},splitCSSVariableRegex=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function parseCSSVariable(t){const e=splitCSSVariableRegex.exec(t);if(!e)return[,];const[,n,o]=e;return[n,o]}function getVariableValue(t,e,n=1){const[o,l]=parseCSSVariable(t);if(!o)return;const u=window.getComputedStyle(e).getPropertyValue(o);if(u){const h=u.trim();return isNumericalString(h)?parseFloat(h):h}else return isCSSVariableToken(l)?getVariableValue(l,e,n+1):l}function resolveCSSVariables(t,{...e},n){const o=t.current;if(!(o instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(l=>{const u=l.get();if(!isCSSVariableToken(u))return;const h=getVariableValue(u,o);h&&l.set(h)});for(const l in e){const u=e[l];if(!isCSSVariableToken(u))continue;const h=getVariableValue(u,o);h&&(e[l]=h,n||(n={}),n[l]===void 0&&(n[l]=u))}return{target:e,transitionEnd:n}}const positionalKeys=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),isPositionalKey=t=>positionalKeys.has(t),hasPositionalKey=t=>Object.keys(t).some(isPositionalKey),isNumOrPxType=t=>t===number$3||t===px$1,getPosFromMatrix=(t,e)=>parseFloat(t.split(", ")[e]),getTranslateFromMatrix=(t,e)=>(n,{transform:o})=>{if(o==="none"||!o)return 0;const l=o.match(/^matrix3d\((.+)\)$/);if(l)return getPosFromMatrix(l[1],e);{const u=o.match(/^matrix\((.+)\)$/);return u?getPosFromMatrix(u[1],t):0}},transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(t=>!transformKeys.has(t));function removeNonTranslationalTransform(t){const e=[];return nonTranslationalTransformKeys.forEach(n=>{const o=t.getValue(n);o!==void 0&&(e.push([n,o.get()]),o.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const positionalValues={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:getTranslateFromMatrix(4,13),y:getTranslateFromMatrix(5,14)};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const convertChangedValueTypes=(t,e,n)=>{const o=e.measureViewportBox(),l=e.current,u=getComputedStyle(l),{display:h}=u,f={};h==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(p=>{f[p]=positionalValues[p](o,u)}),e.render();const d=e.measureViewportBox();return n.forEach(p=>{const m=e.getValue(p);m&&m.jump(f[p]),t[p]=positionalValues[p](d,u)}),t},checkAndConvertChangedValueTypes=(t,e,n={},o={})=>{e={...e},o={...o};const l=Object.keys(e).filter(isPositionalKey);let u=[],h=!1;const f=[];if(l.forEach(d=>{const p=t.getValue(d);if(!t.hasValue(d))return;let m=n[d],v=findDimensionValueType(m);const b=e[d];let S;if(isKeyframesTarget(b)){const T=b.length,C=b[0]===null?1:0;m=b[C],v=findDimensionValueType(m);for(let w=C;w<T&&b[w]!==null;w++)S?invariant$1(findDimensionValueType(b[w])===S):S=findDimensionValueType(b[w])}else S=findDimensionValueType(b);if(v!==S)if(isNumOrPxType(v)&&isNumOrPxType(S)){const T=p.get();typeof T=="string"&&p.set(parseFloat(T)),typeof b=="string"?e[d]=parseFloat(b):Array.isArray(b)&&S===px$1&&(e[d]=b.map(parseFloat))}else v!=null&&v.transform&&(S!=null&&S.transform)&&(m===0||b===0)?m===0?p.set(S.transform(m)):e[d]=v.transform(b):(h||(u=removeNonTranslationalTransform(t),h=!0),f.push(d),o[d]=o[d]!==void 0?o[d]:e[d],p.jump(b))}),f.length){const d=f.indexOf("height")>=0?window.pageYOffset:null,p=convertChangedValueTypes(e,t,f);return u.length&&u.forEach(([m,v])=>{t.getValue(m).set(v)}),t.render(),isBrowser&&d!==null&&window.scrollTo({top:d}),{target:p,transitionEnd:o}}else return{target:e,transitionEnd:o}};function unitConversion(t,e,n,o){return hasPositionalKey(e)?checkAndConvertChangedValueTypes(t,e,n,o):{target:e,transitionEnd:o}}const parseDomVariant=(t,e,n,o)=>{const l=resolveCSSVariables(t,e,o);return e=l.target,o=l.transitionEnd,unitConversion(t,e,n,o)},prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>prefersReducedMotion.current=t.matches;t.addListener(e),e()}else prefersReducedMotion.current=!1}function updateMotionValuesFromProps(t,e,n){const{willChange:o}=e;for(const l in e){const u=e[l],h=n[l];if(isMotionValue(u))t.addValue(l,u),isWillChangeMotionValue(o)&&o.add(l);else if(isMotionValue(h))t.addValue(l,motionValue(u,{owner:t})),isWillChangeMotionValue(o)&&o.remove(l);else if(h!==u)if(t.hasValue(l)){const f=t.getValue(l);!f.hasAnimated&&f.set(u)}else{const f=t.getStaticValue(l);t.addValue(l,motionValue(f!==void 0?f:u,{owner:t}))}}for(const l in n)e[l]===void 0&&t.removeValue(l);return e}const visualElementStore=new WeakMap,featureNames=Object.keys(featureDefinitions),numFeatures=featureNames.length,propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],numVariantProps=variantProps.length;class VisualElement{constructor({parent:e,props:n,presenceContext:o,reducedMotionConfig:l,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>frame.render(this.render,!1,!0);const{latestValues:f,renderState:d}=u;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=o,this.depth=e?e.depth+1:0,this.reducedMotionConfig=l,this.options=h,this.isControllingVariants=isControllingVariants(n),this.isVariantNode=isVariantNode(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...m}=this.scrapeMotionValuesFromProps(n,{});for(const v in m){const b=m[v];f[v]!==void 0&&isMotionValue(b)&&(b.set(f[v],!1),isWillChangeMotionValue(p)&&p.add(v))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,visualElementStore.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,o)=>this.bindToMotionValue(o,n)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){visualElementStore.delete(this.current),this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const o=transformProps.has(e),l=n.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&frame.update(this.notifyUpdate,!1,!0),o&&this.projection&&(this.projection.isTransformDirty=!0)}),u=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{l(),u()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},o,l,u){let h,f;for(let d=0;d<numFeatures;d++){const p=featureNames[d],{isEnabled:m,Feature:v,ProjectionNode:b,MeasureLayout:S}=featureDefinitions[p];b&&(h=b),m(n)&&(!this.features[p]&&v&&(this.features[p]=new v(this)),S&&(f=S))}if((this.type==="html"||this.type==="svg")&&!this.projection&&h){this.projection=new h(this.latestValues,this.parent&&this.parent.projection);const{layoutId:d,layout:p,drag:m,dragConstraints:v,layoutScroll:b,layoutRoot:S}=n;this.projection.setOptions({layoutId:d,layout:p,alwaysMeasureLayout:!!m||v&&isRefObject$1(v),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof p=="string"?p:"both",initialPromotionConfig:u,layoutScroll:b,layoutRoot:S})}return f}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let o=0;o<propEventHandlers.length;o++){const l=propEventHandlers[o];this.propEventSubscriptions[l]&&(this.propEventSubscriptions[l](),delete this.propEventSubscriptions[l]);const u=e["on"+l];u&&(this.propEventSubscriptions[l]=this.on(l,u))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const o=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(o.initial=this.props.initial),o}const n={};for(let o=0;o<numVariantProps;o++){const l=variantProps[o],u=this.props[l];(isVariantLabel(u)||u===!1)&&(n[l]=u)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let o=this.values.get(e);return o===void 0&&n!==void 0&&(o=motionValue(n,{owner:this}),this.addValue(e,o)),o}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:o}=this.props,l=typeof o=="string"||typeof o=="object"?(n=resolveVariantFromProps(this.props,o))===null||n===void 0?void 0:n[e]:void 0;if(o&&l!==void 0)return l;const u=this.getBaseTargetFromProps(this.props,e);return u!==void 0&&!isMotionValue(u)?u:this.initialValues[e]!==void 0&&l===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new SubscriptionManager),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class DOMVisualElement extends VisualElement{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:o}){delete n[e],delete o[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...o},{transformValues:l},u){let h=getOrigin(o,e||{},this);if(l&&(n&&(n=l(n)),o&&(o=l(o)),h&&(h=l(h))),u){checkTargetForNewValues(this,o,h);const f=parseDomVariant(this,o,h,n);n=f.transitionEnd,o=f.target}return{transition:e,transitionEnd:n,...o}}}function getComputedStyle$2(t){return window.getComputedStyle(t)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(transformProps.has(n)){const o=getDefaultValueType(n);return o&&o.default||0}else{const o=getComputedStyle$2(e),l=(isCSSVariableName(n)?o.getPropertyValue(n):o[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:n}){return measureViewportBox(e,n)}build(e,n,o,l){buildHTMLStyles(e,n,o,l.transformTemplate)}scrapeMotionValuesFromProps(e,n){return scrapeMotionValuesFromProps$1(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;isMotionValue(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,o,l){renderHTML(e,n,o,l)}}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(transformProps.has(n)){const o=getDefaultValueType(n);return o&&o.default||0}return n=camelCaseAttributes.has(n)?n:camelToDash(n),e.getAttribute(n)}measureInstanceViewportBox(){return createBox()}scrapeMotionValuesFromProps(e,n){return scrapeMotionValuesFromProps(e,n)}build(e,n,o,l){buildSVGAttrs(e,n,o,this.isSVGTag,l.transformTemplate)}renderInstance(e,n,o,l){renderSVG(e,n,o,l)}mount(e){this.isSVGTag=isSVGTag(e.tagName),super.mount(e)}}const createDomVisualElement=(t,e)=>isSVGComponent(t)?new SVGVisualElement(e,{enableHardwareAcceleration:!1}):new HTMLVisualElement(e,{enableHardwareAcceleration:!0}),layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},preloadedFeatures={...animations,...gestureAnimations,...drag,...layout},motion=createMotionProxy((t,e)=>createDomMotionConfig(t,e,preloadedFeatures,createDomVisualElement));function stopAnimation(t){t.values.forEach(e=>e.stop())}function animationControls(){const t=new Set,e={subscribe(n){return t.add(n),()=>void t.delete(n)},start(n,o){const l=[];return t.forEach(u=>{l.push(animateVisualElement(u,n,{transitionOverride:o}))}),Promise.all(l)},set(n){return t.forEach(o=>{setValues(o,n)})},stop(){t.forEach(n=>{stopAnimation(n)})},mount(){return()=>{e.stop()}}};return e}function useAnimationControls(){const t=useConstant(animationControls);return useIsomorphicLayoutEffect$2(t.mount,[]),t}const useAnimation=useAnimationControls,Layout=()=>jsxRuntimeExports.jsxs("div",{className:"flex flex-col min-h-screen",children:[jsxRuntimeExports.jsx(Navbar,{}),jsxRuntimeExports.jsx(motion.main,{className:"flex-grow",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:jsxRuntimeExports.jsx(Outlet,{})}),jsxRuntimeExports.jsx(Footer,{})]});var observerMap=new Map,RootIds=new WeakMap,rootId=0,unsupportedValue=void 0;function getRootId(t){return t?(RootIds.has(t)||(rootId+=1,RootIds.set(t,rootId.toString())),RootIds.get(t)):"0"}function optionsToId(t){return Object.keys(t).sort().filter(e=>t[e]!==void 0).map(e=>`${e}_${e==="root"?getRootId(t.root):t[e]}`).toString()}function createObserver(t){const e=optionsToId(t);let n=observerMap.get(e);if(!n){const o=new Map;let l;const u=new IntersectionObserver(h=>{h.forEach(f=>{var d;const p=f.isIntersecting&&l.some(m=>f.intersectionRatio>=m);t.trackVisibility&&typeof f.isVisible>"u"&&(f.isVisible=p),(d=o.get(f.target))==null||d.forEach(m=>{m(p,f)})})},t);l=u.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),n={id:e,observer:u,elements:o},observerMap.set(e,n)}return n}function observe(t,e,n={},o=unsupportedValue){if(typeof window.IntersectionObserver>"u"&&o!==void 0){const d=t.getBoundingClientRect();return e(o,{isIntersecting:o,target:t,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:d,intersectionRect:d,rootBounds:d}),()=>{}}const{id:l,observer:u,elements:h}=createObserver(n),f=h.get(t)||[];return h.has(t)||h.set(t,f),f.push(e),u.observe(t),function(){f.splice(f.indexOf(e),1),f.length===0&&(h.delete(t),u.unobserve(t)),h.size===0&&(u.disconnect(),observerMap.delete(l))}}function useInView({threshold:t,delay:e,trackVisibility:n,rootMargin:o,root:l,triggerOnce:u,skip:h,initialInView:f,fallbackInView:d,onChange:p}={}){var m;const[v,b]=reactExports.useState(null),S=reactExports.useRef(p),[T,C]=reactExports.useState({inView:!!f,entry:void 0});S.current=p,reactExports.useEffect(()=>{if(h||!v)return;let N;return N=observe(v,(F,B)=>{C({inView:F,entry:B}),S.current&&S.current(F,B),B.isIntersecting&&u&&N&&(N(),N=void 0)},{root:l,rootMargin:o,threshold:t,trackVisibility:n,delay:e},d),()=>{N&&N()}},[Array.isArray(t)?t.toString():t,v,l,o,u,h,n,d,e]);const w=(m=T.entry)==null?void 0:m.target,R=reactExports.useRef(void 0);!v&&w&&!u&&!h&&R.current!==w&&(R.current=w,C({inView:!!f,entry:void 0}));const L=[b,T.inView,T.entry];return L.ref=L[0],L.inView=L[1],L.entry=L[2],L}const Hero=({title:t,subtitle:e,ctaText:n,ctaLink:o,secondaryCtaText:l,secondaryCtaLink:u,imageUrl:h})=>jsxRuntimeExports.jsxs("div",{className:"relative bg-gradient-to-b from-primary-50 to-white pt-32 pb-16 md:pt-40 md:pb-24",children:[jsxRuntimeExports.jsx("div",{className:"container-custom",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.8},children:[jsxRuntimeExports.jsx("h1",{className:"text-primary-800 font-bold mb-4 leading-tight",children:t}),jsxRuntimeExports.jsx("p",{className:"text-lg text-gray-700 mb-8 max-w-lg",children:e}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4",children:[jsxRuntimeExports.jsx(Link,{to:o,className:"btn btn-primary",children:n}),l&&u&&jsxRuntimeExports.jsx(Link,{to:u,className:"btn btn-outline",children:l})]})]}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.2},className:"relative",children:[jsxRuntimeExports.jsx("img",{src:h,alt:"Cotton field",className:"rounded-lg shadow-xl w-full object-cover h-80 lg:h-96"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-primary-600 opacity-20 rounded-lg"})]})]})}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 left-0 right-0",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 320",children:jsxRuntimeExports.jsx("path",{fill:"#ffffff",fillOpacity:"1",d:"M0,128L80,144C160,160,320,192,480,186.7C640,181,800,139,960,128C1120,117,1280,139,1360,149.3L1440,160L1440,320L1360,320C1280,320,1120,320,960,320C800,320,640,320,480,320C320,320,160,320,80,320L0,320Z"})})})]}),SectionHeader=({title:t,subtitle:e,centered:n=!1})=>{const[o,l]=useInView({triggerOnce:!0,threshold:.1});return jsxRuntimeExports.jsxs(motion.div,{ref:o,initial:{opacity:0,y:20},animate:l?{opacity:1,y:0}:{opacity:0,y:20},transition:{duration:.6},className:`mb-10 ${n?"text-center":""}`,children:[jsxRuntimeExports.jsx("h2",{className:"text-primary-800",children:t}),e&&jsxRuntimeExports.jsx("p",{className:`text-lg text-gray-600 mt-3 ${n?"max-w-3xl mx-auto":""}`,children:e}),jsxRuntimeExports.jsx("div",{className:`h-1 w-20 bg-primary-600 mt-4 rounded ${n?"mx-auto":""}`})]})},InfoCard=({title:t,description:e,content:n,icon:o,delay:l=0,illustration:u})=>{const h=e||n,[f,d]=useInView({triggerOnce:!0,threshold:.3}),p={hidden:{opacity:0,y:20,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{duration:.5,delay:l*.1,ease:"easeOut"}},hover:{scale:1.05,zIndex:10,transition:{duration:.2,ease:"easeInOut"}},notHovered:{scale:.95,opacity:.7,transition:{duration:.2,ease:"easeInOut"}}},m={hidden:{scale:0,rotate:-180},visible:{scale:1,rotate:0,transition:{duration:.5,delay:l*.1+.2,type:"spring",stiffness:200}}};return jsxRuntimeExports.jsxs(motion.div,{ref:f,variants:p,initial:"hidden",whileInView:"visible",whileHover:"hover",viewport:{once:!0,amount:.3},className:"bg-white rounded-lg p-6 shadow-md hover:shadow-xl transition-all relative overflow-hidden group",children:[jsxRuntimeExports.jsxs(motion.div,{className:"relative z-10",whileHover:{scale:1.05},children:[o&&jsxRuntimeExports.jsx(motion.div,{variants:m,className:"flex items-center mb-4",children:jsxRuntimeExports.jsx("div",{className:"bg-primary-100 p-3 rounded-lg",children:jsxRuntimeExports.jsx(o,{className:"w-6 h-6 text-primary-600"})})}),jsxRuntimeExports.jsx(motion.h3,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},transition:{delay:l*.1+.3},className:"text-xl font-semibold mb-2 text-gray-800",children:t}),jsxRuntimeExports.jsx(motion.p,{initial:{opacity:0},whileInView:{opacity:1},transition:{delay:l*.1+.4},className:"text-gray-600",children:h})]}),u&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,scale:.8},whileInView:{opacity:.1,scale:1},transition:{delay:l*.1+.5},className:"absolute -bottom-8 -right-8 w-32 h-32 pointer-events-none",children:jsxRuntimeExports.jsx("img",{src:u,alt:"",className:"w-full h-full object-contain"})}),jsxRuntimeExports.jsx(motion.div,{initial:{scale:0},whileInView:{scale:1},transition:{delay:l*.1+.6},className:"absolute -bottom-12 -right-12 w-24 h-24 bg-primary-100 rounded-full opacity-10"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary-500/0 via-primary-500/5 to-primary-500/0 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})},VideoPlayer=({src:t,title:e,poster:n,initialMuted:o=!0})=>{const[l,u]=React.useState(!1),[h,f]=React.useState(o),d=React.useRef(null);React.useEffect(()=>{d.current&&(d.current.muted=h)},[h]);const p=()=>{d.current&&(l?d.current.pause():d.current.play())},m=()=>{d.current&&(d.current.muted=!h,f(!h))},v=()=>u(!0),b=()=>u(!1),S=()=>u(!1),T=()=>console.error("Erro ao carregar o vídeo.");return jsxRuntimeExports.jsxs("div",{className:"relative rounded-xl overflow-hidden shadow-lg group",children:[jsxRuntimeExports.jsx("video",{ref:d,className:"w-full aspect-video object-cover",src:t,poster:n,muted:h,playsInline:!0,onPlay:v,onPause:b,onEnded:S,onError:T}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:p,className:"p-3 bg-white rounded-full hover:bg-primary-50 transition-colors","aria-label":l?"Pausar vídeo":"Reproduzir vídeo",children:l?jsxRuntimeExports.jsx(Pause,{className:"w-6 h-6 text-primary-600"}):jsxRuntimeExports.jsx(Play,{className:"w-6 h-6 text-primary-600"})}),jsxRuntimeExports.jsx("button",{onClick:m,className:"p-3 bg-white rounded-full hover:bg-primary-50 transition-colors","aria-label":h?"Ativar som":"Desativar som",children:h?jsxRuntimeExports.jsx(VolumeX,{className:"w-6 h-6 text-primary-600"}):jsxRuntimeExports.jsx(Volume2,{className:"w-6 h-6 text-primary-600"})})]})}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black to-transparent",children:jsxRuntimeExports.jsx("h3",{className:"text-white font-medium",children:e})})]})},HomePage=()=>{reactExports.useEffect(()=>{document.title="AlgodãoTech - Desvendando o Yield Gap do Algodão no Brasil"},[]);const[t,e]=useInView({triggerOnce:!0,threshold:.1});return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Hero,{title:"Yield Gap do Algodão no Brasil",subtitle:"Maximizando a produtividade para um futuro sustentável da cotonicultura brasileira",imageUrl:"https://images.pexels.com/photos/1595104/pexels-photo-1595104.jpeg"}),jsxRuntimeExports.jsx("section",{className:"section",children:jsxRuntimeExports.jsxs("div",{className:"container-custom",children:[jsxRuntimeExports.jsx(SectionHeader,{title:"O Que é o Yield Gap?",subtitle:"Entenda a diferença entre o potencial produtivo e a realidade nas lavouras de algodão brasileiras.",centered:!0}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-10",children:[jsxRuntimeExports.jsx("div",{className:"w-full md:w-1/2",children:jsxRuntimeExports.jsx(VideoPlayer,{src:"https://player.vimeo.com/external/373787639.hd.mp4?s=dee27e23aac0fc7c24892cf4b1cacce6b7c57c6c&profile_id=175&oauth2_token_id=57447761",title:"Entendendo o Yield Gap",poster:"https://images.pexels.com/photos/4946994/pexels-photo-4946994.jpeg"})}),jsxRuntimeExports.jsx("div",{className:"w-full md:w-1/2",children:jsxRuntimeExports.jsxs(motion.div,{ref:t,initial:{opacity:0,x:20},animate:e?{opacity:1,x:0}:{opacity:0,x:20},transition:{duration:.6},children:[jsxRuntimeExports.jsx("h3",{className:"text-2xl font-semibold mb-4 text-primary-800",children:"Por que isso importa?"}),jsxRuntimeExports.jsxs("p",{className:"mb-4 text-gray-700",children:["O ",jsxRuntimeExports.jsx("strong",{children:"yield gap"})," (lacuna de produtividade) representa a diferença entre a produtividade potencial que poderia ser alcançada em condições ideais e a produtividade real obtida nas fazendas brasileiras."]}),jsxRuntimeExports.jsx("p",{className:"mb-4 text-gray-700",children:"Reduzir essa lacuna significa aumentar a produção sem expandir a área plantada, resultando em maior eficiência, sustentabilidade e lucratividade."}),jsxRuntimeExports.jsx("div",{className:"mt-6",children:jsxRuntimeExports.jsx(Link,{to:"/what-is-yield-gap",className:"btn btn-primary",children:"Entenda o Conceito"})})]})})]})]})}),jsxRuntimeExports.jsx("section",{className:"section bg-primary-50",children:jsxRuntimeExports.jsxs("div",{className:"container-custom",children:[jsxRuntimeExports.jsx(SectionHeader,{title:"Explorando o Yield Gap",subtitle:"Conheça as principais áreas de estudo para entender e solucionar o yield gap do algodão no Brasil.",centered:!0}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[jsxRuntimeExports.jsx(InfoCard,{title:"O Que é Yield Gap",description:"Entenda o conceito, os tipos de produtividade e a importância de reduzir essa lacuna.",icon:Sprout,delay:0,illustration:"https://images.pexels.com/photos/1595104/pexels-photo-1595104.jpeg"}),jsxRuntimeExports.jsx(InfoCard,{title:"Evolução Histórica",description:"Conheça a evolução do yield gap na cotonicultura brasileira desde 2000 até 2025.",icon:BarChart3,delay:1,illustration:"https://images.pexels.com/photos/4946994/pexels-photo-4946994.jpeg"}),jsxRuntimeExports.jsx(InfoCard,{title:"Ferramentas de Análise",description:"Descubra as principais tecnologias e metodologias para identificar e quantificar o yield gap.",icon:PenTool,delay:2,illustration:"https://images.pexels.com/photos/1112080/pexels-photo-1112080.jpeg"}),jsxRuntimeExports.jsx(InfoCard,{title:"Soluções Práticas",description:"Conheça as melhores práticas e tecnologias para reduzir o yield gap e aumentar a produtividade.",icon:BookOpen,delay:3,illustration:"https://images.pexels.com/photos/440731/pexels-photo-440731.jpeg"})]})]})}),jsxRuntimeExports.jsx("section",{className:"section bg-white",children:jsxRuntimeExports.jsx("div",{className:"container-custom",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0,amount:.3},children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-semibold mb-6 text-primary-800",children:"Transforme sua produção de algodão"}),jsxRuntimeExports.jsx("p",{className:"mb-4 text-gray-700",children:"Nosso objetivo é fornecer conhecimento e soluções práticas para agricultores, pesquisadores e estudantes interessados em melhorar a produtividade do algodão brasileiro."}),jsxRuntimeExports.jsx("p",{className:"mb-6 text-gray-700",children:"Através de conteúdo educacional, ferramentas de análise e recomendações baseadas em evidências científicas, queremos contribuir para uma cotonicultura mais eficiente e sustentável."}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4",children:[jsxRuntimeExports.jsx(Link,{to:"/steps-to-avoid",className:"btn btn-primary",children:"Passos Práticos"}),jsxRuntimeExports.jsx(Link,{to:"/about-us",className:"btn btn-outline",children:"Conheça Nossa Equipe"})]})]}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},transition:{duration:.6},viewport:{once:!0,amount:.3},className:"relative",children:[jsxRuntimeExports.jsx(VideoPlayer,{src:"https://player.vimeo.com/external/373787639.hd.mp4?s=dee27e23aac0fc7c24892cf4b1cacce6b7c57c6c&profile_id=175&oauth2_token_id=57447761",title:"Transformando a Cotonicultura",poster:"https://images.pexels.com/photos/1166209/pexels-photo-1166209.jpeg"}),jsxRuntimeExports.jsx("div",{className:"absolute top-0 left-0 bg-primary-600 text-white font-semibold py-2 px-4 rounded-tl-lg rounded-br-lg",children:"Inovação na Cotonicultura"})]})]})})}),jsxRuntimeExports.jsx("section",{className:"section bg-gray-900 text-white",children:jsxRuntimeExports.jsxs("div",{className:"container-custom text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 text-white",children:"Pronto para maximizar sua produtividade?"}),jsxRuntimeExports.jsx("p",{className:"text-lg text-gray-300 mb-8 max-w-3xl mx-auto",children:"Descubra como reduzir o yield gap e aumentar a eficiência da sua produção de algodão."}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[jsxRuntimeExports.jsx(Link,{to:"/solve-yield-gap",className:"btn bg-primary-500 text-white hover:bg-primary-600",children:"Explorar Soluções"}),jsxRuntimeExports.jsx(Link,{to:"/minecraft-yield-gap",className:"btn bg-accent-500 text-white hover:bg-accent-600",children:"Jogo em Minecraft"})]})]})})]})},YieldGapInfoGraphic=()=>{const[t,e]=useInView({triggerOnce:!0,threshold:.2}),n={hidden:{width:0},visible:o=>({width:`${o}%`,transition:{duration:1,delay:o*.01}})};return jsxRuntimeExports.jsxs(motion.div,{ref:t,className:"bg-white rounded-xl shadow-md p-6 md:p-8",initial:{opacity:0},animate:e?{opacity:1}:{opacity:0},transition:{duration:.5},children:[jsxRuntimeExports.jsx("h3",{className:"text-xl md:text-2xl font-semibold mb-6 text-center text-primary-800",children:"Entendendo o Yield Gap no Algodão"}),jsxRuntimeExports.jsxs("div",{className:"space-y-10 my-8",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-2",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold text-gray-800",children:"Produtividade Potencial (PP)"}),jsxRuntimeExports.jsx("span",{className:"font-bold text-primary-800",children:"100%"})]}),jsxRuntimeExports.jsx("div",{className:"h-8 bg-gray-100 rounded-full overflow-hidden",children:jsxRuntimeExports.jsx(motion.div,{className:"h-full bg-primary-600 rounded-full",custom:100,variants:n,initial:"hidden",animate:e?"visible":"hidden"})}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"O rendimento máximo teórico que poderia ser alcançado em condições ideais, sem limitações."})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-2",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold text-gray-800",children:"Produtividade Atingível (PA)"}),jsxRuntimeExports.jsx("span",{className:"font-bold text-accent-600",children:"80%"})]}),jsxRuntimeExports.jsx("div",{className:"h-8 bg-gray-100 rounded-full overflow-hidden",children:jsxRuntimeExports.jsx(motion.div,{className:"h-full bg-accent-500 rounded-full",custom:80,variants:n,initial:"hidden",animate:e?"visible":"hidden"})}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"O rendimento máximo que poderia ser alcançado com as melhores práticas de manejo disponíveis."})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-2",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold text-gray-800",children:"Produtividade Real (PR)"}),jsxRuntimeExports.jsx("span",{className:"font-bold text-warning-600",children:"50%"})]}),jsxRuntimeExports.jsx("div",{className:"h-8 bg-gray-100 rounded-full overflow-hidden",children:jsxRuntimeExports.jsx(motion.div,{className:"h-full bg-warning-500 rounded-full",custom:50,variants:n,initial:"hidden",animate:e?"visible":"hidden"})}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"O rendimento que os agricultores realmente alcançam nas condições atuais de cultivo."})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-8 p-4 bg-primary-50 rounded-lg",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-primary-800 mb-2",children:"Yield Gap = Produtividade Atingível - Produtividade Real"}),jsxRuntimeExports.jsx("p",{className:"text-gray-700",children:'O "yield gap" representa a diferença entre o que poderia ser produzido (PA) e o que realmente é produzido (PR). Reduzir este gap significa aumentar a produtividade sem necessariamente expandir a área plantada.'})]})]})},WhatIsYieldGap=()=>{reactExports.useEffect(()=>{document.title="O que é Yield Gap no Algodão? | AlgodãoTech"},[]);const[t,e]=useInView({triggerOnce:!0,threshold:.1}),[n,o]=useInView({triggerOnce:!0,threshold:.1});return jsxRuntimeExports.jsxs("div",{className:"pt-24",children:[jsxRuntimeExports.jsx("section",{className:"section bg-primary-50",children:jsxRuntimeExports.jsxs("div",{className:"container-custom",children:[jsxRuntimeExports.jsx(SectionHeader,{title:"O que é Yield Gap no Algodão?",subtitle:"Entenda a diferença entre o potencial produtivo e a realidade nas lavouras de algodão",centered:!0}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10 items-center",children:[jsxRuntimeExports.jsxs(motion.div,{ref:t,initial:{opacity:0,x:-20},animate:e?{opacity:1,x:0}:{opacity:0,x:-20},transition:{duration:.6},children:[jsxRuntimeExports.jsx("h3",{className:"text-2xl font-semibold mb-4 text-primary-800",children:"Compreendendo o Conceito"}),jsxRuntimeExports.jsxs("p",{className:"mb-4 text-gray-700",children:["O ",jsxRuntimeExports.jsx("strong",{children:"yield gap"})," ou ",jsxRuntimeExports.jsx("strong",{children:"lacuna de produtividade"})," é a diferença entre o que poderia ser produzido e o que é realmente produzido nas lavouras de algodão. Esta lacuna pode ser definida de diferentes formas, considerando diferentes níveis de produtividade:"]}),jsxRuntimeExports.jsxs("ul",{className:"list-disc pl-5 space-y-2 mb-4 text-gray-700",children:[jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Produtividade Potencial (PP):"})," É o máximo rendimento teórico que poderia ser alcançado em condições ideais, sem limitações de água, nutrientes ou ocorrência de pragas e doenças."]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Produtividade Atingível (PA):"})," É o rendimento máximo que poderia ser alcançado com as melhores práticas de manejo disponíveis, considerando algumas limitações ambientais inevitáveis."]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Produtividade Real (PR):"})," É o rendimento que os agricultores realmente alcançam nas condições atuais de cultivo."]})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-700",children:'A diferença entre PA e PR é frequentemente considerada o "yield gap" explorável, pois representa a produtividade que poderia ser alcançada com a adoção de práticas de manejo melhoradas.'})]}),jsxRuntimeExports.jsx(motion.div,{ref:n,initial:{opacity:0,x:20},animate:o?{opacity:1,x:0}:{opacity:0,x:20},transition:{duration:.6},children:jsxRuntimeExports.jsx("img",{src:"https://images.pexels.com/photos/7457/pexels-photo.jpg",alt:"Campo de algodão",className:"rounded-lg shadow-md w-full h-auto"})})]})]})}),jsxRuntimeExports.jsx("section",{className:"section bg-white",children:jsxRuntimeExports.jsx("div",{className:"container-custom",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10",children:[jsxRuntimeExports.jsx(YieldGapInfoGraphic,{}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0,amount:.3},className:"flex flex-col justify-center",children:[jsxRuntimeExports.jsx("h3",{className:"text-2xl font-semibold mb-4 text-primary-800",children:"Por que o Yield Gap existe?"}),jsxRuntimeExports.jsx("p",{className:"mb-4 text-gray-700",children:"O yield gap no algodão brasileiro pode ser atribuído a diversos fatores, que podem ser classificados em diferentes categorias:"}),jsxRuntimeExports.jsxs("div",{className:"bg-primary-50 p-4 rounded-lg mb-4",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-primary-800 mb-2",children:"Fatores Biofísicos"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc pl-5 text-gray-700",children:[jsxRuntimeExports.jsx("li",{children:"Limitações climáticas (déficit hídrico, temperaturas extremas)"}),jsxRuntimeExports.jsx("li",{children:"Características do solo (fertilidade, compactação)"}),jsxRuntimeExports.jsx("li",{children:"Ocorrência de pragas, doenças e plantas daninhas"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-primary-50 p-4 rounded-lg mb-4",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-primary-800 mb-2",children:"Fatores Tecnológicos"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc pl-5 text-gray-700",children:[jsxRuntimeExports.jsx("li",{children:"Acesso limitado a variedades melhoradas"}),jsxRuntimeExports.jsx("li",{children:"Práticas inadequadas de manejo"}),jsxRuntimeExports.jsx("li",{children:"Baixo nível de mecanização e tecnologia"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-primary-50 p-4 rounded-lg mb-4",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-primary-800 mb-2",children:"Fatores Socioeconômicos"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc pl-5 text-gray-700",children:[jsxRuntimeExports.jsx("li",{children:"Restrições de capital e acesso a crédito"}),jsxRuntimeExports.jsx("li",{children:"Falta de conhecimento técnico"}),jsxRuntimeExports.jsx("li",{children:"Infraestrutura deficiente (estradas, armazenamento)"}),jsxRuntimeExports.jsx("li",{children:"Políticas públicas inadequadas"})]})]}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-gray-700",children:"Compreender esses fatores é essencial para desenvolver estratégias eficazes de redução do yield gap e aumento da produtividade do algodão no Brasil."})]})]})})}),jsxRuntimeExports.jsx("section",{className:"section bg-primary-50",children:jsxRuntimeExports.jsxs("div",{className:"container-custom",children:[jsxRuntimeExports.jsx(SectionHeader,{title:"Importância da Redução do Yield Gap",subtitle:"Por que devemos nos preocupar em reduzir a lacuna de produtividade no algodão?",centered:!0}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:0},viewport:{once:!0},className:"card",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold mb-3 text-primary-800",children:"Sustentabilidade Ambiental"}),jsxRuntimeExports.jsx("p",{className:"text-gray-700",children:"Aumentar a produtividade nas áreas já cultivadas reduz a pressão para expandir a fronteira agrícola, protegendo biomas naturais e contribuindo para a conservação da biodiversidade e recursos naturais."})]}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.1},viewport:{once:!0},className:"card",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold mb-3 text-primary-800",children:"Viabilidade Econômica"}),jsxRuntimeExports.jsx("p",{className:"text-gray-700",children:"Maior produtividade significa melhor aproveitamento dos recursos e insumos, resultando em maior rentabilidade para os produtores e fortalecimento da cadeia produtiva do algodão brasileiro."})]}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.2},viewport:{once:!0},className:"card",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold mb-3 text-primary-800",children:"Competitividade Global"}),jsxRuntimeExports.jsx("p",{className:"text-gray-700",children:"A redução do yield gap aumenta a competitividade do algodão brasileiro no mercado internacional, contribuindo para o fortalecimento da posição do Brasil como um dos principais produtores mundiais."})]})]}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"mt-12 p-6 bg-white rounded-lg shadow-md",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold mb-4 text-primary-800",children:"Uma analogia para entender melhor"}),jsxRuntimeExports.jsx("p",{className:"text-gray-700 mb-4",children:"Pense no yield gap como a diferença entre a velocidade máxima que um carro pode atingir (produtividade potencial) e a velocidade média que ele realmente mantém em uma viagem (produtividade real). Diversos fatores podem reduzir essa velocidade: condições da estrada, habilidade do motorista, congestionamento, limitações do veículo, etc."}),jsxRuntimeExports.jsx("p",{className:"text-gray-700",children:"Da mesma forma, o yield gap na produção de algodão é influenciado por múltiplos fatores que impedem que a lavoura atinja seu potencial máximo. Identificar e solucionar esses gargalos é como melhorar as condições da viagem para chegar mais rápido ao destino - ou, no caso do algodão, alcançar maior produtividade."})]})]})})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function round$1(t){return t+.5|0}const lim=(t,e,n)=>Math.max(Math.min(t,n),e);function p2b(t){return lim(round$1(t*2.55),0,255)}function n2b(t){return lim(round$1(t*255),0,255)}function b2n(t){return lim(round$1(t/2.55)/100,0,1)}function n2p(t){return lim(round$1(t*100),0,100)}const map$1$1={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},hex$1=[..."0123456789ABCDEF"],h1=t=>hex$1[t&15],h2=t=>hex$1[(t&240)>>4]+hex$1[t&15],eq=t=>(t&240)>>4===(t&15),isShort=t=>eq(t.r)&&eq(t.g)&&eq(t.b)&&eq(t.a);function hexParse(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&map$1$1[t[1]]*17,g:255&map$1$1[t[2]]*17,b:255&map$1$1[t[3]]*17,a:e===5?map$1$1[t[4]]*17:255}:(e===7||e===9)&&(n={r:map$1$1[t[1]]<<4|map$1$1[t[2]],g:map$1$1[t[3]]<<4|map$1$1[t[4]],b:map$1$1[t[5]]<<4|map$1$1[t[6]],a:e===9?map$1$1[t[7]]<<4|map$1$1[t[8]]:255})),n}const alpha$1=(t,e)=>t<255?e(t):"";function hexString(t){var e=isShort(t)?h1:h2;return t?"#"+e(t.r)+e(t.g)+e(t.b)+alpha$1(t.a,e):void 0}const HUE_RE=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function hsl2rgbn(t,e,n){const o=e*Math.min(n,1-n),l=(u,h=(u+t/30)%12)=>n-o*Math.max(Math.min(h-3,9-h,1),-1);return[l(0),l(8),l(4)]}function hsv2rgbn(t,e,n){const o=(l,u=(l+t/60)%6)=>n-n*e*Math.max(Math.min(u,4-u,1),0);return[o(5),o(3),o(1)]}function hwb2rgbn(t,e,n){const o=hsl2rgbn(t,1,.5);let l;for(e+n>1&&(l=1/(e+n),e*=l,n*=l),l=0;l<3;l++)o[l]*=1-e-n,o[l]+=e;return o}function hueValue(t,e,n,o,l){return t===l?(e-n)/o+(e<n?6:0):e===l?(n-t)/o+2:(t-e)/o+4}function rgb2hsl(t){const n=t.r/255,o=t.g/255,l=t.b/255,u=Math.max(n,o,l),h=Math.min(n,o,l),f=(u+h)/2;let d,p,m;return u!==h&&(m=u-h,p=f>.5?m/(2-u-h):m/(u+h),d=hueValue(n,o,l,m,u),d=d*60+.5),[d|0,p||0,f]}function calln(t,e,n,o){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,o)).map(n2b)}function hsl2rgb$1(t,e,n){return calln(hsl2rgbn,t,e,n)}function hwb2rgb(t,e,n){return calln(hwb2rgbn,t,e,n)}function hsv2rgb(t,e,n){return calln(hsv2rgbn,t,e,n)}function hue(t){return(t%360+360)%360}function hueParse(t){const e=HUE_RE.exec(t);let n=255,o;if(!e)return;e[5]!==o&&(n=e[6]?p2b(+e[5]):n2b(+e[5]));const l=hue(+e[2]),u=+e[3]/100,h=+e[4]/100;return e[1]==="hwb"?o=hwb2rgb(l,u,h):e[1]==="hsv"?o=hsv2rgb(l,u,h):o=hsl2rgb$1(l,u,h),{r:o[0],g:o[1],b:o[2],a:n}}function rotate(t,e){var n=rgb2hsl(t);n[0]=hue(n[0]+e),n=hsl2rgb$1(n),t.r=n[0],t.g=n[1],t.b=n[2]}function hslString(t){if(!t)return;const e=rgb2hsl(t),n=e[0],o=n2p(e[1]),l=n2p(e[2]);return t.a<255?`hsla(${n}, ${o}%, ${l}%, ${b2n(t.a)})`:`hsl(${n}, ${o}%, ${l}%)`}const map$2={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},names$1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function unpack(){const t={},e=Object.keys(names$1),n=Object.keys(map$2);let o,l,u,h,f;for(o=0;o<e.length;o++){for(h=f=e[o],l=0;l<n.length;l++)u=n[l],f=f.replace(u,map$2[u]);u=parseInt(names$1[h],16),t[f]=[u>>16&255,u>>8&255,u&255]}return t}let names;function nameParse(t){names||(names=unpack(),names.transparent=[0,0,0,0]);const e=names[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const RGB_RE=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function rgbParse(t){const e=RGB_RE.exec(t);let n=255,o,l,u;if(e){if(e[7]!==o){const h=+e[7];n=e[8]?p2b(h):lim(h*255,0,255)}return o=+e[1],l=+e[3],u=+e[5],o=255&(e[2]?p2b(o):lim(o,0,255)),l=255&(e[4]?p2b(l):lim(l,0,255)),u=255&(e[6]?p2b(u):lim(u,0,255)),{r:o,g:l,b:u,a:n}}}function rgbString(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${b2n(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const to=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,from=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function interpolate$2(t,e,n){const o=from(b2n(t.r)),l=from(b2n(t.g)),u=from(b2n(t.b));return{r:n2b(to(o+n*(from(b2n(e.r))-o))),g:n2b(to(l+n*(from(b2n(e.g))-l))),b:n2b(to(u+n*(from(b2n(e.b))-u))),a:t.a+n*(e.a-t.a)}}function modHSL(t,e,n){if(t){let o=rgb2hsl(t);o[e]=Math.max(0,Math.min(o[e]+o[e]*n,e===0?360:1)),o=hsl2rgb$1(o),t.r=o[0],t.g=o[1],t.b=o[2]}}function clone$2(t,e){return t&&Object.assign(e||{},t)}function fromObject(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=n2b(t[3]))):(e=clone$2(t,{r:0,g:0,b:0,a:1}),e.a=n2b(e.a)),e}function functionParse(t){return t.charAt(0)==="r"?rgbParse(t):hueParse(t)}let Color$2=class Lu{constructor(e){if(e instanceof Lu)return e;const n=typeof e;let o;n==="object"?o=fromObject(e):n==="string"&&(o=hexParse(e)||nameParse(e)||functionParse(e)),this._rgb=o,this._valid=!!o}get valid(){return this._valid}get rgb(){var e=clone$2(this._rgb);return e&&(e.a=b2n(e.a)),e}set rgb(e){this._rgb=fromObject(e)}rgbString(){return this._valid?rgbString(this._rgb):void 0}hexString(){return this._valid?hexString(this._rgb):void 0}hslString(){return this._valid?hslString(this._rgb):void 0}mix(e,n){if(e){const o=this.rgb,l=e.rgb;let u;const h=n===u?.5:n,f=2*h-1,d=o.a-l.a,p=((f*d===-1?f:(f+d)/(1+f*d))+1)/2;u=1-p,o.r=255&p*o.r+u*l.r+.5,o.g=255&p*o.g+u*l.g+.5,o.b=255&p*o.b+u*l.b+.5,o.a=h*o.a+(1-h)*l.a,this.rgb=o}return this}interpolate(e,n){return e&&(this._rgb=interpolate$2(this._rgb,e._rgb,n)),this}clone(){return new Lu(this.rgb)}alpha(e){return this._rgb.a=n2b(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=round$1(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return modHSL(this._rgb,2,e),this}darken(e){return modHSL(this._rgb,2,-e),this}saturate(e){return modHSL(this._rgb,1,e),this}desaturate(e){return modHSL(this._rgb,1,-e),this}rotate(e){return rotate(this._rgb,e),this}};/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function noop$1(){}const uid=(()=>{let t=0;return()=>t++})();function isNullOrUndef(t){return t==null}function isArray$1(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function isObject$1(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function isNumberFinite(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function finiteOrDefault(t,e){return isNumberFinite(t)?t:e}function valueOrDefault(t,e){return typeof t>"u"?e:t}const toDimension=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function callback(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function each(t,e,n,o){let l,u,h;if(isArray$1(t))for(u=t.length,l=0;l<u;l++)e.call(n,t[l],l);else if(isObject$1(t))for(h=Object.keys(t),u=h.length,l=0;l<u;l++)e.call(n,t[h[l]],h[l])}function _elementsEqual(t,e){let n,o,l,u;if(!t||!e||t.length!==e.length)return!1;for(n=0,o=t.length;n<o;++n)if(l=t[n],u=e[n],l.datasetIndex!==u.datasetIndex||l.index!==u.index)return!1;return!0}function clone$1(t){if(isArray$1(t))return t.map(clone$1);if(isObject$1(t)){const e=Object.create(null),n=Object.keys(t),o=n.length;let l=0;for(;l<o;++l)e[n[l]]=clone$1(t[n[l]]);return e}return t}function isValidKey(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function _merger(t,e,n,o){if(!isValidKey(t))return;const l=e[t],u=n[t];isObject$1(l)&&isObject$1(u)?merge(l,u,o):e[t]=clone$1(u)}function merge(t,e,n){const o=isArray$1(e)?e:[e],l=o.length;if(!isObject$1(t))return t;n=n||{};const u=n.merger||_merger;let h;for(let f=0;f<l;++f){if(h=o[f],!isObject$1(h))continue;const d=Object.keys(h);for(let p=0,m=d.length;p<m;++p)u(d[p],t,h,n)}return t}function mergeIf(t,e){return merge(t,e,{merger:_mergerIf})}function _mergerIf(t,e,n){if(!isValidKey(t))return;const o=e[t],l=n[t];isObject$1(o)&&isObject$1(l)?mergeIf(o,l):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=clone$1(l))}const keyResolvers={"":t=>t,x:t=>t.x,y:t=>t.y};function _splitKey(t){const e=t.split("."),n=[];let o="";for(const l of e)o+=l,o.endsWith("\\")?o=o.slice(0,-1)+".":(n.push(o),o="");return n}function _getKeyResolver(t){const e=_splitKey(t);return n=>{for(const o of e){if(o==="")break;n=n&&n[o]}return n}}function resolveObjectKey(t,e){return(keyResolvers[e]||(keyResolvers[e]=_getKeyResolver(e)))(t)}function _capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)}const defined$1=t=>typeof t<"u",isFunction$1=t=>typeof t=="function",setsEqual=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function _isClickEvent(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const PI=Math.PI,TAU=2*PI,PITAU=TAU+PI,INFINITY=Number.POSITIVE_INFINITY,RAD_PER_DEG=PI/180,HALF_PI=PI/2,QUARTER_PI=PI/4,TWO_THIRDS_PI=PI*2/3,log10=Math.log10,sign$2=Math.sign;function almostEquals(t,e,n){return Math.abs(t-e)<n}function niceNum(t){const e=Math.round(t);t=almostEquals(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(log10(t))),o=t/n;return(o<=1?1:o<=2?2:o<=5?5:10)*n}function _factorize(t){const e=[],n=Math.sqrt(t);let o;for(o=1;o<n;o++)t%o===0&&(e.push(o),e.push(t/o));return n===(n|0)&&e.push(n),e.sort((l,u)=>l-u).pop(),e}function isNonPrimitive(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function isNumber$2(t){return!isNonPrimitive(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function almostWhole(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function _setMinAndMaxByKey(t,e,n){let o,l,u;for(o=0,l=t.length;o<l;o++)u=t[o][n],isNaN(u)||(e.min=Math.min(e.min,u),e.max=Math.max(e.max,u))}function toRadians(t){return t*(PI/180)}function toDegrees(t){return t*(180/PI)}function _decimalPlaces(t){if(!isNumberFinite(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function getAngleFromPoint(t,e){const n=e.x-t.x,o=e.y-t.y,l=Math.sqrt(n*n+o*o);let u=Math.atan2(o,n);return u<-.5*PI&&(u+=TAU),{angle:u,distance:l}}function distanceBetweenPoints$1(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function _angleDiff(t,e){return(t-e+PITAU)%TAU-PI}function _normalizeAngle(t){return(t%TAU+TAU)%TAU}function _angleBetween(t,e,n,o){const l=_normalizeAngle(t),u=_normalizeAngle(e),h=_normalizeAngle(n),f=_normalizeAngle(u-l),d=_normalizeAngle(h-l),p=_normalizeAngle(l-u),m=_normalizeAngle(l-h);return l===u||l===h||o&&u===h||f>d&&p<m}function _limitValue(t,e,n){return Math.max(e,Math.min(n,t))}function _int16Range(t){return _limitValue(t,-32768,32767)}function _isBetween(t,e,n,o=1e-6){return t>=Math.min(e,n)-o&&t<=Math.max(e,n)+o}function _lookup(t,e,n){n=n||(h=>t[h]<e);let o=t.length-1,l=0,u;for(;o-l>1;)u=l+o>>1,n(u)?l=u:o=u;return{lo:l,hi:o}}const _lookupByKey=(t,e,n,o)=>_lookup(t,n,o?l=>{const u=t[l][e];return u<n||u===n&&t[l+1][e]===n}:l=>t[l][e]<n),_rlookupByKey=(t,e,n)=>_lookup(t,n,o=>t[o][e]>=n);function _filterBetween(t,e,n){let o=0,l=t.length;for(;o<l&&t[o]<e;)o++;for(;l>o&&t[l-1]>n;)l--;return o>0||l<t.length?t.slice(o,l):t}const arrayEvents=["push","pop","shift","splice","unshift"];function listenArrayEvents(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),arrayEvents.forEach(n=>{const o="_onData"+_capitalize(n),l=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...u){const h=l.apply(this,u);return t._chartjs.listeners.forEach(f=>{typeof f[o]=="function"&&f[o](...u)}),h}})})}function unlistenArrayEvents(t,e){const n=t._chartjs;if(!n)return;const o=n.listeners,l=o.indexOf(e);l!==-1&&o.splice(l,1),!(o.length>0)&&(arrayEvents.forEach(u=>{delete t[u]}),delete t._chartjs)}function _arrayUnique(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const requestAnimFrame=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function throttled(t,e){let n=[],o=!1;return function(...l){n=l,o||(o=!0,requestAnimFrame.call(window,()=>{o=!1,t.apply(e,n)}))}}function debounce(t,e){let n;return function(...o){return e?(clearTimeout(n),n=setTimeout(t,e,o)):t.apply(this,o),e}}const _toLeftRightCenter=t=>t==="start"?"left":t==="end"?"right":"center",_alignStartEnd=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,_textX=(t,e,n,o)=>t===(o?"left":"right")?n:t==="center"?(e+n)/2:e;function _getStartAndCountOfVisiblePoints(t,e,n){const o=e.length;let l=0,u=o;if(t._sorted){const{iScale:h,vScale:f,_parsed:d}=t,p=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,m=h.axis,{min:v,max:b,minDefined:S,maxDefined:T}=h.getUserBounds();if(S){if(l=Math.min(_lookupByKey(d,m,v).lo,n?o:_lookupByKey(e,m,h.getPixelForValue(v)).lo),p){const C=d.slice(0,l+1).reverse().findIndex(w=>!isNullOrUndef(w[f.axis]));l-=Math.max(0,C)}l=_limitValue(l,0,o-1)}if(T){let C=Math.max(_lookupByKey(d,h.axis,b,!0).hi+1,n?0:_lookupByKey(e,m,h.getPixelForValue(b),!0).hi+1);if(p){const w=d.slice(C-1).findIndex(R=>!isNullOrUndef(R[f.axis]));C+=Math.max(0,w)}u=_limitValue(C,l,o)-l}else u=o-l}return{start:l,count:u}}function _scaleRangesChanged(t){const{xScale:e,yScale:n,_scaleRanges:o}=t,l={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!o)return t._scaleRanges=l,!0;const u=o.xmin!==e.min||o.xmax!==e.max||o.ymin!==n.min||o.ymax!==n.max;return Object.assign(o,l),u}const atEdge=t=>t===0||t===1,elasticIn=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*TAU/n)),elasticOut=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*TAU/n)+1,effects={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*HALF_PI)+1,easeOutSine:t=>Math.sin(t*HALF_PI),easeInOutSine:t=>-.5*(Math.cos(PI*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>atEdge(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>atEdge(t)?t:elasticIn(t,.075,.3),easeOutElastic:t=>atEdge(t)?t:elasticOut(t,.075,.3),easeInOutElastic(t){return atEdge(t)?t:t<.5?.5*elasticIn(t*2,.1125,.45):.5+.5*elasticOut(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-effects.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?effects.easeInBounce(t*2)*.5:effects.easeOutBounce(t*2-1)*.5+.5};function isPatternOrGradient(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function color$1(t){return isPatternOrGradient(t)?t:new Color$2(t)}function getHoverColor(t){return isPatternOrGradient(t)?t:new Color$2(t).saturate(.5).darken(.1).hexString()}const numbers$1=["x","y","borderWidth","radius","tension"],colors=["color","borderColor","backgroundColor"];function applyAnimationsDefaults(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:colors},numbers:{type:"number",properties:numbers$1}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function applyLayoutsDefaults(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const intlCache=new Map;function getNumberFormat(t,e){e=e||{};const n=t+JSON.stringify(e);let o=intlCache.get(n);return o||(o=new Intl.NumberFormat(t,e),intlCache.set(n,o)),o}function formatNumber(t,e,n){return getNumberFormat(e,n).format(t)}const formatters={values(t){return isArray$1(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const o=this.chart.options.locale;let l,u=t;if(n.length>1){const p=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(p<1e-4||p>1e15)&&(l="scientific"),u=calculateDelta(t,n)}const h=log10(Math.abs(u)),f=isNaN(h)?1:Math.max(Math.min(-1*Math.floor(h),20),0),d={notation:l,minimumFractionDigits:f,maximumFractionDigits:f};return Object.assign(d,this.options.ticks.format),formatNumber(t,o,d)}};function calculateDelta(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Ticks={formatters};function applyScaleDefaults(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ticks.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const overrides=Object.create(null),descriptors=Object.create(null);function getScope$1(t,e){if(!e)return t;const n=e.split(".");for(let o=0,l=n.length;o<l;++o){const u=n[o];t=t[u]||(t[u]=Object.create(null))}return t}function set(t,e,n){return typeof e=="string"?merge(getScope$1(t,e),n):merge(getScope$1(t,""),e)}class Defaults{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=o=>o.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(o,l)=>getHoverColor(l.backgroundColor),this.hoverBorderColor=(o,l)=>getHoverColor(l.borderColor),this.hoverColor=(o,l)=>getHoverColor(l.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return set(this,e,n)}get(e){return getScope$1(this,e)}describe(e,n){return set(descriptors,e,n)}override(e,n){return set(overrides,e,n)}route(e,n,o,l){const u=getScope$1(this,e),h=getScope$1(this,o),f="_"+n;Object.defineProperties(u,{[f]:{value:u[n],writable:!0},[n]:{enumerable:!0,get(){const d=this[f],p=h[l];return isObject$1(d)?Object.assign({},p,d):valueOrDefault(d,p)},set(d){this[f]=d}}})}apply(e){e.forEach(n=>n(this))}}var defaults$1=new Defaults({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[applyAnimationsDefaults,applyLayoutsDefaults,applyScaleDefaults]);function toFontString(t){return!t||isNullOrUndef(t.size)||isNullOrUndef(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function _measureText(t,e,n,o,l){let u=e[l];return u||(u=e[l]=t.measureText(l).width,n.push(l)),u>o&&(o=u),o}function _alignPixel(t,e,n){const o=t.currentDevicePixelRatio,l=n!==0?Math.max(n/2,.5):0;return Math.round((e-l)*o)/o+l}function clearCanvas(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function drawPoint(t,e,n,o){drawPointLegend(t,e,n,o,null)}function drawPointLegend(t,e,n,o,l){let u,h,f,d,p,m,v,b;const S=e.pointStyle,T=e.rotation,C=e.radius;let w=(T||0)*RAD_PER_DEG;if(S&&typeof S=="object"&&(u=S.toString(),u==="[object HTMLImageElement]"||u==="[object HTMLCanvasElement]")){t.save(),t.translate(n,o),t.rotate(w),t.drawImage(S,-S.width/2,-S.height/2,S.width,S.height),t.restore();return}if(!(isNaN(C)||C<=0)){switch(t.beginPath(),S){default:l?t.ellipse(n,o,l/2,C,0,0,TAU):t.arc(n,o,C,0,TAU),t.closePath();break;case"triangle":m=l?l/2:C,t.moveTo(n+Math.sin(w)*m,o-Math.cos(w)*C),w+=TWO_THIRDS_PI,t.lineTo(n+Math.sin(w)*m,o-Math.cos(w)*C),w+=TWO_THIRDS_PI,t.lineTo(n+Math.sin(w)*m,o-Math.cos(w)*C),t.closePath();break;case"rectRounded":p=C*.516,d=C-p,h=Math.cos(w+QUARTER_PI)*d,v=Math.cos(w+QUARTER_PI)*(l?l/2-p:d),f=Math.sin(w+QUARTER_PI)*d,b=Math.sin(w+QUARTER_PI)*(l?l/2-p:d),t.arc(n-v,o-f,p,w-PI,w-HALF_PI),t.arc(n+b,o-h,p,w-HALF_PI,w),t.arc(n+v,o+f,p,w,w+HALF_PI),t.arc(n-b,o+h,p,w+HALF_PI,w+PI),t.closePath();break;case"rect":if(!T){d=Math.SQRT1_2*C,m=l?l/2:d,t.rect(n-m,o-d,2*m,2*d);break}w+=QUARTER_PI;case"rectRot":v=Math.cos(w)*(l?l/2:C),h=Math.cos(w)*C,f=Math.sin(w)*C,b=Math.sin(w)*(l?l/2:C),t.moveTo(n-v,o-f),t.lineTo(n+b,o-h),t.lineTo(n+v,o+f),t.lineTo(n-b,o+h),t.closePath();break;case"crossRot":w+=QUARTER_PI;case"cross":v=Math.cos(w)*(l?l/2:C),h=Math.cos(w)*C,f=Math.sin(w)*C,b=Math.sin(w)*(l?l/2:C),t.moveTo(n-v,o-f),t.lineTo(n+v,o+f),t.moveTo(n+b,o-h),t.lineTo(n-b,o+h);break;case"star":v=Math.cos(w)*(l?l/2:C),h=Math.cos(w)*C,f=Math.sin(w)*C,b=Math.sin(w)*(l?l/2:C),t.moveTo(n-v,o-f),t.lineTo(n+v,o+f),t.moveTo(n+b,o-h),t.lineTo(n-b,o+h),w+=QUARTER_PI,v=Math.cos(w)*(l?l/2:C),h=Math.cos(w)*C,f=Math.sin(w)*C,b=Math.sin(w)*(l?l/2:C),t.moveTo(n-v,o-f),t.lineTo(n+v,o+f),t.moveTo(n+b,o-h),t.lineTo(n-b,o+h);break;case"line":h=l?l/2:Math.cos(w)*C,f=Math.sin(w)*C,t.moveTo(n-h,o-f),t.lineTo(n+h,o+f);break;case"dash":t.moveTo(n,o),t.lineTo(n+Math.cos(w)*(l?l/2:C),o+Math.sin(w)*C);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function _isPointInArea(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function clipArea(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function unclipArea(t){t.restore()}function _steppedLineTo(t,e,n,o,l){if(!e)return t.lineTo(n.x,n.y);if(l==="middle"){const u=(e.x+n.x)/2;t.lineTo(u,e.y),t.lineTo(u,n.y)}else l==="after"!=!!o?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function _bezierCurveTo(t,e,n,o){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(o?e.cp1x:e.cp2x,o?e.cp1y:e.cp2y,o?n.cp2x:n.cp1x,o?n.cp2y:n.cp1y,n.x,n.y)}function setRenderOpts(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),isNullOrUndef(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function decorateText(t,e,n,o,l){if(l.strikethrough||l.underline){const u=t.measureText(o),h=e-u.actualBoundingBoxLeft,f=e+u.actualBoundingBoxRight,d=n-u.actualBoundingBoxAscent,p=n+u.actualBoundingBoxDescent,m=l.strikethrough?(d+p)/2:p;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=l.decorationWidth||2,t.moveTo(h,m),t.lineTo(f,m),t.stroke()}}function drawBackdrop(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function renderText(t,e,n,o,l,u={}){const h=isArray$1(e)?e:[e],f=u.strokeWidth>0&&u.strokeColor!=="";let d,p;for(t.save(),t.font=l.string,setRenderOpts(t,u),d=0;d<h.length;++d)p=h[d],u.backdrop&&drawBackdrop(t,u.backdrop),f&&(u.strokeColor&&(t.strokeStyle=u.strokeColor),isNullOrUndef(u.strokeWidth)||(t.lineWidth=u.strokeWidth),t.strokeText(p,n,o,u.maxWidth)),t.fillText(p,n,o,u.maxWidth),decorateText(t,n,o,p,u),o+=Number(l.lineHeight);t.restore()}function addRoundedRectPath(t,e){const{x:n,y:o,w:l,h:u,radius:h}=e;t.arc(n+h.topLeft,o+h.topLeft,h.topLeft,1.5*PI,PI,!0),t.lineTo(n,o+u-h.bottomLeft),t.arc(n+h.bottomLeft,o+u-h.bottomLeft,h.bottomLeft,PI,HALF_PI,!0),t.lineTo(n+l-h.bottomRight,o+u),t.arc(n+l-h.bottomRight,o+u-h.bottomRight,h.bottomRight,HALF_PI,0,!0),t.lineTo(n+l,o+h.topRight),t.arc(n+l-h.topRight,o+h.topRight,h.topRight,0,-HALF_PI,!0),t.lineTo(n+h.topLeft,o)}const LINE_HEIGHT=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,FONT_STYLE=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function toLineHeight(t,e){const n=(""+t).match(LINE_HEIGHT);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const numberOrZero=t=>+t||0;function _readValueToProps(t,e){const n={},o=isObject$1(e),l=o?Object.keys(e):e,u=isObject$1(t)?o?h=>valueOrDefault(t[h],t[e[h]]):h=>t[h]:()=>t;for(const h of l)n[h]=numberOrZero(u(h));return n}function toTRBL(t){return _readValueToProps(t,{top:"y",right:"x",bottom:"y",left:"x"})}function toTRBLCorners(t){return _readValueToProps(t,["topLeft","topRight","bottomLeft","bottomRight"])}function toPadding(t){const e=toTRBL(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function toFont(t,e){t=t||{},e=e||defaults$1.font;let n=valueOrDefault(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let o=valueOrDefault(t.style,e.style);o&&!(""+o).match(FONT_STYLE)&&(console.warn('Invalid font style specified: "'+o+'"'),o=void 0);const l={family:valueOrDefault(t.family,e.family),lineHeight:toLineHeight(valueOrDefault(t.lineHeight,e.lineHeight),n),size:n,style:o,weight:valueOrDefault(t.weight,e.weight),string:""};return l.string=toFontString(l),l}function resolve$1(t,e,n,o){let l,u,h;for(l=0,u=t.length;l<u;++l)if(h=t[l],h!==void 0&&h!==void 0)return h}function _addGrace(t,e,n){const{min:o,max:l}=t,u=toDimension(e,(l-o)/2),h=(f,d)=>n&&f===0?0:f+d;return{min:h(o,-Math.abs(u)),max:h(l,u)}}function createContext(t,e){return Object.assign(Object.create(t),e)}function _createResolver(t,e=[""],n,o,l=()=>t[0]){const u=n||t;typeof o>"u"&&(o=_resolve("_fallback",t));const h={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:u,_fallback:o,_getTarget:l,override:f=>_createResolver([f,...t],e,u,o)};return new Proxy(h,{deleteProperty(f,d){return delete f[d],delete f._keys,delete t[0][d],!0},get(f,d){return _cached(f,d,()=>_resolveWithPrefixes(d,e,t,f))},getOwnPropertyDescriptor(f,d){return Reflect.getOwnPropertyDescriptor(f._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(f,d){return getKeysFromAllScopes(f).includes(d)},ownKeys(f){return getKeysFromAllScopes(f)},set(f,d,p){const m=f._storage||(f._storage=l());return f[d]=m[d]=p,delete f._keys,!0}})}function _attachContext(t,e,n,o){const l={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:_descriptors(t,o),setContext:u=>_attachContext(t,u,n,o),override:u=>_attachContext(t.override(u),e,n,o)};return new Proxy(l,{deleteProperty(u,h){return delete u[h],delete t[h],!0},get(u,h,f){return _cached(u,h,()=>_resolveWithContext(u,h,f))},getOwnPropertyDescriptor(u,h){return u._descriptors.allKeys?Reflect.has(t,h)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,h)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(u,h){return Reflect.has(t,h)},ownKeys(){return Reflect.ownKeys(t)},set(u,h,f){return t[h]=f,delete u[h],!0}})}function _descriptors(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:o=e.indexable,_allKeys:l=e.allKeys}=t;return{allKeys:l,scriptable:n,indexable:o,isScriptable:isFunction$1(n)?n:()=>n,isIndexable:isFunction$1(o)?o:()=>o}}const readKey=(t,e)=>t?t+_capitalize(e):e,needsSubResolver=(t,e)=>isObject$1(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function _cached(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const o=n();return t[e]=o,o}function _resolveWithContext(t,e,n){const{_proxy:o,_context:l,_subProxy:u,_descriptors:h}=t;let f=o[e];return isFunction$1(f)&&h.isScriptable(e)&&(f=_resolveScriptable(e,f,t,n)),isArray$1(f)&&f.length&&(f=_resolveArray(e,f,t,h.isIndexable)),needsSubResolver(e,f)&&(f=_attachContext(f,l,u&&u[e],h)),f}function _resolveScriptable(t,e,n,o){const{_proxy:l,_context:u,_subProxy:h,_stack:f}=n;if(f.has(t))throw new Error("Recursion detected: "+Array.from(f).join("->")+"->"+t);f.add(t);let d=e(u,h||o);return f.delete(t),needsSubResolver(t,d)&&(d=createSubResolver(l._scopes,l,t,d)),d}function _resolveArray(t,e,n,o){const{_proxy:l,_context:u,_subProxy:h,_descriptors:f}=n;if(typeof u.index<"u"&&o(t))return e[u.index%e.length];if(isObject$1(e[0])){const d=e,p=l._scopes.filter(m=>m!==d);e=[];for(const m of d){const v=createSubResolver(p,l,t,m);e.push(_attachContext(v,u,h&&h[t],f))}}return e}function resolveFallback(t,e,n){return isFunction$1(t)?t(e,n):t}const getScope=(t,e)=>t===!0?e:typeof t=="string"?resolveObjectKey(e,t):void 0;function addScopes(t,e,n,o,l){for(const u of e){const h=getScope(n,u);if(h){t.add(h);const f=resolveFallback(h._fallback,n,l);if(typeof f<"u"&&f!==n&&f!==o)return f}else if(h===!1&&typeof o<"u"&&n!==o)return null}return!1}function createSubResolver(t,e,n,o){const l=e._rootScopes,u=resolveFallback(e._fallback,n,o),h=[...t,...l],f=new Set;f.add(o);let d=addScopesFromKey(f,h,n,u||n,o);return d===null||typeof u<"u"&&u!==n&&(d=addScopesFromKey(f,h,u,d,o),d===null)?!1:_createResolver(Array.from(f),[""],l,u,()=>subGetTarget(e,n,o))}function addScopesFromKey(t,e,n,o,l){for(;n;)n=addScopes(t,e,n,o,l);return n}function subGetTarget(t,e,n){const o=t._getTarget();e in o||(o[e]={});const l=o[e];return isArray$1(l)&&isObject$1(n)?n:l||{}}function _resolveWithPrefixes(t,e,n,o){let l;for(const u of e)if(l=_resolve(readKey(u,t),n),typeof l<"u")return needsSubResolver(t,l)?createSubResolver(n,o,t,l):l}function _resolve(t,e){for(const n of e){if(!n)continue;const o=n[t];if(typeof o<"u")return o}}function getKeysFromAllScopes(t){let e=t._keys;return e||(e=t._keys=resolveKeysFromAllScopes(t._scopes)),e}function resolveKeysFromAllScopes(t){const e=new Set;for(const n of t)for(const o of Object.keys(n).filter(l=>!l.startsWith("_")))e.add(o);return Array.from(e)}const EPSILON$1=Number.EPSILON||1e-14,getPoint=(t,e)=>e<t.length&&!t[e].skip&&t[e],getValueAxis=t=>t==="x"?"y":"x";function splineCurve(t,e,n,o){const l=t.skip?e:t,u=e,h=n.skip?e:n,f=distanceBetweenPoints$1(u,l),d=distanceBetweenPoints$1(h,u);let p=f/(f+d),m=d/(f+d);p=isNaN(p)?0:p,m=isNaN(m)?0:m;const v=o*p,b=o*m;return{previous:{x:u.x-v*(h.x-l.x),y:u.y-v*(h.y-l.y)},next:{x:u.x+b*(h.x-l.x),y:u.y+b*(h.y-l.y)}}}function monotoneAdjust(t,e,n){const o=t.length;let l,u,h,f,d,p=getPoint(t,0);for(let m=0;m<o-1;++m)if(d=p,p=getPoint(t,m+1),!(!d||!p)){if(almostEquals(e[m],0,EPSILON$1)){n[m]=n[m+1]=0;continue}l=n[m]/e[m],u=n[m+1]/e[m],f=Math.pow(l,2)+Math.pow(u,2),!(f<=9)&&(h=3/Math.sqrt(f),n[m]=l*h*e[m],n[m+1]=u*h*e[m])}}function monotoneCompute(t,e,n="x"){const o=getValueAxis(n),l=t.length;let u,h,f,d=getPoint(t,0);for(let p=0;p<l;++p){if(h=f,f=d,d=getPoint(t,p+1),!f)continue;const m=f[n],v=f[o];h&&(u=(m-h[n])/3,f[`cp1${n}`]=m-u,f[`cp1${o}`]=v-u*e[p]),d&&(u=(d[n]-m)/3,f[`cp2${n}`]=m+u,f[`cp2${o}`]=v+u*e[p])}}function splineCurveMonotone(t,e="x"){const n=getValueAxis(e),o=t.length,l=Array(o).fill(0),u=Array(o);let h,f,d,p=getPoint(t,0);for(h=0;h<o;++h)if(f=d,d=p,p=getPoint(t,h+1),!!d){if(p){const m=p[e]-d[e];l[h]=m!==0?(p[n]-d[n])/m:0}u[h]=f?p?sign$2(l[h-1])!==sign$2(l[h])?0:(l[h-1]+l[h])/2:l[h-1]:l[h]}monotoneAdjust(t,l,u),monotoneCompute(t,u,e)}function capControlPoint(t,e,n){return Math.max(Math.min(t,n),e)}function capBezierPoints(t,e){let n,o,l,u,h,f=_isPointInArea(t[0],e);for(n=0,o=t.length;n<o;++n)h=u,u=f,f=n<o-1&&_isPointInArea(t[n+1],e),u&&(l=t[n],h&&(l.cp1x=capControlPoint(l.cp1x,e.left,e.right),l.cp1y=capControlPoint(l.cp1y,e.top,e.bottom)),f&&(l.cp2x=capControlPoint(l.cp2x,e.left,e.right),l.cp2y=capControlPoint(l.cp2y,e.top,e.bottom)))}function _updateBezierControlPoints(t,e,n,o,l){let u,h,f,d;if(e.spanGaps&&(t=t.filter(p=>!p.skip)),e.cubicInterpolationMode==="monotone")splineCurveMonotone(t,l);else{let p=o?t[t.length-1]:t[0];for(u=0,h=t.length;u<h;++u)f=t[u],d=splineCurve(p,f,t[Math.min(u+1,h-(o?0:1))%h],e.tension),f.cp1x=d.previous.x,f.cp1y=d.previous.y,f.cp2x=d.next.x,f.cp2y=d.next.y,p=f}e.capBezierPoints&&capBezierPoints(t,n)}function _isDomSupported(){return typeof window<"u"&&typeof document<"u"}function _getParentNode(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function parseMaxStyle(t,e,n){let o;return typeof t=="string"?(o=parseInt(t,10),t.indexOf("%")!==-1&&(o=o/100*e.parentNode[n])):o=t,o}const getComputedStyle$1=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function getStyle(t,e){return getComputedStyle$1(t).getPropertyValue(e)}const positions=["top","right","bottom","left"];function getPositionedStyle(t,e,n){const o={};n=n?"-"+n:"";for(let l=0;l<4;l++){const u=positions[l];o[u]=parseFloat(t[e+"-"+u+n])||0}return o.width=o.left+o.right,o.height=o.top+o.bottom,o}const useOffsetPos=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function getCanvasPosition(t,e){const n=t.touches,o=n&&n.length?n[0]:t,{offsetX:l,offsetY:u}=o;let h=!1,f,d;if(useOffsetPos(l,u,t.target))f=l,d=u;else{const p=e.getBoundingClientRect();f=o.clientX-p.left,d=o.clientY-p.top,h=!0}return{x:f,y:d,box:h}}function getRelativePosition(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:o}=e,l=getComputedStyle$1(n),u=l.boxSizing==="border-box",h=getPositionedStyle(l,"padding"),f=getPositionedStyle(l,"border","width"),{x:d,y:p,box:m}=getCanvasPosition(t,n),v=h.left+(m&&f.left),b=h.top+(m&&f.top);let{width:S,height:T}=e;return u&&(S-=h.width+f.width,T-=h.height+f.height),{x:Math.round((d-v)/S*n.width/o),y:Math.round((p-b)/T*n.height/o)}}function getContainerSize(t,e,n){let o,l;if(e===void 0||n===void 0){const u=t&&_getParentNode(t);if(!u)e=t.clientWidth,n=t.clientHeight;else{const h=u.getBoundingClientRect(),f=getComputedStyle$1(u),d=getPositionedStyle(f,"border","width"),p=getPositionedStyle(f,"padding");e=h.width-p.width-d.width,n=h.height-p.height-d.height,o=parseMaxStyle(f.maxWidth,u,"clientWidth"),l=parseMaxStyle(f.maxHeight,u,"clientHeight")}}return{width:e,height:n,maxWidth:o||INFINITY,maxHeight:l||INFINITY}}const round1=t=>Math.round(t*10)/10;function getMaximumSize(t,e,n,o){const l=getComputedStyle$1(t),u=getPositionedStyle(l,"margin"),h=parseMaxStyle(l.maxWidth,t,"clientWidth")||INFINITY,f=parseMaxStyle(l.maxHeight,t,"clientHeight")||INFINITY,d=getContainerSize(t,e,n);let{width:p,height:m}=d;if(l.boxSizing==="content-box"){const b=getPositionedStyle(l,"border","width"),S=getPositionedStyle(l,"padding");p-=S.width+b.width,m-=S.height+b.height}return p=Math.max(0,p-u.width),m=Math.max(0,o?p/o:m-u.height),p=round1(Math.min(p,h,d.maxWidth)),m=round1(Math.min(m,f,d.maxHeight)),p&&!m&&(m=round1(p/2)),(e!==void 0||n!==void 0)&&o&&d.height&&m>d.height&&(m=d.height,p=round1(Math.floor(m*o))),{width:p,height:m}}function retinaScale(t,e,n){const o=e||1,l=Math.floor(t.height*o),u=Math.floor(t.width*o);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const h=t.canvas;return h.style&&(n||!h.style.height&&!h.style.width)&&(h.style.height=`${t.height}px`,h.style.width=`${t.width}px`),t.currentDevicePixelRatio!==o||h.height!==l||h.width!==u?(t.currentDevicePixelRatio=o,h.height=l,h.width=u,t.ctx.setTransform(o,0,0,o,0,0),!0):!1}const supportsEventListenerOptions=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};_isDomSupported()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function readUsedSize(t,e){const n=getStyle(t,e),o=n&&n.match(/^(\d+)(\.\d+)?px$/);return o?+o[1]:void 0}function _pointInLine(t,e,n,o){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function _steppedInterpolation(t,e,n,o){return{x:t.x+n*(e.x-t.x),y:o==="middle"?n<.5?t.y:e.y:o==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function _bezierInterpolation(t,e,n,o){const l={x:t.cp2x,y:t.cp2y},u={x:e.cp1x,y:e.cp1y},h=_pointInLine(t,l,n),f=_pointInLine(l,u,n),d=_pointInLine(u,e,n),p=_pointInLine(h,f,n),m=_pointInLine(f,d,n);return _pointInLine(p,m,n)}const getRightToLeftAdapter=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,o){return n-o},leftForLtr(n,o){return n-o}}},getLeftToRightAdapter=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function getRtlAdapter(t,e,n){return t?getRightToLeftAdapter(e,n):getLeftToRightAdapter()}function overrideTextDirection(t,e){let n,o;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,o=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=o)}function restoreTextDirection(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function propertyFn(t){return t==="angle"?{between:_angleBetween,compare:_angleDiff,normalize:_normalizeAngle}:{between:_isBetween,compare:(e,n)=>e-n,normalize:e=>e}}function normalizeSegment({start:t,end:e,count:n,loop:o,style:l}){return{start:t%n,end:e%n,loop:o&&(e-t+1)%n===0,style:l}}function getSegment(t,e,n){const{property:o,start:l,end:u}=n,{between:h,normalize:f}=propertyFn(o),d=e.length;let{start:p,end:m,loop:v}=t,b,S;if(v){for(p+=d,m+=d,b=0,S=d;b<S&&h(f(e[p%d][o]),l,u);++b)p--,m--;p%=d,m%=d}return m<p&&(m+=d),{start:p,end:m,loop:v,style:t.style}}function _boundSegment(t,e,n){if(!n)return[t];const{property:o,start:l,end:u}=n,h=e.length,{compare:f,between:d,normalize:p}=propertyFn(o),{start:m,end:v,loop:b,style:S}=getSegment(t,e,n),T=[];let C=!1,w=null,R,L,N;const F=()=>d(l,N,R)&&f(l,N)!==0,B=()=>f(u,R)===0||d(u,N,R),U=()=>C||F(),z=()=>!C||B();for(let K=m,Q=m;K<=v;++K)L=e[K%h],!L.skip&&(R=p(L[o]),R!==N&&(C=d(R,l,u),w===null&&U()&&(w=f(R,l)===0?K:Q),w!==null&&z()&&(T.push(normalizeSegment({start:w,end:K,loop:b,count:h,style:S})),w=null),Q=K,N=R));return w!==null&&T.push(normalizeSegment({start:w,end:v,loop:b,count:h,style:S})),T}function _boundSegments(t,e){const n=[],o=t.segments;for(let l=0;l<o.length;l++){const u=_boundSegment(o[l],t.points,e);u.length&&n.push(...u)}return n}function findStartAndEnd(t,e,n,o){let l=0,u=e-1;if(n&&!o)for(;l<e&&!t[l].skip;)l++;for(;l<e&&t[l].skip;)l++;for(l%=e,n&&(u+=l);u>l&&t[u%e].skip;)u--;return u%=e,{start:l,end:u}}function solidSegments(t,e,n,o){const l=t.length,u=[];let h=e,f=t[e],d;for(d=e+1;d<=n;++d){const p=t[d%l];p.skip||p.stop?f.skip||(o=!1,u.push({start:e%l,end:(d-1)%l,loop:o}),e=h=p.stop?d:null):(h=d,f.skip&&(e=d)),f=p}return h!==null&&u.push({start:e%l,end:h%l,loop:o}),u}function _computeSegments(t,e){const n=t.points,o=t.options.spanGaps,l=n.length;if(!l)return[];const u=!!t._loop,{start:h,end:f}=findStartAndEnd(n,l,u,o);if(o===!0)return splitByStyles(t,[{start:h,end:f,loop:u}],n,e);const d=f<h?f+l:f,p=!!t._fullLoop&&h===0&&f===l-1;return splitByStyles(t,solidSegments(n,h,d,p),n,e)}function splitByStyles(t,e,n,o){return!o||!o.setContext||!n?e:doSplitByStyles(t,e,n,o)}function doSplitByStyles(t,e,n,o){const l=t._chart.getContext(),u=readStyle(t.options),{_datasetIndex:h,options:{spanGaps:f}}=t,d=n.length,p=[];let m=u,v=e[0].start,b=v;function S(T,C,w,R){const L=f?-1:1;if(T!==C){for(T+=d;n[T%d].skip;)T-=L;for(;n[C%d].skip;)C+=L;T%d!==C%d&&(p.push({start:T%d,end:C%d,loop:w,style:R}),m=R,v=C%d)}}for(const T of e){v=f?v:T.start;let C=n[v%d],w;for(b=v+1;b<=T.end;b++){const R=n[b%d];w=readStyle(o.setContext(createContext(l,{type:"segment",p0:C,p1:R,p0DataIndex:(b-1)%d,p1DataIndex:b%d,datasetIndex:h}))),styleChanged(w,m)&&S(v,b-1,T.loop,m),C=R,m=w}v<b-1&&S(v,b-1,T.loop,m)}return p}function readStyle(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function styleChanged(t,e){if(!e)return!1;const n=[],o=function(l,u){return isPatternOrGradient(u)?(n.includes(u)||n.push(u),n.indexOf(u)):u};return JSON.stringify(t,o)!==JSON.stringify(e,o)}function getSizeForArea(t,e,n){return t.options.clip?t[n]:e[n]}function getDatasetArea(t,e){const{xScale:n,yScale:o}=t;return n&&o?{left:getSizeForArea(n,e,"left"),right:getSizeForArea(n,e,"right"),top:getSizeForArea(o,e,"top"),bottom:getSizeForArea(o,e,"bottom")}:e}function getDatasetClipArea(t,e){const n=e._clip;if(n.disabled)return!1;const o=getDatasetArea(e,t.chartArea);return{left:n.left===!1?0:o.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:o.right+(n.right===!0?0:n.right),top:n.top===!1?0:o.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:o.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Animator{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,o,l){const u=n.listeners[l],h=n.duration;u.forEach(f=>f({chart:e,initial:n.initial,numSteps:h,currentStep:Math.min(o-n.start,h)}))}_refresh(){this._request||(this._running=!0,this._request=requestAnimFrame.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((o,l)=>{if(!o.running||!o.items.length)return;const u=o.items;let h=u.length-1,f=!1,d;for(;h>=0;--h)d=u[h],d._active?(d._total>o.duration&&(o.duration=d._total),d.tick(e),f=!0):(u[h]=u[u.length-1],u.pop());f&&(l.draw(),this._notify(l,o,e,"progress")),u.length||(o.running=!1,this._notify(l,o,e,"complete"),o.initial=!1),n+=u.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let o=n.get(e);return o||(o={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,o)),o}listen(e,n,o){this._getAnims(e).listeners[n].push(o)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((o,l)=>Math.max(o,l._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const o=n.items;let l=o.length-1;for(;l>=0;--l)o[l].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var animator=new Animator;const transparent="transparent",interpolators={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const o=color$1(t||transparent),l=o.valid&&color$1(e||transparent);return l&&l.valid?l.mix(o,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class Animation{constructor(e,n,o,l){const u=n[o];l=resolve$1([e.to,l,u,e.from]);const h=resolve$1([e.from,u,l]);this._active=!0,this._fn=e.fn||interpolators[e.type||typeof h],this._easing=effects[e.easing]||effects.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=o,this._from=h,this._to=l,this._promises=void 0}active(){return this._active}update(e,n,o){if(this._active){this._notify(!1);const l=this._target[this._prop],u=o-this._start,h=this._duration-u;this._start=o,this._duration=Math.floor(Math.max(h,e.duration)),this._total+=u,this._loop=!!e.loop,this._to=resolve$1([e.to,n,l,e.from]),this._from=resolve$1([e.from,l,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,o=this._duration,l=this._prop,u=this._from,h=this._loop,f=this._to;let d;if(this._active=u!==f&&(h||n<o),!this._active){this._target[l]=f,this._notify(!0);return}if(n<0){this._target[l]=u;return}d=n/o%2,d=h&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[l]=this._fn(u,f,d)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,o)=>{e.push({res:n,rej:o})})}_notify(e){const n=e?"res":"rej",o=this._promises||[];for(let l=0;l<o.length;l++)o[l][n]()}}class Animations{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!isObject$1(e))return;const n=Object.keys(defaults$1.animation),o=this._properties;Object.getOwnPropertyNames(e).forEach(l=>{const u=e[l];if(!isObject$1(u))return;const h={};for(const f of n)h[f]=u[f];(isArray$1(u.properties)&&u.properties||[l]).forEach(f=>{(f===l||!o.has(f))&&o.set(f,h)})})}_animateOptions(e,n){const o=n.options,l=resolveTargetOptions(e,o);if(!l)return[];const u=this._createAnimations(l,o);return o.$shared&&awaitAll(e.options.$animations,o).then(()=>{e.options=o},()=>{}),u}_createAnimations(e,n){const o=this._properties,l=[],u=e.$animations||(e.$animations={}),h=Object.keys(n),f=Date.now();let d;for(d=h.length-1;d>=0;--d){const p=h[d];if(p.charAt(0)==="$")continue;if(p==="options"){l.push(...this._animateOptions(e,n));continue}const m=n[p];let v=u[p];const b=o.get(p);if(v)if(b&&v.active()){v.update(b,m,f);continue}else v.cancel();if(!b||!b.duration){e[p]=m;continue}u[p]=v=new Animation(b,e,p,m),l.push(v)}return l}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const o=this._createAnimations(e,n);if(o.length)return animator.add(this._chart,o),!0}}function awaitAll(t,e){const n=[],o=Object.keys(e);for(let l=0;l<o.length;l++){const u=t[o[l]];u&&u.active()&&n.push(u.wait())}return Promise.all(n)}function resolveTargetOptions(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function scaleClip(t,e){const n=t&&t.options||{},o=n.reverse,l=n.min===void 0?e:0,u=n.max===void 0?e:0;return{start:o?u:l,end:o?l:u}}function defaultClip(t,e,n){if(n===!1)return!1;const o=scaleClip(t,n),l=scaleClip(e,n);return{top:l.end,right:o.end,bottom:l.start,left:o.start}}function toClip(t){let e,n,o,l;return isObject$1(t)?(e=t.top,n=t.right,o=t.bottom,l=t.left):e=n=o=l=t,{top:e,right:n,bottom:o,left:l,disabled:t===!1}}function getSortedDatasetIndices(t,e){const n=[],o=t._getSortedDatasetMetas(e);let l,u;for(l=0,u=o.length;l<u;++l)n.push(o[l].index);return n}function applyStack(t,e,n,o={}){const l=t.keys,u=o.mode==="single";let h,f,d,p;if(e===null)return;let m=!1;for(h=0,f=l.length;h<f;++h){if(d=+l[h],d===n){if(m=!0,o.all)continue;break}p=t.values[d],isNumberFinite(p)&&(u||e===0||sign$2(e)===sign$2(p))&&(e+=p)}return!m&&!o.all?0:e}function convertObjectDataToArray(t,e){const{iScale:n,vScale:o}=e,l=n.axis==="x"?"x":"y",u=o.axis==="x"?"x":"y",h=Object.keys(t),f=new Array(h.length);let d,p,m;for(d=0,p=h.length;d<p;++d)m=h[d],f[d]={[l]:m,[u]:t[m]};return f}function isStacked(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function getStackKey(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function getUserBounds(t){const{min:e,max:n,minDefined:o,maxDefined:l}=t.getUserBounds();return{min:o?e:Number.NEGATIVE_INFINITY,max:l?n:Number.POSITIVE_INFINITY}}function getOrCreateStack(t,e,n){const o=t[e]||(t[e]={});return o[n]||(o[n]={})}function getLastIndexInStack(t,e,n,o){for(const l of e.getMatchingVisibleMetas(o).reverse()){const u=t[l.index];if(n&&u>0||!n&&u<0)return l.index}return null}function updateStacks(t,e){const{chart:n,_cachedMeta:o}=t,l=n._stacks||(n._stacks={}),{iScale:u,vScale:h,index:f}=o,d=u.axis,p=h.axis,m=getStackKey(u,h,o),v=e.length;let b;for(let S=0;S<v;++S){const T=e[S],{[d]:C,[p]:w}=T,R=T._stacks||(T._stacks={});b=R[p]=getOrCreateStack(l,m,C),b[f]=w,b._top=getLastIndexInStack(b,h,!0,o.type),b._bottom=getLastIndexInStack(b,h,!1,o.type);const L=b._visualValues||(b._visualValues={});L[f]=w}}function getFirstScaleId(t,e){const n=t.scales;return Object.keys(n).filter(o=>n[o].axis===e).shift()}function createDatasetContext(t,e){return createContext(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function createDataContext(t,e,n){return createContext(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function clearStacks(t,e){const n=t.controller.index,o=t.vScale&&t.vScale.axis;if(o){e=e||t._parsed;for(const l of e){const u=l._stacks;if(!u||u[o]===void 0||u[o][n]===void 0)return;delete u[o][n],u[o]._visualValues!==void 0&&u[o]._visualValues[n]!==void 0&&delete u[o]._visualValues[n]}}}const isDirectUpdateMode=t=>t==="reset"||t==="none",cloneIfNotShared=(t,e)=>e?t:Object.assign({},t),createStack=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:getSortedDatasetIndices(n,!0),values:null};class DatasetController{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=isStacked(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&clearStacks(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,o=this.getDataset(),l=(v,b,S,T)=>v==="x"?b:v==="r"?T:S,u=n.xAxisID=valueOrDefault(o.xAxisID,getFirstScaleId(e,"x")),h=n.yAxisID=valueOrDefault(o.yAxisID,getFirstScaleId(e,"y")),f=n.rAxisID=valueOrDefault(o.rAxisID,getFirstScaleId(e,"r")),d=n.indexAxis,p=n.iAxisID=l(d,u,h,f),m=n.vAxisID=l(d,h,u,f);n.xScale=this.getScaleForId(u),n.yScale=this.getScaleForId(h),n.rScale=this.getScaleForId(f),n.iScale=this.getScaleForId(p),n.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&unlistenArrayEvents(this._data,this),e._stacked&&clearStacks(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),o=this._data;if(isObject$1(n)){const l=this._cachedMeta;this._data=convertObjectDataToArray(n,l)}else if(o!==n){if(o){unlistenArrayEvents(o,this);const l=this._cachedMeta;clearStacks(l),l._parsed=[]}n&&Object.isExtensible(n)&&listenArrayEvents(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,o=this.getDataset();let l=!1;this._dataCheck();const u=n._stacked;n._stacked=isStacked(n.vScale,n),n.stack!==o.stack&&(l=!0,clearStacks(n),n.stack=o.stack),this._resyncElements(e),(l||u!==n._stacked)&&(updateStacks(this,n._parsed),n._stacked=isStacked(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),o=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(o,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:o,_data:l}=this,{iScale:u,_stacked:h}=o,f=u.axis;let d=e===0&&n===l.length?!0:o._sorted,p=e>0&&o._parsed[e-1],m,v,b;if(this._parsing===!1)o._parsed=l,o._sorted=!0,b=l;else{isArray$1(l[e])?b=this.parseArrayData(o,l,e,n):isObject$1(l[e])?b=this.parseObjectData(o,l,e,n):b=this.parsePrimitiveData(o,l,e,n);const S=()=>v[f]===null||p&&v[f]<p[f];for(m=0;m<n;++m)o._parsed[m+e]=v=b[m],d&&(S()&&(d=!1),p=v);o._sorted=d}h&&updateStacks(this,b)}parsePrimitiveData(e,n,o,l){const{iScale:u,vScale:h}=e,f=u.axis,d=h.axis,p=u.getLabels(),m=u===h,v=new Array(l);let b,S,T;for(b=0,S=l;b<S;++b)T=b+o,v[b]={[f]:m||u.parse(p[T],T),[d]:h.parse(n[T],T)};return v}parseArrayData(e,n,o,l){const{xScale:u,yScale:h}=e,f=new Array(l);let d,p,m,v;for(d=0,p=l;d<p;++d)m=d+o,v=n[m],f[d]={x:u.parse(v[0],m),y:h.parse(v[1],m)};return f}parseObjectData(e,n,o,l){const{xScale:u,yScale:h}=e,{xAxisKey:f="x",yAxisKey:d="y"}=this._parsing,p=new Array(l);let m,v,b,S;for(m=0,v=l;m<v;++m)b=m+o,S=n[b],p[m]={x:u.parse(resolveObjectKey(S,f),b),y:h.parse(resolveObjectKey(S,d),b)};return p}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,o){const l=this.chart,u=this._cachedMeta,h=n[e.axis],f={keys:getSortedDatasetIndices(l,!0),values:n._stacks[e.axis]._visualValues};return applyStack(f,h,u.index,{mode:o})}updateRangeFromParsed(e,n,o,l){const u=o[n.axis];let h=u===null?NaN:u;const f=l&&o._stacks[n.axis];l&&f&&(l.values=f,h=applyStack(l,u,this._cachedMeta.index)),e.min=Math.min(e.min,h),e.max=Math.max(e.max,h)}getMinMax(e,n){const o=this._cachedMeta,l=o._parsed,u=o._sorted&&e===o.iScale,h=l.length,f=this._getOtherScale(e),d=createStack(n,o,this.chart),p={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:v}=getUserBounds(f);let b,S;function T(){S=l[b];const C=S[f.axis];return!isNumberFinite(S[e.axis])||m>C||v<C}for(b=0;b<h&&!(!T()&&(this.updateRangeFromParsed(p,e,S,d),u));++b);if(u){for(b=h-1;b>=0;--b)if(!T()){this.updateRangeFromParsed(p,e,S,d);break}}return p}getAllParsedValues(e){const n=this._cachedMeta._parsed,o=[];let l,u,h;for(l=0,u=n.length;l<u;++l)h=n[l][e.axis],isNumberFinite(h)&&o.push(h);return o}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,o=n.iScale,l=n.vScale,u=this.getParsed(e);return{label:o?""+o.getLabelForValue(u[o.axis]):"",value:l?""+l.getLabelForValue(u[l.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=toClip(valueOrDefault(this.options.clip,defaultClip(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,o=this._cachedMeta,l=o.data||[],u=n.chartArea,h=[],f=this._drawStart||0,d=this._drawCount||l.length-f,p=this.options.drawActiveElementsOnTop;let m;for(o.dataset&&o.dataset.draw(e,u,f,d),m=f;m<f+d;++m){const v=l[m];v.hidden||(v.active&&p?h.push(v):v.draw(e,u))}for(m=0;m<h.length;++m)h[m].draw(e,u)}getStyle(e,n){const o=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(o):this.resolveDataElementOptions(e||0,o)}getContext(e,n,o){const l=this.getDataset();let u;if(e>=0&&e<this._cachedMeta.data.length){const h=this._cachedMeta.data[e];u=h.$context||(h.$context=createDataContext(this.getContext(),e,h)),u.parsed=this.getParsed(e),u.raw=l.data[e],u.index=u.dataIndex=e}else u=this.$context||(this.$context=createDatasetContext(this.chart.getContext(),this.index)),u.dataset=l,u.index=u.datasetIndex=this.index;return u.active=!!n,u.mode=o,u}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",o){const l=n==="active",u=this._cachedDataOpts,h=e+"-"+n,f=u[h],d=this.enableOptionSharing&&defined$1(o);if(f)return cloneIfNotShared(f,d);const p=this.chart.config,m=p.datasetElementScopeKeys(this._type,e),v=l?[`${e}Hover`,"hover",e,""]:[e,""],b=p.getOptionScopes(this.getDataset(),m),S=Object.keys(defaults$1.elements[e]),T=()=>this.getContext(o,l,n),C=p.resolveNamedOptions(b,S,T,v);return C.$shared&&(C.$shared=d,u[h]=Object.freeze(cloneIfNotShared(C,d))),C}_resolveAnimations(e,n,o){const l=this.chart,u=this._cachedDataOpts,h=`animation-${n}`,f=u[h];if(f)return f;let d;if(l.options.animation!==!1){const m=this.chart.config,v=m.datasetAnimationScopeKeys(this._type,n),b=m.getOptionScopes(this.getDataset(),v);d=m.createResolver(b,this.getContext(e,o,n))}const p=new Animations(l,d&&d.animations);return d&&d._cacheable&&(u[h]=Object.freeze(p)),p}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||isDirectUpdateMode(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const o=this.resolveDataElementOptions(e,n),l=this._sharedOptions,u=this.getSharedOptions(o),h=this.includeOptions(n,u)||u!==l;return this.updateSharedOptions(u,n,o),{sharedOptions:u,includeOptions:h}}updateElement(e,n,o,l){isDirectUpdateMode(l)?Object.assign(e,o):this._resolveAnimations(n,l).update(e,o)}updateSharedOptions(e,n,o){e&&!isDirectUpdateMode(n)&&this._resolveAnimations(void 0,n).update(e,o)}_setStyle(e,n,o,l){e.active=l;const u=this.getStyle(n,l);this._resolveAnimations(n,o,l).update(e,{options:!l&&this.getSharedOptions(u)||u})}removeHoverStyle(e,n,o){this._setStyle(e,o,"active",!1)}setHoverStyle(e,n,o){this._setStyle(e,o,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,o=this._cachedMeta.data;for(const[f,d,p]of this._syncList)this[f](d,p);this._syncList=[];const l=o.length,u=n.length,h=Math.min(u,l);h&&this.parse(0,h),u>l?this._insertElements(l,u-l,e):u<l&&this._removeElements(u,l-u)}_insertElements(e,n,o=!0){const l=this._cachedMeta,u=l.data,h=e+n;let f;const d=p=>{for(p.length+=n,f=p.length-1;f>=h;f--)p[f]=p[f-n]};for(d(u),f=e;f<h;++f)u[f]=new this.dataElementType;this._parsing&&d(l._parsed),this.parse(e,n),o&&this.updateElements(u,e,n,"reset")}updateElements(e,n,o,l){}_removeElements(e,n){const o=this._cachedMeta;if(this._parsing){const l=o._parsed.splice(e,n);o._stacked&&clearStacks(o,l)}o.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,o,l]=e;this[n](o,l)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const o=arguments.length-2;o&&this._sync(["_insertElements",e,o])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}an(DatasetController,"defaults",{}),an(DatasetController,"datasetElementType",null),an(DatasetController,"dataElementType",null);class LineController extends DatasetController{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:o,data:l=[],_dataset:u}=n,h=this.chart._animationsDisabled;let{start:f,count:d}=_getStartAndCountOfVisiblePoints(n,l,h);this._drawStart=f,this._drawCount=d,_scaleRangesChanged(n)&&(f=0,d=l.length),o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!u._decimated,o.points=l;const p=this.resolveDatasetElementOptions(e);this.options.showLine||(p.borderWidth=0),p.segment=this.options.segment,this.updateElement(o,void 0,{animated:!h,options:p},e),this.updateElements(l,f,d,e)}updateElements(e,n,o,l){const u=l==="reset",{iScale:h,vScale:f,_stacked:d,_dataset:p}=this._cachedMeta,{sharedOptions:m,includeOptions:v}=this._getSharedOptions(n,l),b=h.axis,S=f.axis,{spanGaps:T,segment:C}=this.options,w=isNumber$2(T)?T:Number.POSITIVE_INFINITY,R=this.chart._animationsDisabled||u||l==="none",L=n+o,N=e.length;let F=n>0&&this.getParsed(n-1);for(let B=0;B<N;++B){const U=e[B],z=R?U:{};if(B<n||B>=L){z.skip=!0;continue}const K=this.getParsed(B),Q=isNullOrUndef(K[S]),q=z[b]=h.getPixelForValue(K[b],B),H=z[S]=u||Q?f.getBasePixel():f.getPixelForValue(d?this.applyStack(f,K,d):K[S],B);z.skip=isNaN(q)||isNaN(H)||Q,z.stop=B>0&&Math.abs(K[b]-F[b])>w,C&&(z.parsed=K,z.raw=p.data[B]),v&&(z.options=m||this.resolveDataElementOptions(B,U.active?"active":l)),R||this.updateElement(U,B,z,l),F=K}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,o=n.options&&n.options.borderWidth||0,l=e.data||[];if(!l.length)return o;const u=l[0].size(this.resolveDataElementOptions(0)),h=l[l.length-1].size(this.resolveDataElementOptions(l.length-1));return Math.max(o,u,h)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}an(LineController,"id","line"),an(LineController,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),an(LineController,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function abstract(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class DateAdapterBase{constructor(e){an(this,"options");this.options=e||{}}static override(e){Object.assign(DateAdapterBase.prototype,e)}init(){}formats(){return abstract()}parse(){return abstract()}format(){return abstract()}add(){return abstract()}diff(){return abstract()}startOf(){return abstract()}endOf(){return abstract()}}var adapters={_date:DateAdapterBase};function binarySearch(t,e,n,o){const{controller:l,data:u,_sorted:h}=t,f=l._cachedMeta.iScale,d=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(f&&e===f.axis&&e!=="r"&&h&&u.length){const p=f._reversePixels?_rlookupByKey:_lookupByKey;if(o){if(l._sharedOptions){const m=u[0],v=typeof m.getRange=="function"&&m.getRange(e);if(v){const b=p(u,e,n-v),S=p(u,e,n+v);return{lo:b.lo,hi:S.hi}}}}else{const m=p(u,e,n);if(d){const{vScale:v}=l._cachedMeta,{_parsed:b}=t,S=b.slice(0,m.lo+1).reverse().findIndex(C=>!isNullOrUndef(C[v.axis]));m.lo-=Math.max(0,S);const T=b.slice(m.hi).findIndex(C=>!isNullOrUndef(C[v.axis]));m.hi+=Math.max(0,T)}return m}}return{lo:0,hi:u.length-1}}function evaluateInteractionItems(t,e,n,o,l){const u=t.getSortedVisibleDatasetMetas(),h=n[e];for(let f=0,d=u.length;f<d;++f){const{index:p,data:m}=u[f],{lo:v,hi:b}=binarySearch(u[f],e,h,l);for(let S=v;S<=b;++S){const T=m[S];T.skip||o(T,p,S)}}}function getDistanceMetricForAxis(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(o,l){const u=e?Math.abs(o.x-l.x):0,h=n?Math.abs(o.y-l.y):0;return Math.sqrt(Math.pow(u,2)+Math.pow(h,2))}}function getIntersectItems(t,e,n,o,l){const u=[];return!l&&!t.isPointInArea(e)||evaluateInteractionItems(t,n,e,function(f,d,p){!l&&!_isPointInArea(f,t.chartArea,0)||f.inRange(e.x,e.y,o)&&u.push({element:f,datasetIndex:d,index:p})},!0),u}function getNearestRadialItems(t,e,n,o){let l=[];function u(h,f,d){const{startAngle:p,endAngle:m}=h.getProps(["startAngle","endAngle"],o),{angle:v}=getAngleFromPoint(h,{x:e.x,y:e.y});_angleBetween(v,p,m)&&l.push({element:h,datasetIndex:f,index:d})}return evaluateInteractionItems(t,n,e,u),l}function getNearestCartesianItems(t,e,n,o,l,u){let h=[];const f=getDistanceMetricForAxis(n);let d=Number.POSITIVE_INFINITY;function p(m,v,b){const S=m.inRange(e.x,e.y,l);if(o&&!S)return;const T=m.getCenterPoint(l);if(!(!!u||t.isPointInArea(T))&&!S)return;const w=f(e,T);w<d?(h=[{element:m,datasetIndex:v,index:b}],d=w):w===d&&h.push({element:m,datasetIndex:v,index:b})}return evaluateInteractionItems(t,n,e,p),h}function getNearestItems(t,e,n,o,l,u){return!u&&!t.isPointInArea(e)?[]:n==="r"&&!o?getNearestRadialItems(t,e,n,l):getNearestCartesianItems(t,e,n,o,l,u)}function getAxisItems(t,e,n,o,l){const u=[],h=n==="x"?"inXRange":"inYRange";let f=!1;return evaluateInteractionItems(t,n,e,(d,p,m)=>{d[h]&&d[h](e[n],l)&&(u.push({element:d,datasetIndex:p,index:m}),f=f||d.inRange(e.x,e.y,l))}),o&&!f?[]:u}var Interaction={modes:{index(t,e,n,o){const l=getRelativePosition(e,t),u=n.axis||"x",h=n.includeInvisible||!1,f=n.intersect?getIntersectItems(t,l,u,o,h):getNearestItems(t,l,u,!1,o,h),d=[];return f.length?(t.getSortedVisibleDatasetMetas().forEach(p=>{const m=f[0].index,v=p.data[m];v&&!v.skip&&d.push({element:v,datasetIndex:p.index,index:m})}),d):[]},dataset(t,e,n,o){const l=getRelativePosition(e,t),u=n.axis||"xy",h=n.includeInvisible||!1;let f=n.intersect?getIntersectItems(t,l,u,o,h):getNearestItems(t,l,u,!1,o,h);if(f.length>0){const d=f[0].datasetIndex,p=t.getDatasetMeta(d).data;f=[];for(let m=0;m<p.length;++m)f.push({element:p[m],datasetIndex:d,index:m})}return f},point(t,e,n,o){const l=getRelativePosition(e,t),u=n.axis||"xy",h=n.includeInvisible||!1;return getIntersectItems(t,l,u,o,h)},nearest(t,e,n,o){const l=getRelativePosition(e,t),u=n.axis||"xy",h=n.includeInvisible||!1;return getNearestItems(t,l,u,n.intersect,o,h)},x(t,e,n,o){const l=getRelativePosition(e,t);return getAxisItems(t,l,"x",n.intersect,o)},y(t,e,n,o){const l=getRelativePosition(e,t);return getAxisItems(t,l,"y",n.intersect,o)}}};const STATIC_POSITIONS=["left","top","right","bottom"];function filterByPosition(t,e){return t.filter(n=>n.pos===e)}function filterDynamicPositionByAxis(t,e){return t.filter(n=>STATIC_POSITIONS.indexOf(n.pos)===-1&&n.box.axis===e)}function sortByWeight(t,e){return t.sort((n,o)=>{const l=e?o:n,u=e?n:o;return l.weight===u.weight?l.index-u.index:l.weight-u.weight})}function wrapBoxes(t){const e=[];let n,o,l,u,h,f;for(n=0,o=(t||[]).length;n<o;++n)l=t[n],{position:u,options:{stack:h,stackWeight:f=1}}=l,e.push({index:n,box:l,pos:u,horizontal:l.isHorizontal(),weight:l.weight,stack:h&&u+h,stackWeight:f});return e}function buildStacks(t){const e={};for(const n of t){const{stack:o,pos:l,stackWeight:u}=n;if(!o||!STATIC_POSITIONS.includes(l))continue;const h=e[o]||(e[o]={count:0,placed:0,weight:0,size:0});h.count++,h.weight+=u}return e}function setLayoutDims(t,e){const n=buildStacks(t),{vBoxMaxWidth:o,hBoxMaxHeight:l}=e;let u,h,f;for(u=0,h=t.length;u<h;++u){f=t[u];const{fullSize:d}=f.box,p=n[f.stack],m=p&&f.stackWeight/p.weight;f.horizontal?(f.width=m?m*o:d&&e.availableWidth,f.height=l):(f.width=o,f.height=m?m*l:d&&e.availableHeight)}return n}function buildLayoutBoxes(t){const e=wrapBoxes(t),n=sortByWeight(e.filter(p=>p.box.fullSize),!0),o=sortByWeight(filterByPosition(e,"left"),!0),l=sortByWeight(filterByPosition(e,"right")),u=sortByWeight(filterByPosition(e,"top"),!0),h=sortByWeight(filterByPosition(e,"bottom")),f=filterDynamicPositionByAxis(e,"x"),d=filterDynamicPositionByAxis(e,"y");return{fullSize:n,leftAndTop:o.concat(u),rightAndBottom:l.concat(d).concat(h).concat(f),chartArea:filterByPosition(e,"chartArea"),vertical:o.concat(l).concat(d),horizontal:u.concat(h).concat(f)}}function getCombinedMax(t,e,n,o){return Math.max(t[n],e[n])+Math.max(t[o],e[o])}function updateMaxPadding(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function updateDims(t,e,n,o){const{pos:l,box:u}=n,h=t.maxPadding;if(!isObject$1(l)){n.size&&(t[l]-=n.size);const v=o[n.stack]||{size:0,count:1};v.size=Math.max(v.size,n.horizontal?u.height:u.width),n.size=v.size/v.count,t[l]+=n.size}u.getPadding&&updateMaxPadding(h,u.getPadding());const f=Math.max(0,e.outerWidth-getCombinedMax(h,t,"left","right")),d=Math.max(0,e.outerHeight-getCombinedMax(h,t,"top","bottom")),p=f!==t.w,m=d!==t.h;return t.w=f,t.h=d,n.horizontal?{same:p,other:m}:{same:m,other:p}}function handleMaxPadding(t){const e=t.maxPadding;function n(o){const l=Math.max(e[o]-t[o],0);return t[o]+=l,l}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function getMargins(t,e){const n=e.maxPadding;function o(l){const u={left:0,top:0,right:0,bottom:0};return l.forEach(h=>{u[h]=Math.max(e[h],n[h])}),u}return o(t?["left","right"]:["top","bottom"])}function fitBoxes(t,e,n,o){const l=[];let u,h,f,d,p,m;for(u=0,h=t.length,p=0;u<h;++u){f=t[u],d=f.box,d.update(f.width||e.w,f.height||e.h,getMargins(f.horizontal,e));const{same:v,other:b}=updateDims(e,n,f,o);p|=v&&l.length,m=m||b,d.fullSize||l.push(f)}return p&&fitBoxes(l,e,n,o)||m}function setBoxDims(t,e,n,o,l){t.top=n,t.left=e,t.right=e+o,t.bottom=n+l,t.width=o,t.height=l}function placeBoxes(t,e,n,o){const l=n.padding;let{x:u,y:h}=e;for(const f of t){const d=f.box,p=o[f.stack]||{placed:0,weight:1},m=f.stackWeight/p.weight||1;if(f.horizontal){const v=e.w*m,b=p.size||d.height;defined$1(p.start)&&(h=p.start),d.fullSize?setBoxDims(d,l.left,h,n.outerWidth-l.right-l.left,b):setBoxDims(d,e.left+p.placed,h,v,b),p.start=h,p.placed+=v,h=d.bottom}else{const v=e.h*m,b=p.size||d.width;defined$1(p.start)&&(u=p.start),d.fullSize?setBoxDims(d,u,l.top,b,n.outerHeight-l.bottom-l.top):setBoxDims(d,u,e.top+p.placed,b,v),p.start=u,p.placed+=v,u=d.right}}e.x=u,e.y=h}var layouts={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,o){if(!t)return;const l=toPadding(t.options.layout.padding),u=Math.max(e-l.width,0),h=Math.max(n-l.height,0),f=buildLayoutBoxes(t.boxes),d=f.vertical,p=f.horizontal;each(t.boxes,C=>{typeof C.beforeLayout=="function"&&C.beforeLayout()});const m=d.reduce((C,w)=>w.box.options&&w.box.options.display===!1?C:C+1,0)||1,v=Object.freeze({outerWidth:e,outerHeight:n,padding:l,availableWidth:u,availableHeight:h,vBoxMaxWidth:u/2/m,hBoxMaxHeight:h/2}),b=Object.assign({},l);updateMaxPadding(b,toPadding(o));const S=Object.assign({maxPadding:b,w:u,h,x:l.left,y:l.top},l),T=setLayoutDims(d.concat(p),v);fitBoxes(f.fullSize,S,v,T),fitBoxes(d,S,v,T),fitBoxes(p,S,v,T)&&fitBoxes(d,S,v,T),handleMaxPadding(S),placeBoxes(f.leftAndTop,S,v,T),S.x+=S.w,S.y+=S.h,placeBoxes(f.rightAndBottom,S,v,T),t.chartArea={left:S.left,top:S.top,right:S.left+S.w,bottom:S.top+S.h,height:S.h,width:S.w},each(f.chartArea,C=>{const w=C.box;Object.assign(w,t.chartArea),w.update(S.w,S.h,{left:0,top:0,right:0,bottom:0})})}};class BasePlatform{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,o){}removeEventListener(e,n,o){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,o,l){return n=Math.max(0,n||e.width),o=o||e.height,{width:n,height:Math.max(0,l?Math.floor(n/l):o)}}isAttached(e){return!0}updateConfig(e){}}class BasicPlatform extends BasePlatform{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const EXPANDO_KEY="$chartjs",EVENT_TYPES={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},isNullOrEmpty=t=>t===null||t==="";function initCanvas(t,e){const n=t.style,o=t.getAttribute("height"),l=t.getAttribute("width");if(t[EXPANDO_KEY]={initial:{height:o,width:l,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",isNullOrEmpty(l)){const u=readUsedSize(t,"width");u!==void 0&&(t.width=u)}if(isNullOrEmpty(o))if(t.style.height==="")t.height=t.width/(e||2);else{const u=readUsedSize(t,"height");u!==void 0&&(t.height=u)}return t}const eventListenerOptions=supportsEventListenerOptions?{passive:!0}:!1;function addListener(t,e,n){t&&t.addEventListener(e,n,eventListenerOptions)}function removeListener(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,eventListenerOptions)}function fromNativeEvent(t,e){const n=EVENT_TYPES[t.type]||t.type,{x:o,y:l}=getRelativePosition(t,e);return{type:n,chart:e,native:t,x:o!==void 0?o:null,y:l!==void 0?l:null}}function nodeListContains(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function createAttachObserver(t,e,n){const o=t.canvas,l=new MutationObserver(u=>{let h=!1;for(const f of u)h=h||nodeListContains(f.addedNodes,o),h=h&&!nodeListContains(f.removedNodes,o);h&&n()});return l.observe(document,{childList:!0,subtree:!0}),l}function createDetachObserver(t,e,n){const o=t.canvas,l=new MutationObserver(u=>{let h=!1;for(const f of u)h=h||nodeListContains(f.removedNodes,o),h=h&&!nodeListContains(f.addedNodes,o);h&&n()});return l.observe(document,{childList:!0,subtree:!0}),l}const drpListeningCharts=new Map;let oldDevicePixelRatio=0;function onWindowResize(){const t=window.devicePixelRatio;t!==oldDevicePixelRatio&&(oldDevicePixelRatio=t,drpListeningCharts.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function listenDevicePixelRatioChanges(t,e){drpListeningCharts.size||window.addEventListener("resize",onWindowResize),drpListeningCharts.set(t,e)}function unlistenDevicePixelRatioChanges(t){drpListeningCharts.delete(t),drpListeningCharts.size||window.removeEventListener("resize",onWindowResize)}function createResizeObserver(t,e,n){const o=t.canvas,l=o&&_getParentNode(o);if(!l)return;const u=throttled((f,d)=>{const p=l.clientWidth;n(f,d),p<l.clientWidth&&n()},window),h=new ResizeObserver(f=>{const d=f[0],p=d.contentRect.width,m=d.contentRect.height;p===0&&m===0||u(p,m)});return h.observe(l),listenDevicePixelRatioChanges(t,u),h}function releaseObserver(t,e,n){n&&n.disconnect(),e==="resize"&&unlistenDevicePixelRatioChanges(t)}function createProxyAndListen(t,e,n){const o=t.canvas,l=throttled(u=>{t.ctx!==null&&n(fromNativeEvent(u,t))},t);return addListener(o,e,l),l}class DomPlatform extends BasePlatform{acquireContext(e,n){const o=e&&e.getContext&&e.getContext("2d");return o&&o.canvas===e?(initCanvas(e,n),o):null}releaseContext(e){const n=e.canvas;if(!n[EXPANDO_KEY])return!1;const o=n[EXPANDO_KEY].initial;["height","width"].forEach(u=>{const h=o[u];isNullOrUndef(h)?n.removeAttribute(u):n.setAttribute(u,h)});const l=o.style||{};return Object.keys(l).forEach(u=>{n.style[u]=l[u]}),n.width=n.width,delete n[EXPANDO_KEY],!0}addEventListener(e,n,o){this.removeEventListener(e,n);const l=e.$proxies||(e.$proxies={}),h={attach:createAttachObserver,detach:createDetachObserver,resize:createResizeObserver}[n]||createProxyAndListen;l[n]=h(e,n,o)}removeEventListener(e,n){const o=e.$proxies||(e.$proxies={}),l=o[n];if(!l)return;({attach:releaseObserver,detach:releaseObserver,resize:releaseObserver}[n]||removeListener)(e,n,l),o[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,o,l){return getMaximumSize(e,n,o,l)}isAttached(e){const n=e&&_getParentNode(e);return!!(n&&n.isConnected)}}function _detectPlatform(t){return!_isDomSupported()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?BasicPlatform:DomPlatform}var nu;let Element$1=(nu=class{constructor(){an(this,"x");an(this,"y");an(this,"active",!1);an(this,"options");an(this,"$animations")}tooltipPosition(e){const{x:n,y:o}=this.getProps(["x","y"],e);return{x:n,y:o}}hasValue(){return isNumber$2(this.x)&&isNumber$2(this.y)}getProps(e,n){const o=this.$animations;if(!n||!o)return this;const l={};return e.forEach(u=>{l[u]=o[u]&&o[u].active()?o[u]._to:this[u]}),l}},an(nu,"defaults",{}),an(nu,"defaultRoutes"),nu);function autoSkip(t,e){const n=t.options.ticks,o=determineMaxTicks(t),l=Math.min(n.maxTicksLimit||o,o),u=n.major.enabled?getMajorIndices(e):[],h=u.length,f=u[0],d=u[h-1],p=[];if(h>l)return skipMajors(e,p,u,h/l),p;const m=calculateSpacing(u,e,l);if(h>0){let v,b;const S=h>1?Math.round((d-f)/(h-1)):null;for(skip(e,p,m,isNullOrUndef(S)?0:f-S,f),v=0,b=h-1;v<b;v++)skip(e,p,m,u[v],u[v+1]);return skip(e,p,m,d,isNullOrUndef(S)?e.length:d+S),p}return skip(e,p,m),p}function determineMaxTicks(t){const e=t.options.offset,n=t._tickSize(),o=t._length/n+(e?0:1),l=t._maxLength/n;return Math.floor(Math.min(o,l))}function calculateSpacing(t,e,n){const o=getEvenSpacing(t),l=e.length/n;if(!o)return Math.max(l,1);const u=_factorize(o);for(let h=0,f=u.length-1;h<f;h++){const d=u[h];if(d>l)return d}return Math.max(l,1)}function getMajorIndices(t){const e=[];let n,o;for(n=0,o=t.length;n<o;n++)t[n].major&&e.push(n);return e}function skipMajors(t,e,n,o){let l=0,u=n[0],h;for(o=Math.ceil(o),h=0;h<t.length;h++)h===u&&(e.push(t[h]),l++,u=n[l*o])}function skip(t,e,n,o,l){const u=valueOrDefault(o,0),h=Math.min(valueOrDefault(l,t.length),t.length);let f=0,d,p,m;for(n=Math.ceil(n),l&&(d=l-o,n=d/Math.floor(d/n)),m=u;m<0;)f++,m=Math.round(u+f*n);for(p=Math.max(u,0);p<h;p++)p===m&&(e.push(t[p]),f++,m=Math.round(u+f*n))}function getEvenSpacing(t){const e=t.length;let n,o;if(e<2)return!1;for(o=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==o)return!1;return o}const reverseAlign=t=>t==="left"?"right":t==="right"?"left":t,offsetFromEdge=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,getTicksLimit=(t,e)=>Math.min(e||t,t);function sample(t,e){const n=[],o=t.length/e,l=t.length;let u=0;for(;u<l;u+=o)n.push(t[Math.floor(u)]);return n}function getPixelForGridLine(t,e,n){const o=t.ticks.length,l=Math.min(e,o-1),u=t._startPixel,h=t._endPixel,f=1e-6;let d=t.getPixelForTick(l),p;if(!(n&&(o===1?p=Math.max(d-u,h-d):e===0?p=(t.getPixelForTick(1)-d)/2:p=(d-t.getPixelForTick(l-1))/2,d+=l<e?p:-p,d<u-f||d>h+f)))return d}function garbageCollect(t,e){each(t,n=>{const o=n.gc,l=o.length/2;let u;if(l>e){for(u=0;u<l;++u)delete n.data[o[u]];o.splice(0,l)}})}function getTickMarkLength(t){return t.drawTicks?t.tickLength:0}function getTitleHeight(t,e){if(!t.display)return 0;const n=toFont(t.font,e),o=toPadding(t.padding);return(isArray$1(t.text)?t.text.length:1)*n.lineHeight+o.height}function createScaleContext(t,e){return createContext(t,{scale:e,type:"scale"})}function createTickContext(t,e,n){return createContext(t,{tick:n,index:e,type:"tick"})}function titleAlign(t,e,n){let o=_toLeftRightCenter(t);return(n&&e!=="right"||!n&&e==="right")&&(o=reverseAlign(o)),o}function titleArgs(t,e,n,o){const{top:l,left:u,bottom:h,right:f,chart:d}=t,{chartArea:p,scales:m}=d;let v=0,b,S,T;const C=h-l,w=f-u;if(t.isHorizontal()){if(S=_alignStartEnd(o,u,f),isObject$1(n)){const R=Object.keys(n)[0],L=n[R];T=m[R].getPixelForValue(L)+C-e}else n==="center"?T=(p.bottom+p.top)/2+C-e:T=offsetFromEdge(t,n,e);b=f-u}else{if(isObject$1(n)){const R=Object.keys(n)[0],L=n[R];S=m[R].getPixelForValue(L)-w+e}else n==="center"?S=(p.left+p.right)/2-w+e:S=offsetFromEdge(t,n,e);T=_alignStartEnd(o,h,l),v=n==="left"?-HALF_PI:HALF_PI}return{titleX:S,titleY:T,maxWidth:b,rotation:v}}class Scale extends Element$1{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:o,_suggestedMax:l}=this;return e=finiteOrDefault(e,Number.POSITIVE_INFINITY),n=finiteOrDefault(n,Number.NEGATIVE_INFINITY),o=finiteOrDefault(o,Number.POSITIVE_INFINITY),l=finiteOrDefault(l,Number.NEGATIVE_INFINITY),{min:finiteOrDefault(e,o),max:finiteOrDefault(n,l),minDefined:isNumberFinite(e),maxDefined:isNumberFinite(n)}}getMinMax(e){let{min:n,max:o,minDefined:l,maxDefined:u}=this.getUserBounds(),h;if(l&&u)return{min:n,max:o};const f=this.getMatchingVisibleMetas();for(let d=0,p=f.length;d<p;++d)h=f[d].controller.getMinMax(this,e),l||(n=Math.min(n,h.min)),u||(o=Math.max(o,h.max));return n=u&&n>o?o:n,o=l&&n>o?n:o,{min:finiteOrDefault(n,finiteOrDefault(o,n)),max:finiteOrDefault(o,finiteOrDefault(n,o))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){callback(this.options.beforeUpdate,[this])}update(e,n,o){const{beginAtZero:l,grace:u,ticks:h}=this.options,f=h.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=o=Object.assign({left:0,right:0,top:0,bottom:0},o),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+o.left+o.right:this.height+o.top+o.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=_addGrace(this,u,l),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=f<this.ticks.length;this._convertTicksToLabels(d?sample(this.ticks,f):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),h.display&&(h.autoSkip||h.source==="auto")&&(this.ticks=autoSkip(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,o;this.isHorizontal()?(n=this.left,o=this.right):(n=this.top,o=this.bottom,e=!e),this._startPixel=n,this._endPixel=o,this._reversePixels=e,this._length=o-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){callback(this.options.afterUpdate,[this])}beforeSetDimensions(){callback(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){callback(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),callback(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){callback(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let o,l,u;for(o=0,l=e.length;o<l;o++)u=e[o],u.label=callback(n.callback,[u.value,o,e],this)}afterTickToLabelConversion(){callback(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){callback(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,o=getTicksLimit(this.ticks.length,e.ticks.maxTicksLimit),l=n.minRotation||0,u=n.maxRotation;let h=l,f,d,p;if(!this._isVisible()||!n.display||l>=u||o<=1||!this.isHorizontal()){this.labelRotation=l;return}const m=this._getLabelSizes(),v=m.widest.width,b=m.highest.height,S=_limitValue(this.chart.width-v,0,this.maxWidth);f=e.offset?this.maxWidth/o:S/(o-1),v+6>f&&(f=S/(o-(e.offset?.5:1)),d=this.maxHeight-getTickMarkLength(e.grid)-n.padding-getTitleHeight(e.title,this.chart.options.font),p=Math.sqrt(v*v+b*b),h=toDegrees(Math.min(Math.asin(_limitValue((m.highest.height+6)/f,-1,1)),Math.asin(_limitValue(d/p,-1,1))-Math.asin(_limitValue(b/p,-1,1)))),h=Math.max(l,Math.min(u,h))),this.labelRotation=h}afterCalculateLabelRotation(){callback(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){callback(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:o,title:l,grid:u}}=this,h=this._isVisible(),f=this.isHorizontal();if(h){const d=getTitleHeight(l,n.options.font);if(f?(e.width=this.maxWidth,e.height=getTickMarkLength(u)+d):(e.height=this.maxHeight,e.width=getTickMarkLength(u)+d),o.display&&this.ticks.length){const{first:p,last:m,widest:v,highest:b}=this._getLabelSizes(),S=o.padding*2,T=toRadians(this.labelRotation),C=Math.cos(T),w=Math.sin(T);if(f){const R=o.mirror?0:w*v.width+C*b.height;e.height=Math.min(this.maxHeight,e.height+R+S)}else{const R=o.mirror?0:C*v.width+w*b.height;e.width=Math.min(this.maxWidth,e.width+R+S)}this._calculatePadding(p,m,w,C)}}this._handleMargins(),f?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,o,l){const{ticks:{align:u,padding:h},position:f}=this.options,d=this.labelRotation!==0,p=f!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,S=0;d?p?(b=l*e.width,S=o*n.height):(b=o*e.height,S=l*n.width):u==="start"?S=n.width:u==="end"?b=e.width:u!=="inner"&&(b=e.width/2,S=n.width/2),this.paddingLeft=Math.max((b-m+h)*this.width/(this.width-m),0),this.paddingRight=Math.max((S-v+h)*this.width/(this.width-v),0)}else{let m=n.height/2,v=e.height/2;u==="start"?(m=0,v=e.height):u==="end"&&(m=n.height,v=0),this.paddingTop=m+h,this.paddingBottom=v+h}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){callback(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,o;for(n=0,o=e.length;n<o;n++)isNullOrUndef(e[n].label)&&(e.splice(n,1),o--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let o=this.ticks;n<o.length&&(o=sample(o,n)),this._labelSizes=e=this._computeLabelSizes(o,o.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,o){const{ctx:l,_longestTextCache:u}=this,h=[],f=[],d=Math.floor(n/getTicksLimit(n,o));let p=0,m=0,v,b,S,T,C,w,R,L,N,F,B;for(v=0;v<n;v+=d){if(T=e[v].label,C=this._resolveTickFontOptions(v),l.font=w=C.string,R=u[w]=u[w]||{data:{},gc:[]},L=C.lineHeight,N=F=0,!isNullOrUndef(T)&&!isArray$1(T))N=_measureText(l,R.data,R.gc,N,T),F=L;else if(isArray$1(T))for(b=0,S=T.length;b<S;++b)B=T[b],!isNullOrUndef(B)&&!isArray$1(B)&&(N=_measureText(l,R.data,R.gc,N,B),F+=L);h.push(N),f.push(F),p=Math.max(N,p),m=Math.max(F,m)}garbageCollect(u,n);const U=h.indexOf(p),z=f.indexOf(m),K=Q=>({width:h[Q]||0,height:f[Q]||0});return{first:K(0),last:K(n-1),widest:K(U),highest:K(z),widths:h,heights:f}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return _int16Range(this._alignToPixels?_alignPixel(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const o=n[e];return o.$context||(o.$context=createTickContext(this.getContext(),e,o))}return this.$context||(this.$context=createScaleContext(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=toRadians(this.labelRotation),o=Math.abs(Math.cos(n)),l=Math.abs(Math.sin(n)),u=this._getLabelSizes(),h=e.autoSkipPadding||0,f=u?u.widest.width+h:0,d=u?u.highest.height+h:0;return this.isHorizontal()?d*o>f*l?f/o:d/l:d*l<f*o?d/o:f/l}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,o=this.chart,l=this.options,{grid:u,position:h,border:f}=l,d=u.offset,p=this.isHorizontal(),v=this.ticks.length+(d?1:0),b=getTickMarkLength(u),S=[],T=f.setContext(this.getContext()),C=T.display?T.width:0,w=C/2,R=function(fe){return _alignPixel(o,fe,C)};let L,N,F,B,U,z,K,Q,q,H,se,le;if(h==="top")L=R(this.bottom),z=this.bottom-b,Q=L-w,H=R(e.top)+w,le=e.bottom;else if(h==="bottom")L=R(this.top),H=e.top,le=R(e.bottom)-w,z=L+w,Q=this.top+b;else if(h==="left")L=R(this.right),U=this.right-b,K=L-w,q=R(e.left)+w,se=e.right;else if(h==="right")L=R(this.left),q=e.left,se=R(e.right)-w,U=L+w,K=this.left+b;else if(n==="x"){if(h==="center")L=R((e.top+e.bottom)/2+.5);else if(isObject$1(h)){const fe=Object.keys(h)[0],ge=h[fe];L=R(this.chart.scales[fe].getPixelForValue(ge))}H=e.top,le=e.bottom,z=L+w,Q=z+b}else if(n==="y"){if(h==="center")L=R((e.left+e.right)/2);else if(isObject$1(h)){const fe=Object.keys(h)[0],ge=h[fe];L=R(this.chart.scales[fe].getPixelForValue(ge))}U=L-w,K=U-b,q=e.left,se=e.right}const ne=valueOrDefault(l.ticks.maxTicksLimit,v),ce=Math.max(1,Math.ceil(v/ne));for(N=0;N<v;N+=ce){const fe=this.getContext(N),ge=u.setContext(fe),Z=f.setContext(fe),ie=ge.lineWidth,oe=ge.color,ae=Z.dash||[],pe=Z.dashOffset,we=ge.tickWidth,_e=ge.tickColor,Me=ge.tickBorderDash||[],Oe=ge.tickBorderDashOffset;F=getPixelForGridLine(this,N,d),F!==void 0&&(B=_alignPixel(o,F,ie),p?U=K=q=se=B:z=Q=H=le=B,S.push({tx1:U,ty1:z,tx2:K,ty2:Q,x1:q,y1:H,x2:se,y2:le,width:ie,color:oe,borderDash:ae,borderDashOffset:pe,tickWidth:we,tickColor:_e,tickBorderDash:Me,tickBorderDashOffset:Oe}))}return this._ticksLength=v,this._borderValue=L,S}_computeLabelItems(e){const n=this.axis,o=this.options,{position:l,ticks:u}=o,h=this.isHorizontal(),f=this.ticks,{align:d,crossAlign:p,padding:m,mirror:v}=u,b=getTickMarkLength(o.grid),S=b+m,T=v?-m:S,C=-toRadians(this.labelRotation),w=[];let R,L,N,F,B,U,z,K,Q,q,H,se,le="middle";if(l==="top")U=this.bottom-T,z=this._getXAxisLabelAlignment();else if(l==="bottom")U=this.top+T,z=this._getXAxisLabelAlignment();else if(l==="left"){const ce=this._getYAxisLabelAlignment(b);z=ce.textAlign,B=ce.x}else if(l==="right"){const ce=this._getYAxisLabelAlignment(b);z=ce.textAlign,B=ce.x}else if(n==="x"){if(l==="center")U=(e.top+e.bottom)/2+S;else if(isObject$1(l)){const ce=Object.keys(l)[0],fe=l[ce];U=this.chart.scales[ce].getPixelForValue(fe)+S}z=this._getXAxisLabelAlignment()}else if(n==="y"){if(l==="center")B=(e.left+e.right)/2-S;else if(isObject$1(l)){const ce=Object.keys(l)[0],fe=l[ce];B=this.chart.scales[ce].getPixelForValue(fe)}z=this._getYAxisLabelAlignment(b).textAlign}n==="y"&&(d==="start"?le="top":d==="end"&&(le="bottom"));const ne=this._getLabelSizes();for(R=0,L=f.length;R<L;++R){N=f[R],F=N.label;const ce=u.setContext(this.getContext(R));K=this.getPixelForTick(R)+u.labelOffset,Q=this._resolveTickFontOptions(R),q=Q.lineHeight,H=isArray$1(F)?F.length:1;const fe=H/2,ge=ce.color,Z=ce.textStrokeColor,ie=ce.textStrokeWidth;let oe=z;h?(B=K,z==="inner"&&(R===L-1?oe=this.options.reverse?"left":"right":R===0?oe=this.options.reverse?"right":"left":oe="center"),l==="top"?p==="near"||C!==0?se=-H*q+q/2:p==="center"?se=-ne.highest.height/2-fe*q+q:se=-ne.highest.height+q/2:p==="near"||C!==0?se=q/2:p==="center"?se=ne.highest.height/2-fe*q:se=ne.highest.height-H*q,v&&(se*=-1),C!==0&&!ce.showLabelBackdrop&&(B+=q/2*Math.sin(C))):(U=K,se=(1-H)*q/2);let ae;if(ce.showLabelBackdrop){const pe=toPadding(ce.backdropPadding),we=ne.heights[R],_e=ne.widths[R];let Me=se-pe.top,Oe=0-pe.left;switch(le){case"middle":Me-=we/2;break;case"bottom":Me-=we;break}switch(z){case"center":Oe-=_e/2;break;case"right":Oe-=_e;break;case"inner":R===L-1?Oe-=_e:R>0&&(Oe-=_e/2);break}ae={left:Oe,top:Me,width:_e+pe.width,height:we+pe.height,color:ce.backdropColor}}w.push({label:F,font:Q,textOffset:se,options:{rotation:C,color:ge,strokeColor:Z,strokeWidth:ie,textAlign:oe,textBaseline:le,translation:[B,U],backdrop:ae}})}return w}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-toRadians(this.labelRotation))return e==="top"?"left":"right";let l="center";return n.align==="start"?l="left":n.align==="end"?l="right":n.align==="inner"&&(l="inner"),l}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:o,mirror:l,padding:u}}=this.options,h=this._getLabelSizes(),f=e+u,d=h.widest.width;let p,m;return n==="left"?l?(m=this.right+u,o==="near"?p="left":o==="center"?(p="center",m+=d/2):(p="right",m+=d)):(m=this.right-f,o==="near"?p="right":o==="center"?(p="center",m-=d/2):(p="left",m=this.left)):n==="right"?l?(m=this.left+u,o==="near"?p="right":o==="center"?(p="center",m-=d/2):(p="left",m-=d)):(m=this.left+f,o==="near"?p="left":o==="center"?(p="center",m+=d/2):(p="right",m=this.right)):p="right",{textAlign:p,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:o,top:l,width:u,height:h}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(o,l,u,h),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const l=this.ticks.findIndex(u=>u.value===e);return l>=0?n.setContext(this.getContext(l)).lineWidth:0}drawGrid(e){const n=this.options.grid,o=this.ctx,l=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let u,h;const f=(d,p,m)=>{!m.width||!m.color||(o.save(),o.lineWidth=m.width,o.strokeStyle=m.color,o.setLineDash(m.borderDash||[]),o.lineDashOffset=m.borderDashOffset,o.beginPath(),o.moveTo(d.x,d.y),o.lineTo(p.x,p.y),o.stroke(),o.restore())};if(n.display)for(u=0,h=l.length;u<h;++u){const d=l[u];n.drawOnChartArea&&f({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),n.drawTicks&&f({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:o,grid:l}}=this,u=o.setContext(this.getContext()),h=o.display?u.width:0;if(!h)return;const f=l.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let p,m,v,b;this.isHorizontal()?(p=_alignPixel(e,this.left,h)-h/2,m=_alignPixel(e,this.right,f)+f/2,v=b=d):(v=_alignPixel(e,this.top,h)-h/2,b=_alignPixel(e,this.bottom,f)+f/2,p=m=d),n.save(),n.lineWidth=u.width,n.strokeStyle=u.color,n.beginPath(),n.moveTo(p,v),n.lineTo(m,b),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const o=this.ctx,l=this._computeLabelArea();l&&clipArea(o,l);const u=this.getLabelItems(e);for(const h of u){const f=h.options,d=h.font,p=h.label,m=h.textOffset;renderText(o,p,0,m,d,f)}l&&unclipArea(o)}drawTitle(){const{ctx:e,options:{position:n,title:o,reverse:l}}=this;if(!o.display)return;const u=toFont(o.font),h=toPadding(o.padding),f=o.align;let d=u.lineHeight/2;n==="bottom"||n==="center"||isObject$1(n)?(d+=h.bottom,isArray$1(o.text)&&(d+=u.lineHeight*(o.text.length-1))):d+=h.top;const{titleX:p,titleY:m,maxWidth:v,rotation:b}=titleArgs(this,d,n,f);renderText(e,o.text,0,0,u,{color:o.color,maxWidth:v,rotation:b,textAlign:titleAlign(f,n,l),textBaseline:"middle",translation:[p,m]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,o=valueOrDefault(e.grid&&e.grid.z,-1),l=valueOrDefault(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Scale.prototype.draw?[{z:n,draw:u=>{this.draw(u)}}]:[{z:o,draw:u=>{this.drawBackground(),this.drawGrid(u),this.drawTitle()}},{z:l,draw:()=>{this.drawBorder()}},{z:n,draw:u=>{this.drawLabels(u)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),o=this.axis+"AxisID",l=[];let u,h;for(u=0,h=n.length;u<h;++u){const f=n[u];f[o]===this.id&&(!e||f.type===e)&&l.push(f)}return l}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return toFont(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class TypedRegistry{constructor(e,n,o){this.type=e,this.scope=n,this.override=o,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let o;isIChartComponent(n)&&(o=this.register(n));const l=this.items,u=e.id,h=this.scope+"."+u;if(!u)throw new Error("class does not have id: "+e);return u in l||(l[u]=e,registerDefaults(e,h,o),this.override&&defaults$1.override(e.id,e.overrides)),h}get(e){return this.items[e]}unregister(e){const n=this.items,o=e.id,l=this.scope;o in n&&delete n[o],l&&o in defaults$1[l]&&(delete defaults$1[l][o],this.override&&delete overrides[o])}}function registerDefaults(t,e,n){const o=merge(Object.create(null),[n?defaults$1.get(n):{},defaults$1.get(e),t.defaults]);defaults$1.set(e,o),t.defaultRoutes&&routeDefaults(e,t.defaultRoutes),t.descriptors&&defaults$1.describe(e,t.descriptors)}function routeDefaults(t,e){Object.keys(e).forEach(n=>{const o=n.split("."),l=o.pop(),u=[t].concat(o).join("."),h=e[n].split("."),f=h.pop(),d=h.join(".");defaults$1.route(u,l,d,f)})}function isIChartComponent(t){return"id"in t&&"defaults"in t}class Registry{constructor(){this.controllers=new TypedRegistry(DatasetController,"datasets",!0),this.elements=new TypedRegistry(Element$1,"elements"),this.plugins=new TypedRegistry(Object,"plugins"),this.scales=new TypedRegistry(Scale,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,o){[...n].forEach(l=>{const u=o||this._getRegistryForType(l);o||u.isForType(l)||u===this.plugins&&l.id?this._exec(e,u,l):each(l,h=>{const f=o||this._getRegistryForType(h);this._exec(e,f,h)})})}_exec(e,n,o){const l=_capitalize(e);callback(o["before"+l],[],o),n[e](o),callback(o["after"+l],[],o)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const o=this._typedRegistries[n];if(o.isForType(e))return o}return this.plugins}_get(e,n,o){const l=n.get(e);if(l===void 0)throw new Error('"'+e+'" is not a registered '+o+".");return l}}var registry=new Registry;class PluginService{constructor(){this._init=[]}notify(e,n,o,l){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const u=l?this._descriptors(e).filter(l):this._descriptors(e),h=this._notify(u,e,n,o);return n==="afterDestroy"&&(this._notify(u,e,"stop"),this._notify(this._init,e,"uninstall")),h}_notify(e,n,o,l){l=l||{};for(const u of e){const h=u.plugin,f=h[o],d=[n,l,u.options];if(callback(f,d,h)===!1&&l.cancelable)return!1}return!0}invalidate(){isNullOrUndef(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const o=e&&e.config,l=valueOrDefault(o.options&&o.options.plugins,{}),u=allPlugins(o);return l===!1&&!n?[]:createDescriptors(e,u,l,n)}_notifyStateChanges(e){const n=this._oldCache||[],o=this._cache,l=(u,h)=>u.filter(f=>!h.some(d=>f.plugin.id===d.plugin.id));this._notify(l(n,o),e,"stop"),this._notify(l(o,n),e,"start")}}function allPlugins(t){const e={},n=[],o=Object.keys(registry.plugins.items);for(let u=0;u<o.length;u++)n.push(registry.getPlugin(o[u]));const l=t.plugins||[];for(let u=0;u<l.length;u++){const h=l[u];n.indexOf(h)===-1&&(n.push(h),e[h.id]=!0)}return{plugins:n,localIds:e}}function getOpts(t,e){return!e&&t===!1?null:t===!0?{}:t}function createDescriptors(t,{plugins:e,localIds:n},o,l){const u=[],h=t.getContext();for(const f of e){const d=f.id,p=getOpts(o[d],l);p!==null&&u.push({plugin:f,options:pluginOpts(t.config,{plugin:f,local:n[d]},p,h)})}return u}function pluginOpts(t,{plugin:e,local:n},o,l){const u=t.pluginScopeKeys(e),h=t.getOptionScopes(o,u);return n&&e.defaults&&h.push(e.defaults),t.createResolver(h,l,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function getIndexAxis(t,e){const n=defaults$1.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function getAxisFromDefaultScaleID(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function getDefaultScaleIDFromAxis(t,e){return t===e?"_index_":"_value_"}function idMatchesAxis(t){if(t==="x"||t==="y"||t==="r")return t}function axisFromPosition(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function determineAxis(t,...e){if(idMatchesAxis(t))return t;for(const n of e){const o=n.axis||axisFromPosition(n.position)||t.length>1&&idMatchesAxis(t[0].toLowerCase());if(o)return o}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function getAxisFromDataset(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function retrieveAxisFromDatasets(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(o=>o.xAxisID===t||o.yAxisID===t);if(n.length)return getAxisFromDataset(t,"x",n[0])||getAxisFromDataset(t,"y",n[0])}return{}}function mergeScaleConfig(t,e){const n=overrides[t.type]||{scales:{}},o=e.scales||{},l=getIndexAxis(t.type,e),u=Object.create(null);return Object.keys(o).forEach(h=>{const f=o[h];if(!isObject$1(f))return console.error(`Invalid scale configuration for scale: ${h}`);if(f._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${h}`);const d=determineAxis(h,f,retrieveAxisFromDatasets(h,t),defaults$1.scales[f.type]),p=getDefaultScaleIDFromAxis(d,l),m=n.scales||{};u[h]=mergeIf(Object.create(null),[{axis:d},f,m[d],m[p]])}),t.data.datasets.forEach(h=>{const f=h.type||t.type,d=h.indexAxis||getIndexAxis(f,e),m=(overrides[f]||{}).scales||{};Object.keys(m).forEach(v=>{const b=getAxisFromDefaultScaleID(v,d),S=h[b+"AxisID"]||b;u[S]=u[S]||Object.create(null),mergeIf(u[S],[{axis:b},o[S],m[v]])})}),Object.keys(u).forEach(h=>{const f=u[h];mergeIf(f,[defaults$1.scales[f.type],defaults$1.scale])}),u}function initOptions(t){const e=t.options||(t.options={});e.plugins=valueOrDefault(e.plugins,{}),e.scales=mergeScaleConfig(t,e)}function initData(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function initConfig(t){return t=t||{},t.data=initData(t.data),initOptions(t),t}const keyCache=new Map,keysCached=new Set;function cachedKeys(t,e){let n=keyCache.get(t);return n||(n=e(),keyCache.set(t,n),keysCached.add(n)),n}const addIfFound=(t,e,n)=>{const o=resolveObjectKey(e,n);o!==void 0&&t.add(o)};class Config{constructor(e){this._config=initConfig(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=initData(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),initOptions(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return cachedKeys(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return cachedKeys(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return cachedKeys(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,o=this.type;return cachedKeys(`${o}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const o=this._scopeCache;let l=o.get(e);return(!l||n)&&(l=new Map,o.set(e,l)),l}getOptionScopes(e,n,o){const{options:l,type:u}=this,h=this._cachedScopes(e,o),f=h.get(n);if(f)return f;const d=new Set;n.forEach(m=>{e&&(d.add(e),m.forEach(v=>addIfFound(d,e,v))),m.forEach(v=>addIfFound(d,l,v)),m.forEach(v=>addIfFound(d,overrides[u]||{},v)),m.forEach(v=>addIfFound(d,defaults$1,v)),m.forEach(v=>addIfFound(d,descriptors,v))});const p=Array.from(d);return p.length===0&&p.push(Object.create(null)),keysCached.has(n)&&h.set(n,p),p}chartOptionScopes(){const{options:e,type:n}=this;return[e,overrides[n]||{},defaults$1.datasets[n]||{},{type:n},defaults$1,descriptors]}resolveNamedOptions(e,n,o,l=[""]){const u={$shared:!0},{resolver:h,subPrefixes:f}=getResolver(this._resolverCache,e,l);let d=h;if(needContext(h,n)){u.$shared=!1,o=isFunction$1(o)?o():o;const p=this.createResolver(e,o,f);d=_attachContext(h,o,p)}for(const p of n)u[p]=d[p];return u}createResolver(e,n,o=[""],l){const{resolver:u}=getResolver(this._resolverCache,e,o);return isObject$1(n)?_attachContext(u,n,void 0,l):u}}function getResolver(t,e,n){let o=t.get(e);o||(o=new Map,t.set(e,o));const l=n.join();let u=o.get(l);return u||(u={resolver:_createResolver(e,n),subPrefixes:n.filter(f=>!f.toLowerCase().includes("hover"))},o.set(l,u)),u}const hasFunction=t=>isObject$1(t)&&Object.getOwnPropertyNames(t).some(e=>isFunction$1(t[e]));function needContext(t,e){const{isScriptable:n,isIndexable:o}=_descriptors(t);for(const l of e){const u=n(l),h=o(l),f=(h||u)&&t[l];if(u&&(isFunction$1(f)||hasFunction(f))||h&&isArray$1(f))return!0}return!1}var version="4.4.9";const KNOWN_POSITIONS=["top","bottom","left","right","chartArea"];function positionIsHorizontal(t,e){return t==="top"||t==="bottom"||KNOWN_POSITIONS.indexOf(t)===-1&&e==="x"}function compare2Level(t,e){return function(n,o){return n[t]===o[t]?n[e]-o[e]:n[t]-o[t]}}function onAnimationsComplete(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),callback(n&&n.onComplete,[t],e)}function onAnimationProgress(t){const e=t.chart,n=e.options.animation;callback(n&&n.onProgress,[t],e)}function getCanvas(t){return _isDomSupported()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const instances={},getChart=t=>{const e=getCanvas(t);return Object.values(instances).filter(n=>n.canvas===e).pop()};function moveNumericKeys(t,e,n){const o=Object.keys(t);for(const l of o){const u=+l;if(u>=e){const h=t[l];delete t[l],(n>0||u>e)&&(t[u+n]=h)}}}function determineLastEvent(t,e,n,o){return!n||t.type==="mouseout"?null:o?e:t}var Ps;let Chart$1=(Ps=class{static register(...e){registry.add(...e),invalidatePlugins()}static unregister(...e){registry.remove(...e),invalidatePlugins()}constructor(e,n){const o=this.config=new Config(n),l=getCanvas(e),u=getChart(l);if(u)throw new Error("Canvas is already in use. Chart with ID '"+u.id+"' must be destroyed before the canvas with ID '"+u.canvas.id+"' can be reused.");const h=o.createResolver(o.chartOptionScopes(),this.getContext());this.platform=new(o.platform||_detectPlatform(l)),this.platform.updateConfig(o);const f=this.platform.acquireContext(l,h.aspectRatio),d=f&&f.canvas,p=d&&d.height,m=d&&d.width;if(this.id=uid(),this.ctx=f,this.canvas=d,this.width=m,this.height=p,this._options=h,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new PluginService,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=debounce(v=>this.update(v),h.resizeDelay||0),this._dataChanges=[],instances[this.id]=this,!f||!d){console.error("Failed to create chart: can't acquire context from the given item");return}animator.listen(this,"complete",onAnimationsComplete),animator.listen(this,"progress",onAnimationProgress),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:o,height:l,_aspectRatio:u}=this;return isNullOrUndef(e)?n&&u?u:l?o/l:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return registry}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():retinaScale(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return clearCanvas(this.canvas,this.ctx),this}stop(){return animator.stop(this),this}resize(e,n){animator.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const o=this.options,l=this.canvas,u=o.maintainAspectRatio&&this.aspectRatio,h=this.platform.getMaximumSize(l,e,n,u),f=o.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=h.width,this.height=h.height,this._aspectRatio=this.aspectRatio,retinaScale(this,f,!0)&&(this.notifyPlugins("resize",{size:h}),callback(o.onResize,[this,h],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};each(n,(o,l)=>{o.id=l})}buildOrUpdateScales(){const e=this.options,n=e.scales,o=this.scales,l=Object.keys(o).reduce((h,f)=>(h[f]=!1,h),{});let u=[];n&&(u=u.concat(Object.keys(n).map(h=>{const f=n[h],d=determineAxis(h,f),p=d==="r",m=d==="x";return{options:f,dposition:p?"chartArea":m?"bottom":"left",dtype:p?"radialLinear":m?"category":"linear"}}))),each(u,h=>{const f=h.options,d=f.id,p=determineAxis(d,f),m=valueOrDefault(f.type,h.dtype);(f.position===void 0||positionIsHorizontal(f.position,p)!==positionIsHorizontal(h.dposition))&&(f.position=h.dposition),l[d]=!0;let v=null;if(d in o&&o[d].type===m)v=o[d];else{const b=registry.getScale(m);v=new b({id:d,type:m,ctx:this.ctx,chart:this}),o[v.id]=v}v.init(f,e)}),each(l,(h,f)=>{h||delete o[f]}),each(o,h=>{layouts.configure(this,h,h.options),layouts.addBox(this,h)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,o=e.length;if(e.sort((l,u)=>l.index-u.index),o>n){for(let l=n;l<o;++l)this._destroyDatasetMeta(l);e.splice(n,o-n)}this._sortedMetasets=e.slice(0).sort(compare2Level("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((o,l)=>{n.filter(u=>u===o._dataset).length===0&&this._destroyDatasetMeta(l)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let o,l;for(this._removeUnreferencedMetasets(),o=0,l=n.length;o<l;o++){const u=n[o];let h=this.getDatasetMeta(o);const f=u.type||this.config.type;if(h.type&&h.type!==f&&(this._destroyDatasetMeta(o),h=this.getDatasetMeta(o)),h.type=f,h.indexAxis=u.indexAxis||getIndexAxis(f,this.options),h.order=u.order||0,h.index=o,h.label=""+u.label,h.visible=this.isDatasetVisible(o),h.controller)h.controller.updateIndex(o),h.controller.linkScales();else{const d=registry.getController(f),{datasetElementType:p,dataElementType:m}=defaults$1.datasets[f];Object.assign(d,{dataElementType:registry.getElement(m),datasetElementType:p&&registry.getElement(p)}),h.controller=new d(this,o),e.push(h.controller)}}return this._updateMetasets(),e}_resetElements(){each(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const o=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),l=this._animationsDisabled=!o.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const u=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let h=0;for(let p=0,m=this.data.datasets.length;p<m;p++){const{controller:v}=this.getDatasetMeta(p),b=!l&&u.indexOf(v)===-1;v.buildOrUpdateElements(b),h=Math.max(+v.getMaxOverflow(),h)}h=this._minPadding=o.layout.autoPadding?h:0,this._updateLayout(h),l||each(u,p=>{p.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(compare2Level("z","_idx"));const{_active:f,_lastEvent:d}=this;d?this._eventHandler(d,!0):f.length&&this._updateHoverStyles(f,f,!0),this.render()}_updateScales(){each(this.scales,e=>{layouts.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),o=new Set(e.events);(!setsEqual(n,o)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:o,start:l,count:u}of n){const h=o==="_removeElements"?-u:u;moveNumericKeys(e,l,h)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,o=u=>new Set(e.filter(h=>h[0]===u).map((h,f)=>f+","+h.splice(1).join(","))),l=o(0);for(let u=1;u<n;u++)if(!setsEqual(l,o(u)))return;return Array.from(l).map(u=>u.split(",")).map(u=>({method:u[1],start:+u[2],count:+u[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;layouts.update(this,this.width,this.height,e);const n=this.chartArea,o=n.width<=0||n.height<=0;this._layers=[],each(this.boxes,l=>{o&&l.position==="chartArea"||(l.configure&&l.configure(),this._layers.push(...l._layers()))},this),this._layers.forEach((l,u)=>{l._idx=u}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,o=this.data.datasets.length;n<o;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,o=this.data.datasets.length;n<o;++n)this._updateDataset(n,isFunction$1(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const o=this.getDatasetMeta(e),l={meta:o,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",l)!==!1&&(o.controller._update(n),l.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",l))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(animator.has(this)?this.attached&&!animator.running(this)&&animator.start(this):(this.draw(),onAnimationsComplete({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:o,height:l}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(o,l)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,o=[];let l,u;for(l=0,u=n.length;l<u;++l){const h=n[l];(!e||h.visible)&&o.push(h)}return o}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,o={meta:e,index:e.index,cancelable:!0},l=getDatasetClipArea(this,e);this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(l&&clipArea(n,l),e.controller.draw(),l&&unclipArea(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return _isPointInArea(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,o,l){const u=Interaction.modes[n];return typeof u=="function"?u(this,e,o,l):[]}getDatasetMeta(e){const n=this.data.datasets[e],o=this._metasets;let l=o.filter(u=>u&&u._dataset===n).pop();return l||(l={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},o.push(l)),l}getContext(){return this.$context||(this.$context=createContext(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const o=this.getDatasetMeta(e);return typeof o.hidden=="boolean"?!o.hidden:!n.hidden}setDatasetVisibility(e,n){const o=this.getDatasetMeta(e);o.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,o){const l=o?"show":"hide",u=this.getDatasetMeta(e),h=u.controller._resolveAnimations(void 0,l);defined$1(n)?(u.data[n].hidden=!o,this.update()):(this.setDatasetVisibility(e,o),h.update(u,{visible:o}),this.update(f=>f.datasetIndex===e?l:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),animator.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),clearCanvas(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete instances[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,o=(u,h)=>{n.addEventListener(this,u,h),e[u]=h},l=(u,h,f)=>{u.offsetX=h,u.offsetY=f,this._eventHandler(u)};each(this.options.events,u=>o(u,l))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,o=(d,p)=>{n.addEventListener(this,d,p),e[d]=p},l=(d,p)=>{e[d]&&(n.removeEventListener(this,d,p),delete e[d])},u=(d,p)=>{this.canvas&&this.resize(d,p)};let h;const f=()=>{l("attach",f),this.attached=!0,this.resize(),o("resize",u),o("detach",h)};h=()=>{this.attached=!1,l("resize",u),this._stop(),this._resize(0,0),o("attach",f)},n.isAttached(this.canvas)?f():h()}unbindEvents(){each(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},each(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,o){const l=o?"set":"remove";let u,h,f,d;for(n==="dataset"&&(u=this.getDatasetMeta(e[0].datasetIndex),u.controller["_"+l+"DatasetHoverStyle"]()),f=0,d=e.length;f<d;++f){h=e[f];const p=h&&this.getDatasetMeta(h.datasetIndex).controller;p&&p[l+"HoverStyle"](h.element,h.datasetIndex,h.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],o=e.map(({datasetIndex:u,index:h})=>{const f=this.getDatasetMeta(u);if(!f)throw new Error("No dataset found at index "+u);return{datasetIndex:u,element:f.data[h],index:h}});!_elementsEqual(o,n)&&(this._active=o,this._lastEvent=null,this._updateHoverStyles(o,n))}notifyPlugins(e,n,o){return this._plugins.notify(this,e,n,o)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,o){const l=this.options.hover,u=(d,p)=>d.filter(m=>!p.some(v=>m.datasetIndex===v.datasetIndex&&m.index===v.index)),h=u(n,e),f=o?e:u(e,n);h.length&&this.updateHoverStyle(h,l.mode,!1),f.length&&l.mode&&this.updateHoverStyle(f,l.mode,!0)}_eventHandler(e,n){const o={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},l=h=>(h.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",o,l)===!1)return;const u=this._handleEvent(e,n,o.inChartArea);return o.cancelable=!1,this.notifyPlugins("afterEvent",o,l),(u||o.changed)&&this.render(),this}_handleEvent(e,n,o){const{_active:l=[],options:u}=this,h=n,f=this._getActiveElements(e,l,o,h),d=_isClickEvent(e),p=determineLastEvent(e,this._lastEvent,o,d);o&&(this._lastEvent=null,callback(u.onHover,[e,f,this],this),d&&callback(u.onClick,[e,f,this],this));const m=!_elementsEqual(f,l);return(m||n)&&(this._active=f,this._updateHoverStyles(f,l,n)),this._lastEvent=p,m}_getActiveElements(e,n,o,l){if(e.type==="mouseout")return[];if(!o)return n;const u=this.options.hover;return this.getElementsAtEventForMode(e,u.mode,u,l)}},an(Ps,"defaults",defaults$1),an(Ps,"instances",instances),an(Ps,"overrides",overrides),an(Ps,"registry",registry),an(Ps,"version",version),an(Ps,"getChart",getChart),Ps);function invalidatePlugins(){return each(Chart$1.instances,t=>t._plugins.invalidate())}function setStyle(t,e,n=e){t.lineCap=valueOrDefault(n.borderCapStyle,e.borderCapStyle),t.setLineDash(valueOrDefault(n.borderDash,e.borderDash)),t.lineDashOffset=valueOrDefault(n.borderDashOffset,e.borderDashOffset),t.lineJoin=valueOrDefault(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=valueOrDefault(n.borderWidth,e.borderWidth),t.strokeStyle=valueOrDefault(n.borderColor,e.borderColor)}function lineTo(t,e,n){t.lineTo(n.x,n.y)}function getLineMethod(t){return t.stepped?_steppedLineTo:t.tension||t.cubicInterpolationMode==="monotone"?_bezierCurveTo:lineTo}function pathVars(t,e,n={}){const o=t.length,{start:l=0,end:u=o-1}=n,{start:h,end:f}=e,d=Math.max(l,h),p=Math.min(u,f),m=l<h&&u<h||l>f&&u>f;return{count:o,start:d,loop:e.loop,ilen:p<d&&!m?o+p-d:p-d}}function pathSegment(t,e,n,o){const{points:l,options:u}=e,{count:h,start:f,loop:d,ilen:p}=pathVars(l,n,o),m=getLineMethod(u);let{move:v=!0,reverse:b}=o||{},S,T,C;for(S=0;S<=p;++S)T=l[(f+(b?p-S:S))%h],!T.skip&&(v?(t.moveTo(T.x,T.y),v=!1):m(t,C,T,b,u.stepped),C=T);return d&&(T=l[(f+(b?p:0))%h],m(t,C,T,b,u.stepped)),!!d}function fastPathSegment(t,e,n,o){const l=e.points,{count:u,start:h,ilen:f}=pathVars(l,n,o),{move:d=!0,reverse:p}=o||{};let m=0,v=0,b,S,T,C,w,R;const L=F=>(h+(p?f-F:F))%u,N=()=>{C!==w&&(t.lineTo(m,w),t.lineTo(m,C),t.lineTo(m,R))};for(d&&(S=l[L(0)],t.moveTo(S.x,S.y)),b=0;b<=f;++b){if(S=l[L(b)],S.skip)continue;const F=S.x,B=S.y,U=F|0;U===T?(B<C?C=B:B>w&&(w=B),m=(v*m+F)/++v):(N(),t.lineTo(F,B),T=U,v=0,C=w=B),R=B}N()}function _getSegmentMethod(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?fastPathSegment:pathSegment}function _getInterpolationMethod(t){return t.stepped?_steppedInterpolation:t.tension||t.cubicInterpolationMode==="monotone"?_bezierInterpolation:_pointInLine}function strokePathWithCache(t,e,n,o){let l=e._path;l||(l=e._path=new Path2D,e.path(l,n,o)&&l.closePath()),setStyle(t,e.options),t.stroke(l)}function strokePathDirect(t,e,n,o){const{segments:l,options:u}=e,h=_getSegmentMethod(e);for(const f of l)setStyle(t,u,f.style),t.beginPath(),h(t,e,f,{start:n,end:n+o-1})&&t.closePath(),t.stroke()}const usePath2D=typeof Path2D=="function";function draw(t,e,n,o){usePath2D&&!e.options.segment?strokePathWithCache(t,e,n,o):strokePathDirect(t,e,n,o)}class LineElement extends Element$1{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const o=this.options;if((o.tension||o.cubicInterpolationMode==="monotone")&&!o.stepped&&!this._pointsUpdated){const l=o.spanGaps?this._loop:this._fullLoop;_updateBezierControlPoints(this._points,o,e,l,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=_computeSegments(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,o=e.length;return o&&n[e[o-1].end]}interpolate(e,n){const o=this.options,l=e[n],u=this.points,h=_boundSegments(this,{property:n,start:l,end:l});if(!h.length)return;const f=[],d=_getInterpolationMethod(o);let p,m;for(p=0,m=h.length;p<m;++p){const{start:v,end:b}=h[p],S=u[v],T=u[b];if(S===T){f.push(S);continue}const C=Math.abs((l-S[n])/(T[n]-S[n])),w=d(S,T,C,o.stepped);w[n]=e[n],f.push(w)}return f.length===1?f[0]:f}pathSegment(e,n,o){return _getSegmentMethod(this)(e,this,n,o)}path(e,n,o){const l=this.segments,u=_getSegmentMethod(this);let h=this._loop;n=n||0,o=o||this.points.length-n;for(const f of l)h&=u(e,this,f,{start:n,end:n+o-1});return!!h}draw(e,n,o,l){const u=this.options||{};(this.points||[]).length&&u.borderWidth&&(e.save(),draw(e,this,o,l),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}an(LineElement,"id","line"),an(LineElement,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),an(LineElement,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),an(LineElement,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function inRange$1(t,e,n,o){const l=t.options,{[n]:u}=t.getProps([n],o);return Math.abs(e-u)<l.radius+l.hitRadius}class PointElement extends Element$1{constructor(n){super();an(this,"parsed");an(this,"skip");an(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,o,l){const u=this.options,{x:h,y:f}=this.getProps(["x","y"],l);return Math.pow(n-h,2)+Math.pow(o-f,2)<Math.pow(u.hitRadius+u.radius,2)}inXRange(n,o){return inRange$1(this,n,"x",o)}inYRange(n,o){return inRange$1(this,n,"y",o)}getCenterPoint(n){const{x:o,y:l}=this.getProps(["x","y"],n);return{x:o,y:l}}size(n){n=n||this.options||{};let o=n.radius||0;o=Math.max(o,o&&n.hoverRadius||0);const l=o&&n.borderWidth||0;return(o+l)*2}draw(n,o){const l=this.options;this.skip||l.radius<.1||!_isPointInArea(this,o,this.size(l)/2)||(n.strokeStyle=l.borderColor,n.lineWidth=l.borderWidth,n.fillStyle=l.backgroundColor,drawPoint(n,l,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}an(PointElement,"id","point"),an(PointElement,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),an(PointElement,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const getBoxSize=(t,e)=>{let{boxHeight:n=e,boxWidth:o=e}=t;return t.usePointStyle&&(n=Math.min(n,e),o=t.pointStyleWidth||Math.min(o,e)),{boxWidth:o,boxHeight:n,itemHeight:Math.max(e,n)}},itemsEqual=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;let Legend$1=class extends Element$1{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,o){this.maxWidth=e,this.maxHeight=n,this._margins=o,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=callback(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(o=>e.filter(o,this.chart.data))),e.sort&&(n=n.sort((o,l)=>e.sort(o,l,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const o=e.labels,l=toFont(o.font),u=l.size,h=this._computeTitleHeight(),{boxWidth:f,itemHeight:d}=getBoxSize(o,u);let p,m;n.font=l.string,this.isHorizontal()?(p=this.maxWidth,m=this._fitRows(h,u,f,d)+10):(m=this.maxHeight,p=this._fitCols(h,l,f,d)+10),this.width=Math.min(p,e.maxWidth||this.maxWidth),this.height=Math.min(m,e.maxHeight||this.maxHeight)}_fitRows(e,n,o,l){const{ctx:u,maxWidth:h,options:{labels:{padding:f}}}=this,d=this.legendHitBoxes=[],p=this.lineWidths=[0],m=l+f;let v=e;u.textAlign="left",u.textBaseline="middle";let b=-1,S=-m;return this.legendItems.forEach((T,C)=>{const w=o+n/2+u.measureText(T.text).width;(C===0||p[p.length-1]+w+2*f>h)&&(v+=m,p[p.length-(C>0?0:1)]=0,S+=m,b++),d[C]={left:0,top:S,row:b,width:w,height:l},p[p.length-1]+=w+f}),v}_fitCols(e,n,o,l){const{ctx:u,maxHeight:h,options:{labels:{padding:f}}}=this,d=this.legendHitBoxes=[],p=this.columnSizes=[],m=h-e;let v=f,b=0,S=0,T=0,C=0;return this.legendItems.forEach((w,R)=>{const{itemWidth:L,itemHeight:N}=calculateItemSize(o,n,u,w,l);R>0&&S+N+2*f>m&&(v+=b+f,p.push({width:b,height:S}),T+=b+f,C++,b=S=0),d[R]={left:T,top:S,col:C,width:L,height:N},b=Math.max(b,L),S+=N+f}),v+=b,p.push({width:b,height:S}),v}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:o,labels:{padding:l},rtl:u}}=this,h=getRtlAdapter(u,this.left,this.width);if(this.isHorizontal()){let f=0,d=_alignStartEnd(o,this.left+l,this.right-this.lineWidths[f]);for(const p of n)f!==p.row&&(f=p.row,d=_alignStartEnd(o,this.left+l,this.right-this.lineWidths[f])),p.top+=this.top+e+l,p.left=h.leftForLtr(h.x(d),p.width),d+=p.width+l}else{let f=0,d=_alignStartEnd(o,this.top+e+l,this.bottom-this.columnSizes[f].height);for(const p of n)p.col!==f&&(f=p.col,d=_alignStartEnd(o,this.top+e+l,this.bottom-this.columnSizes[f].height)),p.top=d,p.left+=this.left+l,p.left=h.leftForLtr(h.x(p.left),p.width),d+=p.height+l}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;clipArea(e,this),this._draw(),unclipArea(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:o,ctx:l}=this,{align:u,labels:h}=e,f=defaults$1.color,d=getRtlAdapter(e.rtl,this.left,this.width),p=toFont(h.font),{padding:m}=h,v=p.size,b=v/2;let S;this.drawTitle(),l.textAlign=d.textAlign("left"),l.textBaseline="middle",l.lineWidth=.5,l.font=p.string;const{boxWidth:T,boxHeight:C,itemHeight:w}=getBoxSize(h,v),R=function(U,z,K){if(isNaN(T)||T<=0||isNaN(C)||C<0)return;l.save();const Q=valueOrDefault(K.lineWidth,1);if(l.fillStyle=valueOrDefault(K.fillStyle,f),l.lineCap=valueOrDefault(K.lineCap,"butt"),l.lineDashOffset=valueOrDefault(K.lineDashOffset,0),l.lineJoin=valueOrDefault(K.lineJoin,"miter"),l.lineWidth=Q,l.strokeStyle=valueOrDefault(K.strokeStyle,f),l.setLineDash(valueOrDefault(K.lineDash,[])),h.usePointStyle){const q={radius:C*Math.SQRT2/2,pointStyle:K.pointStyle,rotation:K.rotation,borderWidth:Q},H=d.xPlus(U,T/2),se=z+b;drawPointLegend(l,q,H,se,h.pointStyleWidth&&T)}else{const q=z+Math.max((v-C)/2,0),H=d.leftForLtr(U,T),se=toTRBLCorners(K.borderRadius);l.beginPath(),Object.values(se).some(le=>le!==0)?addRoundedRectPath(l,{x:H,y:q,w:T,h:C,radius:se}):l.rect(H,q,T,C),l.fill(),Q!==0&&l.stroke()}l.restore()},L=function(U,z,K){renderText(l,K.text,U,z+w/2,p,{strikethrough:K.hidden,textAlign:d.textAlign(K.textAlign)})},N=this.isHorizontal(),F=this._computeTitleHeight();N?S={x:_alignStartEnd(u,this.left+m,this.right-o[0]),y:this.top+m+F,line:0}:S={x:this.left+m,y:_alignStartEnd(u,this.top+F+m,this.bottom-n[0].height),line:0},overrideTextDirection(this.ctx,e.textDirection);const B=w+m;this.legendItems.forEach((U,z)=>{l.strokeStyle=U.fontColor,l.fillStyle=U.fontColor;const K=l.measureText(U.text).width,Q=d.textAlign(U.textAlign||(U.textAlign=h.textAlign)),q=T+b+K;let H=S.x,se=S.y;d.setWidth(this.width),N?z>0&&H+q+m>this.right&&(se=S.y+=B,S.line++,H=S.x=_alignStartEnd(u,this.left+m,this.right-o[S.line])):z>0&&se+B>this.bottom&&(H=S.x=H+n[S.line].width+m,S.line++,se=S.y=_alignStartEnd(u,this.top+F+m,this.bottom-n[S.line].height));const le=d.x(H);if(R(le,se,U),H=_textX(Q,H+T+b,N?H+q:this.right,e.rtl),L(d.x(H),se,U),N)S.x+=q+m;else if(typeof U.text!="string"){const ne=p.lineHeight;S.y+=calculateLegendItemHeight(U,ne)+m}else S.y+=B}),restoreTextDirection(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,o=toFont(n.font),l=toPadding(n.padding);if(!n.display)return;const u=getRtlAdapter(e.rtl,this.left,this.width),h=this.ctx,f=n.position,d=o.size/2,p=l.top+d;let m,v=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),m=this.top+p,v=_alignStartEnd(e.align,v,this.right-b);else{const T=this.columnSizes.reduce((C,w)=>Math.max(C,w.height),0);m=p+_alignStartEnd(e.align,this.top,this.bottom-T-e.labels.padding-this._computeTitleHeight())}const S=_alignStartEnd(f,v,v+b);h.textAlign=u.textAlign(_toLeftRightCenter(f)),h.textBaseline="middle",h.strokeStyle=n.color,h.fillStyle=n.color,h.font=o.string,renderText(h,n.text,S,m,o)}_computeTitleHeight(){const e=this.options.title,n=toFont(e.font),o=toPadding(e.padding);return e.display?n.lineHeight+o.height:0}_getLegendItemAt(e,n){let o,l,u;if(_isBetween(e,this.left,this.right)&&_isBetween(n,this.top,this.bottom)){for(u=this.legendHitBoxes,o=0;o<u.length;++o)if(l=u[o],_isBetween(e,l.left,l.left+l.width)&&_isBetween(n,l.top,l.top+l.height))return this.legendItems[o]}return null}handleEvent(e){const n=this.options;if(!isListened(e.type,n))return;const o=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const l=this._hoveredItem,u=itemsEqual(l,o);l&&!u&&callback(n.onLeave,[e,l,this],this),this._hoveredItem=o,o&&!u&&callback(n.onHover,[e,o,this],this)}else o&&callback(n.onClick,[e,o,this],this)}};function calculateItemSize(t,e,n,o,l){const u=calculateItemWidth(o,t,e,n),h=calculateItemHeight(l,o,e.lineHeight);return{itemWidth:u,itemHeight:h}}function calculateItemWidth(t,e,n,o){let l=t.text;return l&&typeof l!="string"&&(l=l.reduce((u,h)=>u.length>h.length?u:h)),e+n.size/2+o.measureText(l).width}function calculateItemHeight(t,e,n){let o=t;return typeof e.text!="string"&&(o=calculateLegendItemHeight(e,n)),o}function calculateLegendItemHeight(t,e){const n=t.text?t.text.length:0;return e*n}function isListened(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var plugin_legend={id:"legend",_element:Legend$1,start(t,e,n){const o=t.legend=new Legend$1({ctx:t.ctx,options:n,chart:t});layouts.configure(t,o,n),layouts.addBox(t,o)},stop(t){layouts.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const o=t.legend;layouts.configure(t,o,n),o.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const o=e.datasetIndex,l=n.chart;l.isDatasetVisible(o)?(l.hide(o),e.hidden=!0):(l.show(o),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:o,textAlign:l,color:u,useBorderRadius:h,borderRadius:f}}=t.legend.options;return t._getSortedDatasetMetas().map(d=>{const p=d.controller.getStyle(n?0:void 0),m=toPadding(p.borderWidth);return{text:e[d.index].label,fillStyle:p.backgroundColor,fontColor:u,hidden:!d.visible,lineCap:p.borderCapStyle,lineDash:p.borderDash,lineDashOffset:p.borderDashOffset,lineJoin:p.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:p.borderColor,pointStyle:o||p.pointStyle,rotation:p.rotation,textAlign:l||p.textAlign,borderRadius:h&&(f||p.borderRadius),datasetIndex:d.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Title extends Element$1{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const o=this.options;if(this.left=0,this.top=0,!o.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const l=isArray$1(o.text)?o.text.length:1;this._padding=toPadding(o.padding);const u=l*toFont(o.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=u:this.width=u}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:o,bottom:l,right:u,options:h}=this,f=h.align;let d=0,p,m,v;return this.isHorizontal()?(m=_alignStartEnd(f,o,u),v=n+e,p=u-o):(h.position==="left"?(m=o+e,v=_alignStartEnd(f,l,n),d=PI*-.5):(m=u-e,v=_alignStartEnd(f,n,l),d=PI*.5),p=l-n),{titleX:m,titleY:v,maxWidth:p,rotation:d}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const o=toFont(n.font),u=o.lineHeight/2+this._padding.top,{titleX:h,titleY:f,maxWidth:d,rotation:p}=this._drawArgs(u);renderText(e,n.text,0,0,o,{color:n.color,maxWidth:d,rotation:p,textAlign:_toLeftRightCenter(n.align),textBaseline:"middle",translation:[h,f]})}}function createTitle(t,e){const n=new Title({ctx:t.ctx,options:e,chart:t});layouts.configure(t,n,e),layouts.addBox(t,n),t.titleBlock=n}var plugin_title={id:"title",_element:Title,start(t,e,n){createTitle(t,n)},stop(t){const e=t.titleBlock;layouts.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const o=t.titleBlock;layouts.configure(t,o,n),o.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const positioners={average(t){if(!t.length)return!1;let e,n,o=new Set,l=0,u=0;for(e=0,n=t.length;e<n;++e){const f=t[e].element;if(f&&f.hasValue()){const d=f.tooltipPosition();o.add(d.x),l+=d.y,++u}}return u===0||o.size===0?!1:{x:[...o].reduce((f,d)=>f+d)/o.size,y:l/u}},nearest(t,e){if(!t.length)return!1;let n=e.x,o=e.y,l=Number.POSITIVE_INFINITY,u,h,f;for(u=0,h=t.length;u<h;++u){const d=t[u].element;if(d&&d.hasValue()){const p=d.getCenterPoint(),m=distanceBetweenPoints$1(e,p);m<l&&(l=m,f=d)}}if(f){const d=f.tooltipPosition();n=d.x,o=d.y}return{x:n,y:o}}};function pushOrConcat(t,e){return e&&(isArray$1(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function splitNewlines(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function createTooltipItem(t,e){const{element:n,datasetIndex:o,index:l}=e,u=t.getDatasetMeta(o).controller,{label:h,value:f}=u.getLabelAndValue(l);return{chart:t,label:h,parsed:u.getParsed(l),raw:t.data.datasets[o].data[l],formattedValue:f,dataset:u.getDataset(),dataIndex:l,datasetIndex:o,element:n}}function getTooltipSize(t,e){const n=t.chart.ctx,{body:o,footer:l,title:u}=t,{boxWidth:h,boxHeight:f}=e,d=toFont(e.bodyFont),p=toFont(e.titleFont),m=toFont(e.footerFont),v=u.length,b=l.length,S=o.length,T=toPadding(e.padding);let C=T.height,w=0,R=o.reduce((F,B)=>F+B.before.length+B.lines.length+B.after.length,0);if(R+=t.beforeBody.length+t.afterBody.length,v&&(C+=v*p.lineHeight+(v-1)*e.titleSpacing+e.titleMarginBottom),R){const F=e.displayColors?Math.max(f,d.lineHeight):d.lineHeight;C+=S*F+(R-S)*d.lineHeight+(R-1)*e.bodySpacing}b&&(C+=e.footerMarginTop+b*m.lineHeight+(b-1)*e.footerSpacing);let L=0;const N=function(F){w=Math.max(w,n.measureText(F).width+L)};return n.save(),n.font=p.string,each(t.title,N),n.font=d.string,each(t.beforeBody.concat(t.afterBody),N),L=e.displayColors?h+2+e.boxPadding:0,each(o,F=>{each(F.before,N),each(F.lines,N),each(F.after,N)}),L=0,n.font=m.string,each(t.footer,N),n.restore(),w+=T.width,{width:w,height:C}}function determineYAlign(t,e){const{y:n,height:o}=e;return n<o/2?"top":n>t.height-o/2?"bottom":"center"}function doesNotFitWithAlign(t,e,n,o){const{x:l,width:u}=o,h=n.caretSize+n.caretPadding;if(t==="left"&&l+u+h>e.width||t==="right"&&l-u-h<0)return!0}function determineXAlign(t,e,n,o){const{x:l,width:u}=n,{width:h,chartArea:{left:f,right:d}}=t;let p="center";return o==="center"?p=l<=(f+d)/2?"left":"right":l<=u/2?p="left":l>=h-u/2&&(p="right"),doesNotFitWithAlign(p,t,e,n)&&(p="center"),p}function determineAlignment(t,e,n){const o=n.yAlign||e.yAlign||determineYAlign(t,n);return{xAlign:n.xAlign||e.xAlign||determineXAlign(t,e,n,o),yAlign:o}}function alignX(t,e){let{x:n,width:o}=t;return e==="right"?n-=o:e==="center"&&(n-=o/2),n}function alignY(t,e,n){let{y:o,height:l}=t;return e==="top"?o+=n:e==="bottom"?o-=l+n:o-=l/2,o}function getBackgroundPoint(t,e,n,o){const{caretSize:l,caretPadding:u,cornerRadius:h}=t,{xAlign:f,yAlign:d}=n,p=l+u,{topLeft:m,topRight:v,bottomLeft:b,bottomRight:S}=toTRBLCorners(h);let T=alignX(e,f);const C=alignY(e,d,p);return d==="center"?f==="left"?T+=p:f==="right"&&(T-=p):f==="left"?T-=Math.max(m,b)+l:f==="right"&&(T+=Math.max(v,S)+l),{x:_limitValue(T,0,o.width-e.width),y:_limitValue(C,0,o.height-e.height)}}function getAlignedX(t,e,n){const o=toPadding(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-o.right:t.x+o.left}function getBeforeAfterBodyLines(t){return pushOrConcat([],splitNewlines(t))}function createTooltipContext(t,e,n){return createContext(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function overrideCallbacks(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const defaultCallbacks={beforeTitle:noop$1,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,o=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(o>0&&e.dataIndex<o)return n[e.dataIndex]}return""},afterTitle:noop$1,beforeBody:noop$1,beforeLabel:noop$1,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return isNullOrUndef(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:noop$1,afterBody:noop$1,beforeFooter:noop$1,footer:noop$1,afterFooter:noop$1};function invokeCallbackWithFallback(t,e,n,o){const l=t[e].call(n,o);return typeof l>"u"?defaultCallbacks[e].call(n,o):l}var Du;let Tooltip$1=(Du=class extends Element$1{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,o=this.options.setContext(this.getContext()),l=o.enabled&&n.options.animation&&o.animations,u=new Animations(this.chart,l);return l._cacheable&&(this._cachedAnimations=Object.freeze(u)),u}getContext(){return this.$context||(this.$context=createTooltipContext(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:o}=n,l=invokeCallbackWithFallback(o,"beforeTitle",this,e),u=invokeCallbackWithFallback(o,"title",this,e),h=invokeCallbackWithFallback(o,"afterTitle",this,e);let f=[];return f=pushOrConcat(f,splitNewlines(l)),f=pushOrConcat(f,splitNewlines(u)),f=pushOrConcat(f,splitNewlines(h)),f}getBeforeBody(e,n){return getBeforeAfterBodyLines(invokeCallbackWithFallback(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:o}=n,l=[];return each(e,u=>{const h={before:[],lines:[],after:[]},f=overrideCallbacks(o,u);pushOrConcat(h.before,splitNewlines(invokeCallbackWithFallback(f,"beforeLabel",this,u))),pushOrConcat(h.lines,invokeCallbackWithFallback(f,"label",this,u)),pushOrConcat(h.after,splitNewlines(invokeCallbackWithFallback(f,"afterLabel",this,u))),l.push(h)}),l}getAfterBody(e,n){return getBeforeAfterBodyLines(invokeCallbackWithFallback(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:o}=n,l=invokeCallbackWithFallback(o,"beforeFooter",this,e),u=invokeCallbackWithFallback(o,"footer",this,e),h=invokeCallbackWithFallback(o,"afterFooter",this,e);let f=[];return f=pushOrConcat(f,splitNewlines(l)),f=pushOrConcat(f,splitNewlines(u)),f=pushOrConcat(f,splitNewlines(h)),f}_createItems(e){const n=this._active,o=this.chart.data,l=[],u=[],h=[];let f=[],d,p;for(d=0,p=n.length;d<p;++d)f.push(createTooltipItem(this.chart,n[d]));return e.filter&&(f=f.filter((m,v,b)=>e.filter(m,v,b,o))),e.itemSort&&(f=f.sort((m,v)=>e.itemSort(m,v,o))),each(f,m=>{const v=overrideCallbacks(e.callbacks,m);l.push(invokeCallbackWithFallback(v,"labelColor",this,m)),u.push(invokeCallbackWithFallback(v,"labelPointStyle",this,m)),h.push(invokeCallbackWithFallback(v,"labelTextColor",this,m))}),this.labelColors=l,this.labelPointStyles=u,this.labelTextColors=h,this.dataPoints=f,f}update(e,n){const o=this.options.setContext(this.getContext()),l=this._active;let u,h=[];if(!l.length)this.opacity!==0&&(u={opacity:0});else{const f=positioners[o.position].call(this,l,this._eventPosition);h=this._createItems(o),this.title=this.getTitle(h,o),this.beforeBody=this.getBeforeBody(h,o),this.body=this.getBody(h,o),this.afterBody=this.getAfterBody(h,o),this.footer=this.getFooter(h,o);const d=this._size=getTooltipSize(this,o),p=Object.assign({},f,d),m=determineAlignment(this.chart,o,p),v=getBackgroundPoint(o,p,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,u={opacity:1,x:v.x,y:v.y,width:d.width,height:d.height,caretX:f.x,caretY:f.y}}this._tooltipItems=h,this.$context=void 0,u&&this._resolveAnimations().update(this,u),e&&o.external&&o.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,o,l){const u=this.getCaretPosition(e,o,l);n.lineTo(u.x1,u.y1),n.lineTo(u.x2,u.y2),n.lineTo(u.x3,u.y3)}getCaretPosition(e,n,o){const{xAlign:l,yAlign:u}=this,{caretSize:h,cornerRadius:f}=o,{topLeft:d,topRight:p,bottomLeft:m,bottomRight:v}=toTRBLCorners(f),{x:b,y:S}=e,{width:T,height:C}=n;let w,R,L,N,F,B;return u==="center"?(F=S+C/2,l==="left"?(w=b,R=w-h,N=F+h,B=F-h):(w=b+T,R=w+h,N=F-h,B=F+h),L=w):(l==="left"?R=b+Math.max(d,m)+h:l==="right"?R=b+T-Math.max(p,v)-h:R=this.caretX,u==="top"?(N=S,F=N-h,w=R-h,L=R+h):(N=S+C,F=N+h,w=R+h,L=R-h),B=N),{x1:w,x2:R,x3:L,y1:N,y2:F,y3:B}}drawTitle(e,n,o){const l=this.title,u=l.length;let h,f,d;if(u){const p=getRtlAdapter(o.rtl,this.x,this.width);for(e.x=getAlignedX(this,o.titleAlign,o),n.textAlign=p.textAlign(o.titleAlign),n.textBaseline="middle",h=toFont(o.titleFont),f=o.titleSpacing,n.fillStyle=o.titleColor,n.font=h.string,d=0;d<u;++d)n.fillText(l[d],p.x(e.x),e.y+h.lineHeight/2),e.y+=h.lineHeight+f,d+1===u&&(e.y+=o.titleMarginBottom-f)}}_drawColorBox(e,n,o,l,u){const h=this.labelColors[o],f=this.labelPointStyles[o],{boxHeight:d,boxWidth:p}=u,m=toFont(u.bodyFont),v=getAlignedX(this,"left",u),b=l.x(v),S=d<m.lineHeight?(m.lineHeight-d)/2:0,T=n.y+S;if(u.usePointStyle){const C={radius:Math.min(p,d)/2,pointStyle:f.pointStyle,rotation:f.rotation,borderWidth:1},w=l.leftForLtr(b,p)+p/2,R=T+d/2;e.strokeStyle=u.multiKeyBackground,e.fillStyle=u.multiKeyBackground,drawPoint(e,C,w,R),e.strokeStyle=h.borderColor,e.fillStyle=h.backgroundColor,drawPoint(e,C,w,R)}else{e.lineWidth=isObject$1(h.borderWidth)?Math.max(...Object.values(h.borderWidth)):h.borderWidth||1,e.strokeStyle=h.borderColor,e.setLineDash(h.borderDash||[]),e.lineDashOffset=h.borderDashOffset||0;const C=l.leftForLtr(b,p),w=l.leftForLtr(l.xPlus(b,1),p-2),R=toTRBLCorners(h.borderRadius);Object.values(R).some(L=>L!==0)?(e.beginPath(),e.fillStyle=u.multiKeyBackground,addRoundedRectPath(e,{x:C,y:T,w:p,h:d,radius:R}),e.fill(),e.stroke(),e.fillStyle=h.backgroundColor,e.beginPath(),addRoundedRectPath(e,{x:w,y:T+1,w:p-2,h:d-2,radius:R}),e.fill()):(e.fillStyle=u.multiKeyBackground,e.fillRect(C,T,p,d),e.strokeRect(C,T,p,d),e.fillStyle=h.backgroundColor,e.fillRect(w,T+1,p-2,d-2))}e.fillStyle=this.labelTextColors[o]}drawBody(e,n,o){const{body:l}=this,{bodySpacing:u,bodyAlign:h,displayColors:f,boxHeight:d,boxWidth:p,boxPadding:m}=o,v=toFont(o.bodyFont);let b=v.lineHeight,S=0;const T=getRtlAdapter(o.rtl,this.x,this.width),C=function(K){n.fillText(K,T.x(e.x+S),e.y+b/2),e.y+=b+u},w=T.textAlign(h);let R,L,N,F,B,U,z;for(n.textAlign=h,n.textBaseline="middle",n.font=v.string,e.x=getAlignedX(this,w,o),n.fillStyle=o.bodyColor,each(this.beforeBody,C),S=f&&w!=="right"?h==="center"?p/2+m:p+2+m:0,F=0,U=l.length;F<U;++F){for(R=l[F],L=this.labelTextColors[F],n.fillStyle=L,each(R.before,C),N=R.lines,f&&N.length&&(this._drawColorBox(n,e,F,T,o),b=Math.max(v.lineHeight,d)),B=0,z=N.length;B<z;++B)C(N[B]),b=v.lineHeight;each(R.after,C)}S=0,b=v.lineHeight,each(this.afterBody,C),e.y-=u}drawFooter(e,n,o){const l=this.footer,u=l.length;let h,f;if(u){const d=getRtlAdapter(o.rtl,this.x,this.width);for(e.x=getAlignedX(this,o.footerAlign,o),e.y+=o.footerMarginTop,n.textAlign=d.textAlign(o.footerAlign),n.textBaseline="middle",h=toFont(o.footerFont),n.fillStyle=o.footerColor,n.font=h.string,f=0;f<u;++f)n.fillText(l[f],d.x(e.x),e.y+h.lineHeight/2),e.y+=h.lineHeight+o.footerSpacing}}drawBackground(e,n,o,l){const{xAlign:u,yAlign:h}=this,{x:f,y:d}=e,{width:p,height:m}=o,{topLeft:v,topRight:b,bottomLeft:S,bottomRight:T}=toTRBLCorners(l.cornerRadius);n.fillStyle=l.backgroundColor,n.strokeStyle=l.borderColor,n.lineWidth=l.borderWidth,n.beginPath(),n.moveTo(f+v,d),h==="top"&&this.drawCaret(e,n,o,l),n.lineTo(f+p-b,d),n.quadraticCurveTo(f+p,d,f+p,d+b),h==="center"&&u==="right"&&this.drawCaret(e,n,o,l),n.lineTo(f+p,d+m-T),n.quadraticCurveTo(f+p,d+m,f+p-T,d+m),h==="bottom"&&this.drawCaret(e,n,o,l),n.lineTo(f+S,d+m),n.quadraticCurveTo(f,d+m,f,d+m-S),h==="center"&&u==="left"&&this.drawCaret(e,n,o,l),n.lineTo(f,d+v),n.quadraticCurveTo(f,d,f+v,d),n.closePath(),n.fill(),l.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,o=this.$animations,l=o&&o.x,u=o&&o.y;if(l||u){const h=positioners[e.position].call(this,this._active,this._eventPosition);if(!h)return;const f=this._size=getTooltipSize(this,e),d=Object.assign({},h,this._size),p=determineAlignment(n,e,d),m=getBackgroundPoint(e,d,p,n);(l._to!==m.x||u._to!==m.y)&&(this.xAlign=p.xAlign,this.yAlign=p.yAlign,this.width=f.width,this.height=f.height,this.caretX=h.x,this.caretY=h.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let o=this.opacity;if(!o)return;this._updateAnimationTarget(n);const l={width:this.width,height:this.height},u={x:this.x,y:this.y};o=Math.abs(o)<.001?0:o;const h=toPadding(n.padding),f=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&f&&(e.save(),e.globalAlpha=o,this.drawBackground(u,e,l,n),overrideTextDirection(e,n.textDirection),u.y+=h.top,this.drawTitle(u,e,n),this.drawBody(u,e,n),this.drawFooter(u,e,n),restoreTextDirection(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const o=this._active,l=e.map(({datasetIndex:f,index:d})=>{const p=this.chart.getDatasetMeta(f);if(!p)throw new Error("Cannot find a dataset at index "+f);return{datasetIndex:f,element:p.data[d],index:d}}),u=!_elementsEqual(o,l),h=this._positionChanged(l,n);(u||h)&&(this._active=l,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,o=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const l=this.options,u=this._active||[],h=this._getActiveElements(e,u,n,o),f=this._positionChanged(h,e),d=n||!_elementsEqual(h,u)||f;return d&&(this._active=h,(l.enabled||l.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),d}_getActiveElements(e,n,o,l){const u=this.options;if(e.type==="mouseout")return[];if(!l)return n.filter(f=>this.chart.data.datasets[f.datasetIndex]&&this.chart.getDatasetMeta(f.datasetIndex).controller.getParsed(f.index)!==void 0);const h=this.chart.getElementsAtEventForMode(e,u.mode,u,o);return u.reverse&&h.reverse(),h}_positionChanged(e,n){const{caretX:o,caretY:l,options:u}=this,h=positioners[u.position].call(this,e,n);return h!==!1&&(o!==h.x||l!==h.y)}},an(Du,"positioners",positioners),Du);var plugin_tooltip={id:"tooltip",_element:Tooltip$1,positioners,afterInit(t,e,n){n&&(t.tooltip=new Tooltip$1({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:defaultCallbacks},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const addIfString=(t,e,n,o)=>(typeof e=="string"?(n=t.push(e)-1,o.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function findOrAddLabel(t,e,n,o){const l=t.indexOf(e);if(l===-1)return addIfString(t,e,n,o);const u=t.lastIndexOf(e);return l!==u?n:l}const validIndex=(t,e)=>t===null?null:_limitValue(Math.round(t),0,e);function _getLabelForValue(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class CategoryScale extends Scale{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const o=this.getLabels();for(const{index:l,label:u}of n)o[l]===u&&o.splice(l,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(isNullOrUndef(e))return null;const o=this.getLabels();return n=isFinite(n)&&o[n]===e?n:findOrAddLabel(o,e,valueOrDefault(n,e),this._addedLabels),validIndex(n,o.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:o,max:l}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(o=0),n||(l=this.getLabels().length-1)),this.min=o,this.max=l}buildTicks(){const e=this.min,n=this.max,o=this.options.offset,l=[];let u=this.getLabels();u=e===0&&n===u.length-1?u:u.slice(e,n+1),this._valueRange=Math.max(u.length-(o?0:1),1),this._startValue=this.min-(o?.5:0);for(let h=e;h<=n;h++)l.push({value:h});return l}getLabelForValue(e){return _getLabelForValue.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}an(CategoryScale,"id","category"),an(CategoryScale,"defaults",{ticks:{callback:_getLabelForValue}});function generateTicks$1(t,e){const n=[],{bounds:l,step:u,min:h,max:f,precision:d,count:p,maxTicks:m,maxDigits:v,includeBounds:b}=t,S=u||1,T=m-1,{min:C,max:w}=e,R=!isNullOrUndef(h),L=!isNullOrUndef(f),N=!isNullOrUndef(p),F=(w-C)/(v+1);let B=niceNum((w-C)/T/S)*S,U,z,K,Q;if(B<1e-14&&!R&&!L)return[{value:C},{value:w}];Q=Math.ceil(w/B)-Math.floor(C/B),Q>T&&(B=niceNum(Q*B/T/S)*S),isNullOrUndef(d)||(U=Math.pow(10,d),B=Math.ceil(B*U)/U),l==="ticks"?(z=Math.floor(C/B)*B,K=Math.ceil(w/B)*B):(z=C,K=w),R&&L&&u&&almostWhole((f-h)/u,B/1e3)?(Q=Math.round(Math.min((f-h)/B,m)),B=(f-h)/Q,z=h,K=f):N?(z=R?h:z,K=L?f:K,Q=p-1,B=(K-z)/Q):(Q=(K-z)/B,almostEquals(Q,Math.round(Q),B/1e3)?Q=Math.round(Q):Q=Math.ceil(Q));const q=Math.max(_decimalPlaces(B),_decimalPlaces(z));U=Math.pow(10,isNullOrUndef(d)?q:d),z=Math.round(z*U)/U,K=Math.round(K*U)/U;let H=0;for(R&&(b&&z!==h?(n.push({value:h}),z<h&&H++,almostEquals(Math.round((z+H*B)*U)/U,h,relativeLabelSize(h,F,t))&&H++):z<h&&H++);H<Q;++H){const se=Math.round((z+H*B)*U)/U;if(L&&se>f)break;n.push({value:se})}return L&&b&&K!==f?n.length&&almostEquals(n[n.length-1].value,f,relativeLabelSize(f,F,t))?n[n.length-1].value=f:n.push({value:f}):(!L||K===f)&&n.push({value:K}),n}function relativeLabelSize(t,e,{horizontal:n,minRotation:o}){const l=toRadians(o),u=(n?Math.sin(l):Math.cos(l))||.001,h=.75*e*(""+t).length;return Math.min(e/u,h)}class LinearScaleBase extends Scale{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return isNullOrUndef(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:o}=this.getUserBounds();let{min:l,max:u}=this;const h=d=>l=n?l:d,f=d=>u=o?u:d;if(e){const d=sign$2(l),p=sign$2(u);d<0&&p<0?f(0):d>0&&p>0&&h(0)}if(l===u){let d=u===0?1:Math.abs(u*.05);f(u+d),e||h(l-d)}this.min=l,this.max=u}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:o}=e,l;return o?(l=Math.ceil(this.max/o)-Math.floor(this.min/o)+1,l>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${o} would result generating up to ${l} ticks. Limiting to 1000.`),l=1e3)):(l=this.computeTickLimit(),n=n||11),n&&(l=Math.min(n,l)),l}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let o=this.getTickLimit();o=Math.max(2,o);const l={maxTicks:o,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},u=this._range||this,h=generateTicks$1(l,u);return e.bounds==="ticks"&&_setMinAndMaxByKey(h,this,"value"),e.reverse?(h.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),h}configure(){const e=this.ticks;let n=this.min,o=this.max;if(super.configure(),this.options.offset&&e.length){const l=(o-n)/Math.max(e.length-1,1)/2;n-=l,o+=l}this._startValue=n,this._endValue=o,this._valueRange=o-n}getLabelForValue(e){return formatNumber(e,this.chart.options.locale,this.options.ticks.format)}}class LinearScale extends LinearScaleBase{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=isNumberFinite(e)?e:0,this.max=isNumberFinite(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,o=toRadians(this.options.ticks.minRotation),l=(e?Math.sin(o):Math.cos(o))||.001,u=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,u.lineHeight/l))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}an(LinearScale,"id","linear"),an(LinearScale,"defaults",{ticks:{callback:Ticks.formatters.numeric}});const INTERVALS={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},UNITS=Object.keys(INTERVALS);function sorter(t,e){return t-e}function parse(t,e){if(isNullOrUndef(e))return null;const n=t._adapter,{parser:o,round:l,isoWeekday:u}=t._parseOpts;let h=e;return typeof o=="function"&&(h=o(h)),isNumberFinite(h)||(h=typeof o=="string"?n.parse(h,o):n.parse(h)),h===null?null:(l&&(h=l==="week"&&(isNumber$2(u)||u===!0)?n.startOf(h,"isoWeek",u):n.startOf(h,l)),+h)}function determineUnitForAutoTicks(t,e,n,o){const l=UNITS.length;for(let u=UNITS.indexOf(t);u<l-1;++u){const h=INTERVALS[UNITS[u]],f=h.steps?h.steps:Number.MAX_SAFE_INTEGER;if(h.common&&Math.ceil((n-e)/(f*h.size))<=o)return UNITS[u]}return UNITS[l-1]}function determineUnitForFormatting(t,e,n,o,l){for(let u=UNITS.length-1;u>=UNITS.indexOf(n);u--){const h=UNITS[u];if(INTERVALS[h].common&&t._adapter.diff(l,o,h)>=e-1)return h}return UNITS[n?UNITS.indexOf(n):0]}function determineMajorUnit(t){for(let e=UNITS.indexOf(t)+1,n=UNITS.length;e<n;++e)if(INTERVALS[UNITS[e]].common)return UNITS[e]}function addTick(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:o,hi:l}=_lookup(n,e),u=n[o]>=e?n[o]:n[l];t[u]=!0}}function setMajorTicks(t,e,n,o){const l=t._adapter,u=+l.startOf(e[0].value,o),h=e[e.length-1].value;let f,d;for(f=u;f<=h;f=+l.add(f,1,o))d=n[f],d>=0&&(e[d].major=!0);return e}function ticksFromTimestamps(t,e,n){const o=[],l={},u=e.length;let h,f;for(h=0;h<u;++h)f=e[h],l[f]=h,o.push({value:f,major:!1});return u===0||!n?o:setMajorTicks(t,o,l,n)}class TimeScale extends Scale{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const o=e.time||(e.time={}),l=this._adapter=new adapters._date(e.adapters.date);l.init(n),mergeIf(o.displayFormats,l.formats()),this._parseOpts={parser:o.parser,round:o.round,isoWeekday:o.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:parse(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,o=e.time.unit||"day";let{min:l,max:u,minDefined:h,maxDefined:f}=this.getUserBounds();function d(p){!h&&!isNaN(p.min)&&(l=Math.min(l,p.min)),!f&&!isNaN(p.max)&&(u=Math.max(u,p.max))}(!h||!f)&&(d(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&d(this.getMinMax(!1))),l=isNumberFinite(l)&&!isNaN(l)?l:+n.startOf(Date.now(),o),u=isNumberFinite(u)&&!isNaN(u)?u:+n.endOf(Date.now(),o)+1,this.min=Math.min(l,u-1),this.max=Math.max(l+1,u)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],o=e[e.length-1]),{min:n,max:o}}buildTicks(){const e=this.options,n=e.time,o=e.ticks,l=o.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&l.length&&(this.min=this._userMin||l[0],this.max=this._userMax||l[l.length-1]);const u=this.min,h=this.max,f=_filterBetween(l,u,h);return this._unit=n.unit||(o.autoSkip?determineUnitForAutoTicks(n.minUnit,this.min,this.max,this._getLabelCapacity(u)):determineUnitForFormatting(this,f.length,n.minUnit,this.min,this.max)),this._majorUnit=!o.major.enabled||this._unit==="year"?void 0:determineMajorUnit(this._unit),this.initOffsets(l),e.reverse&&f.reverse(),ticksFromTimestamps(this,f,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,o=0,l,u;this.options.offset&&e.length&&(l=this.getDecimalForValue(e[0]),e.length===1?n=1-l:n=(this.getDecimalForValue(e[1])-l)/2,u=this.getDecimalForValue(e[e.length-1]),e.length===1?o=u:o=(u-this.getDecimalForValue(e[e.length-2]))/2);const h=e.length<3?.5:.25;n=_limitValue(n,0,h),o=_limitValue(o,0,h),this._offsets={start:n,end:o,factor:1/(n+1+o)}}_generate(){const e=this._adapter,n=this.min,o=this.max,l=this.options,u=l.time,h=u.unit||determineUnitForAutoTicks(u.minUnit,n,o,this._getLabelCapacity(n)),f=valueOrDefault(l.ticks.stepSize,1),d=h==="week"?u.isoWeekday:!1,p=isNumber$2(d)||d===!0,m={};let v=n,b,S;if(p&&(v=+e.startOf(v,"isoWeek",d)),v=+e.startOf(v,p?"day":h),e.diff(o,n,h)>1e5*f)throw new Error(n+" and "+o+" are too far apart with stepSize of "+f+" "+h);const T=l.ticks.source==="data"&&this.getDataTimestamps();for(b=v,S=0;b<o;b=+e.add(b,f,h),S++)addTick(m,b,T);return(b===o||l.bounds==="ticks"||S===1)&&addTick(m,b,T),Object.keys(m).sort(sorter).map(C=>+C)}getLabelForValue(e){const n=this._adapter,o=this.options.time;return o.tooltipFormat?n.format(e,o.tooltipFormat):n.format(e,o.displayFormats.datetime)}format(e,n){const l=this.options.time.displayFormats,u=this._unit,h=n||l[u];return this._adapter.format(e,h)}_tickFormatFunction(e,n,o,l){const u=this.options,h=u.ticks.callback;if(h)return callback(h,[e,n,o],this);const f=u.time.displayFormats,d=this._unit,p=this._majorUnit,m=d&&f[d],v=p&&f[p],b=o[n],S=p&&v&&b&&b.major;return this._adapter.format(e,l||(S?v:m))}generateTickLabels(e){let n,o,l;for(n=0,o=e.length;n<o;++n)l=e[n],l.label=this._tickFormatFunction(l.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,o=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+o)*n.factor)}getValueForPixel(e){const n=this._offsets,o=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+o*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,o=this.ctx.measureText(e).width,l=toRadians(this.isHorizontal()?n.maxRotation:n.minRotation),u=Math.cos(l),h=Math.sin(l),f=this._resolveTickFontOptions(0).size;return{w:o*u+f*h,h:o*h+f*u}}_getLabelCapacity(e){const n=this.options.time,o=n.displayFormats,l=o[n.unit]||o.millisecond,u=this._tickFormatFunction(e,0,ticksFromTimestamps(this,[e],this._majorUnit),l),h=this._getLabelSize(u),f=Math.floor(this.isHorizontal()?this.width/h.w:this.height/h.h)-1;return f>0?f:1}getDataTimestamps(){let e=this._cache.data||[],n,o;if(e.length)return e;const l=this.getMatchingVisibleMetas();if(this._normalized&&l.length)return this._cache.data=l[0].controller.getAllParsedValues(this);for(n=0,o=l.length;n<o;++n)e=e.concat(l[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,o;if(e.length)return e;const l=this.getLabels();for(n=0,o=l.length;n<o;++n)e.push(parse(this,l[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return _arrayUnique(e.sort(sorter))}}an(TimeScale,"id","time"),an(TimeScale,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function interpolate$1(t,e,n){let o=0,l=t.length-1,u,h,f,d;n?(e>=t[o].pos&&e<=t[l].pos&&({lo:o,hi:l}=_lookupByKey(t,"pos",e)),{pos:u,time:f}=t[o],{pos:h,time:d}=t[l]):(e>=t[o].time&&e<=t[l].time&&({lo:o,hi:l}=_lookupByKey(t,"time",e)),{time:u,pos:f}=t[o],{time:h,pos:d}=t[l]);const p=h-u;return p?f+(d-f)*(e-u)/p:f}class TimeSeriesScale extends TimeScale{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=interpolate$1(n,this.min),this._tableRange=interpolate$1(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:o}=this,l=[],u=[];let h,f,d,p,m;for(h=0,f=e.length;h<f;++h)p=e[h],p>=n&&p<=o&&l.push(p);if(l.length<2)return[{time:n,pos:0},{time:o,pos:1}];for(h=0,f=l.length;h<f;++h)m=l[h+1],d=l[h-1],p=l[h],Math.round((m+d)/2)!==p&&u.push({time:p,pos:h/(f-1)});return u}_generate(){const e=this.min,n=this.max;let o=super.getDataTimestamps();return(!o.includes(e)||!o.length)&&o.splice(0,0,e),(!o.includes(n)||o.length===1)&&o.push(n),o.sort((l,u)=>l-u)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),o=this.getLabelTimestamps();return n.length&&o.length?e=this.normalize(n.concat(o)):e=n.length?n:o,e=this._cache.all=e,e}getDecimalForValue(e){return(interpolate$1(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,o=this.getDecimalForPixel(e)/n.factor-n.end;return interpolate$1(this._table,o*this._tableRange+this._minPos,!0)}}an(TimeSeriesScale,"id","timeseries"),an(TimeSeriesScale,"defaults",TimeScale.defaults);const defaultDatasetIdKey="label";function reforwardRef(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function setOptions(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function setLabels(t,e){t.labels=e}function setDatasets(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:defaultDatasetIdKey;const o=[];t.datasets=e.map(l=>{const u=t.datasets.find(h=>h[n]===l[n]);return!u||!l.data||o.includes(u)?{...l}:(o.push(u),Object.assign(u,l),u)})}function cloneData(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:defaultDatasetIdKey;const n={labels:[],datasets:[]};return setLabels(n,t.labels),setDatasets(n,t.datasets,e),n}function ChartComponent(t,e){const{height:n=150,width:o=300,redraw:l=!1,datasetIdKey:u,type:h,data:f,options:d,plugins:p=[],fallbackContent:m,updateMode:v,...b}=t,S=reactExports.useRef(null),T=reactExports.useRef(null),C=()=>{S.current&&(T.current=new Chart$1(S.current,{type:h,data:cloneData(f,u),options:d&&{...d},plugins:p}),reforwardRef(e,T.current))},w=()=>{reforwardRef(e,null),T.current&&(T.current.destroy(),T.current=null)};return reactExports.useEffect(()=>{!l&&T.current&&d&&setOptions(T.current,d)},[l,d]),reactExports.useEffect(()=>{!l&&T.current&&setLabels(T.current.config.data,f.labels)},[l,f.labels]),reactExports.useEffect(()=>{!l&&T.current&&f.datasets&&setDatasets(T.current.config.data,f.datasets,u)},[l,f.datasets]),reactExports.useEffect(()=>{T.current&&(l?(w(),setTimeout(C)):T.current.update(v))},[l,d,f.labels,f.datasets,v]),reactExports.useEffect(()=>{T.current&&(w(),setTimeout(C))},[h]),reactExports.useEffect(()=>(C(),()=>w()),[]),React.createElement("canvas",{ref:S,role:"img",height:n,width:o,...b},m)}const Chart=reactExports.forwardRef(ChartComponent);function createTypedChart(t,e){return Chart$1.register(e),reactExports.forwardRef((n,o)=>React.createElement(Chart,{...n,ref:o,type:t}))}const Line$1=createTypedChart("line",LineController);Chart$1.register(CategoryScale,LinearScale,PointElement,LineElement,plugin_title,plugin_tooltip,plugin_legend);const YieldGapChart=()=>{const[t,e]=useInView({triggerOnce:!0,threshold:.1}),o={labels:["2000","2005","2010","2015","2020","2025"],datasets:[{label:"Produtividade Potencial (PP)",data:[5400,5500,5600,5700,5800,5900],borderColor:"rgba(46, 125, 50, 0.8)",backgroundColor:"rgba(46, 125, 50, 0.1)",borderWidth:3,tension:.3,fill:!1},{label:"Produtividade Atingível (PA)",data:[4300,4400,4500,4600,4700,4800],borderColor:"rgba(219, 123, 34, 0.8)",backgroundColor:"rgba(219, 123, 34, 0.1)",borderWidth:3,tension:.3,fill:!1},{label:"Produtividade Real (PR)",data:[2600,2900,3200,3400,3600,3800],borderColor:"rgba(255, 152, 0, 0.8)",backgroundColor:"rgba(255, 152, 0, 0.1)",borderWidth:3,tension:.3,fill:!1}]},l={responsive:!0,plugins:{legend:{position:"top"},tooltip:{callbacks:{label:function(u){return`${u.dataset.label}: ${u.parsed.y} kg/ha`}}}},scales:{y:{beginAtZero:!1,min:2e3,title:{display:!0,text:"Produtividade (kg/ha)"}},x:{title:{display:!0,text:"Ano"}}}};return jsxRuntimeExports.jsxs(motion.div,{ref:t,className:"bg-white rounded-xl shadow-md p-6",initial:{opacity:0,y:20},animate:e?{opacity:1,y:0}:{opacity:0,y:20},transition:{duration:.6},children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold mb-4 text-primary-800 text-center",children:"Evolução do Yield Gap no Algodão Brasileiro (2000-2025)"}),jsxRuntimeExports.jsx("div",{className:"mt-4",children:jsxRuntimeExports.jsx(Line$1,{options:l,data:o})}),jsxRuntimeExports.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[jsxRuntimeExports.jsxs("div",{className:"p-3 bg-primary-50 rounded-lg",children:[jsxRuntimeExports.jsx("p",{className:"font-semibold text-primary-800",children:"Yield Gap 2000"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-primary-700",children:"1700 kg/ha"})]}),jsxRuntimeExports.jsxs("div",{className:"p-3 bg-primary-50 rounded-lg",children:[jsxRuntimeExports.jsx("p",{className:"font-semibold text-primary-800",children:"Yield Gap 2025"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-primary-700",children:"1000 kg/ha"})]}),jsxRuntimeExports.jsxs("div",{className:"p-3 bg-success-50 rounded-lg",children:[jsxRuntimeExports.jsx("p",{className:"font-semibold text-success-600",children:"Redução do Gap"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-success-600",children:"41%"})]})]}),jsxRuntimeExports.jsx("p",{className:"mt-6 text-sm text-gray-600 italic",children:"Nota: Os dados são baseados em estimativas e projeções de pesquisas agrícolas brasileiras. O yield gap está diminuindo, mas ainda há um potencial significativo para aumentar a produtividade real."})]})},HistoricalEvolution=()=>{reactExports.useEffect(()=>{document.title="Evolução Histórica do Yield Gap | AlgodãoTech"},[]);const[t,e]=useInView({triggerOnce:!0,threshold:.1}),n=[{year:"2000-2005",title:"Expansão do Algodão no Cerrado",description:"O início da expansão da cultura do algodão no Cerrado brasileiro, com a adaptação de variedades e sistema de produção específicos para a região.",achievement:"Redução inicial do yield gap com adaptação de cultivares para o Cerrado.",color:"bg-primary-600"},{year:"2006-2010",title:"Adoção de Cultivares Transgênicas",description:"Introdução de cultivares com tecnologias Bt e resistentes a herbicidas, alterando o manejo de pragas e plantas daninhas.",achievement:"Melhor controle de pragas e redução de perdas, diminuindo o yield gap em cerca de 15%.",color:"bg-primary-700"},{year:"2011-2015",title:"Avanços em Agricultura de Precisão",description:"Implementação de tecnologias de agricultura de precisão, incluindo mapeamento de solo, aplicação variável de insumos e monitoramento remoto.",achievement:"Uso mais eficiente de insumos e manejo específico por local, reduzindo o yield gap em mais 10%.",color:"bg-primary-800"},{year:"2016-2020",title:"Intensificação Sustentável",description:"Adoção de sistemas integrados de produção, rotação de culturas e práticas conservacionistas de manejo do solo.",achievement:"Melhoria da saúde do solo e redução de estresses bióticos, contribuindo para diminuir o yield gap em mais 8%.",color:"bg-primary-900"},{year:"2021-2025",title:"Era Digital na Cotonicultura",description:"Implementação de ferramentas digitais, inteligência artificial e internet das coisas (IoT) para monitoramento e tomada de decisão em tempo real.",achievement:"Manejo mais preciso e responsivo, com potencial para reduzir o yield gap em mais 12% até 2025.",color:"bg-primary-950"}];return jsxRuntimeExports.jsxs("div",{className:"pt-24",children:[jsxRuntimeExports.jsx("section",{className:"section bg-primary-50",children:jsxRuntimeExports.jsxs("div",{className:"container-custom",children:[jsxRuntimeExports.jsx(SectionHeader,{title:"Evolução Histórica (2000-2025)",subtitle:"Acompanhe a trajetória e as transformações do yield gap na cotonicultura brasileira ao longo das últimas décadas",centered:!0}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10 items-center mb-16",children:[jsxRuntimeExports.jsxs(motion.div,{ref:t,initial:{opacity:0,x:-20},animate:e?{opacity:1,x:0}:{opacity:0,x:-20},transition:{duration:.6},children:[jsxRuntimeExports.jsx("h3",{className:"text-2xl font-semibold mb-4 text-primary-800",children:"Uma Jornada de Transformação"}),jsxRuntimeExports.jsx("p",{className:"mb-4 text-gray-700",children:"Desde o ano 2000, a cotonicultura brasileira passou por profundas transformações tecnológicas, gerenciais e estruturais. Essas mudanças impactaram diretamente a produtividade das lavouras e, consequentemente, o yield gap do algodão no país."}),jsxRuntimeExports.jsx("p",{className:"mb-4 text-gray-700",children:"O Brasil saiu da posição de importador para se tornar um dos maiores exportadores mundiais de algodão, com avanços significativos em produtividade. No entanto, apesar desses avanços, ainda existe um potencial considerável para redução do yield gap em diversas regiões produtoras."}),jsxRuntimeExports.jsx("p",{className:"text-gray-700",children:"Nesta seção, exploramos os principais marcos dessa jornada, os fatores que influenciaram as mudanças na produtividade e as tendências para o futuro da cotonicultura brasileira."})]}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},children:jsxRuntimeExports.jsx("img",{src:"https://images.pexels.com/photos/3680313/pexels-photo-3680313.jpeg",alt:"Evolução da agricultura do algodão",className:"rounded-lg shadow-md w-full h-auto"})})]}),jsxRuntimeExports.jsx(YieldGapChart,{})]})}),jsxRuntimeExports.jsx("section",{className:"section bg-white",children:jsxRuntimeExports.jsxs("div",{className:"container-custom",children:[jsxRuntimeExports.jsx(SectionHeader,{title:"Linha do Tempo do Yield Gap no Algodão Brasileiro",subtitle:"Principais marcos e avanços que contribuíram para a redução do yield gap no período de 2000 a 2025",centered:!0}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"hidden md:block absolute left-1/2 transform -translate-x-1/2 h-full w-1 bg-primary-200"}),n.map((o,l)=>jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:l*.1},viewport:{once:!0,amount:.3},className:`relative flex flex-col md:flex-row items-center md:justify-between mb-12 ${l%2===0?"md:flex-row-reverse":""}`,children:[jsxRuntimeExports.jsx("div",{className:"w-full md:w-5/12",children:jsxRuntimeExports.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-md border-l-4 border-primary-600 h-full",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold mb-2 text-primary-800",children:o.title}),jsxRuntimeExports.jsx("div",{className:"inline-block px-3 py-1 text-sm font-semibold text-white rounded-full mb-3 mt-1 bg-primary-600",children:o.year}),jsxRuntimeExports.jsx("p",{className:"text-gray-700 mb-3",children:o.description}),jsxRuntimeExports.jsx("div",{className:"mt-3 p-3 bg-primary-50 rounded-md",children:jsxRuntimeExports.jsxs("p",{className:"text-primary-800 font-medium",children:[jsxRuntimeExports.jsx("span",{className:"font-bold",children:"Conquista:"})," ",o.achievement]})})]})}),jsxRuntimeExports.jsx("div",{className:"hidden md:block absolute left-1/2 transform -translate-x-1/2 w-6 h-6 rounded-full bg-primary-600 border-4 border-white shadow"}),jsxRuntimeExports.jsx("div",{className:"w-full md:w-5/12"})]},l))]})]})}),jsxRuntimeExports.jsx("section",{className:"section bg-primary-50",children:jsxRuntimeExports.jsxs("div",{className:"container-custom",children:[jsxRuntimeExports.jsx(SectionHeader,{title:"Fatores Que Influenciaram a Evolução",subtitle:"Compreenda os principais elementos que impactaram a produtividade do algodão brasileiro e o yield gap ao longo do tempo",centered:!0}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:0},viewport:{once:!0},className:"card",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold mb-3 text-primary-800",children:"Avanços Tecnológicos"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-gray-700",children:[jsxRuntimeExports.jsx("li",{children:"Desenvolvimento de cultivares mais adaptadas e produtivas"}),jsxRuntimeExports.jsx("li",{children:"Adoção de biotecnologia (cultivares Bt e RR)"}),jsxRuntimeExports.jsx("li",{children:"Mecanização e automação de processos"}),jsxRuntimeExports.jsx("li",{children:"Agricultura de precisão e ferramentas digitais"}),jsxRuntimeExports.jsx("li",{children:"Sistemas de irrigação mais eficientes"})]})]}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.1},viewport:{once:!0},className:"card",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold mb-3 text-primary-800",children:"Fatores Econômicos"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-gray-700",children:[jsxRuntimeExports.jsx("li",{children:"Flutuações nos preços internacionais do algodão"}),jsxRuntimeExports.jsx("li",{children:"Políticas de crédito e financiamento agrícola"}),jsxRuntimeExports.jsx("li",{children:"Investimentos em pesquisa e desenvolvimento"}),jsxRuntimeExports.jsx("li",{children:"Formação de clusters produtivos"}),jsxRuntimeExports.jsx("li",{children:"Integração com mercados globais"})]})]}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.2},viewport:{once:!0},className:"card",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold mb-3 text-primary-800",children:"Mudanças Climáticas"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-gray-700",children:[jsxRuntimeExports.jsx("li",{children:"Alterações nos padrões de precipitação"}),jsxRuntimeExports.jsx("li",{children:"Aumento de temperaturas extremas"}),jsxRuntimeExports.jsx("li",{children:"Incidência de eventos climáticos severos"}),jsxRuntimeExports.jsx("li",{children:"Adaptação de sistemas de produção"}),jsxRuntimeExports.jsx("li",{children:"Desenvolvimento de variedades mais resistentes a estresses"})]})]}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.3},viewport:{once:!0},className:"card",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold mb-3 text-primary-800",children:"Práticas de Manejo"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-gray-700",children:[jsxRuntimeExports.jsx("li",{children:"Adoção do plantio direto e cobertura permanente do solo"}),jsxRuntimeExports.jsx("li",{children:"Manejo integrado de pragas e doenças"}),jsxRuntimeExports.jsx("li",{children:"Rotação e diversificação de culturas"}),jsxRuntimeExports.jsx("li",{children:"Manejo nutricional específico"}),jsxRuntimeExports.jsx("li",{children:"Adensamento de plantio"})]})]}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.4},viewport:{once:!0},className:"card",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold mb-3 text-primary-800",children:"Fatores Institucionais"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-gray-700",children:[jsxRuntimeExports.jsx("li",{children:"Programas de pesquisa em algodão (públicos e privados)"}),jsxRuntimeExports.jsx("li",{children:"Criação de associações de produtores"}),jsxRuntimeExports.jsx("li",{children:"Regulamentações ambientais e de uso de insumos"}),jsxRuntimeExports.jsx("li",{children:"Transferência de tecnologia e extensão rural"}),jsxRuntimeExports.jsx("li",{children:"Políticas setoriais específicas"})]})]}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.5},viewport:{once:!0},className:"card",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold mb-3 text-primary-800",children:"Desafios Fitossanitários"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-gray-700",children:[jsxRuntimeExports.jsx("li",{children:"Surgimento de novas pragas e doenças"}),jsxRuntimeExports.jsx("li",{children:"Desenvolvimento de resistência a defensivos"}),jsxRuntimeExports.jsx("li",{children:"Introdução de tecnologias Bt e manejo de resistência"}),jsxRuntimeExports.jsx("li",{children:"Sistemas de monitoramento e alerta"}),jsxRuntimeExports.jsx("li",{children:"Controle biológico e manejo integrado"})]})]})]})]})})]})},ToolsForYieldGap=()=>{reactExports.useEffect(()=>{document.title="Ferramentas para Descobrir o Yield Gap | AlgodãoTech"},[]);const t=[{title:"Modelos de Simulação de Culturas",description:"Ferramentas computacionais que simulam o crescimento e desenvolvimento das plantas de algodão em diferentes condições ambientais e de manejo.",icon:LineChart,examples:["DSSAT","APSIM","CropSyst"],advantages:["Permite estimar o potencial produtivo teórico","Ajuda a entender interações complexas entre genótipo, ambiente e manejo","Possibilita simular diferentes cenários"]},{title:"Sensoriamento Remoto",description:"Uso de imagens de satélite e drones para monitorar o desenvolvimento das lavouras e identificar áreas com problemas de crescimento ou produtividade.",icon:Satellite,examples:["Índice de Vegetação por Diferença Normalizada (NDVI)","Imagens multiespectrais e hiperespectrais","Termografia"],advantages:["Cobertura de grandes áreas","Monitoramento contínuo ao longo do ciclo","Identificação precoce de estresses"]},{title:"Análise de Dados e Machine Learning",description:"Aplicação de técnicas estatísticas avançadas e inteligência artificial para analisar grandes volumes de dados e identificar padrões relacionados ao yield gap.",icon:BrainCircuit,examples:["Algoritmos de aprendizado de máquina","Redes neurais","Análise preditiva"],advantages:["Processamento de múltiplas variáveis simultaneamente","Identificação de relações não óbvias entre fatores","Geração de modelos preditivos"]},{title:"Análise Comparativa de Desempenho",description:"Comparação sistemática entre produtores ou regiões com diferentes níveis de produtividade para identificar práticas de manejo e fatores associados a altos rendimentos.",icon:BarChart$1,examples:["Benchmarking","Análise de eficiência","Estudos de caso"],advantages:["Baseado em dados reais de produção","Identifica boas práticas aplicáveis localmente","Facilita a transferência de conhecimento"]},{title:"Bancos de Dados Agrícolas",description:"Sistemas que integram e organizam informações sobre solo, clima, práticas de manejo e produtividade para facilitar a análise do yield gap em diferentes escalas.",icon:Database,examples:["Sistema de Informações Geográficas (SIG)","Bancos de dados de produtividade regional","Plataformas de gestão agrícola"],advantages:["Centralização de informações","Análises temporais e espaciais","Suporte à tomada de decisão"]},{title:"Experimentos de Campo",description:"Condução de ensaios experimentais para quantificar o impacto de diferentes práticas de manejo na produtividade do algodão e identificar limitações específicas.",icon:Ruler,examples:["Experimentos fatoriais","Ensaios de variedades","Parcelas demonstrativas"],advantages:["Resultados localmente adaptados","Validação de hipóteses específicas","Demonstração prática de potencial produtivo"]}];return jsxRuntimeExports.jsxs("div",{className:"pt-24",children:[jsxRuntimeExports.jsx("section",{className:"section bg-primary-50",children:jsxRuntimeExports.jsxs("div",{className:"container-custom",children:[jsxRuntimeExports.jsx(SectionHeader,{title:"Ferramentas para Descobrir o Yield Gap",subtitle:"Conheça as principais metodologias e tecnologias utilizadas para identificar e quantificar o yield gap na cultura do algodão",centered:!0}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10 items-center mb-16",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},children:[jsxRuntimeExports.jsx("h3",{className:"text-2xl font-semibold mb-4 text-primary-800",children:"A Importância da Diagnose Precisa"}),jsxRuntimeExports.jsx("p",{className:"mb-4 text-gray-700",children:"Para reduzir efetivamente o yield gap, é fundamental primeiro identificá-lo e compreender suas causas específicas. Isso requer ferramentas e metodologias apropriadas que permitam quantificar a diferença entre a produtividade potencial ou atingível e a produtividade real obtida pelos agricultores."}),jsxRuntimeExports.jsx("p",{className:"mb-4 text-gray-700",children:"Diferentes abordagens podem ser utilizadas, desde modelos de simulação que estimam o potencial teórico até análises de dados em larga escala que identificam padrões e tendências em situações reais de cultivo."}),jsxRuntimeExports.jsx("p",{className:"text-gray-700",children:"A combinação dessas ferramentas permite não apenas determinar a magnitude do yield gap, mas também identificar os fatores limitantes específicos para cada região ou sistema de produção, orientando intervenções mais eficazes."})]}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},children:jsxRuntimeExports.jsx("img",{src:"https://images.pexels.com/photos/1181248/pexels-photo-1181248.jpeg",alt:"Análise de dados agrícolas",className:"rounded-lg shadow-md w-full h-auto"})})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map((e,n)=>jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:n*.1},viewport:{once:!0},className:"card",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-4",children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-primary-100 rounded-full mr-4",children:jsxRuntimeExports.jsx(e.icon,{size:24,className:"text-primary-600"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-primary-800",children:e.title})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-700 mb-4",children:e.description}),jsxRuntimeExports.jsxs("div",{className:"mb-3",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Exemplos:"}),jsxRuntimeExports.jsx("ul",{className:"text-gray-700 pl-5 list-disc",children:e.examples.map((o,l)=>jsxRuntimeExports.jsx("li",{children:o},l))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Vantagens:"}),jsxRuntimeExports.jsx("ul",{className:"text-gray-700 pl-5 list-disc",children:e.advantages.map((o,l)=>jsxRuntimeExports.jsx("li",{children:o},l))})]})]},n))})]})}),jsxRuntimeExports.jsx("section",{className:"section bg-white",children:jsxRuntimeExports.jsxs("div",{className:"container-custom",children:[jsxRuntimeExports.jsx(SectionHeader,{title:"Integrando Ferramentas para Uma Análise Completa",subtitle:"Abordagem sistemática para identificação e quantificação do yield gap no algodão",centered:!0}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"bg-primary-50 rounded-xl p-6 md:p-8 shadow-md",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold mb-6 text-primary-800",children:"Metodologia em Cinco Etapas"}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-3",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-600 text-white w-8 h-8 rounded-full flex items-center justify-center font-bold mr-3",children:"1"}),jsxRuntimeExports.jsx("h4",{className:"text-lg font-semibold text-primary-800",children:"Definição dos Níveis de Referência"})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-700 pl-11",children:"Estabelecer claramente os níveis de produtividade de referência (potencial, atingível) para a região ou sistema de produção específico, utilizando modelos de simulação calibrados para as condições locais."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-3",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-600 text-white w-8 h-8 rounded-full flex items-center justify-center font-bold mr-3",children:"2"}),jsxRuntimeExports.jsx("h4",{className:"text-lg font-semibold text-primary-800",children:"Quantificação da Produtividade Real"})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-700 pl-11",children:"Coletar dados de produtividade real de múltiplas fontes (agricultores, experimentos, estatísticas oficiais) e validá-los para garantir sua representatividade e precisão."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-3",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-600 text-white w-8 h-8 rounded-full flex items-center justify-center font-bold mr-3",children:"3"}),jsxRuntimeExports.jsx("h4",{className:"text-lg font-semibold text-primary-800",children:"Análise Espacial e Temporal"})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-700 pl-11",children:"Utilizar ferramentas de sensoriamento remoto e SIG para analisar a variabilidade espacial do yield gap, e dados históricos para compreender sua evolução ao longo do tempo."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-3",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-600 text-white w-8 h-8 rounded-full flex items-center justify-center font-bold mr-3",children:"4"}),jsxRuntimeExports.jsx("h4",{className:"text-lg font-semibold text-primary-800",children:"Identificação de Fatores Limitantes"})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-700 pl-11",children:"Aplicar análises estatísticas e técnicas de machine learning para identificar os principais fatores associados ao yield gap, considerando variáveis climáticas, edáficas, bióticas e de manejo."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-3",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-600 text-white w-8 h-8 rounded-full flex items-center justify-center font-bold mr-3",children:"5"}),jsxRuntimeExports.jsx("h4",{className:"text-lg font-semibold text-primary-800",children:"Validação em Campo"})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-700 pl-11",children:"Conduzir experimentos de campo para validar os fatores limitantes identificados e quantificar seu impacto na produtividade, desenvolvendo recomendações específicas para redução do yield gap."})]})]})]})]})})]})},SolutionCard=({title:t,description:e,icon:n,impactLevel:o,implementationLevel:l,delay:u=0})=>{const[h,f]=useInView({triggerOnce:!0,threshold:.1}),d=()=>{switch(o){case"high":return"bg-success-500";case"medium":return"bg-accent-500";case"low":return"bg-warning-500";default:return"bg-gray-500"}},p=()=>{switch(l){case"easy":return"bg-success-500";case"medium":return"bg-accent-500";case"complex":return"bg-warning-500";default:return"bg-gray-500"}};return jsxRuntimeExports.jsx(motion.div,{ref:h,initial:{opacity:0,y:20},animate:f?{opacity:1,y:0}:{opacity:0,y:20},transition:{duration:.5,delay:u*.1},className:"card hover:shadow-xl transition-all duration-300",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-full",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-4",children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-primary-50 rounded-full mr-4",children:n}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-primary-800",children:t})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-700 mb-6 flex-grow",children:e}),jsxRuntimeExports.jsx("div",{className:"mt-auto",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-600 mr-2",children:"Impacto:"}),jsxRuntimeExports.jsx("span",{className:`px-2 py-1 rounded-full text-white text-xs font-medium ${d()}`,children:o==="high"?"Alto":o==="medium"?"Médio":"Baixo"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-600 mr-2",children:"Implementação:"}),jsxRuntimeExports.jsx("span",{className:`px-2 py-1 rounded-full text-white text-xs font-medium ${p()}`,children:l==="easy"?"Fácil":l==="medium"?"Média":"Complexa"})]})]})})]})})},CaseStudyCard=({title:t,location:e,result:n,description:o,image:l,delay:u=0})=>{const[h,f]=useInView({triggerOnce:!0,threshold:.1});return jsxRuntimeExports.jsxs(motion.div,{ref:h,initial:{opacity:0,y:20},animate:f?{opacity:1,y:0}:{opacity:0,y:20},transition:{duration:.5,delay:u*.1},className:"bg-white rounded-xl shadow-md overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"relative h-48",children:[jsxRuntimeExports.jsx("img",{src:l,alt:t,className:"w-full h-full object-cover"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent flex items-end",children:jsxRuntimeExports.jsxs("div",{className:"p-4 text-white",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-white",children:t}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-200",children:e})]})})]}),jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsxs("div",{className:"bg-primary-50 text-primary-800 font-semibold px-3 py-1 rounded-full text-sm inline-block mb-3",children:["Resultado: ",n]}),jsxRuntimeExports.jsx("p",{className:"text-gray-700",children:o})]})]})},SolveYieldGap=()=>{reactExports.useEffect(()=>{document.title="Soluções para o Yield Gap | AlgodãoTech"},[]);const[t,e]=useInView({triggerOnce:!0,threshold:.1});return jsxRuntimeExports.jsxs("div",{className:"pt-24",children:[jsxRuntimeExports.jsx("section",{className:"section bg-primary-50",children:jsxRuntimeExports.jsxs("div",{className:"container-custom",children:[jsxRuntimeExports.jsx(SectionHeader,{title:"Soluções para o Yield Gap",subtitle:"Estratégias e práticas eficazes para reduzir a lacuna de produtividade no algodão brasileiro",centered:!0}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10 items-center mb-16",children:[jsxRuntimeExports.jsxs(motion.div,{ref:t,initial:{opacity:0,x:-20},animate:e?{opacity:1,x:0}:{opacity:0,x:-20},transition:{duration:.6},children:[jsxRuntimeExports.jsx("h3",{className:"text-2xl font-semibold mb-4 text-primary-800",children:"Transformando Potencial em Realidade"}),jsxRuntimeExports.jsx("p",{className:"mb-4 text-gray-700",children:"Reduzir o yield gap na cotonicultura brasileira não é apenas uma questão de adotar novas tecnologias, mas sim de implementar um conjunto integrado de práticas e estratégias adaptadas às condições específicas de cada região produtora."}),jsxRuntimeExports.jsx("p",{className:"mb-4 text-gray-700",children:"Nesta seção, apresentamos soluções práticas, baseadas em evidências científicas e experiências bem-sucedidas, que podem ajudar produtores a diminuir a diferença entre a produtividade atingível e a produtividade real em suas lavouras de algodão."}),jsxRuntimeExports.jsx("p",{className:"text-gray-700",children:"O caminho para a redução do yield gap passa por quatro pilares fundamentais: manejo adequado do solo, irrigação eficiente, controle integrado de pragas e doenças, e adoção estratégica de tecnologias. Juntos, esses pilares formam a base para uma cotonicultura mais produtiva e sustentável."})]}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},children:jsxRuntimeExports.jsx("img",{src:"https://images.pexels.com/photos/2252584/pexels-photo-2252584.jpeg",alt:"Lavoura de algodão de alta produtividade",className:"rounded-lg shadow-md w-full h-auto"})})]})]})}),jsxRuntimeExports.jsx("section",{className:"section bg-white",children:jsxRuntimeExports.jsxs("div",{className:"container-custom",children:[jsxRuntimeExports.jsx(SectionHeader,{title:"Soluções por Categoria",subtitle:"Conheça as principais estratégias para reduzir o yield gap de acordo com diferentes áreas de manejo",centered:!0}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-16",children:[jsxRuntimeExports.jsx(SolutionCard,{title:"Manejo Adequado do Solo",description:"Implementação de práticas de plantio direto, rotação de culturas e cobertura permanente do solo, combinadas com análises regulares de solo e aplicação precisa de corretivos e fertilizantes.",icon:jsxRuntimeExports.jsx(Scaling,{size:24,className:"text-primary-600"}),impactLevel:"high",implementationLevel:"medium",delay:0}),jsxRuntimeExports.jsx(SolutionCard,{title:"Irrigação Eficiente",description:"Uso de sistemas de irrigação de precisão, com monitoramento contínuo da umidade do solo e da demanda hídrica da cultura, permitindo aplicações de água no momento certo e na quantidade adequada.",icon:jsxRuntimeExports.jsx(Droplet,{size:24,className:"text-primary-600"}),impactLevel:"high",implementationLevel:"complex",delay:1}),jsxRuntimeExports.jsx(SolutionCard,{title:"Controle Integrado de Pragas e Doenças",description:"Adoção do Manejo Integrado de Pragas (MIP), combinando monitoramento constante, controle biológico, uso racional de defensivos e manejo cultural para reduzir perdas por fatores bióticos.",icon:jsxRuntimeExports.jsx(Bug,{size:24,className:"text-primary-600"}),impactLevel:"medium",implementationLevel:"medium",delay:2}),jsxRuntimeExports.jsx(SolutionCard,{title:"Adoção Estratégica de Tecnologias",description:"Integração de agricultura de precisão, cultivares melhoradas, automação de processos e ferramentas digitais de suporte à decisão, implementadas de forma gradual e adaptada à realidade de cada produtor.",icon:jsxRuntimeExports.jsx(Cpu,{size:24,className:"text-primary-600"}),impactLevel:"high",implementationLevel:"complex",delay:3})]}),jsxRuntimeExports.jsxs("div",{className:"bg-primary-50 rounded-xl p-6 md:p-8 shadow-md",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-6",children:[jsxRuntimeExports.jsx(ShieldCheck,{size:28,className:"text-primary-600 mr-3"}),jsxRuntimeExports.jsx("h3",{className:"text-xl md:text-2xl font-semibold text-primary-800",children:"Abordagem Integrada: A Chave do Sucesso"})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-700 mb-6",children:"A experiência tem mostrado que a maior redução do yield gap é obtida quando as soluções são implementadas de forma integrada, considerando as interações entre diferentes práticas e as especificidades de cada ambiente produtivo."}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-primary-800 mb-2",children:"Fase 1: Diagnóstico"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-700",children:"Identificar os fatores específicos que limitam a produtividade na propriedade"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-primary-800 mb-2",children:"Fase 2: Planejamento"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-700",children:"Selecionar e priorizar as soluções mais adequadas para o contexto local"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-primary-800 mb-2",children:"Fase 3: Implementação"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-700",children:"Executar as práticas de forma gradual e monitorar constantemente os resultados"})]})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-center",children:jsxRuntimeExports.jsxs(Link,{to:"/steps-to-avoid",className:"btn btn-primary flex items-center gap-2",children:["Ver Passos Práticos ",jsxRuntimeExports.jsx(ArrowRight,{size:18})]})})]})]})}),jsxRuntimeExports.jsx("section",{className:"section bg-primary-50",children:jsxRuntimeExports.jsxs("div",{className:"container-custom",children:[jsxRuntimeExports.jsx(SectionHeader,{title:"Detalhamento das Soluções",subtitle:"Aprofunde-se nas principais estratégias para reduzir o yield gap no algodão",centered:!0}),jsxRuntimeExports.jsxs("div",{className:"space-y-16",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-6",children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-primary-600 rounded-full mr-4",children:jsxRuntimeExports.jsx(Scaling,{size:24,className:"text-white"})}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-semibold text-primary-800",children:"Manejo Adequado do Solo"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6 mb-8",children:[jsxRuntimeExports.jsx("div",{className:"lg:col-span-3",children:jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.6},viewport:{once:!0},children:[jsxRuntimeExports.jsx("h4",{className:"text-xl font-semibold mb-4 text-primary-700",children:"Principais Práticas"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(ArrowRightCircle,{size:20,className:"text-primary-600 mt-1 mr-2 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-gray-800",children:"Sistema Plantio Direto"}),jsxRuntimeExports.jsx("p",{className:"text-gray-700",children:"Manter o solo permanentemente coberto, minimizando a perturbação mecânica e rotacionando culturas. Isso aumenta a matéria orgânica, reduz erosão e melhora a estrutura física do solo."})]})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(ArrowRightCircle,{size:20,className:"text-primary-600 mt-1 mr-2 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-gray-800",children:"Correção do Solo"}),jsxRuntimeExports.jsx("p",{className:"text-gray-700",children:"Realizar análises periódicas e aplicar calcário e gesso em doses e épocas adequadas para corrigir acidez e fornecer cálcio em profundidade, favorecendo o desenvolvimento radicular do algodoeiro."})]})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(ArrowRightCircle,{size:20,className:"text-primary-600 mt-1 mr-2 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-gray-800",children:"Adubação Balanceada"}),jsxRuntimeExports.jsx("p",{className:"text-gray-700",children:"Fornecer nutrientes de forma equilibrada, considerando resultados de análises de solo e foliar, histórico da área e expectativa de produtividade, priorizando o parcelamento da adubação nitrogenada."})]})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(ArrowRightCircle,{size:20,className:"text-primary-600 mt-1 mr-2 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-gray-800",children:"Descompactação Biológica"}),jsxRuntimeExports.jsx("p",{className:"text-gray-700",children:"Utilizar plantas de cobertura com sistema radicular vigoroso (como braquiárias e crotalárias) para romper camadas compactadas e melhorar a estrutura física do solo em profundidade."})]})]})]})]})}),jsxRuntimeExports.jsx("div",{className:"lg:col-span-2",children:jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},className:"bg-white rounded-xl shadow-md p-6 h-full",children:[jsxRuntimeExports.jsx("h4",{className:"text-xl font-semibold mb-4 text-primary-700",children:"Impacto no Yield Gap"}),jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-1",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Potencial de Redução do Gap"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-bold text-primary-700",children:"25-35%"})]}),jsxRuntimeExports.jsx("div",{className:"h-3 bg-gray-200 rounded-full overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"h-full bg-primary-600 rounded-full",style:{width:"30%"}})})]}),jsxRuntimeExports.jsx("h5",{className:"font-semibold text-gray-800 mb-2",children:"Principais Benefícios:"}),jsxRuntimeExports.jsxs("ul",{className:"text-gray-700 space-y-2 mb-4",children:[jsxRuntimeExports.jsxs("li",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-primary-600 rounded-full mr-2"}),jsxRuntimeExports.jsx("span",{children:"Maior disponibilidade de água e nutrientes"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-primary-600 rounded-full mr-2"}),jsxRuntimeExports.jsx("span",{children:"Desenvolvimento radicular mais profundo"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-primary-600 rounded-full mr-2"}),jsxRuntimeExports.jsx("span",{children:"Redução de estresses abióticos"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-primary-600 rounded-full mr-2"}),jsxRuntimeExports.jsx("span",{children:"Maior resistência a períodos de déficit hídrico"})]})]}),jsxRuntimeExports.jsx("div",{className:"bg-primary-50 p-3 rounded-lg",children:jsxRuntimeExports.jsx("p",{className:"text-sm text-primary-800 font-medium",children:"Tempo para resultados: Médio a longo prazo (2-3 safras para efeitos completos)"})})]})})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-6",children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-accent-500 rounded-full mr-4",children:jsxRuntimeExports.jsx(Droplet,{size:24,className:"text-white"})}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-semibold text-primary-800",children:"Irrigação Eficiente"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6 mb-8",children:[jsxRuntimeExports.jsx("div",{className:"lg:col-span-3 order-2 lg:order-1",children:jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.6},viewport:{once:!0},children:[jsxRuntimeExports.jsx("h4",{className:"text-xl font-semibold mb-4 text-primary-700",children:"Principais Práticas"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(ArrowRightCircle,{size:20,className:"text-primary-600 mt-1 mr-2 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-gray-800",children:"Manejo da Irrigação baseado em Dados"}),jsxRuntimeExports.jsx("p",{className:"text-gray-700",children:"Utilizar sensores de umidade do solo, estações meteorológicas e modelos de balanço hídrico para determinar o momento e a quantidade exata de água a ser aplicada em cada fase da cultura."})]})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(ArrowRightCircle,{size:20,className:"text-primary-600 mt-1 mr-2 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-gray-800",children:"Sistemas de Irrigação de Precisão"}),jsxRuntimeExports.jsx("p",{className:"text-gray-700",children:"Implementar sistemas como gotejamento, pivô central com LEPA (Low Energy Precision Application) ou aspersão de precisão, que oferecem maior uniformidade e eficiência na aplicação de água."})]})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(ArrowRightCircle,{size:20,className:"text-primary-600 mt-1 mr-2 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-gray-800",children:"Irrigação Deficitária Controlada"}),jsxRuntimeExports.jsx("p",{className:"text-gray-700",children:"Aplicar estratégias de irrigação deficitária em fases menos sensíveis da cultura, visando otimizar o uso da água sem comprometer significativamente a produtividade."})]})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(ArrowRightCircle,{size:20,className:"text-primary-600 mt-1 mr-2 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-gray-800",children:"Fertirrigação"}),jsxRuntimeExports.jsx("p",{className:"text-gray-700",children:"Aplicar nutrientes via água de irrigação, permitindo maior parcelamento, uniformidade e eficiência na nutrição das plantas, especialmente para nitrogênio e potássio."})]})]})]})]})}),jsxRuntimeExports.jsx("div",{className:"lg:col-span-2 order-1 lg:order-2",children:jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},className:"bg-white rounded-xl shadow-md p-6 h-full",children:[jsxRuntimeExports.jsx("h4",{className:"text-xl font-semibold mb-4 text-primary-700",children:"Impacto no Yield Gap"}),jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-1",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Potencial de Redução do Gap"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-bold text-primary-700",children:"35-45%"})]}),jsxRuntimeExports.jsx("div",{className:"h-3 bg-gray-200 rounded-full overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"h-full bg-primary-600 rounded-full",style:{width:"40%"}})})]}),jsxRuntimeExports.jsx("h5",{className:"font-semibold text-gray-800 mb-2",children:"Principais Benefícios:"}),jsxRuntimeExports.jsxs("ul",{className:"text-gray-700 space-y-2 mb-4",children:[jsxRuntimeExports.jsxs("li",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-primary-600 rounded-full mr-2"}),jsxRuntimeExports.jsx("span",{children:"Eliminação do estresse hídrico"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-primary-600 rounded-full mr-2"}),jsxRuntimeExports.jsx("span",{children:"Maior absorção e eficiência de nutrientes"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-primary-600 rounded-full mr-2"}),jsxRuntimeExports.jsx("span",{children:"Redução de abortamento de estruturas reprodutivas"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-primary-600 rounded-full mr-2"}),jsxRuntimeExports.jsx("span",{children:"Estabilidade de produção entre safras"})]})]}),jsxRuntimeExports.jsx("div",{className:"bg-primary-50 p-3 rounded-lg",children:jsxRuntimeExports.jsx("p",{className:"text-sm text-primary-800 font-medium",children:"Tempo para resultados: Imediato a curto prazo (mesma safra de implementação)"})})]})})]})]})]})]})}),jsxRuntimeExports.jsx("section",{className:"section bg-white",children:jsxRuntimeExports.jsxs("div",{className:"container-custom",children:[jsxRuntimeExports.jsx(SectionHeader,{title:"Casos de Sucesso",subtitle:"Exemplos reais de redução do yield gap em diferentes regiões produtoras",centered:!0}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-10",children:[jsxRuntimeExports.jsx(CaseStudyCard,{title:"Fazenda Esperança",location:"Oeste da Bahia",result:"Redução de 40% no yield gap",description:"Implementação de sistema de plantio direto combinado com manejo de irrigação de precisão e cultivares adaptadas à região, resultando em um aumento de produtividade de 3.200 para 4.500 kg/ha em três safras.",image:"https://images.pexels.com/photos/1112080/pexels-photo-1112080.jpeg",delay:0}),jsxRuntimeExports.jsx(CaseStudyCard,{title:"Grupo Santa Fé",location:"Mato Grosso",result:"Redução de 35% no yield gap",description:"Adoção de agricultura de precisão integrada com manejo biológico de solo e controle integrado de pragas, elevando a produtividade média de 3.800 para 4.900 kg/ha e reduzindo custos com defensivos em 20%.",image:"https://images.pexels.com/photos/440731/pexels-photo-440731.jpeg",delay:1}),jsxRuntimeExports.jsx(CaseStudyCard,{title:"Fazenda Nova Fronteira",location:"Goiás",result:"Redução de 30% no yield gap",description:"Foco na nutrição balanceada com base em análises de solo e foliar, associada à rotação com leguminosas e monitoramento intensivo de pragas, aumentando a produtividade de 3.600 para 4.400 kg/ha.",image:"https://images.pexels.com/photos/1483880/pexels-photo-1483880.jpeg",delay:2})]}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"bg-primary-50 rounded-xl p-6 md:p-8 shadow-md",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-4",children:[jsxRuntimeExports.jsx(BarChart2,{size:24,className:"text-primary-600 mr-3"}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-primary-800",children:"Fatores Comuns de Sucesso"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-primary-700 mb-2",children:"Abordagem Integrada"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-700",children:"Implementação de múltiplas soluções de forma coordenada, considerando as interações entre diferentes práticas"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-primary-700 mb-2",children:"Monitoramento Constante"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-700",children:"Acompanhamento regular de indicadores de solo, planta e ambiente para ajustes rápidos no manejo"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-primary-700 mb-2",children:"Capacitação Técnica"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-700",children:"Investimento na formação da equipe e acesso a assistência técnica especializada"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-primary-700 mb-2",children:"Persistência"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-700",children:"Compromisso com a melhoria contínua e paciência para resultados que podem levar mais de uma safra"})]})]})]})]})}),jsxRuntimeExports.jsx("section",{className:"section bg-primary-50",children:jsxRuntimeExports.jsxs("div",{className:"container-custom",children:[jsxRuntimeExports.jsx(SectionHeader,{title:"Vídeo Educacional",subtitle:"Especialistas discutem as melhores práticas para reduzir o yield gap no algodão",centered:!0}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10 items-center",children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"aspect-w-16 aspect-h-9 rounded-xl overflow-hidden shadow-lg bg-gray-200",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[jsxRuntimeExports.jsx(Video,{size:48,className:"text-primary-600 mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-center text-gray-700",children:"Vídeo em produção"}),jsxRuntimeExports.jsx("p",{className:"text-center text-gray-500 text-sm mt-2",children:"Em breve, especialistas discutirão estratégias práticas para redução do yield gap"})]})}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},viewport:{once:!0},children:[jsxRuntimeExports.jsx("h3",{className:"text-2xl font-semibold mb-4 text-primary-800",children:"O que você vai aprender"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(ArrowRightCircle,{size:20,className:"text-primary-600 mt-1 mr-2 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-gray-800",children:"Diagnóstico e Identificação"}),jsxRuntimeExports.jsx("p",{className:"text-gray-700",children:"Como identificar os principais fatores limitantes da produtividade em sua lavoura"})]})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(ArrowRightCircle,{size:20,className:"text-primary-600 mt-1 mr-2 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-gray-800",children:"Planejamento Estratégico"}),jsxRuntimeExports.jsx("p",{className:"text-gray-700",children:"Elaboração de um plano de ação customizado para a realidade de sua propriedade"})]})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(ArrowRightCircle,{size:20,className:"text-primary-600 mt-1 mr-2 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-gray-800",children:"Implementação Eficiente"}),jsxRuntimeExports.jsx("p",{className:"text-gray-700",children:"Dicas práticas para a adoção de novas tecnologias e práticas de manejo"})]})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(ArrowRightCircle,{size:20,className:"text-primary-600 mt-1 mr-2 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-gray-800",children:"Avaliação de Resultados"}),jsxRuntimeExports.jsx("p",{className:"text-gray-700",children:"Métodos para mensurar o impacto das intervenções na redução do yield gap"})]})]})]}),jsxRuntimeExports.jsx("div",{className:"mt-6",children:jsxRuntimeExports.jsx(Link,{to:"/steps-to-avoid",className:"btn btn-primary",children:"Ver Guia Prático"})})]})]})]})}),jsxRuntimeExports.jsx("section",{className:"section bg-gray-900 text-white",children:jsxRuntimeExports.jsxs("div",{className:"container-custom text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 text-white",children:"Pronto para transformar sua produtividade?"}),jsxRuntimeExports.jsx("p",{className:"text-lg text-gray-300 mb-8 max-w-3xl mx-auto",children:"Conheça as estratégias práticas para reduzir o yield gap em sua lavoura de algodão e maximize seus resultados."}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[jsxRuntimeExports.jsx(Link,{to:"/steps-to-avoid",className:"btn bg-primary-500 text-white hover:bg-primary-600",children:"Guia Passo a Passo"}),jsxRuntimeExports.jsx(Link,{to:"/minecraft-yield-gap",className:"btn bg-accent-500 text-white hover:bg-accent-600",children:"Experimente o Jogo em Minecraft"})]})]})})]})};function MinecraftYieldGap(){return jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4 py-8",children:[jsxRuntimeExports.jsx(SectionHeader,{title:"Minecraft & Yield Gap",subtitle:"Understanding agricultural concepts through gaming"}),jsxRuntimeExports.jsxs("div",{className:"mt-8 prose prose-lg max-w-none",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-700",children:"Minecraft serves as an innovative educational tool for understanding agricultural yield gaps. Through its farming mechanics, players can experience firsthand the challenges and factors that affect crop yields in a simplified but engaging way."}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 my-8",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Key Learning Points in Minecraft Farming"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-3",children:[jsxRuntimeExports.jsx("li",{children:"Resource management and irrigation systems"}),jsxRuntimeExports.jsx("li",{children:"Impact of environmental conditions on crop growth"}),jsxRuntimeExports.jsx("li",{children:"Importance of soil fertility and crop spacing"}),jsxRuntimeExports.jsx("li",{children:"Basic concepts of agricultural optimization"})]})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-700",children:"By bridging the gap between gaming and agricultural education, Minecraft provides an accessible platform for students and enthusiasts to learn about yield gap concepts in an interactive environment."})]})]})}const StepsToAvoid=()=>jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4 py-8",children:[jsxRuntimeExports.jsx(SectionHeader,{title:"Steps to Avoid",subtitle:"Learn about common pitfalls and how to prevent yield gaps"}),jsxRuntimeExports.jsxs("div",{className:"mt-8 space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Common Mistakes to Avoid"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"border-l-4 border-red-500 pl-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-gray-700",children:"Poor Soil Management"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mt-2",children:"Neglecting soil health and proper nutrient management can significantly impact crop yields."})]}),jsxRuntimeExports.jsxs("div",{className:"border-l-4 border-yellow-500 pl-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-gray-700",children:"Incorrect Timing"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mt-2",children:"Planting or harvesting at suboptimal times can lead to reduced yields."})]}),jsxRuntimeExports.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-gray-700",children:"Inadequate Water Management"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mt-2",children:"Both over and under-irrigation can cause significant yield gaps."})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Prevention Strategies"}),jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-gray-700",children:"Regular Monitoring"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mt-2",children:"Implement consistent monitoring practices to catch issues early."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-gray-700",children:"Data-Driven Decisions"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mt-2",children:"Use agricultural data and analytics to make informed farming decisions."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-gray-700",children:"Expert Consultation"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mt-2",children:"Regularly consult with agricultural experts and extension services."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-gray-700",children:"Technology Integration"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mt-2",children:"Adopt appropriate technology solutions for better farm management."})]})]})]})]})]});function AboutUs(){return jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4 py-8",children:[jsxRuntimeExports.jsx(SectionHeader,{title:"About Us",subtitle:"Learn more about our team and mission"}),jsxRuntimeExports.jsxs("div",{className:"max-w-3xl mx-auto mt-8",children:[jsxRuntimeExports.jsx("p",{className:"text-lg text-gray-700 mb-6",children:"We are a dedicated team of agricultural researchers and technology enthusiasts working to bridge the yield gap in global agriculture. Our mission is to help farmers and agricultural professionals understand and overcome the challenges that prevent achieving optimal crop yields."}),jsxRuntimeExports.jsx("p",{className:"text-lg text-gray-700 mb-6",children:"Through research, education, and innovative tools, we strive to make agricultural best practices more accessible and help create a more sustainable and productive farming future."})]})]})}function Conclusions(){return jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4 py-8",children:[jsxRuntimeExports.jsx(SectionHeader,{title:"Conclusions",subtitle:"Key takeaways about yield gap and its solutions"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mt-8",children:[jsxRuntimeExports.jsx(InfoCard,{title:"Understanding Yield Gap",content:"The yield gap represents the difference between potential and actual crop yields, influenced by various environmental, technological, and management factors.",icon:BookOpen}),jsxRuntimeExports.jsx(InfoCard,{title:"Solutions and Implementation",content:"Addressing yield gaps requires a combination of improved farming practices, technology adoption, and knowledge sharing among agricultural communities.",icon:BarChart2}),jsxRuntimeExports.jsx(InfoCard,{title:"Future Outlook",content:"Continuous research and development in agricultural practices will help reduce yield gaps and contribute to global food security.",icon:Lightbulb}),jsxRuntimeExports.jsx(InfoCard,{title:"Call to Action",content:"Join us in our mission to minimize yield gaps and create a more sustainable agricultural future through education and implementation of best practices.",icon:ArrowRight})]})]})}const NotFound=()=>jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-9xl font-bold text-primary-600",children:"404"}),jsxRuntimeExports.jsx("h2",{className:"text-3xl font-semibold text-gray-800 mt-4 mb-6",children:"Página não encontrada"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"A página que você está procurando pode ter sido removida, renomeada ou está temporariamente indisponível."}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[jsxRuntimeExports.jsxs(Link,{to:"/",className:"btn btn-primary flex items-center gap-2",children:[jsxRuntimeExports.jsx(Home,{size:18}),"Página Inicial"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>window.history.back(),className:"btn btn-outline flex items-center gap-2",children:[jsxRuntimeExports.jsx(ArrowLeft,{size:18}),"Voltar"]})]})]})});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(t,e){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(n[l]=o[l])})(t,e)};function __extends(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}extendStatics(t,e),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var __assign=function(){return(__assign=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var l in e=arguments[n])Object.prototype.hasOwnProperty.call(e,l)&&(t[l]=e[l]);return t}).apply(this,arguments)};function __awaiter(t,e,n,o){return new(n||(n=Promise))(function(l,u){function h(p){try{d(o.next(p))}catch(m){u(m)}}function f(p){try{d(o.throw(p))}catch(m){u(m)}}function d(p){var m;p.done?l(p.value):(m=p.value,m instanceof n?m:new n(function(v){v(m)})).then(h,f)}d((o=o.apply(t,[])).next())})}function __generator(t,e){var n,o,l,u,h={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(d){return function(p){return function(m){if(n)throw new TypeError("Generator is already executing.");for(;h;)try{if(n=1,o&&(l=2&m[0]?o.return:m[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,m[1])).done)return l;switch(o=0,l&&(m=[2&m[0],l.value]),m[0]){case 0:case 1:l=m;break;case 4:return h.label++,{value:m[1],done:!1};case 5:h.label++,o=m[1],m=[0];continue;case 7:m=h.ops.pop(),h.trys.pop();continue;default:if(l=h.trys,!((l=l.length>0&&l[l.length-1])||m[0]!==6&&m[0]!==2)){h=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){h.label=m[1];break}if(m[0]===6&&h.label<l[1]){h.label=l[1],l=m;break}if(l&&h.label<l[2]){h.label=l[2],h.ops.push(m);break}l[2]&&h.ops.pop(),h.trys.pop();continue}m=e.call(t,h)}catch(v){m=[6,v],o=0}finally{n=l=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([d,p])}}}function createCommonjsModule(t,e){return t(e={exports:{}},e.exports),e.exports}var lottie=createCommonjsModule(function(module,exports){typeof navigator<"u"&&function(t,e){module.exports=e()}(0,function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(t){_useWebWorker=!!t},getWebWorker=function(){return _useWebWorker},setLocationHref=function(t){locationHref=t},getLocationHref=function(){return locationHref};function createTag(t){return document.createElement(t)}function extendPrototype(t,e){var n,o,l=t.length;for(n=0;n<l;n+=1)for(var u in o=t[n].prototype)Object.prototype.hasOwnProperty.call(o,u)&&(e.prototype[u]=o[u])}function getDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)}function createProxyFunction(t){function e(){}return e.prototype=t,e}var audioControllerFactory=function(){function t(e){this.audios=[],this.audioFactory=e,this._volume=1,this._isMuted=!1}return t.prototype={addAudio:function(e){this.audios.push(e)},pause:function(){var e,n=this.audios.length;for(e=0;e<n;e+=1)this.audios[e].pause()},resume:function(){var e,n=this.audios.length;for(e=0;e<n;e+=1)this.audios[e].resume()},setRate:function(e){var n,o=this.audios.length;for(n=0;n<o;n+=1)this.audios[n].setRate(e)},createAudio:function(e){return this.audioFactory?this.audioFactory(e):window.Howl?new window.Howl({src:[e]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(e){this.audioFactory=e},setVolume:function(e){this._volume=e,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var e,n=this.audios.length;for(e=0;e<n;e+=1)this.audios[e].volume(this._volume*(this._isMuted?0:1))}},function(){return new t}}(),createTypedArray=function(){function t(e,n){var o,l=0,u=[];switch(e){case"int16":case"uint8c":o=1;break;default:o=1.1}for(l=0;l<n;l+=1)u.push(o);return u}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?function(e,n){return e==="float32"?new Float32Array(n):e==="int16"?new Int16Array(n):e==="uint8c"?new Uint8ClampedArray(n):t(e,n)}:t}();function createSizedArray(t){return Array.apply(null,{length:t})}function _typeof$6(t){return(_typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var t,e=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],n=e.length;for(t=0;t<n;t+=1)BMMath[e[t]]=Math[e[t]]})(),BMMath.random=Math.random,BMMath.abs=function(t){if(_typeof$6(t)==="object"&&t.length){var e,n=createSizedArray(t.length),o=t.length;for(e=0;e<o;e+=1)n[e]=Math.abs(t[e]);return n}return Math.abs(t)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(t){t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.display="block",t.style.transformOrigin="0 0",t.style.webkitTransformOrigin="0 0",t.style.backfaceVisibility="visible",t.style.webkitBackfaceVisibility="visible",t.style.transformStyle="preserve-3d",t.style.webkitTransformStyle="preserve-3d",t.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(t,e,n,o){this.type=t,this.currentTime=e,this.totalTime=n,this.direction=o<0?-1:1}function BMCompleteEvent(t,e){this.type=t,this.direction=e<0?-1:1}function BMCompleteLoopEvent(t,e,n,o){this.type=t,this.currentLoop=n,this.totalLoops=e,this.direction=o<0?-1:1}function BMSegmentStartEvent(t,e,n){this.type=t,this.firstFrame=e,this.totalFrames=n}function BMDestroyEvent(t,e){this.type=t,this.target=e}function BMRenderFrameErrorEvent(t,e){this.type="renderFrameError",this.nativeError=t,this.currentTime=e}function BMConfigErrorEvent(t){this.type="configError",this.nativeError=t}var createElementID=(_count=0,function(){return idPrefix$1+"__lottie_element_"+(_count+=1)}),_count;function HSVtoRGB(t,e,n){var o,l,u,h,f,d,p,m;switch(d=n*(1-e),p=n*(1-(f=6*t-(h=Math.floor(6*t)))*e),m=n*(1-(1-f)*e),h%6){case 0:o=n,l=m,u=d;break;case 1:o=p,l=n,u=d;break;case 2:o=d,l=n,u=m;break;case 3:o=d,l=p,u=n;break;case 4:o=m,l=d,u=n;break;case 5:o=n,l=d,u=p}return[o,l,u]}function RGBtoHSV(t,e,n){var o,l=Math.max(t,e,n),u=Math.min(t,e,n),h=l-u,f=l===0?0:h/l,d=l/255;switch(l){case u:o=0;break;case t:o=e-n+h*(e<n?6:0),o/=6*h;break;case e:o=n-t+2*h,o/=6*h;break;case n:o=t-e+4*h,o/=6*h}return[o,f,d]}function addSaturationToRGB(t,e){var n=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return n[1]+=e,n[1]>1?n[1]=1:n[1]<=0&&(n[1]=0),HSVtoRGB(n[0],n[1],n[2])}function addBrightnessToRGB(t,e){var n=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return n[2]+=e,n[2]>1?n[2]=1:n[2]<0&&(n[2]=0),HSVtoRGB(n[0],n[1],n[2])}function addHueToRGB(t,e){var n=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return n[0]+=e/360,n[0]>1?n[0]-=1:n[0]<0&&(n[0]+=1),HSVtoRGB(n[0],n[1],n[2])}var rgbToHex=function(){var t,e,n=[];for(t=0;t<256;t+=1)e=t.toString(16),n[t]=e.length===1?"0"+e:e;return function(o,l,u){return o<0&&(o=0),l<0&&(l=0),u<0&&(u=0),"#"+n[o]+n[l]+n[u]}}(),setSubframeEnabled=function(t){subframeEnabled=!!t},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(t){expressionsPlugin=t},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(t){expressionsInterfaces=t},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(t){defaultCurveSegments=t},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(t){idPrefix$1=t};function createNS(t){return document.createElementNS(svgNS,t)}function _typeof$5(t){return(_typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}var dataManager=function(){var t,e,n=1,o=[],l={onmessage:function(){},postMessage:function(d){t({data:d})}},u={postMessage:function(d){l.onmessage({data:d})}};function h(){e||((e=function(d){if(window.Worker&&window.Blob&&getWebWorker()){var p=new Blob(["var _workerSelf = self; self.onmessage = ",d.toString()],{type:"text/javascript"}),m=URL.createObjectURL(p);return new Worker(m)}return t=d,l}(function(d){if(u.dataManager||(u.dataManager=function(){function m(z,K){var Q,q,H,se,le,ne,ce=z.length;for(q=0;q<ce;q+=1)if("ks"in(Q=z[q])&&!Q.completed){if(Q.completed=!0,Q.hasMask){var fe=Q.masksProperties;for(se=fe.length,H=0;H<se;H+=1)if(fe[H].pt.k.i)S(fe[H].pt.k);else for(ne=fe[H].pt.k.length,le=0;le<ne;le+=1)fe[H].pt.k[le].s&&S(fe[H].pt.k[le].s[0]),fe[H].pt.k[le].e&&S(fe[H].pt.k[le].e[0])}Q.ty===0?(Q.layers=v(Q.refId,K),m(Q.layers,K)):Q.ty===4?b(Q.shapes):Q.ty===5&&B(Q)}}function v(z,K){var Q=function(q,H){for(var se=0,le=H.length;se<le;){if(H[se].id===q)return H[se];se+=1}return null}(z,K);return Q?Q.layers.__used?JSON.parse(JSON.stringify(Q.layers)):(Q.layers.__used=!0,Q.layers):null}function b(z){var K,Q,q;for(K=z.length-1;K>=0;K-=1)if(z[K].ty==="sh")if(z[K].ks.k.i)S(z[K].ks.k);else for(q=z[K].ks.k.length,Q=0;Q<q;Q+=1)z[K].ks.k[Q].s&&S(z[K].ks.k[Q].s[0]),z[K].ks.k[Q].e&&S(z[K].ks.k[Q].e[0]);else z[K].ty==="gr"&&b(z[K].it)}function S(z){var K,Q=z.i.length;for(K=0;K<Q;K+=1)z.i[K][0]+=z.v[K][0],z.i[K][1]+=z.v[K][1],z.o[K][0]+=z.v[K][0],z.o[K][1]+=z.v[K][1]}function T(z,K){var Q=K?K.split("."):[100,100,100];return z[0]>Q[0]||!(Q[0]>z[0])&&(z[1]>Q[1]||!(Q[1]>z[1])&&(z[2]>Q[2]||!(Q[2]>z[2])&&null))}var C,w=function(){var z=[4,4,14];function K(Q){var q,H,se,le=Q.length;for(q=0;q<le;q+=1)Q[q].ty===5&&(H=Q[q],se=void 0,se=H.t.d,H.t.d={k:[{s:se,t:0}]})}return function(Q){if(T(z,Q.v)&&(K(Q.layers),Q.assets)){var q,H=Q.assets.length;for(q=0;q<H;q+=1)Q.assets[q].layers&&K(Q.assets[q].layers)}}}(),R=(C=[4,7,99],function(z){if(z.chars&&!T(C,z.v)){var K,Q=z.chars.length;for(K=0;K<Q;K+=1){var q=z.chars[K];q.data&&q.data.shapes&&(b(q.data.shapes),q.data.ip=0,q.data.op=99999,q.data.st=0,q.data.sr=1,q.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},z.chars[K].t||(q.data.shapes.push({ty:"no"}),q.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}),L=function(){var z=[5,7,15];function K(Q){var q,H,se,le=Q.length;for(q=0;q<le;q+=1)Q[q].ty===5&&(H=Q[q],se=void 0,typeof(se=H.t.p).a=="number"&&(se.a={a:0,k:se.a}),typeof se.p=="number"&&(se.p={a:0,k:se.p}),typeof se.r=="number"&&(se.r={a:0,k:se.r}))}return function(Q){if(T(z,Q.v)&&(K(Q.layers),Q.assets)){var q,H=Q.assets.length;for(q=0;q<H;q+=1)Q.assets[q].layers&&K(Q.assets[q].layers)}}}(),N=function(){var z=[4,1,9];function K(q){var H,se,le,ne=q.length;for(H=0;H<ne;H+=1)if(q[H].ty==="gr")K(q[H].it);else if(q[H].ty==="fl"||q[H].ty==="st")if(q[H].c.k&&q[H].c.k[0].i)for(le=q[H].c.k.length,se=0;se<le;se+=1)q[H].c.k[se].s&&(q[H].c.k[se].s[0]/=255,q[H].c.k[se].s[1]/=255,q[H].c.k[se].s[2]/=255,q[H].c.k[se].s[3]/=255),q[H].c.k[se].e&&(q[H].c.k[se].e[0]/=255,q[H].c.k[se].e[1]/=255,q[H].c.k[se].e[2]/=255,q[H].c.k[se].e[3]/=255);else q[H].c.k[0]/=255,q[H].c.k[1]/=255,q[H].c.k[2]/=255,q[H].c.k[3]/=255}function Q(q){var H,se=q.length;for(H=0;H<se;H+=1)q[H].ty===4&&K(q[H].shapes)}return function(q){if(T(z,q.v)&&(Q(q.layers),q.assets)){var H,se=q.assets.length;for(H=0;H<se;H+=1)q.assets[H].layers&&Q(q.assets[H].layers)}}}(),F=function(){var z=[4,4,18];function K(q){var H,se,le;for(H=q.length-1;H>=0;H-=1)if(q[H].ty==="sh")if(q[H].ks.k.i)q[H].ks.k.c=q[H].closed;else for(le=q[H].ks.k.length,se=0;se<le;se+=1)q[H].ks.k[se].s&&(q[H].ks.k[se].s[0].c=q[H].closed),q[H].ks.k[se].e&&(q[H].ks.k[se].e[0].c=q[H].closed);else q[H].ty==="gr"&&K(q[H].it)}function Q(q){var H,se,le,ne,ce,fe,ge=q.length;for(se=0;se<ge;se+=1){if((H=q[se]).hasMask){var Z=H.masksProperties;for(ne=Z.length,le=0;le<ne;le+=1)if(Z[le].pt.k.i)Z[le].pt.k.c=Z[le].cl;else for(fe=Z[le].pt.k.length,ce=0;ce<fe;ce+=1)Z[le].pt.k[ce].s&&(Z[le].pt.k[ce].s[0].c=Z[le].cl),Z[le].pt.k[ce].e&&(Z[le].pt.k[ce].e[0].c=Z[le].cl)}H.ty===4&&K(H.shapes)}}return function(q){if(T(z,q.v)&&(Q(q.layers),q.assets)){var H,se=q.assets.length;for(H=0;H<se;H+=1)q.assets[H].layers&&Q(q.assets[H].layers)}}}();function B(z){z.t.a.length===0&&z.t.p}var U={completeData:function(z){z.__complete||(N(z),w(z),R(z),L(z),F(z),m(z.layers,z.assets),function(K,Q){if(K){var q=0,H=K.length;for(q=0;q<H;q+=1)K[q].t===1&&(K[q].data.layers=v(K[q].data.refId,Q),m(K[q].data.layers,Q))}}(z.chars,z.assets),z.__complete=!0)}};return U.checkColors=N,U.checkChars=R,U.checkPathProperties=L,U.checkShapes=F,U.completeLayers=m,U}()),u.assetLoader||(u.assetLoader=function(){function m(v){var b=v.getResponseHeader("content-type");return b&&v.responseType==="json"&&b.indexOf("json")!==-1||v.response&&_typeof$5(v.response)==="object"?v.response:v.response&&typeof v.response=="string"?JSON.parse(v.response):v.responseText?JSON.parse(v.responseText):null}return{load:function(v,b,S,T){var C,w=new XMLHttpRequest;try{w.responseType="json"}catch{}w.onreadystatechange=function(){if(w.readyState===4)if(w.status===200)C=m(w),S(C);else try{C=m(w),S(C)}catch(R){T&&T(R)}};try{w.open(["G","E","T"].join(""),v,!0)}catch{w.open(["G","E","T"].join(""),b+"/"+v,!0)}w.send()}}}()),d.data.type==="loadAnimation")u.assetLoader.load(d.data.path,d.data.fullPath,function(m){u.dataManager.completeData(m),u.postMessage({id:d.data.id,payload:m,status:"success"})},function(){u.postMessage({id:d.data.id,status:"error"})});else if(d.data.type==="complete"){var p=d.data.animation;u.dataManager.completeData(p),u.postMessage({id:d.data.id,payload:p,status:"success"})}else d.data.type==="loadData"&&u.assetLoader.load(d.data.path,d.data.fullPath,function(m){u.postMessage({id:d.data.id,payload:m,status:"success"})},function(){u.postMessage({id:d.data.id,status:"error"})})})).onmessage=function(d){var p=d.data,m=p.id,v=o[m];o[m]=null,p.status==="success"?v.onComplete(p.payload):v.onError&&v.onError()})}function f(d,p){var m="processId_"+(n+=1);return o[m]={onComplete:d,onError:p},m}return{loadAnimation:function(d,p,m){h();var v=f(p,m);e.postMessage({type:"loadAnimation",path:d,fullPath:window.location.origin+window.location.pathname,id:v})},loadData:function(d,p,m){h();var v=f(p,m);e.postMessage({type:"loadData",path:d,fullPath:window.location.origin+window.location.pathname,id:v})},completeAnimation:function(d,p,m){h();var v=f(p,m);e.postMessage({type:"complete",animation:d,id:v})}}}(),ImagePreloader=function(){var t=function(){var f=createTag("canvas");f.width=1,f.height=1;var d=f.getContext("2d");return d.fillStyle="rgba(0,0,0,0)",d.fillRect(0,0,1,1),f}();function e(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function n(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function o(f,d,p){var m="";if(f.e)m=f.p;else if(d){var v=f.p;v.indexOf("images/")!==-1&&(v=v.split("/")[1]),m=d+v}else m=p,m+=f.u?f.u:"",m+=f.p;return m}function l(f){var d=0,p=setInterval((function(){(f.getBBox().width||d>500)&&(this._imageLoaded(),clearInterval(p)),d+=1}).bind(this),50)}function u(f){var d={assetData:f},p=o(f,this.assetsPath,this.path);return dataManager.loadData(p,(function(m){d.img=m,this._footageLoaded()}).bind(this),(function(){d.img={},this._footageLoaded()}).bind(this)),d}function h(){this._imageLoaded=e.bind(this),this._footageLoaded=n.bind(this),this.testImageLoaded=l.bind(this),this.createFootageData=u.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return h.prototype={loadAssets:function(f,d){var p;this.imagesLoadedCb=d;var m=f.length;for(p=0;p<m;p+=1)f[p].layers||(f[p].t&&f[p].t!=="seq"?f[p].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(f[p]))):(this.totalImages+=1,this.images.push(this._createImageData(f[p]))))},setAssetsPath:function(f){this.assetsPath=f||""},setPath:function(f){this.path=f||""},loadedImages:function(){return this.totalImages===this.loadedAssets},loadedFootages:function(){return this.totalFootages===this.loadedFootagesCount},destroy:function(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function(f){for(var d=0,p=this.images.length;d<p;){if(this.images[d].assetData===f)return this.images[d].img;d+=1}return null},createImgData:function(f){var d=o(f,this.assetsPath,this.path),p=createTag("img");p.crossOrigin="anonymous",p.addEventListener("load",this._imageLoaded,!1),p.addEventListener("error",(function(){m.img=t,this._imageLoaded()}).bind(this),!1),p.src=d;var m={img:p,assetData:f};return m},createImageData:function(f){var d=o(f,this.assetsPath,this.path),p=createNS("image");isSafari?this.testImageLoaded(p):p.addEventListener("load",this._imageLoaded,!1),p.addEventListener("error",(function(){m.img=t,this._imageLoaded()}).bind(this),!1),p.setAttributeNS("http://www.w3.org/1999/xlink","href",d),this._elementHelper.append?this._elementHelper.append(p):this._elementHelper.appendChild(p);var m={img:p,assetData:f};return m},imageLoaded:e,footageLoaded:n,setCacheType:function(f,d){f==="svg"?(this._elementHelper=d,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}},h}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(t,e){if(this._cbs[t])for(var n=this._cbs[t],o=0;o<n.length;o+=1)n[o](e)},addEventListener:function(t,e){return this._cbs[t]||(this._cbs[t]=[]),this._cbs[t].push(e),(function(){this.removeEventListener(t,e)}).bind(this)},removeEventListener:function(t,e){if(e){if(this._cbs[t]){for(var n=0,o=this._cbs[t].length;n<o;)this._cbs[t][n]===e&&(this._cbs[t].splice(n,1),n-=1,o-=1),n+=1;this._cbs[t].length||(this._cbs[t]=null)}}else this._cbs[t]=null}};var markerParser=function(){function t(e){for(var n,o=e.split(`\r
`),l={},u=0,h=0;h<o.length;h+=1)(n=o[h].split(":")).length===2&&(l[n[0]]=n[1].trim(),u+=1);if(u===0)throw new Error;return l}return function(e){for(var n=[],o=0;o<e.length;o+=1){var l=e[o],u={time:l.tm,duration:l.dr};try{u.payload=JSON.parse(e[o].cm)}catch{try{u.payload=t(e[o].cm)}catch{u.payload={name:e[o].cm}}}n.push(u)}return n}}(),ProjectInterface=function(){function t(e){this.compositions.push(e)}return function(){function e(n){for(var o=0,l=this.compositions.length;o<l;){if(this.compositions[o].data&&this.compositions[o].data.nm===n)return this.compositions[o].prepareFrame&&this.compositions[o].data.xt&&this.compositions[o].prepareFrame(this.currentFrame),this.compositions[o].compInterface;o+=1}return null}return e.compositions=[],e.currentFrame=0,e.registerComposition=t,e}}(),renderers={},registerRenderer=function(t,e){renderers[t]=e};function getRenderer(t){return renderers[t]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var t in renderers)if(renderers[t])return t;return""}function _typeof$4(t){return(_typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(t){(t.wrapper||t.container)&&(this.wrapper=t.wrapper||t.container);var e="svg";t.animType?e=t.animType:t.renderer&&(e=t.renderer);var n=getRenderer(e);this.renderer=new n(this,t.rendererSettings),this.imagePreloader.setCacheType(e,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=e,t.loop===""||t.loop===null||t.loop===void 0||t.loop===!0?this.loop=!0:t.loop===!1?this.loop=!1:this.loop=parseInt(t.loop,10),this.autoplay=!("autoplay"in t)||t.autoplay,this.name=t.name?t.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(t,"autoloadSegments")||t.autoloadSegments,this.assetsPath=t.assetsPath,this.initialSegment=t.initialSegment,t.audioFactory&&this.audioController.setAudioFactory(t.audioFactory),t.animationData?this.setupAnimation(t.animationData):t.path&&(t.path.lastIndexOf("\\")!==-1?this.path=t.path.substr(0,t.path.lastIndexOf("\\")+1):this.path=t.path.substr(0,t.path.lastIndexOf("/")+1),this.fileName=t.path.substr(t.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(t.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(t){dataManager.completeAnimation(t,this.configAnimation)},AnimationItem.prototype.setData=function(t,e){e&&_typeof$4(e)!=="object"&&(e=JSON.parse(e));var n={wrapper:t,animationData:e},o=t.attributes;n.path=o.getNamedItem("data-animation-path")?o.getNamedItem("data-animation-path").value:o.getNamedItem("data-bm-path")?o.getNamedItem("data-bm-path").value:o.getNamedItem("bm-path")?o.getNamedItem("bm-path").value:"",n.animType=o.getNamedItem("data-anim-type")?o.getNamedItem("data-anim-type").value:o.getNamedItem("data-bm-type")?o.getNamedItem("data-bm-type").value:o.getNamedItem("bm-type")?o.getNamedItem("bm-type").value:o.getNamedItem("data-bm-renderer")?o.getNamedItem("data-bm-renderer").value:o.getNamedItem("bm-renderer")?o.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var l=o.getNamedItem("data-anim-loop")?o.getNamedItem("data-anim-loop").value:o.getNamedItem("data-bm-loop")?o.getNamedItem("data-bm-loop").value:o.getNamedItem("bm-loop")?o.getNamedItem("bm-loop").value:"";l==="false"?n.loop=!1:l==="true"?n.loop=!0:l!==""&&(n.loop=parseInt(l,10));var u=o.getNamedItem("data-anim-autoplay")?o.getNamedItem("data-anim-autoplay").value:o.getNamedItem("data-bm-autoplay")?o.getNamedItem("data-bm-autoplay").value:!o.getNamedItem("bm-autoplay")||o.getNamedItem("bm-autoplay").value;n.autoplay=u!=="false",n.name=o.getNamedItem("data-name")?o.getNamedItem("data-name").value:o.getNamedItem("data-bm-name")?o.getNamedItem("data-bm-name").value:o.getNamedItem("bm-name")?o.getNamedItem("bm-name").value:"",(o.getNamedItem("data-anim-prerender")?o.getNamedItem("data-anim-prerender").value:o.getNamedItem("data-bm-prerender")?o.getNamedItem("data-bm-prerender").value:o.getNamedItem("bm-prerender")?o.getNamedItem("bm-prerender").value:"")==="false"&&(n.prerender=!1),n.path?this.setParams(n):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(t){t.op>this.animationData.op&&(this.animationData.op=t.op,this.totalFrames=Math.floor(t.op-this.animationData.ip));var e,n,o=this.animationData.layers,l=o.length,u=t.layers,h=u.length;for(n=0;n<h;n+=1)for(e=0;e<l;){if(o[e].id===u[n].id){o[e]=u[n];break}e+=1}if((t.chars||t.fonts)&&(this.renderer.globalData.fontManager.addChars(t.chars),this.renderer.globalData.fontManager.addFonts(t.fonts,this.renderer.globalData.defs)),t.assets)for(l=t.assets.length,e=0;e<l;e+=1)this.animationData.assets.push(t.assets[e]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(t){this.animationData=t;var e=getExpressionsPlugin();e&&e.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var t=this.animationData.segments;if(!t||t.length===0||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var e=t.shift();this.timeCompleted=e.time*this.frameRate;var n=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(n,this.includeLayers.bind(this),(function(){this.trigger("data_failed")}).bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(t){if(this.renderer)try{this.animationData=t,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(t),t.assets||(t.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(t.assets),this.markers=markerParser(t.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(e){this.triggerConfigError(e)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var t=getExpressionsPlugin();t&&t.initExpressions(this),this.renderer.initItems(),setTimeout((function(){this.trigger("DOMLoaded")}).bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(t,e){var n=typeof t=="number"?t:void 0,o=typeof e=="number"?e:void 0;this.renderer.updateContainerSize(n,o)},AnimationItem.prototype.setSubframe=function(t){this.isSubframeEnabled=!!t},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(this.isLoaded!==!1&&this.renderer)try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(t){this.triggerRenderFrameError(t)}},AnimationItem.prototype.play=function(t){t&&this.name!==t||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(t){t&&this.name!==t||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(t){t&&this.name!==t||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(t){t&&this.name!==t||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(t){for(var e,n=0;n<this.markers.length;n+=1)if((e=this.markers[n]).payload&&e.payload.name===t)return e;return null},AnimationItem.prototype.goToAndStop=function(t,e,n){if(!n||this.name===n){var o=Number(t);if(isNaN(o)){var l=this.getMarkerData(t);l&&this.goToAndStop(l.time,!0)}else e?this.setCurrentRawFrameValue(t):this.setCurrentRawFrameValue(t*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(t,e,n){if(!n||this.name===n){var o=Number(t);if(isNaN(o)){var l=this.getMarkerData(t);l&&(l.duration?this.playSegments([l.time,l.time+l.duration],!0):this.goToAndStop(l.time,!0))}else this.goToAndStop(o,e,n);this.play()}},AnimationItem.prototype.advanceTime=function(t){if(this.isPaused!==!0&&this.isLoaded!==!1){var e=this.currentRawFrame+t*this.frameModifier,n=!1;e>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?e>=this.totalFrames?(this.playCount+=1,this.checkSegments(e%this.totalFrames)||(this.setCurrentRawFrameValue(e%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(e):this.checkSegments(e>this.totalFrames?e%this.totalFrames:0)||(n=!0,e=this.totalFrames-1):e<0?this.checkSegments(e%this.totalFrames)||(!this.loop||this.playCount--<=0&&this.loop!==!0?(n=!0,e=0):(this.setCurrentRawFrameValue(this.totalFrames+e%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(e),n&&(this.setCurrentRawFrameValue(e),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(t,e){this.playCount=0,t[1]<t[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=t[0]-t[1],this.timeCompleted=this.totalFrames,this.firstFrame=t[1],this.setCurrentRawFrameValue(this.totalFrames-.001-e)):t[1]>t[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=t[1]-t[0],this.timeCompleted=this.totalFrames,this.firstFrame=t[0],this.setCurrentRawFrameValue(.001+e)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(t,e){var n=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<t?n=t:this.currentRawFrame+this.firstFrame>e&&(n=e-t)),this.firstFrame=t,this.totalFrames=e-t,this.timeCompleted=this.totalFrames,n!==-1&&this.goToAndStop(n,!0)},AnimationItem.prototype.playSegments=function(t,e){if(e&&(this.segments.length=0),_typeof$4(t[0])==="object"){var n,o=t.length;for(n=0;n<o;n+=1)this.segments.push(t[n])}else this.segments.push(t);this.segments.length&&e&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(t){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),t&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(t){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),t),!0)},AnimationItem.prototype.destroy=function(t){t&&this.name!==t||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(t){this.currentRawFrame=t,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(t){this.playSpeed=t,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(t){this.playDirection=t<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(t){this.loop=t},AnimationItem.prototype.setVolume=function(t,e){e&&this.name!==e||this.audioController.setVolume(t)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(t){t&&this.name!==t||this.audioController.mute()},AnimationItem.prototype.unmute=function(t){t&&this.name!==t||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(t){var e="";if(t.e)e=t.p;else if(this.assetsPath){var n=t.p;n.indexOf("images/")!==-1&&(n=n.split("/")[1]),e=this.assetsPath+n}else e=this.path,e+=t.u?t.u:"",e+=t.p;return e},AnimationItem.prototype.getAssetData=function(t){for(var e=0,n=this.assets.length;e<n;){if(t===this.assets[e].id)return this.assets[e];e+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(t){return t?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(t,e,n){try{this.renderer.getElementByPath(t).updateDocumentData(e,n)}catch{}},AnimationItem.prototype.trigger=function(t){if(this._cbs&&this._cbs[t])switch(t){case"enterFrame":this.triggerEvent(t,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(t,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(t,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(t,new BMCompleteEvent(t,this.frameMult));break;case"segmentStart":this.triggerEvent(t,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(t,new BMDestroyEvent(t,this));break;default:this.triggerEvent(t)}t==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameMult)),t==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult)),t==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(t,this.frameMult)),t==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames)),t==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(t,this))},AnimationItem.prototype.triggerRenderFrameError=function(t){var e=new BMRenderFrameErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)},AnimationItem.prototype.triggerConfigError=function(t){var e=new BMConfigErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)};var animationManager=function(){var t={},e=[],n=0,o=0,l=0,u=!0,h=!1;function f(C){for(var w=0,R=C.target;w<o;)e[w].animation===R&&(e.splice(w,1),w-=1,o-=1,R.isPaused||m()),w+=1}function d(C,w){if(!C)return null;for(var R=0;R<o;){if(e[R].elem===C&&e[R].elem!==null)return e[R].animation;R+=1}var L=new AnimationItem;return v(L,C),L.setData(C,w),L}function p(){l+=1,T()}function m(){l-=1}function v(C,w){C.addEventListener("destroy",f),C.addEventListener("_active",p),C.addEventListener("_idle",m),e.push({elem:w,animation:C}),o+=1}function b(C){var w,R=C-n;for(w=0;w<o;w+=1)e[w].animation.advanceTime(R);n=C,l&&!h?window.requestAnimationFrame(b):u=!0}function S(C){n=C,window.requestAnimationFrame(b)}function T(){!h&&l&&u&&(window.requestAnimationFrame(S),u=!1)}return t.registerAnimation=d,t.loadAnimation=function(C){var w=new AnimationItem;return v(w,null),w.setParams(C),w},t.setSpeed=function(C,w){var R;for(R=0;R<o;R+=1)e[R].animation.setSpeed(C,w)},t.setDirection=function(C,w){var R;for(R=0;R<o;R+=1)e[R].animation.setDirection(C,w)},t.play=function(C){var w;for(w=0;w<o;w+=1)e[w].animation.play(C)},t.pause=function(C){var w;for(w=0;w<o;w+=1)e[w].animation.pause(C)},t.stop=function(C){var w;for(w=0;w<o;w+=1)e[w].animation.stop(C)},t.togglePause=function(C){var w;for(w=0;w<o;w+=1)e[w].animation.togglePause(C)},t.searchAnimations=function(C,w,R){var L,N=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),F=N.length;for(L=0;L<F;L+=1)R&&N[L].setAttribute("data-bm-type",R),d(N[L],C);if(w&&F===0){R||(R="svg");var B=document.getElementsByTagName("body")[0];B.innerText="";var U=createTag("div");U.style.width="100%",U.style.height="100%",U.setAttribute("data-bm-type",R),B.appendChild(U),d(U,C)}},t.resize=function(){var C;for(C=0;C<o;C+=1)e[C].animation.resize()},t.goToAndStop=function(C,w,R){var L;for(L=0;L<o;L+=1)e[L].animation.goToAndStop(C,w,R)},t.destroy=function(C){var w;for(w=o-1;w>=0;w-=1)e[w].animation.destroy(C)},t.freeze=function(){h=!0},t.unfreeze=function(){h=!1,T()},t.setVolume=function(C,w){var R;for(R=0;R<o;R+=1)e[R].animation.setVolume(C,w)},t.mute=function(C){var w;for(w=0;w<o;w+=1)e[w].animation.mute(C)},t.unmute=function(C){var w;for(w=0;w<o;w+=1)e[w].animation.unmute(C)},t.getRegisteredAnimations=function(){var C,w=e.length,R=[];for(C=0;C<w;C+=1)R.push(e[C].animation);return R},t}(),BezierFactory=function(){var t={getBezierEasing:function(p,m,v,b,S){var T=S||("bez_"+p+"_"+m+"_"+v+"_"+b).replace(/\./g,"p");if(e[T])return e[T];var C=new d([p,m,v,b]);return e[T]=C,C}},e={},n=typeof Float32Array=="function";function o(p,m){return 1-3*m+3*p}function l(p,m){return 3*m-6*p}function u(p){return 3*p}function h(p,m,v){return((o(m,v)*p+l(m,v))*p+u(m))*p}function f(p,m,v){return 3*o(m,v)*p*p+2*l(m,v)*p+u(m)}function d(p){this._p=p,this._mSampleValues=n?new Float32Array(11):new Array(11),this._precomputed=!1,this.get=this.get.bind(this)}return d.prototype={get:function(p){var m=this._p[0],v=this._p[1],b=this._p[2],S=this._p[3];return this._precomputed||this._precompute(),m===v&&b===S?p:p===0?0:p===1?1:h(this._getTForX(p),v,S)},_precompute:function(){var p=this._p[0],m=this._p[1],v=this._p[2],b=this._p[3];this._precomputed=!0,p===m&&v===b||this._calcSampleValues()},_calcSampleValues:function(){for(var p=this._p[0],m=this._p[2],v=0;v<11;++v)this._mSampleValues[v]=h(.1*v,p,m)},_getTForX:function(p){for(var m=this._p[0],v=this._p[2],b=this._mSampleValues,S=0,T=1;T!==10&&b[T]<=p;++T)S+=.1;var C=S+.1*((p-b[--T])/(b[T+1]-b[T])),w=f(C,m,v);return w>=.001?function(R,L,N,F){for(var B=0;B<4;++B){var U=f(L,N,F);if(U===0)return L;L-=(h(L,N,F)-R)/U}return L}(p,C,m,v):w===0?C:function(R,L,N,F,B){var U,z,K=0;do(U=h(z=L+(N-L)/2,F,B)-R)>0?N=z:L=z;while(Math.abs(U)>1e-7&&++K<10);return z}(p,S,S+.1,m,v)}},t}(),pooling={double:function(t){return t.concat(createSizedArray(t.length))}},poolFactory=function(t,e,n){var o=0,l=t,u=createSizedArray(l);return{newElement:function(){return o?u[o-=1]:e()},release:function(h){o===l&&(u=pooling.double(u),l*=2),n&&n(h),u[o]=h,o+=1}}},bezierLengthPool=poolFactory(8,function(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}),segmentsLengthPool=poolFactory(8,function(){return{lengths:[],totalLength:0}},function(t){var e,n=t.lengths.length;for(e=0;e<n;e+=1)bezierLengthPool.release(t.lengths[e]);t.lengths.length=0});function bezFunction(){var t=Math;function e(p,m,v,b,S,T){var C=p*b+m*S+v*T-S*b-T*p-v*m;return C>-.001&&C<.001}var n=function(p,m,v,b){var S,T,C,w,R,L,N=getDefaultCurveSegments(),F=0,B=[],U=[],z=bezierLengthPool.newElement();for(C=v.length,S=0;S<N;S+=1){for(R=S/(N-1),L=0,T=0;T<C;T+=1)w=bmPow(1-R,3)*p[T]+3*bmPow(1-R,2)*R*v[T]+3*(1-R)*bmPow(R,2)*b[T]+bmPow(R,3)*m[T],B[T]=w,U[T]!==null&&(L+=bmPow(B[T]-U[T],2)),U[T]=B[T];L&&(F+=L=bmSqrt(L)),z.percents[S]=R,z.lengths[S]=F}return z.addedLength=F,z};function o(p){this.segmentLength=0,this.points=new Array(p)}function l(p,m){this.partialLength=p,this.point=m}var u,h=(u={},function(p,m,v,b){var S=(p[0]+"_"+p[1]+"_"+m[0]+"_"+m[1]+"_"+v[0]+"_"+v[1]+"_"+b[0]+"_"+b[1]).replace(/\./g,"p");if(!u[S]){var T,C,w,R,L,N,F,B=getDefaultCurveSegments(),U=0,z=null;p.length===2&&(p[0]!==m[0]||p[1]!==m[1])&&e(p[0],p[1],m[0],m[1],p[0]+v[0],p[1]+v[1])&&e(p[0],p[1],m[0],m[1],m[0]+b[0],m[1]+b[1])&&(B=2);var K=new o(B);for(w=v.length,T=0;T<B;T+=1){for(F=createSizedArray(w),L=T/(B-1),N=0,C=0;C<w;C+=1)R=bmPow(1-L,3)*p[C]+3*bmPow(1-L,2)*L*(p[C]+v[C])+3*(1-L)*bmPow(L,2)*(m[C]+b[C])+bmPow(L,3)*m[C],F[C]=R,z!==null&&(N+=bmPow(F[C]-z[C],2));U+=N=bmSqrt(N),K.points[T]=new l(N,F),z=F}K.segmentLength=U,u[S]=K}return u[S]});function f(p,m){var v=m.percents,b=m.lengths,S=v.length,T=bmFloor((S-1)*p),C=p*m.addedLength,w=0;if(T===S-1||T===0||C===b[T])return v[T];for(var R=b[T]>C?-1:1,L=!0;L;)if(b[T]<=C&&b[T+1]>C?(w=(C-b[T])/(b[T+1]-b[T]),L=!1):T+=R,T<0||T>=S-1){if(T===S-1)return v[T];L=!1}return v[T]+(v[T+1]-v[T])*w}var d=createTypedArray("float32",8);return{getSegmentsLength:function(p){var m,v=segmentsLengthPool.newElement(),b=p.c,S=p.v,T=p.o,C=p.i,w=p._length,R=v.lengths,L=0;for(m=0;m<w-1;m+=1)R[m]=n(S[m],S[m+1],T[m],C[m+1]),L+=R[m].addedLength;return b&&w&&(R[m]=n(S[m],S[0],T[m],C[0]),L+=R[m].addedLength),v.totalLength=L,v},getNewSegment:function(p,m,v,b,S,T,C){S<0?S=0:S>1&&(S=1);var w,R=f(S,C),L=f(T=T>1?1:T,C),N=p.length,F=1-R,B=1-L,U=F*F*F,z=R*F*F*3,K=R*R*F*3,Q=R*R*R,q=F*F*B,H=R*F*B+F*R*B+F*F*L,se=R*R*B+F*R*L+R*F*L,le=R*R*L,ne=F*B*B,ce=R*B*B+F*L*B+F*B*L,fe=R*L*B+F*L*L+R*B*L,ge=R*L*L,Z=B*B*B,ie=L*B*B+B*L*B+B*B*L,oe=L*L*B+B*L*L+L*B*L,ae=L*L*L;for(w=0;w<N;w+=1)d[4*w]=t.round(1e3*(U*p[w]+z*v[w]+K*b[w]+Q*m[w]))/1e3,d[4*w+1]=t.round(1e3*(q*p[w]+H*v[w]+se*b[w]+le*m[w]))/1e3,d[4*w+2]=t.round(1e3*(ne*p[w]+ce*v[w]+fe*b[w]+ge*m[w]))/1e3,d[4*w+3]=t.round(1e3*(Z*p[w]+ie*v[w]+oe*b[w]+ae*m[w]))/1e3;return d},getPointInSegment:function(p,m,v,b,S,T){var C=f(S,T),w=1-C;return[t.round(1e3*(w*w*w*p[0]+(C*w*w+w*C*w+w*w*C)*v[0]+(C*C*w+w*C*C+C*w*C)*b[0]+C*C*C*m[0]))/1e3,t.round(1e3*(w*w*w*p[1]+(C*w*w+w*C*w+w*w*C)*v[1]+(C*C*w+w*C*C+C*w*C)*b[1]+C*C*C*m[1]))/1e3]},buildBezierData:h,pointOnLine2D:e,pointOnLine3D:function(p,m,v,b,S,T,C,w,R){if(v===0&&T===0&&R===0)return e(p,m,b,S,C,w);var L,N=t.sqrt(t.pow(b-p,2)+t.pow(S-m,2)+t.pow(T-v,2)),F=t.sqrt(t.pow(C-p,2)+t.pow(w-m,2)+t.pow(R-v,2)),B=t.sqrt(t.pow(C-b,2)+t.pow(w-S,2)+t.pow(R-T,2));return(L=N>F?N>B?N-F-B:B-F-N:B>F?B-F-N:F-N-B)>-1e-4&&L<1e-4}}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(t,e){var n,o=this.offsetTime;this.propType==="multidimensional"&&(n=createTypedArray("float32",this.pv.length));for(var l,u,h,f,d,p,m,v,b,S=e.lastIndex,T=S,C=this.keyframes.length-1,w=!0;w;){if(l=this.keyframes[T],u=this.keyframes[T+1],T===C-1&&t>=u.t-o){l.h&&(l=u),S=0;break}if(u.t-o>t){S=T;break}T<C-1?T+=1:(S=0,w=!1)}h=this.keyframesMetadata[T]||{};var R,L=u.t-o,N=l.t-o;if(l.to){h.bezierData||(h.bezierData=bez.buildBezierData(l.s,u.s||l.e,l.to,l.ti));var F=h.bezierData;if(t>=L||t<N){var B=t>=L?F.points.length-1:0;for(d=F.points[B].point.length,f=0;f<d;f+=1)n[f]=F.points[B].point[f]}else{h.__fnct?b=h.__fnct:(b=BezierFactory.getBezierEasing(l.o.x,l.o.y,l.i.x,l.i.y,l.n).get,h.__fnct=b),p=b((t-N)/(L-N));var U,z=F.segmentLength*p,K=e.lastFrame<t&&e._lastKeyframeIndex===T?e._lastAddedLength:0;for(v=e.lastFrame<t&&e._lastKeyframeIndex===T?e._lastPoint:0,w=!0,m=F.points.length;w;){if(K+=F.points[v].partialLength,z===0||p===0||v===F.points.length-1){for(d=F.points[v].point.length,f=0;f<d;f+=1)n[f]=F.points[v].point[f];break}if(z>=K&&z<K+F.points[v+1].partialLength){for(U=(z-K)/F.points[v+1].partialLength,d=F.points[v].point.length,f=0;f<d;f+=1)n[f]=F.points[v].point[f]+(F.points[v+1].point[f]-F.points[v].point[f])*U;break}v<m-1?v+=1:w=!1}e._lastPoint=v,e._lastAddedLength=K-F.points[v].partialLength,e._lastKeyframeIndex=T}}else{var Q,q,H,se,le;if(C=l.s.length,R=u.s||l.e,this.sh&&l.h!==1)t>=L?(n[0]=R[0],n[1]=R[1],n[2]=R[2]):t<=N?(n[0]=l.s[0],n[1]=l.s[1],n[2]=l.s[2]):quaternionToEuler(n,slerp(createQuaternion(l.s),createQuaternion(R),(t-N)/(L-N)));else for(T=0;T<C;T+=1)l.h!==1&&(t>=L?p=1:t<N?p=0:(l.o.x.constructor===Array?(h.__fnct||(h.__fnct=[]),h.__fnct[T]?b=h.__fnct[T]:(Q=l.o.x[T]===void 0?l.o.x[0]:l.o.x[T],q=l.o.y[T]===void 0?l.o.y[0]:l.o.y[T],H=l.i.x[T]===void 0?l.i.x[0]:l.i.x[T],se=l.i.y[T]===void 0?l.i.y[0]:l.i.y[T],b=BezierFactory.getBezierEasing(Q,q,H,se).get,h.__fnct[T]=b)):h.__fnct?b=h.__fnct:(Q=l.o.x,q=l.o.y,H=l.i.x,se=l.i.y,b=BezierFactory.getBezierEasing(Q,q,H,se).get,l.keyframeMetadata=b),p=b((t-N)/(L-N)))),R=u.s||l.e,le=l.h===1?l.s[T]:l.s[T]+(R[T]-l.s[T])*p,this.propType==="multidimensional"?n[T]=le:n=le}return e.lastIndex=S,n}function slerp(t,e,n){var o,l,u,h,f,d=[],p=t[0],m=t[1],v=t[2],b=t[3],S=e[0],T=e[1],C=e[2],w=e[3];return(l=p*S+m*T+v*C+b*w)<0&&(l=-l,S=-S,T=-T,C=-C,w=-w),1-l>1e-6?(o=Math.acos(l),u=Math.sin(o),h=Math.sin((1-n)*o)/u,f=Math.sin(n*o)/u):(h=1-n,f=n),d[0]=h*p+f*S,d[1]=h*m+f*T,d[2]=h*v+f*C,d[3]=h*b+f*w,d}function quaternionToEuler(t,e){var n=e[0],o=e[1],l=e[2],u=e[3],h=Math.atan2(2*o*u-2*n*l,1-2*o*o-2*l*l),f=Math.asin(2*n*o+2*l*u),d=Math.atan2(2*n*u-2*o*l,1-2*n*n-2*l*l);t[0]=h/degToRads,t[1]=f/degToRads,t[2]=d/degToRads}function createQuaternion(t){var e=t[0]*degToRads,n=t[1]*degToRads,o=t[2]*degToRads,l=Math.cos(e/2),u=Math.cos(n/2),h=Math.cos(o/2),f=Math.sin(e/2),d=Math.sin(n/2),p=Math.sin(o/2);return[f*d*h+l*u*p,f*u*h+l*d*p,l*d*h-f*u*p,l*u*h-f*d*p]}function getValueAtCurrentTime(){var t=this.comp.renderedFrame-this.offsetTime,e=this.keyframes[0].t-this.offsetTime,n=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(t===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=n&&t>=n||this._caching.lastFrame<e&&t<e))){this._caching.lastFrame>=t&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var o=this.interpolateValue(t,this._caching);this.pv=o}return this._caching.lastFrame=t,this.pv}function setVValue(t){var e;if(this.propType==="unidimensional")e=t*this.mult,mathAbs(this.v-e)>1e-5&&(this.v=e,this._mdf=!0);else for(var n=0,o=this.v.length;n<o;)e=t[n]*this.mult,mathAbs(this.v[n]-e)>1e-5&&(this.v[n]=e,this._mdf=!0),n+=1}function processEffectsSequence(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var t;this.lock=!0,this._mdf=this._isFirstFrame;var e=this.effectsSequence.length,n=this.kf?this.pv:this.data.k;for(t=0;t<e;t+=1)n=this.effectsSequence[t](n);this.setVValue(n),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function ValueProperty(t,e,n,o){this.propType="unidimensional",this.mult=n||1,this.data=e,this.v=n?e.k*n:e.k,this.pv=e.k,this._mdf=!1,this.elem=t,this.container=o,this.comp=t.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(t,e,n,o){var l;this.propType="multidimensional",this.mult=n||1,this.data=e,this._mdf=!1,this.elem=t,this.container=o,this.comp=t.comp,this.k=!1,this.kf=!1,this.frameId=-1;var u=e.k.length;for(this.v=createTypedArray("float32",u),this.pv=createTypedArray("float32",u),this.vel=createTypedArray("float32",u),l=0;l<u;l+=1)this.v[l]=e.k[l]*this.mult,this.pv[l]=e.k[l];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(t,e,n,o){this.propType="unidimensional",this.keyframes=e.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=e,this.mult=n||1,this.elem=t,this.container=o,this.comp=t.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(t,e,n,o){var l;this.propType="multidimensional";var u,h,f,d,p=e.k.length;for(l=0;l<p-1;l+=1)e.k[l].to&&e.k[l].s&&e.k[l+1]&&e.k[l+1].s&&(u=e.k[l].s,h=e.k[l+1].s,f=e.k[l].to,d=e.k[l].ti,(u.length===2&&(u[0]!==h[0]||u[1]!==h[1])&&bez.pointOnLine2D(u[0],u[1],h[0],h[1],u[0]+f[0],u[1]+f[1])&&bez.pointOnLine2D(u[0],u[1],h[0],h[1],h[0]+d[0],h[1]+d[1])||u.length===3&&(u[0]!==h[0]||u[1]!==h[1]||u[2]!==h[2])&&bez.pointOnLine3D(u[0],u[1],u[2],h[0],h[1],h[2],u[0]+f[0],u[1]+f[1],u[2]+f[2])&&bez.pointOnLine3D(u[0],u[1],u[2],h[0],h[1],h[2],h[0]+d[0],h[1]+d[1],h[2]+d[2]))&&(e.k[l].to=null,e.k[l].ti=null),u[0]===h[0]&&u[1]===h[1]&&f[0]===0&&f[1]===0&&d[0]===0&&d[1]===0&&(u.length===2||u[2]===h[2]&&f[2]===0&&d[2]===0)&&(e.k[l].to=null,e.k[l].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=e,this.keyframes=e.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=n||1,this.elem=t,this.container=o,this.comp=t.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var m=e.k[0].s.length;for(this.v=createTypedArray("float32",m),this.pv=createTypedArray("float32",m),l=0;l<m;l+=1)this.v[l]=initFrame,this.pv[l]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",m)},this.addEffect=addEffect}var PropertyFactory={getProp:function(t,e,n,o,l){var u;if(e.sid&&(e=t.globalData.slotManager.getProp(e)),e.k.length)if(typeof e.k[0]=="number")u=new MultiDimensionalProperty(t,e,o,l);else switch(n){case 0:u=new KeyframedValueProperty(t,e,o,l);break;case 1:u=new KeyframedMultidimensionalProperty(t,e,o,l)}else u=new ValueProperty(t,e,o,l);return u.effectsSequence.length&&l.addDynamicProperty(u),u}};function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(t){this.dynamicProperties.indexOf(t)===-1&&(this.dynamicProperties.push(t),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){var t;this._mdf=!1;var e=this.dynamicProperties.length;for(t=0;t<e;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(t){this.container=t,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=poolFactory(8,function(){return createTypedArray("float32",2)});function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(t,e){this.c=t,this.setLength(e);for(var n=0;n<e;)this.v[n]=pointPool.newElement(),this.o[n]=pointPool.newElement(),this.i[n]=pointPool.newElement(),n+=1},ShapePath.prototype.setLength=function(t){for(;this._maxLength<t;)this.doubleArrayLength();this._length=t},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(t,e,n,o,l){var u;switch(this._length=Math.max(this._length,o+1),this._length>=this._maxLength&&this.doubleArrayLength(),n){case"v":u=this.v;break;case"i":u=this.i;break;case"o":u=this.o;break;default:u=[]}(!u[o]||u[o]&&!l)&&(u[o]=pointPool.newElement()),u[o][0]=t,u[o][1]=e},ShapePath.prototype.setTripleAt=function(t,e,n,o,l,u,h,f){this.setXYAt(t,e,"v",h,f),this.setXYAt(n,o,"o",h,f),this.setXYAt(l,u,"i",h,f)},ShapePath.prototype.reverse=function(){var t=new ShapePath;t.setPathData(this.c,this._length);var e=this.v,n=this.o,o=this.i,l=0;this.c&&(t.setTripleAt(e[0][0],e[0][1],o[0][0],o[0][1],n[0][0],n[0][1],0,!1),l=1);var u,h=this._length-1,f=this._length;for(u=l;u<f;u+=1)t.setTripleAt(e[h][0],e[h][1],o[h][0],o[h][1],n[h][0],n[h][1],u,!1),h-=1;return t},ShapePath.prototype.length=function(){return this._length};var shapePool=(factory=poolFactory(4,function(){return new ShapePath},function(t){var e,n=t._length;for(e=0;e<n;e+=1)pointPool.release(t.v[e]),pointPool.release(t.i[e]),pointPool.release(t.o[e]),t.v[e]=null,t.i[e]=null,t.o[e]=null;t._length=0,t.c=!1}),factory.clone=function(t){var e,n=factory.newElement(),o=t._length===void 0?t.v.length:t._length;for(n.setLength(o),n.c=t.c,e=0;e<o;e+=1)n.setTripleAt(t.v[e][0],t.v[e][1],t.o[e][0],t.o[e][1],t.i[e][0],t.i[e][1],e);return n},factory),factory;function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(t){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=t,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var t;for(t=0;t<this._length;t+=1)shapePool.release(this.shapes[t]);this._length=0};var shapeCollectionPool=(ob={newShapeCollection:function(){return _length?pool[_length-=1]:new ShapeCollection},release:function(t){var e,n=t._length;for(e=0;e<n;e+=1)shapePool.release(t.shapes[e]);t._length=0,_length===_maxLength&&(pool=pooling.double(pool),_maxLength*=2),pool[_length]=t,_length+=1}},_length=0,_maxLength=4,pool=createSizedArray(_maxLength),ob),ob,_length,_maxLength,pool,ShapePropertyFactory=function(){function t(b,S,T){var C,w,R,L,N,F,B,U,z,K=T.lastIndex,Q=this.keyframes;if(b<Q[0].t-this.offsetTime)C=Q[0].s[0],R=!0,K=0;else if(b>=Q[Q.length-1].t-this.offsetTime)C=Q[Q.length-1].s?Q[Q.length-1].s[0]:Q[Q.length-2].e[0],R=!0;else{for(var q,H,se,le=K,ne=Q.length-1,ce=!0;ce&&(q=Q[le],!((H=Q[le+1]).t-this.offsetTime>b));)le<ne-1?le+=1:ce=!1;if(se=this.keyframesMetadata[le]||{},K=le,!(R=q.h===1)){if(b>=H.t-this.offsetTime)U=1;else if(b<q.t-this.offsetTime)U=0;else{var fe;se.__fnct?fe=se.__fnct:(fe=BezierFactory.getBezierEasing(q.o.x,q.o.y,q.i.x,q.i.y).get,se.__fnct=fe),U=fe((b-(q.t-this.offsetTime))/(H.t-this.offsetTime-(q.t-this.offsetTime)))}w=H.s?H.s[0]:q.e[0]}C=q.s[0]}for(F=S._length,B=C.i[0].length,T.lastIndex=K,L=0;L<F;L+=1)for(N=0;N<B;N+=1)z=R?C.i[L][N]:C.i[L][N]+(w.i[L][N]-C.i[L][N])*U,S.i[L][N]=z,z=R?C.o[L][N]:C.o[L][N]+(w.o[L][N]-C.o[L][N])*U,S.o[L][N]=z,z=R?C.v[L][N]:C.v[L][N]+(w.v[L][N]-C.v[L][N])*U,S.v[L][N]=z}function e(){var b=this.comp.renderedFrame-this.offsetTime,S=this.keyframes[0].t-this.offsetTime,T=this.keyframes[this.keyframes.length-1].t-this.offsetTime,C=this._caching.lastFrame;return C!==-999999&&(C<S&&b<S||C>T&&b>T)||(this._caching.lastIndex=C<b?this._caching.lastIndex:0,this.interpolateShape(b,this.pv,this._caching)),this._caching.lastFrame=b,this.pv}function n(){this.paths=this.localShapeCollection}function o(b){(function(S,T){if(S._length!==T._length||S.c!==T.c)return!1;var C,w=S._length;for(C=0;C<w;C+=1)if(S.v[C][0]!==T.v[C][0]||S.v[C][1]!==T.v[C][1]||S.o[C][0]!==T.o[C][0]||S.o[C][1]!==T.o[C][1]||S.i[C][0]!==T.i[C][0]||S.i[C][1]!==T.i[C][1])return!1;return!0})(this.v,b)||(this.v=shapePool.clone(b),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function l(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var b,S;this.lock=!0,this._mdf=!1,b=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var T=this.effectsSequence.length;for(S=0;S<T;S+=1)b=this.effectsSequence[S](b);this.setVValue(b),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function u(b,S,T){this.propType="shape",this.comp=b.comp,this.container=b,this.elem=b,this.data=S,this.k=!1,this.kf=!1,this._mdf=!1;var C=T===3?S.pt.k:S.ks.k;this.v=shapePool.clone(C),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=n,this.effectsSequence=[]}function h(b){this.effectsSequence.push(b),this.container.addDynamicProperty(this)}function f(b,S,T){this.propType="shape",this.comp=b.comp,this.elem=b,this.container=b,this.offsetTime=b.data.st,this.keyframes=T===3?S.pt.k:S.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var C=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,C),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=-999999,this.reset=n,this._caching={lastFrame:-999999,lastIndex:0},this.effectsSequence=[e.bind(this)]}u.prototype.interpolateShape=t,u.prototype.getValue=l,u.prototype.setVValue=o,u.prototype.addEffect=h,f.prototype.getValue=l,f.prototype.interpolateShape=t,f.prototype.setVValue=o,f.prototype.addEffect=h;var d=function(){var b=roundCorner;function S(T,C){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=C.d,this.elem=T,this.comp=T.comp,this.frameId=-1,this.initDynamicPropertyContainer(T),this.p=PropertyFactory.getProp(T,C.p,1,0,this),this.s=PropertyFactory.getProp(T,C.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return S.prototype={reset:n,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var T=this.p.v[0],C=this.p.v[1],w=this.s.v[0]/2,R=this.s.v[1]/2,L=this.d!==3,N=this.v;N.v[0][0]=T,N.v[0][1]=C-R,N.v[1][0]=L?T+w:T-w,N.v[1][1]=C,N.v[2][0]=T,N.v[2][1]=C+R,N.v[3][0]=L?T-w:T+w,N.v[3][1]=C,N.i[0][0]=L?T-w*b:T+w*b,N.i[0][1]=C-R,N.i[1][0]=L?T+w:T-w,N.i[1][1]=C-R*b,N.i[2][0]=L?T+w*b:T-w*b,N.i[2][1]=C+R,N.i[3][0]=L?T-w:T+w,N.i[3][1]=C+R*b,N.o[0][0]=L?T+w*b:T-w*b,N.o[0][1]=C-R,N.o[1][0]=L?T+w:T-w,N.o[1][1]=C+R*b,N.o[2][0]=L?T-w*b:T+w*b,N.o[2][1]=C+R,N.o[3][0]=L?T-w:T+w,N.o[3][1]=C-R*b}},extendPrototype([DynamicPropertyContainer],S),S}(),p=function(){function b(S,T){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=S,this.comp=S.comp,this.data=T,this.frameId=-1,this.d=T.d,this.initDynamicPropertyContainer(S),T.sy===1?(this.ir=PropertyFactory.getProp(S,T.ir,0,0,this),this.is=PropertyFactory.getProp(S,T.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(S,T.pt,0,0,this),this.p=PropertyFactory.getProp(S,T.p,1,0,this),this.r=PropertyFactory.getProp(S,T.r,0,degToRads,this),this.or=PropertyFactory.getProp(S,T.or,0,0,this),this.os=PropertyFactory.getProp(S,T.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return b.prototype={reset:n,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var S,T,C,w,R=2*Math.floor(this.pt.v),L=2*Math.PI/R,N=!0,F=this.or.v,B=this.ir.v,U=this.os.v,z=this.is.v,K=2*Math.PI*F/(2*R),Q=2*Math.PI*B/(2*R),q=-Math.PI/2;q+=this.r.v;var H=this.data.d===3?-1:1;for(this.v._length=0,S=0;S<R;S+=1){C=N?U:z,w=N?K:Q;var se=(T=N?F:B)*Math.cos(q),le=T*Math.sin(q),ne=se===0&&le===0?0:le/Math.sqrt(se*se+le*le),ce=se===0&&le===0?0:-se/Math.sqrt(se*se+le*le);se+=+this.p.v[0],le+=+this.p.v[1],this.v.setTripleAt(se,le,se-ne*w*C*H,le-ce*w*C*H,se+ne*w*C*H,le+ce*w*C*H,S,!0),N=!N,q+=L*H}},convertPolygonToPath:function(){var S,T=Math.floor(this.pt.v),C=2*Math.PI/T,w=this.or.v,R=this.os.v,L=2*Math.PI*w/(4*T),N=.5*-Math.PI,F=this.data.d===3?-1:1;for(N+=this.r.v,this.v._length=0,S=0;S<T;S+=1){var B=w*Math.cos(N),U=w*Math.sin(N),z=B===0&&U===0?0:U/Math.sqrt(B*B+U*U),K=B===0&&U===0?0:-B/Math.sqrt(B*B+U*U);B+=+this.p.v[0],U+=+this.p.v[1],this.v.setTripleAt(B,U,B-z*L*R*F,U-K*L*R*F,B+z*L*R*F,U+K*L*R*F,S,!0),N+=C*F}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],b),b}(),m=function(){function b(S,T){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=S,this.comp=S.comp,this.frameId=-1,this.d=T.d,this.initDynamicPropertyContainer(S),this.p=PropertyFactory.getProp(S,T.p,1,0,this),this.s=PropertyFactory.getProp(S,T.s,1,0,this),this.r=PropertyFactory.getProp(S,T.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return b.prototype={convertRectToPath:function(){var S=this.p.v[0],T=this.p.v[1],C=this.s.v[0]/2,w=this.s.v[1]/2,R=bmMin(C,w,this.r.v),L=R*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(S+C,T-w+R,S+C,T-w+R,S+C,T-w+L,0,!0),this.v.setTripleAt(S+C,T+w-R,S+C,T+w-L,S+C,T+w-R,1,!0),R!==0?(this.v.setTripleAt(S+C-R,T+w,S+C-R,T+w,S+C-L,T+w,2,!0),this.v.setTripleAt(S-C+R,T+w,S-C+L,T+w,S-C+R,T+w,3,!0),this.v.setTripleAt(S-C,T+w-R,S-C,T+w-R,S-C,T+w-L,4,!0),this.v.setTripleAt(S-C,T-w+R,S-C,T-w+L,S-C,T-w+R,5,!0),this.v.setTripleAt(S-C+R,T-w,S-C+R,T-w,S-C+L,T-w,6,!0),this.v.setTripleAt(S+C-R,T-w,S+C-L,T-w,S+C-R,T-w,7,!0)):(this.v.setTripleAt(S-C,T+w,S-C+L,T+w,S-C,T+w,2),this.v.setTripleAt(S-C,T-w,S-C,T-w+L,S-C,T-w,3))):(this.v.setTripleAt(S+C,T-w+R,S+C,T-w+L,S+C,T-w+R,0,!0),R!==0?(this.v.setTripleAt(S+C-R,T-w,S+C-R,T-w,S+C-L,T-w,1,!0),this.v.setTripleAt(S-C+R,T-w,S-C+L,T-w,S-C+R,T-w,2,!0),this.v.setTripleAt(S-C,T-w+R,S-C,T-w+R,S-C,T-w+L,3,!0),this.v.setTripleAt(S-C,T+w-R,S-C,T+w-L,S-C,T+w-R,4,!0),this.v.setTripleAt(S-C+R,T+w,S-C+R,T+w,S-C+L,T+w,5,!0),this.v.setTripleAt(S+C-R,T+w,S+C-L,T+w,S+C-R,T+w,6,!0),this.v.setTripleAt(S+C,T+w-R,S+C,T+w-R,S+C,T+w-L,7,!0)):(this.v.setTripleAt(S-C,T-w,S-C+L,T-w,S-C,T-w,1,!0),this.v.setTripleAt(S-C,T+w,S-C,T+w-L,S-C,T+w,2,!0),this.v.setTripleAt(S+C,T+w,S+C-L,T+w,S+C,T+w,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:n},extendPrototype([DynamicPropertyContainer],b),b}(),v={getShapeProp:function(b,S,T){var C;return T===3||T===4?C=(T===3?S.pt:S.ks).k.length?new f(b,S,T):new u(b,S,T):T===5?C=new m(b,S):T===6?C=new d(b,S):T===7&&(C=new p(b,S)),C.k&&b.addDynamicProperty(C),C},getConstructorFunction:function(){return u},getKeyframedConstructorFunction:function(){return f}};return v}(),Matrix=function(){var t=Math.cos,e=Math.sin,n=Math.tan,o=Math.round;function l(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function u(Z){if(Z===0)return this;var ie=t(Z),oe=e(Z);return this._t(ie,-oe,0,0,oe,ie,0,0,0,0,1,0,0,0,0,1)}function h(Z){if(Z===0)return this;var ie=t(Z),oe=e(Z);return this._t(1,0,0,0,0,ie,-oe,0,0,oe,ie,0,0,0,0,1)}function f(Z){if(Z===0)return this;var ie=t(Z),oe=e(Z);return this._t(ie,0,oe,0,0,1,0,0,-oe,0,ie,0,0,0,0,1)}function d(Z){if(Z===0)return this;var ie=t(Z),oe=e(Z);return this._t(ie,-oe,0,0,oe,ie,0,0,0,0,1,0,0,0,0,1)}function p(Z,ie){return this._t(1,ie,Z,1,0,0)}function m(Z,ie){return this.shear(n(Z),n(ie))}function v(Z,ie){var oe=t(ie),ae=e(ie);return this._t(oe,ae,0,0,-ae,oe,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,n(Z),1,0,0,0,0,1,0,0,0,0,1)._t(oe,-ae,0,0,ae,oe,0,0,0,0,1,0,0,0,0,1)}function b(Z,ie,oe){return oe||oe===0||(oe=1),Z===1&&ie===1&&oe===1?this:this._t(Z,0,0,0,0,ie,0,0,0,0,oe,0,0,0,0,1)}function S(Z,ie,oe,ae,pe,we,_e,Me,Oe,Ye,qe,Re,Je,ke,de,Be){return this.props[0]=Z,this.props[1]=ie,this.props[2]=oe,this.props[3]=ae,this.props[4]=pe,this.props[5]=we,this.props[6]=_e,this.props[7]=Me,this.props[8]=Oe,this.props[9]=Ye,this.props[10]=qe,this.props[11]=Re,this.props[12]=Je,this.props[13]=ke,this.props[14]=de,this.props[15]=Be,this}function T(Z,ie,oe){return oe=oe||0,Z!==0||ie!==0||oe!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,Z,ie,oe,1):this}function C(Z,ie,oe,ae,pe,we,_e,Me,Oe,Ye,qe,Re,Je,ke,de,Be){var Pe=this.props;if(Z===1&&ie===0&&oe===0&&ae===0&&pe===0&&we===1&&_e===0&&Me===0&&Oe===0&&Ye===0&&qe===1&&Re===0)return Pe[12]=Pe[12]*Z+Pe[15]*Je,Pe[13]=Pe[13]*we+Pe[15]*ke,Pe[14]=Pe[14]*qe+Pe[15]*de,Pe[15]*=Be,this._identityCalculated=!1,this;var et=Pe[0],He=Pe[1],rt=Pe[2],ot=Pe[3],ht=Pe[4],xt=Pe[5],me=Pe[6],he=Pe[7],Ne=Pe[8],Ve=Pe[9],tt=Pe[10],nt=Pe[11],Pt=Pe[12],Tt=Pe[13],ut=Pe[14],ft=Pe[15];return Pe[0]=et*Z+He*pe+rt*Oe+ot*Je,Pe[1]=et*ie+He*we+rt*Ye+ot*ke,Pe[2]=et*oe+He*_e+rt*qe+ot*de,Pe[3]=et*ae+He*Me+rt*Re+ot*Be,Pe[4]=ht*Z+xt*pe+me*Oe+he*Je,Pe[5]=ht*ie+xt*we+me*Ye+he*ke,Pe[6]=ht*oe+xt*_e+me*qe+he*de,Pe[7]=ht*ae+xt*Me+me*Re+he*Be,Pe[8]=Ne*Z+Ve*pe+tt*Oe+nt*Je,Pe[9]=Ne*ie+Ve*we+tt*Ye+nt*ke,Pe[10]=Ne*oe+Ve*_e+tt*qe+nt*de,Pe[11]=Ne*ae+Ve*Me+tt*Re+nt*Be,Pe[12]=Pt*Z+Tt*pe+ut*Oe+ft*Je,Pe[13]=Pt*ie+Tt*we+ut*Ye+ft*ke,Pe[14]=Pt*oe+Tt*_e+ut*qe+ft*de,Pe[15]=Pt*ae+Tt*Me+ut*Re+ft*Be,this._identityCalculated=!1,this}function w(Z){var ie=Z.props;return this.transform(ie[0],ie[1],ie[2],ie[3],ie[4],ie[5],ie[6],ie[7],ie[8],ie[9],ie[10],ie[11],ie[12],ie[13],ie[14],ie[15])}function R(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function L(Z){for(var ie=0;ie<16;){if(Z.props[ie]!==this.props[ie])return!1;ie+=1}return!0}function N(Z){var ie;for(ie=0;ie<16;ie+=1)Z.props[ie]=this.props[ie];return Z}function F(Z){var ie;for(ie=0;ie<16;ie+=1)this.props[ie]=Z[ie]}function B(Z,ie,oe){return{x:Z*this.props[0]+ie*this.props[4]+oe*this.props[8]+this.props[12],y:Z*this.props[1]+ie*this.props[5]+oe*this.props[9]+this.props[13],z:Z*this.props[2]+ie*this.props[6]+oe*this.props[10]+this.props[14]}}function U(Z,ie,oe){return Z*this.props[0]+ie*this.props[4]+oe*this.props[8]+this.props[12]}function z(Z,ie,oe){return Z*this.props[1]+ie*this.props[5]+oe*this.props[9]+this.props[13]}function K(Z,ie,oe){return Z*this.props[2]+ie*this.props[6]+oe*this.props[10]+this.props[14]}function Q(){var Z=this.props[0]*this.props[5]-this.props[1]*this.props[4],ie=this.props[5]/Z,oe=-this.props[1]/Z,ae=-this.props[4]/Z,pe=this.props[0]/Z,we=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/Z,_e=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/Z,Me=new Matrix;return Me.props[0]=ie,Me.props[1]=oe,Me.props[4]=ae,Me.props[5]=pe,Me.props[12]=we,Me.props[13]=_e,Me}function q(Z){return this.getInverseMatrix().applyToPointArray(Z[0],Z[1],Z[2]||0)}function H(Z){var ie,oe=Z.length,ae=[];for(ie=0;ie<oe;ie+=1)ae[ie]=q(Z[ie]);return ae}function se(Z,ie,oe){var ae=createTypedArray("float32",6);if(this.isIdentity())ae[0]=Z[0],ae[1]=Z[1],ae[2]=ie[0],ae[3]=ie[1],ae[4]=oe[0],ae[5]=oe[1];else{var pe=this.props[0],we=this.props[1],_e=this.props[4],Me=this.props[5],Oe=this.props[12],Ye=this.props[13];ae[0]=Z[0]*pe+Z[1]*_e+Oe,ae[1]=Z[0]*we+Z[1]*Me+Ye,ae[2]=ie[0]*pe+ie[1]*_e+Oe,ae[3]=ie[0]*we+ie[1]*Me+Ye,ae[4]=oe[0]*pe+oe[1]*_e+Oe,ae[5]=oe[0]*we+oe[1]*Me+Ye}return ae}function le(Z,ie,oe){return this.isIdentity()?[Z,ie,oe]:[Z*this.props[0]+ie*this.props[4]+oe*this.props[8]+this.props[12],Z*this.props[1]+ie*this.props[5]+oe*this.props[9]+this.props[13],Z*this.props[2]+ie*this.props[6]+oe*this.props[10]+this.props[14]]}function ne(Z,ie){if(this.isIdentity())return Z+","+ie;var oe=this.props;return Math.round(100*(Z*oe[0]+ie*oe[4]+oe[12]))/100+","+Math.round(100*(Z*oe[1]+ie*oe[5]+oe[13]))/100}function ce(){for(var Z=0,ie=this.props,oe="matrix3d(";Z<16;)oe+=o(1e4*ie[Z])/1e4,oe+=Z===15?")":",",Z+=1;return oe}function fe(Z){return Z<1e-6&&Z>0||Z>-1e-6&&Z<0?o(1e4*Z)/1e4:Z}function ge(){var Z=this.props;return"matrix("+fe(Z[0])+","+fe(Z[1])+","+fe(Z[4])+","+fe(Z[5])+","+fe(Z[12])+","+fe(Z[13])+")"}return function(){this.reset=l,this.rotate=u,this.rotateX=h,this.rotateY=f,this.rotateZ=d,this.skew=m,this.skewFromAxis=v,this.shear=p,this.scale=b,this.setTransform=S,this.translate=T,this.transform=C,this.multiply=w,this.applyToPoint=B,this.applyToX=U,this.applyToY=z,this.applyToZ=K,this.applyToPointArray=le,this.applyToTriplePoints=se,this.applyToPointStringified=ne,this.toCSS=ce,this.to2dCSS=ge,this.clone=N,this.cloneFromProps=F,this.equals=L,this.inversePoints=H,this.inversePoint=q,this.getInverseMatrix=Q,this._t=this.transform,this.isIdentity=R,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(t){return(_typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}var lottie={};function setLocation(t){setLocationHref(t)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(t){setSubframeEnabled(t)}function setPrefix(t){setIdPrefix(t)}function loadAnimation(t){return animationManager.loadAnimation(t)}function setQuality(t){if(typeof t=="string")switch(t){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10)}else!isNaN(t)&&t>1&&setDefaultCurveSegments(t)}function inBrowser(){return typeof navigator<"u"}function installPlugin(t,e){t==="expressions"&&setExpressionsPlugin(e)}function getFactory(t){switch(t){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(t){for(var e=queryString.split("&"),n=0;n<e.length;n+=1){var o=e[n].split("=");if(decodeURIComponent(o[0])==t)return decodeURIComponent(o[1])}return null}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.12.2";var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch(t){}var ShapeModifiers=function(){var t={},e={};return t.registerModifier=function(n,o){e[n]||(e[n]=o)},t.getModifier=function(n,o,l){return new e[n](o,l)},t}();function ShapeModifier(){}function TrimModifier(){}function PuckerAndBloatModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(t){if(!this.closed){t.sh.container.addDynamicProperty(t.sh);var e={shape:t.sh,data:t,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(e),this.addShapeToModifier(e),this._isAnimated&&t.setAsAnimated()}},ShapeModifier.prototype.init=function(t,e){this.shapes=[],this.elem=t,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(t,e){this.s=PropertyFactory.getProp(t,e.s,0,.01,this),this.e=PropertyFactory.getProp(t,e.e,0,.01,this),this.o=PropertyFactory.getProp(t,e.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=e.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(t){t.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(t,e,n,o,l){var u=[];e<=1?u.push({s:t,e}):t>=1?u.push({s:t-1,e:e-1}):(u.push({s:t,e:1}),u.push({s:0,e:e-1}));var h,f,d=[],p=u.length;for(h=0;h<p;h+=1){var m,v;(f=u[h]).e*l<o||f.s*l>o+n||(m=f.s*l<=o?0:(f.s*l-o)/n,v=f.e*l>=o+n?1:(f.e*l-o)/n,d.push([m,v]))}return d.length||d.push([0,0]),d},TrimModifier.prototype.releasePathsData=function(t){var e,n=t.length;for(e=0;e<n;e+=1)segmentsLengthPool.release(t[e]);return t.length=0,t},TrimModifier.prototype.processShapes=function(t){var e,n,o,l;if(this._mdf||t){var u=this.o.v%360/360;if(u<0&&(u+=1),(e=this.s.v>1?1+u:this.s.v<0?0+u:this.s.v+u)>(n=this.e.v>1?1+u:this.e.v<0?0+u:this.e.v+u)){var h=e;e=n,n=h}e=1e-4*Math.round(1e4*e),n=1e-4*Math.round(1e4*n),this.sValue=e,this.eValue=n}else e=this.sValue,n=this.eValue;var f,d,p,m,v,b=this.shapes.length,S=0;if(n===e)for(l=0;l<b;l+=1)this.shapes[l].localShapeCollection.releaseShapes(),this.shapes[l].shape._mdf=!0,this.shapes[l].shape.paths=this.shapes[l].localShapeCollection,this._mdf&&(this.shapes[l].pathsData.length=0);else if(n===1&&e===0||n===0&&e===1){if(this._mdf)for(l=0;l<b;l+=1)this.shapes[l].pathsData.length=0,this.shapes[l].shape._mdf=!0}else{var T,C,w=[];for(l=0;l<b;l+=1)if((T=this.shapes[l]).shape._mdf||this._mdf||t||this.m===2){if(d=(o=T.shape.paths)._length,v=0,!T.shape._mdf&&T.pathsData.length)v=T.totalShapeLength;else{for(p=this.releasePathsData(T.pathsData),f=0;f<d;f+=1)m=bez.getSegmentsLength(o.shapes[f]),p.push(m),v+=m.totalLength;T.totalShapeLength=v,T.pathsData=p}S+=v,T.shape._mdf=!0}else T.shape.paths=T.localShapeCollection;var R,L=e,N=n,F=0;for(l=b-1;l>=0;l-=1)if((T=this.shapes[l]).shape._mdf){for((C=T.localShapeCollection).releaseShapes(),this.m===2&&b>1?(R=this.calculateShapeEdges(e,n,T.totalShapeLength,F,S),F+=T.totalShapeLength):R=[[L,N]],d=R.length,f=0;f<d;f+=1){L=R[f][0],N=R[f][1],w.length=0,N<=1?w.push({s:T.totalShapeLength*L,e:T.totalShapeLength*N}):L>=1?w.push({s:T.totalShapeLength*(L-1),e:T.totalShapeLength*(N-1)}):(w.push({s:T.totalShapeLength*L,e:T.totalShapeLength}),w.push({s:0,e:T.totalShapeLength*(N-1)}));var B=this.addShapes(T,w[0]);if(w[0].s!==w[0].e){if(w.length>1)if(T.shape.paths.shapes[T.shape.paths._length-1].c){var U=B.pop();this.addPaths(B,C),B=this.addShapes(T,w[1],U)}else this.addPaths(B,C),B=this.addShapes(T,w[1]);this.addPaths(B,C)}}T.shape.paths=C}}},TrimModifier.prototype.addPaths=function(t,e){var n,o=t.length;for(n=0;n<o;n+=1)e.addShape(t[n])},TrimModifier.prototype.addSegment=function(t,e,n,o,l,u,h){l.setXYAt(e[0],e[1],"o",u),l.setXYAt(n[0],n[1],"i",u+1),h&&l.setXYAt(t[0],t[1],"v",u),l.setXYAt(o[0],o[1],"v",u+1)},TrimModifier.prototype.addSegmentFromArray=function(t,e,n,o){e.setXYAt(t[1],t[5],"o",n),e.setXYAt(t[2],t[6],"i",n+1),o&&e.setXYAt(t[0],t[4],"v",n),e.setXYAt(t[3],t[7],"v",n+1)},TrimModifier.prototype.addShapes=function(t,e,n){var o,l,u,h,f,d,p,m,v=t.pathsData,b=t.shape.paths.shapes,S=t.shape.paths._length,T=0,C=[],w=!0;for(n?(f=n._length,m=n._length):(n=shapePool.newElement(),f=0,m=0),C.push(n),o=0;o<S;o+=1){for(d=v[o].lengths,n.c=b[o].c,u=b[o].c?d.length:d.length+1,l=1;l<u;l+=1)if(T+(h=d[l-1]).addedLength<e.s)T+=h.addedLength,n.c=!1;else{if(T>e.e){n.c=!1;break}e.s<=T&&e.e>=T+h.addedLength?(this.addSegment(b[o].v[l-1],b[o].o[l-1],b[o].i[l],b[o].v[l],n,f,w),w=!1):(p=bez.getNewSegment(b[o].v[l-1],b[o].v[l],b[o].o[l-1],b[o].i[l],(e.s-T)/h.addedLength,(e.e-T)/h.addedLength,d[l-1]),this.addSegmentFromArray(p,n,f,w),w=!1,n.c=!1),T+=h.addedLength,f+=1}if(b[o].c&&d.length){if(h=d[l-1],T<=e.e){var R=d[l-1].addedLength;e.s<=T&&e.e>=T+R?(this.addSegment(b[o].v[l-1],b[o].o[l-1],b[o].i[0],b[o].v[0],n,f,w),w=!1):(p=bez.getNewSegment(b[o].v[l-1],b[o].v[0],b[o].o[l-1],b[o].i[0],(e.s-T)/R,(e.e-T)/R,d[l-1]),this.addSegmentFromArray(p,n,f,w),w=!1,n.c=!1)}else n.c=!1;T+=h.addedLength,f+=1}if(n._length&&(n.setXYAt(n.v[m][0],n.v[m][1],"i",m),n.setXYAt(n.v[n._length-1][0],n.v[n._length-1][1],"o",n._length-1)),T>e.e)break;o<S-1&&(n=shapePool.newElement(),w=!0,C.push(n),f=0)}return C},extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(t,e.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(t,e){var n=e/100,o=[0,0],l=t._length,u=0;for(u=0;u<l;u+=1)o[0]+=t.v[u][0],o[1]+=t.v[u][1];o[0]/=l,o[1]/=l;var h,f,d,p,m,v,b=shapePool.newElement();for(b.c=t.c,u=0;u<l;u+=1)h=t.v[u][0]+(o[0]-t.v[u][0])*n,f=t.v[u][1]+(o[1]-t.v[u][1])*n,d=t.o[u][0]+(o[0]-t.o[u][0])*-n,p=t.o[u][1]+(o[1]-t.o[u][1])*-n,m=t.i[u][0]+(o[0]-t.i[u][0])*-n,v=t.i[u][1]+(o[1]-t.i[u][1])*-n,b.setTripleAt(h,f,d,p,m,v,u);return b},PuckerAndBloatModifier.prototype.processShapes=function(t){var e,n,o,l,u,h,f=this.shapes.length,d=this.amount.v;if(d!==0)for(n=0;n<f;n+=1){if(h=(u=this.shapes[n]).localShapeCollection,u.shape._mdf||this._mdf||t)for(h.releaseShapes(),u.shape._mdf=!0,e=u.shape.paths.shapes,l=u.shape.paths._length,o=0;o<l;o+=1)h.addShape(this.processPath(e[o],d));u.shape.paths=u.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var t=[0,0];function e(n,o,l){if(this.elem=n,this.frameId=-1,this.propType="transform",this.data=o,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(l||n),o.p&&o.p.s?(this.px=PropertyFactory.getProp(n,o.p.x,0,0,this),this.py=PropertyFactory.getProp(n,o.p.y,0,0,this),o.p.z&&(this.pz=PropertyFactory.getProp(n,o.p.z,0,0,this))):this.p=PropertyFactory.getProp(n,o.p||{k:[0,0,0]},1,0,this),o.rx){if(this.rx=PropertyFactory.getProp(n,o.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(n,o.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(n,o.rz,0,degToRads,this),o.or.k[0].ti){var u,h=o.or.k.length;for(u=0;u<h;u+=1)o.or.k[u].to=null,o.or.k[u].ti=null}this.or=PropertyFactory.getProp(n,o.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(n,o.r||{k:0},0,degToRads,this);o.sk&&(this.sk=PropertyFactory.getProp(n,o.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(n,o.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(n,o.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(n,o.s||{k:[100,100,100]},1,.01,this),o.o?this.o=PropertyFactory.getProp(n,o.o,0,.01,n):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return e.prototype={applyToMatrix:function(n){var o=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||o,this.a&&n.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&n.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&n.skewFromAxis(-this.sk.v,this.sa.v),this.r?n.rotate(-this.r.v):n.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?n.translate(this.px.v,this.py.v,-this.pz.v):n.translate(this.px.v,this.py.v,0):n.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(n){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||n){var o;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var l,u;if(o=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(l=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/o,0),u=this.p.getValueAtTime(this.p.keyframes[0].t/o,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(l=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/o,0),u=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/o,0)):(l=this.p.pv,u=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/o,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){l=[],u=[];var h=this.px,f=this.py;h._caching.lastFrame+h.offsetTime<=h.keyframes[0].t?(l[0]=h.getValueAtTime((h.keyframes[0].t+.01)/o,0),l[1]=f.getValueAtTime((f.keyframes[0].t+.01)/o,0),u[0]=h.getValueAtTime(h.keyframes[0].t/o,0),u[1]=f.getValueAtTime(f.keyframes[0].t/o,0)):h._caching.lastFrame+h.offsetTime>=h.keyframes[h.keyframes.length-1].t?(l[0]=h.getValueAtTime(h.keyframes[h.keyframes.length-1].t/o,0),l[1]=f.getValueAtTime(f.keyframes[f.keyframes.length-1].t/o,0),u[0]=h.getValueAtTime((h.keyframes[h.keyframes.length-1].t-.01)/o,0),u[1]=f.getValueAtTime((f.keyframes[f.keyframes.length-1].t-.01)/o,0)):(l=[h.pv,f.pv],u[0]=h.getValueAtTime((h._caching.lastFrame+h.offsetTime-.01)/o,h.offsetTime),u[1]=f.getValueAtTime((f._caching.lastFrame+f.offsetTime-.01)/o,f.offsetTime))}else l=u=t;this.v.rotate(-Math.atan2(l[1]-u[1],l[0]-u[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],e),e.prototype.addDynamicProperty=function(n){this._addDynamicProperty(n),this.elem.addDynamicProperty(n),this._isDirty=!0},e.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(n,o,l){return new e(n,o,l)}}}();function RepeaterModifier(){}function RoundCornersModifier(){}function floatEqual(t,e){return 1e5*Math.abs(t-e)<=Math.min(Math.abs(t),Math.abs(e))}function floatZero(t){return Math.abs(t)<=1e-5}function lerp(t,e,n){return t*(1-n)+e*n}function lerpPoint(t,e,n){return[lerp(t[0],e[0],n),lerp(t[1],e[1],n)]}function quadRoots(t,e,n){if(t===0)return[];var o=e*e-4*t*n;if(o<0)return[];var l=-e/(2*t);if(o===0)return[l];var u=Math.sqrt(o)/(2*t);return[l-u,l+u]}function polynomialCoefficients(t,e,n,o){return[3*e-t-3*n+o,3*t-6*e+3*n,-3*t+3*e,t]}function singlePoint(t){return new PolynomialBezier(t,t,t,t,!1)}function PolynomialBezier(t,e,n,o,l){l&&pointEqual(t,e)&&(e=lerpPoint(t,o,1/3)),l&&pointEqual(n,o)&&(n=lerpPoint(t,o,2/3));var u=polynomialCoefficients(t[0],e[0],n[0],o[0]),h=polynomialCoefficients(t[1],e[1],n[1],o[1]);this.a=[u[0],h[0]],this.b=[u[1],h[1]],this.c=[u[2],h[2]],this.d=[u[3],h[3]],this.points=[t,e,n,o]}function extrema(t,e){var n=t.points[0][e],o=t.points[t.points.length-1][e];if(n>o){var l=o;o=n,n=l}for(var u=quadRoots(3*t.a[e],2*t.b[e],t.c[e]),h=0;h<u.length;h+=1)if(u[h]>0&&u[h]<1){var f=t.point(u[h])[e];f<n?n=f:f>o&&(o=f)}return{min:n,max:o}}function intersectData(t,e,n){var o=t.boundingBox();return{cx:o.cx,cy:o.cy,width:o.width,height:o.height,bez:t,t:(e+n)/2,t1:e,t2:n}}function splitData(t){var e=t.bez.split(.5);return[intersectData(e[0],t.t1,t.t),intersectData(e[1],t.t,t.t2)]}function boxIntersect(t,e){return 2*Math.abs(t.cx-e.cx)<t.width+e.width&&2*Math.abs(t.cy-e.cy)<t.height+e.height}function intersectsImpl(t,e,n,o,l,u){if(boxIntersect(t,e))if(n>=u||t.width<=o&&t.height<=o&&e.width<=o&&e.height<=o)l.push([t.t,e.t]);else{var h=splitData(t),f=splitData(e);intersectsImpl(h[0],f[0],n+1,o,l,u),intersectsImpl(h[0],f[1],n+1,o,l,u),intersectsImpl(h[1],f[0],n+1,o,l,u),intersectsImpl(h[1],f[1],n+1,o,l,u)}}function crossProduct(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function lineIntersection(t,e,n,o){var l=[t[0],t[1],1],u=[e[0],e[1],1],h=[n[0],n[1],1],f=[o[0],o[1],1],d=crossProduct(crossProduct(l,u),crossProduct(h,f));return floatZero(d[2])?null:[d[0]/d[2],d[1]/d[2]]}function polarOffset(t,e,n){return[t[0]+Math.cos(e)*n,t[1]-Math.sin(e)*n]}function pointDistance(t,e){return Math.hypot(t[0]-e[0],t[1]-e[1])}function pointEqual(t,e){return floatEqual(t[0],e[0])&&floatEqual(t[1],e[1])}function ZigZagModifier(){}function setPoint(t,e,n,o,l,u,h){var f=n-Math.PI/2,d=n+Math.PI/2,p=e[0]+Math.cos(n)*o*l,m=e[1]-Math.sin(n)*o*l;t.setTripleAt(p,m,p+Math.cos(f)*u,m-Math.sin(f)*u,p+Math.cos(d)*h,m-Math.sin(d)*h,t.length())}function getPerpendicularVector(t,e){var n=[e[0]-t[0],e[1]-t[1]],o=.5*-Math.PI;return[Math.cos(o)*n[0]-Math.sin(o)*n[1],Math.sin(o)*n[0]+Math.cos(o)*n[1]]}function getProjectingAngle(t,e){var n=e===0?t.length()-1:e-1,o=(e+1)%t.length(),l=getPerpendicularVector(t.v[n],t.v[o]);return Math.atan2(0,1)-Math.atan2(l[1],l[0])}function zigZagCorner(t,e,n,o,l,u,h){var f=getProjectingAngle(e,n),d=e.v[n%e._length],p=e.v[n===0?e._length-1:n-1],m=e.v[(n+1)%e._length],v=u===2?Math.sqrt(Math.pow(d[0]-p[0],2)+Math.pow(d[1]-p[1],2)):0,b=u===2?Math.sqrt(Math.pow(d[0]-m[0],2)+Math.pow(d[1]-m[1],2)):0;setPoint(t,e.v[n%e._length],f,h,o,b/(2*(l+1)),v/(2*(l+1)))}function zigZagSegment(t,e,n,o,l,u){for(var h=0;h<o;h+=1){var f=(h+1)/(o+1),d=l===2?Math.sqrt(Math.pow(e.points[3][0]-e.points[0][0],2)+Math.pow(e.points[3][1]-e.points[0][1],2)):0,p=e.normalAngle(f);setPoint(t,e.point(f),p,u,n,d/(2*(o+1)),d/(2*(o+1))),u=-u}return u}function linearOffset(t,e,n){var o=Math.atan2(e[0]-t[0],e[1]-t[1]);return[polarOffset(t,o,n),polarOffset(e,o,n)]}function offsetSegment(t,e){var n,o,l,u,h,f,d;n=(d=linearOffset(t.points[0],t.points[1],e))[0],o=d[1],l=(d=linearOffset(t.points[1],t.points[2],e))[0],u=d[1],h=(d=linearOffset(t.points[2],t.points[3],e))[0],f=d[1];var p=lineIntersection(n,o,l,u);p===null&&(p=o);var m=lineIntersection(h,f,l,u);return m===null&&(m=h),new PolynomialBezier(n,p,m,f)}function joinLines(t,e,n,o,l){var u=e.points[3],h=n.points[0];if(o===3||pointEqual(u,h))return u;if(o===2){var f=-e.tangentAngle(1),d=-n.tangentAngle(0)+Math.PI,p=lineIntersection(u,polarOffset(u,f+Math.PI/2,100),h,polarOffset(h,f+Math.PI/2,100)),m=p?pointDistance(p,u):pointDistance(u,h)/2,v=polarOffset(u,f,2*m*roundCorner);return t.setXYAt(v[0],v[1],"o",t.length()-1),v=polarOffset(h,d,2*m*roundCorner),t.setTripleAt(h[0],h[1],h[0],h[1],v[0],v[1],t.length()),h}var b=lineIntersection(pointEqual(u,e.points[2])?e.points[0]:e.points[2],u,h,pointEqual(h,n.points[1])?n.points[3]:n.points[1]);return b&&pointDistance(b,u)<l?(t.setTripleAt(b[0],b[1],b[0],b[1],b[0],b[1],t.length()),b):u}function getIntersection(t,e){var n=t.intersections(e);return n.length&&floatEqual(n[0][0],1)&&n.shift(),n.length?n[0]:null}function pruneSegmentIntersection(t,e){var n=t.slice(),o=e.slice(),l=getIntersection(t[t.length-1],e[0]);return l&&(n[t.length-1]=t[t.length-1].split(l[0])[0],o[0]=e[0].split(l[1])[1]),t.length>1&&e.length>1&&(l=getIntersection(t[0],e[e.length-1]))?[[t[0].split(l[0])[0]],[e[e.length-1].split(l[1])[1]]]:[n,o]}function pruneIntersections(t){for(var e,n=1;n<t.length;n+=1)e=pruneSegmentIntersection(t[n-1],t[n]),t[n-1]=e[0],t[n]=e[1];return t.length>1&&(e=pruneSegmentIntersection(t[t.length-1],t[0]),t[t.length-1]=e[0],t[0]=e[1]),t}function offsetSegmentSplit(t,e){var n,o,l,u,h=t.inflectionPoints();if(h.length===0)return[offsetSegment(t,e)];if(h.length===1||floatEqual(h[1],1))return n=(l=t.split(h[0]))[0],o=l[1],[offsetSegment(n,e),offsetSegment(o,e)];n=(l=t.split(h[0]))[0];var f=(h[1]-h[0])/(1-h[0]);return u=(l=l[1].split(f))[0],o=l[1],[offsetSegment(n,e),offsetSegment(u,e),offsetSegment(o,e)]}function OffsetPathModifier(){}function getFontProperties(t){for(var e=t.fStyle?t.fStyle.split(" "):[],n="normal",o="normal",l=e.length,u=0;u<l;u+=1)switch(e[u].toLowerCase()){case"italic":o="italic";break;case"bold":n="700";break;case"black":n="900";break;case"medium":n="500";break;case"regular":case"normal":n="400";break;case"light":case"thin":n="200"}return{style:o,weight:t.fWeight||n}}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(t,e.c,0,null,this),this.o=PropertyFactory.getProp(t,e.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(t,e.tr,this),this.so=PropertyFactory.getProp(t,e.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(t,e.tr.eo,0,.01,this),this.data=e,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(t,e,n,o,l,u){var h=u?-1:1,f=o.s.v[0]+(1-o.s.v[0])*(1-l),d=o.s.v[1]+(1-o.s.v[1])*(1-l);t.translate(o.p.v[0]*h*l,o.p.v[1]*h*l,o.p.v[2]),e.translate(-o.a.v[0],-o.a.v[1],o.a.v[2]),e.rotate(-o.r.v*h*l),e.translate(o.a.v[0],o.a.v[1],o.a.v[2]),n.translate(-o.a.v[0],-o.a.v[1],o.a.v[2]),n.scale(u?1/f:f,u?1/d:d),n.translate(o.a.v[0],o.a.v[1],o.a.v[2])},RepeaterModifier.prototype.init=function(t,e,n,o){for(this.elem=t,this.arr=e,this.pos=n,this.elemsData=o,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e[n]);n>0;)n-=1,this._elements.unshift(e[n]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(t){var e,n=t.length;for(e=0;e<n;e+=1)t[e]._processed=!1,t[e].ty==="gr"&&this.resetElements(t[e].it)},RepeaterModifier.prototype.cloneElements=function(t){var e=JSON.parse(JSON.stringify(t));return this.resetElements(e),e},RepeaterModifier.prototype.changeGroupRender=function(t,e){var n,o=t.length;for(n=0;n<o;n+=1)t[n]._render=e,t[n].ty==="gr"&&this.changeGroupRender(t[n].it,e)},RepeaterModifier.prototype.processShapes=function(t){var e,n,o,l,u,h=!1;if(this._mdf||t){var f,d=Math.ceil(this.c.v);if(this._groups.length<d){for(;this._groups.length<d;){var p={it:this.cloneElements(this._elements),ty:"gr"};p.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,p),this._groups.splice(0,0,p),this._currentCopies+=1}this.elem.reloadShapes(),h=!0}for(u=0,o=0;o<=this._groups.length-1;o+=1){if(f=u<d,this._groups[o]._render=f,this.changeGroupRender(this._groups[o].it,f),!f){var m=this.elemsData[o].it,v=m[m.length-1];v.transform.op.v!==0?(v.transform.op._mdf=!0,v.transform.op.v=0):v.transform.op._mdf=!1}u+=1}this._currentCopies=d;var b=this.o.v,S=b%1,T=b>0?Math.floor(b):Math.ceil(b),C=this.pMatrix.props,w=this.rMatrix.props,R=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var L,N,F=0;if(b>0){for(;F<T;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),F+=1;S&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,S,!1),F+=S)}else if(b<0){for(;F>T;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),F-=1;S&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-S,!0),F-=S)}for(o=this.data.m===1?0:this._currentCopies-1,l=this.data.m===1?1:-1,u=this._currentCopies;u;){if(N=(n=(e=this.elemsData[o].it)[e.length-1].transform.mProps.v.props).length,e[e.length-1].transform.mProps._mdf=!0,e[e.length-1].transform.op._mdf=!0,e[e.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(o/(this._currentCopies-1)),F!==0){for((o!==0&&l===1||o!==this._currentCopies-1&&l===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(w[0],w[1],w[2],w[3],w[4],w[5],w[6],w[7],w[8],w[9],w[10],w[11],w[12],w[13],w[14],w[15]),this.matrix.transform(R[0],R[1],R[2],R[3],R[4],R[5],R[6],R[7],R[8],R[9],R[10],R[11],R[12],R[13],R[14],R[15]),this.matrix.transform(C[0],C[1],C[2],C[3],C[4],C[5],C[6],C[7],C[8],C[9],C[10],C[11],C[12],C[13],C[14],C[15]),L=0;L<N;L+=1)n[L]=this.matrix.props[L];this.matrix.reset()}else for(this.matrix.reset(),L=0;L<N;L+=1)n[L]=this.matrix.props[L];F+=1,u-=1,o+=l}}else for(u=this._currentCopies,o=0,l=1;u;)n=(e=this.elemsData[o].it)[e.length-1].transform.mProps.v.props,e[e.length-1].transform.mProps._mdf=!1,e[e.length-1].transform.op._mdf=!1,u-=1,o+=l;return h},RepeaterModifier.prototype.addShape=function(){},extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(t,e.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(t,e){var n,o=shapePool.newElement();o.c=t.c;var l,u,h,f,d,p,m,v,b,S,T,C,w=t._length,R=0;for(n=0;n<w;n+=1)l=t.v[n],h=t.o[n],u=t.i[n],l[0]===h[0]&&l[1]===h[1]&&l[0]===u[0]&&l[1]===u[1]?n!==0&&n!==w-1||t.c?(f=n===0?t.v[w-1]:t.v[n-1],p=(d=Math.sqrt(Math.pow(l[0]-f[0],2)+Math.pow(l[1]-f[1],2)))?Math.min(d/2,e)/d:0,m=T=l[0]+(f[0]-l[0])*p,v=C=l[1]-(l[1]-f[1])*p,b=m-(m-l[0])*roundCorner,S=v-(v-l[1])*roundCorner,o.setTripleAt(m,v,b,S,T,C,R),R+=1,f=n===w-1?t.v[0]:t.v[n+1],p=(d=Math.sqrt(Math.pow(l[0]-f[0],2)+Math.pow(l[1]-f[1],2)))?Math.min(d/2,e)/d:0,m=b=l[0]+(f[0]-l[0])*p,v=S=l[1]+(f[1]-l[1])*p,T=m-(m-l[0])*roundCorner,C=v-(v-l[1])*roundCorner,o.setTripleAt(m,v,b,S,T,C,R),R+=1):(o.setTripleAt(l[0],l[1],h[0],h[1],u[0],u[1],R),R+=1):(o.setTripleAt(t.v[n][0],t.v[n][1],t.o[n][0],t.o[n][1],t.i[n][0],t.i[n][1],R),R+=1);return o},RoundCornersModifier.prototype.processShapes=function(t){var e,n,o,l,u,h,f=this.shapes.length,d=this.rd.v;if(d!==0)for(n=0;n<f;n+=1){if(h=(u=this.shapes[n]).localShapeCollection,u.shape._mdf||this._mdf||t)for(h.releaseShapes(),u.shape._mdf=!0,e=u.shape.paths.shapes,l=u.shape.paths._length,o=0;o<l;o+=1)h.addShape(this.processPath(e[o],d));u.shape.paths=u.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},PolynomialBezier.prototype.point=function(t){return[((this.a[0]*t+this.b[0])*t+this.c[0])*t+this.d[0],((this.a[1]*t+this.b[1])*t+this.c[1])*t+this.d[1]]},PolynomialBezier.prototype.derivative=function(t){return[(3*t*this.a[0]+2*this.b[0])*t+this.c[0],(3*t*this.a[1]+2*this.b[1])*t+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(t){var e=this.derivative(t);return Math.atan2(e[1],e[0])},PolynomialBezier.prototype.normalAngle=function(t){var e=this.derivative(t);return Math.atan2(e[0],e[1])},PolynomialBezier.prototype.inflectionPoints=function(){var t=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(t))return[];var e=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/t,n=e*e-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/t;if(n<0)return[];var o=Math.sqrt(n);return floatZero(o)?o>0&&o<1?[e]:[]:[e-o,e+o].filter(function(l){return l>0&&l<1})},PolynomialBezier.prototype.split=function(t){if(t<=0)return[singlePoint(this.points[0]),this];if(t>=1)return[this,singlePoint(this.points[this.points.length-1])];var e=lerpPoint(this.points[0],this.points[1],t),n=lerpPoint(this.points[1],this.points[2],t),o=lerpPoint(this.points[2],this.points[3],t),l=lerpPoint(e,n,t),u=lerpPoint(n,o,t),h=lerpPoint(l,u,t);return[new PolynomialBezier(this.points[0],e,l,h,!0),new PolynomialBezier(h,u,o,this.points[3],!0)]},PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var t=this.bounds();return{left:t.x.min,right:t.x.max,top:t.y.min,bottom:t.y.max,width:t.x.max-t.x.min,height:t.y.max-t.y.min,cx:(t.x.max+t.x.min)/2,cy:(t.y.max+t.y.min)/2}},PolynomialBezier.prototype.intersections=function(t,e,n){e===void 0&&(e=2),n===void 0&&(n=7);var o=[];return intersectsImpl(intersectData(this,0,1),intersectData(t,0,1),0,e,o,n),o},PolynomialBezier.shapeSegment=function(t,e){var n=(e+1)%t.length();return new PolynomialBezier(t.v[e],t.o[e],t.i[n],t.v[n],!0)},PolynomialBezier.shapeSegmentInverted=function(t,e){var n=(e+1)%t.length();return new PolynomialBezier(t.v[n],t.i[n],t.o[e],t.v[e],!0)},extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(t,e.s,0,null,this),this.frequency=PropertyFactory.getProp(t,e.r,0,null,this),this.pointsType=PropertyFactory.getProp(t,e.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0},ZigZagModifier.prototype.processPath=function(t,e,n,o){var l=t._length,u=shapePool.newElement();if(u.c=t.c,t.c||(l-=1),l===0)return u;var h=-1,f=PolynomialBezier.shapeSegment(t,0);zigZagCorner(u,t,0,e,n,o,h);for(var d=0;d<l;d+=1)h=zigZagSegment(u,f,e,n,o,-h),f=d!==l-1||t.c?PolynomialBezier.shapeSegment(t,(d+1)%l):null,zigZagCorner(u,t,d+1,e,n,o,h);return u},ZigZagModifier.prototype.processShapes=function(t){var e,n,o,l,u,h,f=this.shapes.length,d=this.amplitude.v,p=Math.max(0,Math.round(this.frequency.v)),m=this.pointsType.v;if(d!==0)for(n=0;n<f;n+=1){if(h=(u=this.shapes[n]).localShapeCollection,u.shape._mdf||this._mdf||t)for(h.releaseShapes(),u.shape._mdf=!0,e=u.shape.paths.shapes,l=u.shape.paths._length,o=0;o<l;o+=1)h.addShape(this.processPath(e[o],d,p,m));u.shape.paths=u.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(t,e.a,0,null,this),this.miterLimit=PropertyFactory.getProp(t,e.ml,0,null,this),this.lineJoin=e.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(t,e,n,o){var l=shapePool.newElement();l.c=t.c;var u,h,f,d=t.length();t.c||(d-=1);var p=[];for(u=0;u<d;u+=1)f=PolynomialBezier.shapeSegment(t,u),p.push(offsetSegmentSplit(f,e));if(!t.c)for(u=d-1;u>=0;u-=1)f=PolynomialBezier.shapeSegmentInverted(t,u),p.push(offsetSegmentSplit(f,e));p=pruneIntersections(p);var m=null,v=null;for(u=0;u<p.length;u+=1){var b=p[u];for(v&&(m=joinLines(l,v,b[0],n,o)),v=b[b.length-1],h=0;h<b.length;h+=1)f=b[h],m&&pointEqual(f.points[0],m)?l.setXYAt(f.points[1][0],f.points[1][1],"o",l.length()-1):l.setTripleAt(f.points[0][0],f.points[0][1],f.points[1][0],f.points[1][1],f.points[0][0],f.points[0][1],l.length()),l.setTripleAt(f.points[3][0],f.points[3][1],f.points[3][0],f.points[3][1],f.points[2][0],f.points[2][1],l.length()),m=f.points[3]}return p.length&&joinLines(l,v,p[0][0],n,o),l},OffsetPathModifier.prototype.processShapes=function(t){var e,n,o,l,u,h,f=this.shapes.length,d=this.amount.v,p=this.miterLimit.v,m=this.lineJoin;if(d!==0)for(n=0;n<f;n+=1){if(h=(u=this.shapes[n]).localShapeCollection,u.shape._mdf||this._mdf||t)for(h.releaseShapes(),u.shape._mdf=!0,e=u.shape.paths.shapes,l=u.shape.paths._length,o=0;o<l;o+=1)h.addShape(this.processPath(e[o],d,m,p));u.shape.paths=u.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var FontManager=function(){var t={w:0,size:0,shapes:[],data:{shapes:[]}},e=[];e=e.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var n=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function o(d,p){var m=createTag("span");m.setAttribute("aria-hidden",!0),m.style.fontFamily=p;var v=createTag("span");v.innerText="giItT1WQy@!-/#",m.style.position="absolute",m.style.left="-10000px",m.style.top="-10000px",m.style.fontSize="300px",m.style.fontVariant="normal",m.style.fontStyle="normal",m.style.fontWeight="normal",m.style.letterSpacing="0",m.appendChild(v),document.body.appendChild(m);var b=v.offsetWidth;return v.style.fontFamily=function(S){var T,C=S.split(","),w=C.length,R=[];for(T=0;T<w;T+=1)C[T]!=="sans-serif"&&C[T]!=="monospace"&&R.push(C[T]);return R.join(",")}(d)+", "+p,{node:v,w:b,parent:m}}function l(d,p){var m,v=document.body&&p?"svg":"canvas",b=getFontProperties(d);if(v==="svg"){var S=createNS("text");S.style.fontSize="100px",S.setAttribute("font-family",d.fFamily),S.setAttribute("font-style",b.style),S.setAttribute("font-weight",b.weight),S.textContent="1",d.fClass?(S.style.fontFamily="inherit",S.setAttribute("class",d.fClass)):S.style.fontFamily=d.fFamily,p.appendChild(S),m=S}else{var T=new OffscreenCanvas(500,500).getContext("2d");T.font=b.style+" "+b.weight+" 100px "+d.fFamily,m=T}return{measureText:function(C){return v==="svg"?(m.textContent=C,m.getComputedTextLength()):m.measureText(C).width}}}function u(d){var p=0,m=d.charCodeAt(0);if(m>=55296&&m<=56319){var v=d.charCodeAt(1);v>=56320&&v<=57343&&(p=1024*(m-55296)+v-56320+65536)}return p}function h(d){var p=u(d);return p>=127462&&p<=127487}var f=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};return f.isModifier=function(d,p){var m=d.toString(16)+p.toString(16);return n.indexOf(m)!==-1},f.isZeroWidthJoiner=function(d){return d===8205},f.isFlagEmoji=function(d){return h(d.substr(0,2))&&h(d.substr(2,2))},f.isRegionalCode=h,f.isCombinedCharacter=function(d){return e.indexOf(d)!==-1},f.isRegionalFlag=function(d,p){var m=u(d.substr(p,2));if(m!==127988)return!1;var v=0;for(p+=2;v<5;){if((m=u(d.substr(p,2)))<917601||m>917626)return!1;v+=1,p+=2}return u(d.substr(p,2))===917631},f.isVariationSelector=function(d){return d===65039},f.BLACK_FLAG_CODE_POINT=127988,f.prototype={addChars:function(d){if(d){var p;this.chars||(this.chars=[]);var m,v,b=d.length,S=this.chars.length;for(p=0;p<b;p+=1){for(m=0,v=!1;m<S;)this.chars[m].style===d[p].style&&this.chars[m].fFamily===d[p].fFamily&&this.chars[m].ch===d[p].ch&&(v=!0),m+=1;v||(this.chars.push(d[p]),S+=1)}}},addFonts:function(d,p){if(d){if(this.chars)return this.isLoaded=!0,void(this.fonts=d.list);if(!document.body)return this.isLoaded=!0,d.list.forEach(function(F){F.helper=l(F),F.cache={}}),void(this.fonts=d.list);var m,v=d.list,b=v.length,S=b;for(m=0;m<b;m+=1){var T,C,w=!0;if(v[m].loaded=!1,v[m].monoCase=o(v[m].fFamily,"monospace"),v[m].sansCase=o(v[m].fFamily,"sans-serif"),v[m].fPath){if(v[m].fOrigin==="p"||v[m].origin===3){if((T=document.querySelectorAll('style[f-forigin="p"][f-family="'+v[m].fFamily+'"], style[f-origin="3"][f-family="'+v[m].fFamily+'"]')).length>0&&(w=!1),w){var R=createTag("style");R.setAttribute("f-forigin",v[m].fOrigin),R.setAttribute("f-origin",v[m].origin),R.setAttribute("f-family",v[m].fFamily),R.type="text/css",R.innerText="@font-face {font-family: "+v[m].fFamily+"; font-style: normal; src: url('"+v[m].fPath+"');}",p.appendChild(R)}}else if(v[m].fOrigin==="g"||v[m].origin===1){for(T=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),C=0;C<T.length;C+=1)T[C].href.indexOf(v[m].fPath)!==-1&&(w=!1);if(w){var L=createTag("link");L.setAttribute("f-forigin",v[m].fOrigin),L.setAttribute("f-origin",v[m].origin),L.type="text/css",L.rel="stylesheet",L.href=v[m].fPath,document.body.appendChild(L)}}else if(v[m].fOrigin==="t"||v[m].origin===2){for(T=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),C=0;C<T.length;C+=1)v[m].fPath===T[C].src&&(w=!1);if(w){var N=createTag("link");N.setAttribute("f-forigin",v[m].fOrigin),N.setAttribute("f-origin",v[m].origin),N.setAttribute("rel","stylesheet"),N.setAttribute("href",v[m].fPath),p.appendChild(N)}}}else v[m].loaded=!0,S-=1;v[m].helper=l(v[m],p),v[m].cache={},this.fonts.push(v[m])}S===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function(d,p,m){for(var v=0,b=this.chars.length;v<b;){if(this.chars[v].ch===d&&this.chars[v].style===p&&this.chars[v].fFamily===m)return this.chars[v];v+=1}return(typeof d=="string"&&d.charCodeAt(0)!==13||!d)&&console&&console.warn&&!this._warned&&(this._warned=!0),t},getFontByName:function(d){for(var p=0,m=this.fonts.length;p<m;){if(this.fonts[p].fName===d)return this.fonts[p];p+=1}return this.fonts[0]},measureText:function(d,p,m){var v=this.getFontByName(p),b=d;if(!v.cache[b]){var S=v.helper;if(d===" "){var T=S.measureText("|"+d+"|"),C=S.measureText("||");v.cache[b]=(T-C)/100}else v.cache[b]=S.measureText(d)/100}return v.cache[b]*m},checkLoadedFonts:function(){var d,p,m,v=this.fonts.length,b=v;for(d=0;d<v;d+=1)this.fonts[d].loaded?b-=1:this.fonts[d].fOrigin==="n"||this.fonts[d].origin===0?this.fonts[d].loaded=!0:(p=this.fonts[d].monoCase.node,m=this.fonts[d].monoCase.w,p.offsetWidth!==m?(b-=1,this.fonts[d].loaded=!0):(p=this.fonts[d].sansCase.node,m=this.fonts[d].sansCase.w,p.offsetWidth!==m&&(b-=1,this.fonts[d].loaded=!0)),this.fonts[d].loaded&&(this.fonts[d].sansCase.parent.parentNode.removeChild(this.fonts[d].sansCase.parent),this.fonts[d].monoCase.parent.parentNode.removeChild(this.fonts[d].monoCase.parent)));b!==0&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function(){this.isLoaded=!0}},f}();function SlotManager(t){this.animationData=t}function slotFactory(t){return new SlotManager(t)}function RenderableElement(){}SlotManager.prototype.getProp=function(t){return this.animationData.slots&&this.animationData.slots[t.sid]?Object.assign(t,this.animationData.slots[t.sid].p):t},RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(t){this.renderableComponents.indexOf(t)===-1&&this.renderableComponents.push(t)},removeRenderableComponent:function(t){this.renderableComponents.indexOf(t)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(t),1)},prepareRenderableFrame:function(t){this.checkLayerLimits(t)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(t){this.data.ip-this.data.st<=t&&this.data.op-this.data.st>t?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var t,e=this.renderableComponents.length;for(t=0;t<e;t+=1)this.renderableComponents[t].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=(blendModeEnums={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},function(t){return blendModeEnums[t]||""}),blendModeEnums;function SliderEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function AngleEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function ColorEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,1,0,n)}function PointEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,1,0,n)}function LayerIndexEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function MaskIndexEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function CheckboxEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function NoValueEffect(){this.p={}}function EffectsManager(t,e){var n,o=t.ef||[];this.effectElements=[];var l,u=o.length;for(n=0;n<u;n+=1)l=new GroupEffect(o[n],e),this.effectElements.push(l)}function GroupEffect(t,e){this.init(t,e)}function BaseElement(){}function FrameElement(){}function FootageElement(t,e,n){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.footageData=e.imageLoader.getAsset(this.assetData),this.initBaseData(t,e,n)}function AudioElement(t,e,n){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.initBaseData(t,e,n),this._isPlaying=!1,this._canPlay=!1;var o=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(o),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,t.au&&t.au.lv?t.au.lv:{k:[100]},1,.01,this)}function BaseRenderer(){}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(t,e){var n;this.data=t,this.effectElements=[],this.initDynamicPropertyContainer(e);var o,l=this.data.ef.length,u=this.data.ef;for(n=0;n<l;n+=1){switch(o=null,u[n].ty){case 0:o=new SliderEffect(u[n],e,this);break;case 1:o=new AngleEffect(u[n],e,this);break;case 2:o=new ColorEffect(u[n],e,this);break;case 3:o=new PointEffect(u[n],e,this);break;case 4:case 7:o=new CheckboxEffect(u[n],e,this);break;case 10:o=new LayerIndexEffect(u[n],e,this);break;case 11:o=new MaskIndexEffect(u[n],e,this);break;case 5:o=new EffectsManager(u[n],e);break;default:o=new NoValueEffect(u[n])}o&&this.effectElements.push(o)}},BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var t=0,e=this.data.masksProperties.length;t<e;){if(this.data.masksProperties[t].mode!=="n"&&this.data.masksProperties[t].cl!==!1)return!0;t+=1}return!1},initExpressions:function(){var t=getExpressionInterfaces();if(t){var e=t("layer"),n=t("effects"),o=t("shape"),l=t("text"),u=t("comp");this.layerInterface=e(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var h=n.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(h),this.data.ty===0||this.data.xt?this.compInterface=u(this):this.data.ty===4?(this.layerInterface.shapeInterface=o(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=l(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var t=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=t},initBaseData:function(t,e,n){this.globalData=e,this.comp=n,this.data=t,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(t,e){var n,o=this.dynamicProperties.length;for(n=0;n<o;n+=1)(e||this._isParent&&this.dynamicProperties[n].propType==="transform")&&(this.dynamicProperties[n].getValue(),this.dynamicProperties[n]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(t){this.dynamicProperties.indexOf(t)===-1&&this.dynamicProperties.push(t)}},FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var t=getExpressionInterfaces();if(t){var e=t("footage");this.layerInterface=e(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData},AudioElement.prototype.prepareFrame=function(t){if(this.prepareRenderableFrame(t,!0),this.prepareProperties(t,!0),this.tm._placeholder)this._currentTime=t/this.data.sr;else{var e=this.tm.v;this._currentTime=e}this._volume=this.lv.v[0];var n=this._volume*this._volumeMultiplier;this._previousVolume!==n&&(this._previousVolume=n,this.audio.volume(n))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(t){this.audio.rate(t)},AudioElement.prototype.volume=function(t){this._volumeMultiplier=t,this._previousVolume=t*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},BaseRenderer.prototype.checkLayers=function(t){var e,n,o=this.layers.length;for(this.completeLayers=!0,e=o-1;e>=0;e-=1)this.elements[e]||(n=this.layers[e]).ip-n.st<=t-this.layers[e].st&&n.op-n.st>t-this.layers[e].st&&this.buildItem(e),this.completeLayers=!!this.elements[e]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(t){switch(t.ty){case 2:return this.createImage(t);case 0:return this.createComp(t);case 1:return this.createSolid(t);case 3:return this.createNull(t);case 4:return this.createShape(t);case 5:return this.createText(t);case 6:return this.createAudio(t);case 13:return this.createCamera(t);case 15:return this.createFootage(t);default:return this.createNull(t)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(t){return new AudioElement(t,this.globalData,this)},BaseRenderer.prototype.createFootage=function(t){return new FootageElement(t,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.buildItem(t);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(t){var e;this.completeLayers=!1;var n,o=t.length,l=this.layers.length;for(e=0;e<o;e+=1)for(n=0;n<l;){if(this.layers[n].id===t[e].id){this.layers[n]=t[e];break}n+=1}},BaseRenderer.prototype.setProjectInterface=function(t){this.globalData.projectInterface=t},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(t,e,n){for(var o=this.elements,l=this.layers,u=0,h=l.length;u<h;)l[u].ind==e&&(o[u]&&o[u]!==!0?(n.push(o[u]),o[u].setAsParent(),l[u].parent!==void 0?this.buildElementParenting(t,l[u].parent,n):t.setHierarchy(n)):(this.buildItem(u),this.addPendingElement(t))),u+=1},BaseRenderer.prototype.addPendingElement=function(t){this.pendingElements.push(t)},BaseRenderer.prototype.searchExtraCompositions=function(t){var e,n=t.length;for(e=0;e<n;e+=1)if(t[e].xt){var o=this.createComp(t[e]);o.initExpressions(),this.globalData.projectInterface.registerComposition(o)}},BaseRenderer.prototype.getElementById=function(t){var e,n=this.elements.length;for(e=0;e<n;e+=1)if(this.elements[e].data.ind===t)return this.elements[e];return null},BaseRenderer.prototype.getElementByPath=function(t){var e,n=t.shift();if(typeof n=="number")e=this.elements[n];else{var o,l=this.elements.length;for(o=0;o<l;o+=1)if(this.elements[o].data.nm===n){e=this.elements[o];break}}return t.length===0?e:e.getElementByPath(t)},BaseRenderer.prototype.setupGlobalData=function(t,e){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(t),this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=t.fr,this.globalData.nm=t.nm,this.globalData.compSize={w:t.w,h:t.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}function MaskElement(t,e,n){this.data=t,this.element=e,this.globalData=n,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var o,l,u=this.globalData.defs,h=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(h),this.solidPath="";var f,d,p,m,v,b,S=this.masksProperties,T=0,C=[],w=createElementID(),R="clipPath",L="clip-path";for(o=0;o<h;o+=1)if((S[o].mode!=="a"&&S[o].mode!=="n"||S[o].inv||S[o].o.k!==100||S[o].o.x)&&(R="mask",L="mask"),S[o].mode!=="s"&&S[o].mode!=="i"||T!==0?p=null:((p=createNS("rect")).setAttribute("fill","#ffffff"),p.setAttribute("width",this.element.comp.data.w||0),p.setAttribute("height",this.element.comp.data.h||0),C.push(p)),l=createNS("path"),S[o].mode==="n")this.viewData[o]={op:PropertyFactory.getProp(this.element,S[o].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,S[o],3),elem:l,lastPath:""},u.appendChild(l);else{var N;if(T+=1,l.setAttribute("fill",S[o].mode==="s"?"#000000":"#ffffff"),l.setAttribute("clip-rule","nonzero"),S[o].x.k!==0?(R="mask",L="mask",b=PropertyFactory.getProp(this.element,S[o].x,0,null,this.element),N=createElementID(),(m=createNS("filter")).setAttribute("id",N),(v=createNS("feMorphology")).setAttribute("operator","erode"),v.setAttribute("in","SourceGraphic"),v.setAttribute("radius","0"),m.appendChild(v),u.appendChild(m),l.setAttribute("stroke",S[o].mode==="s"?"#000000":"#ffffff")):(v=null,b=null),this.storedData[o]={elem:l,x:b,expan:v,lastPath:"",lastOperator:"",filterId:N,lastRadius:0},S[o].mode==="i"){d=C.length;var F=createNS("g");for(f=0;f<d;f+=1)F.appendChild(C[f]);var B=createNS("mask");B.setAttribute("mask-type","alpha"),B.setAttribute("id",w+"_"+T),B.appendChild(l),u.appendChild(B),F.setAttribute("mask","url("+getLocationHref()+"#"+w+"_"+T+")"),C.length=0,C.push(F)}else C.push(l);S[o].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[o]={elem:l,lastPath:"",op:PropertyFactory.getProp(this.element,S[o].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,S[o],3),invRect:p},this.viewData[o].prop.k||this.drawPath(S[o],this.viewData[o].prop.v,this.viewData[o])}for(this.maskElement=createNS(R),h=C.length,o=0;o<h;o+=1)this.maskElement.appendChild(C[o]);T>0&&(this.maskElement.setAttribute("id",w),this.element.maskedElement.setAttribute(L,"url("+getLocationHref()+"#"+w+")"),u.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}TransformElement.prototype={initTransform:function(){var t=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:t,localMat:t,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var t,e=this.finalTransform.mat,n=0,o=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;n<o;){if(this.hierarchy[n].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}n+=1}if(this.finalTransform._matMdf)for(t=this.finalTransform.mProp.v.props,e.cloneFromProps(t),n=0;n<o;n+=1)e.multiply(this.hierarchy[n].finalTransform.mProp.v)}this.finalTransform._matMdf&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var t=0,e=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;t<e;)this.localTransforms[t]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[t]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),t+=1;if(this.finalTransform._localMatMdf){var n=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(n),t=1;t<e;t+=1){var o=this.localTransforms[t].matrix;n.multiply(o)}n.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var l=this.finalTransform.localOpacity;for(t=0;t<e;t+=1)l*=.01*this.localTransforms[t].opacity;this.finalTransform.localOpacity=l}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var t=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(t.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var e=0,n=t.length;for(e=0;e<n;e+=1)this.localTransforms.push(t[e])}}},globalToLocal:function(t){var e=[];e.push(this.finalTransform);for(var n,o=!0,l=this.comp;o;)l.finalTransform?(l.data.hasMask&&e.splice(0,0,l.finalTransform),l=l.comp):o=!1;var u,h=e.length;for(n=0;n<h;n+=1)u=e[n].mat.applyToPointArray(0,0,0),t=[t[0]-u[0],t[1]-u[1],0];return t},mHelper:new Matrix},MaskElement.prototype.getMaskProperty=function(t){return this.viewData[t].prop},MaskElement.prototype.renderFrame=function(t){var e,n=this.element.finalTransform.mat,o=this.masksProperties.length;for(e=0;e<o;e+=1)if((this.viewData[e].prop._mdf||t)&&this.drawPath(this.masksProperties[e],this.viewData[e].prop.v,this.viewData[e]),(this.viewData[e].op._mdf||t)&&this.viewData[e].elem.setAttribute("fill-opacity",this.viewData[e].op.v),this.masksProperties[e].mode!=="n"&&(this.viewData[e].invRect&&(this.element.finalTransform.mProp._mdf||t)&&this.viewData[e].invRect.setAttribute("transform",n.getInverseMatrix().to2dCSS()),this.storedData[e].x&&(this.storedData[e].x._mdf||t))){var l=this.storedData[e].expan;this.storedData[e].x.v<0?(this.storedData[e].lastOperator!=="erode"&&(this.storedData[e].lastOperator="erode",this.storedData[e].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[e].filterId+")")),l.setAttribute("radius",-this.storedData[e].x.v)):(this.storedData[e].lastOperator!=="dilate"&&(this.storedData[e].lastOperator="dilate",this.storedData[e].elem.setAttribute("filter",null)),this.storedData[e].elem.setAttribute("stroke-width",2*this.storedData[e].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var t="M0,0 ";return t+=" h"+this.globalData.compSize.w,t+=" v"+this.globalData.compSize.h,t+=" h-"+this.globalData.compSize.w,t+=" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(t,e,n){var o,l,u=" M"+e.v[0][0]+","+e.v[0][1];for(l=e._length,o=1;o<l;o+=1)u+=" C"+e.o[o-1][0]+","+e.o[o-1][1]+" "+e.i[o][0]+","+e.i[o][1]+" "+e.v[o][0]+","+e.v[o][1];if(e.c&&l>1&&(u+=" C"+e.o[o-1][0]+","+e.o[o-1][1]+" "+e.i[0][0]+","+e.i[0][1]+" "+e.v[0][0]+","+e.v[0][1]),n.lastPath!==u){var h="";n.elem&&(e.c&&(h=t.inv?this.solidPath+u:u),n.elem.setAttribute("d",h)),n.lastPath=u}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var t={};return t.createFilter=function(e,n){var o=createNS("filter");return o.setAttribute("id",e),n!==!0&&(o.setAttribute("filterUnits","objectBoundingBox"),o.setAttribute("x","0%"),o.setAttribute("y","0%"),o.setAttribute("width","100%"),o.setAttribute("height","100%")),o},t.createAlphaToLuminanceFilter=function(){var e=createNS("feColorMatrix");return e.setAttribute("type","matrix"),e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),e},t}(),featureSupport=function(){var t={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(t.maskType=!1),/firefox/i.test(navigator.userAgent)&&(t.svgLumaHidden=!1),t}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(t){var e,n,o="SourceGraphic",l=t.data.ef?t.data.ef.length:0,u=createElementID(),h=filtersFactory.createFilter(u,!0),f=0;for(this.filters=[],e=0;e<l;e+=1){n=null;var d=t.data.ef[e].ty;registeredEffects$1[d]&&(n=new registeredEffects$1[d].effect(h,t.effectsManager.effectElements[e],t,idPrefix+f,o),o=idPrefix+f,registeredEffects$1[d].countsAsEffect&&(f+=1)),n&&this.filters.push(n)}f&&(t.globalData.defs.appendChild(h),t.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+u+")")),this.filters.length&&t.addRenderableComponent(this)}function registerEffect$1(t,e,n){registeredEffects$1[t]={effect:e,countsAsEffect:n}}function SVGBaseElement(){}function HierarchyElement(){}function RenderableDOMElement(){}function IImageElement(t,e,n){this.assetData=e.getAssetData(t.refId),this.assetData&&this.assetData.sid&&(this.assetData=e.slotManager.getProp(this.assetData)),this.initElement(t,e,n),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ProcessedElement(t,e){this.elem=t,this.pos=e}function IShapeElement(){}SVGEffects.prototype.renderFrame=function(t){var e,n=this.filters.length;for(e=0;e<n;e+=1)this.filters[e].renderFrame(t)},SVGEffects.prototype.getEffects=function(t){var e,n=this.filters.length,o=[];for(e=0;e<n;e+=1)this.filters[e].type===t&&o.push(this.filters[e]);return o},SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var t=null;if(this.data.td){this.matteMasks={};var e=createNS("g");e.setAttribute("id",this.layerId),e.appendChild(this.layerElement),t=e,this.globalData.defs.appendChild(e)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),t=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var n=createNS("clipPath"),o=createNS("path");o.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var l=createElementID();if(n.setAttribute("id",l),n.appendChild(o),this.globalData.defs.appendChild(n),this.checkMasks()){var u=createNS("g");u.setAttribute("clip-path","url("+getLocationHref()+"#"+l+")"),u.appendChild(this.layerElement),this.transformedElement=u,t?t.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+l+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(t){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[t]){var e,n,o,l,u=this.layerId+"_"+t;if(t===1||t===3){var h=createNS("mask");h.setAttribute("id",u),h.setAttribute("mask-type",t===3?"luminance":"alpha"),(o=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),h.appendChild(o),this.globalData.defs.appendChild(h),featureSupport.maskType||t!==1||(h.setAttribute("mask-type","luminance"),e=createElementID(),n=filtersFactory.createFilter(e),this.globalData.defs.appendChild(n),n.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(l=createNS("g")).appendChild(o),h.appendChild(l),l.setAttribute("filter","url("+getLocationHref()+"#"+e+")"))}else if(t===2){var f=createNS("mask");f.setAttribute("id",u),f.setAttribute("mask-type","alpha");var d=createNS("g");f.appendChild(d),e=createElementID(),n=filtersFactory.createFilter(e);var p=createNS("feComponentTransfer");p.setAttribute("in","SourceGraphic"),n.appendChild(p);var m=createNS("feFuncA");m.setAttribute("type","table"),m.setAttribute("tableValues","1.0 0.0"),p.appendChild(m),this.globalData.defs.appendChild(n);var v=createNS("rect");v.setAttribute("width",this.comp.data.w),v.setAttribute("height",this.comp.data.h),v.setAttribute("x","0"),v.setAttribute("y","0"),v.setAttribute("fill","#ffffff"),v.setAttribute("opacity","0"),d.setAttribute("filter","url("+getLocationHref()+"#"+e+")"),d.appendChild(v),(o=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),d.appendChild(o),featureSupport.maskType||(f.setAttribute("mask-type","luminance"),n.appendChild(filtersFactory.createAlphaToLuminanceFilter()),l=createNS("g"),d.appendChild(v),l.appendChild(this.layerElement),d.appendChild(l)),this.globalData.defs.appendChild(f)}this.matteMasks[t]=u}return this.matteMasks[t]},setMatte:function(t){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+t+")")}},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(t){this.hierarchy=t},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(t,e,n){this.initFrame(),this.initBaseData(t,e,n),this.initTransform(t,e,n),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},IShapeElement.prototype={addShapeToModifiers:function(t){var e,n=this.shapeModifiers.length;for(e=0;e<n;e+=1)this.shapeModifiers[e].addShape(t)},isShapeInAnimatedModifiers:function(t){for(var e=this.shapeModifiers.length;0<e;)if(this.shapeModifiers[0].isAnimatedWithShape(t))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var t,e=this.shapes.length;for(t=0;t<e;t+=1)this.shapes[t].sh.reset();for(t=(e=this.shapeModifiers.length)-1;t>=0&&!this.shapeModifiers[t].processShapes(this._isFirstFrame);t-=1);}},searchProcessedElement:function(t){for(var e=this.processedElements,n=0,o=e.length;n<o;){if(e[n].elem===t)return e[n].pos;n+=1}return 0},addProcessedElement:function(t,e){for(var n=this.processedElements,o=n.length;o;)if(n[o-=1].elem===t)return void(n[o].pos=e);n.push(new ProcessedElement(t,e))},prepareFrame:function(t){this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(t,e,n){this.caches=[],this.styles=[],this.transformers=t,this.lStr="",this.sh=n,this.lvl=e,this._isAnimated=!!n.k;for(var o=0,l=t.length;o<l;){if(t[o].mProps.dynamicProperties.length){this._isAnimated=!0;break}o+=1}}function SVGStyleData(t,e){this.data=t,this.type=t.ty,this.d="",this.lvl=e,this._mdf=!1,this.closed=t.hd===!0,this.pElem=createNS("path"),this.msElem=null}function DashProperty(t,e,n,o){var l;this.elem=t,this.frameId=-1,this.dataProps=createSizedArray(e.length),this.renderer=n,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",e.length?e.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(o);var u,h=e.length||0;for(l=0;l<h;l+=1)u=PropertyFactory.getProp(t,e[l].v,0,0,this),this.k=u.k||this.k,this.dataProps[l]={n:e[l].n,p:u};this.k||this.getValue(!0),this._isAnimated=this.k}function SVGStrokeStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=n,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=n}function SVGNoStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.style=n}function GradientProperty(t,e,n){this.data=e,this.c=createTypedArray("uint8c",4*e.p);var o=e.k.k[0].s?e.k.k[0].s.length-4*e.p:e.k.k.length-4*e.p;this.o=createTypedArray("float32",o),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=o,this.initDynamicPropertyContainer(n),this.prop=PropertyFactory.getProp(t,e.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}function SVGGradientFillStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.initGradientData(t,e,n)}function SVGGradientStrokeStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.initGradientData(t,e,n),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(t,e,n){this.transform={mProps:t,op:e,container:n},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},DashProperty.prototype.getValue=function(t){if((this.elem.globalData.frameId!==this.frameId||t)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||t,this._mdf)){var e=0,n=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),e=0;e<n;e+=1)this.dataProps[e].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[e].p.v:this.dashArray[e]=this.dataProps[e].p.v:this.dashoffset[0]=this.dataProps[e].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),extendPrototype([DynamicPropertyContainer],SVGNoStyleData),GradientProperty.prototype.comparePoints=function(t,e){for(var n=0,o=this.o.length/2;n<o;){if(Math.abs(t[4*n]-t[4*e+2*n])>.01)return!1;n+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var t=0,e=this.data.k.k.length;t<e;){if(!this.comparePoints(this.data.k.k[t].s,this.data.p))return!1;t+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(t){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||t){var e,n,o,l=4*this.data.p;for(e=0;e<l;e+=1)n=e%4==0?100:255,o=Math.round(this.prop.v[e]*n),this.c[e]!==o&&(this.c[e]=o,this._cmdf=!t);if(this.o.length)for(l=this.prop.v.length,e=4*this.data.p;e<l;e+=1)n=e%2==0?100:1,o=e%2==0?Math.round(100*this.prop.v[e]):this.prop.v[e],this.o[e-4*this.data.p]!==o&&(this.o[e-4*this.data.p]=o,this._omdf=!t);this._mdf=!t}},extendPrototype([DynamicPropertyContainer],GradientProperty),SVGGradientFillStyleData.prototype.initGradientData=function(t,e,n){this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.s=PropertyFactory.getProp(t,e.s,1,null,this),this.e=PropertyFactory.getProp(t,e.e,1,null,this),this.h=PropertyFactory.getProp(t,e.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(t,e.a||{k:0},0,degToRads,this),this.g=new GradientProperty(t,e.g,this),this.style=n,this.stops=[],this.setGradientData(n.pElem,e),this.setGradientOpacity(e,n),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(t,e){var n=createElementID(),o=createNS(e.t===1?"linearGradient":"radialGradient");o.setAttribute("id",n),o.setAttribute("spreadMethod","pad"),o.setAttribute("gradientUnits","userSpaceOnUse");var l,u,h,f=[];for(h=4*e.g.p,u=0;u<h;u+=4)l=createNS("stop"),o.appendChild(l),f.push(l);t.setAttribute(e.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+n+")"),this.gf=o,this.cst=f},SVGGradientFillStyleData.prototype.setGradientOpacity=function(t,e){if(this.g._hasOpacity&&!this.g._collapsable){var n,o,l,u=createNS("mask"),h=createNS("path");u.appendChild(h);var f=createElementID(),d=createElementID();u.setAttribute("id",d);var p=createNS(t.t===1?"linearGradient":"radialGradient");p.setAttribute("id",f),p.setAttribute("spreadMethod","pad"),p.setAttribute("gradientUnits","userSpaceOnUse"),l=t.g.k.k[0].s?t.g.k.k[0].s.length:t.g.k.k.length;var m=this.stops;for(o=4*t.g.p;o<l;o+=2)(n=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),p.appendChild(n),m.push(n);h.setAttribute(t.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+f+")"),t.ty==="gs"&&(h.setAttribute("stroke-linecap",lineCapEnum[t.lc||2]),h.setAttribute("stroke-linejoin",lineJoinEnum[t.lj||2]),t.lj===1&&h.setAttribute("stroke-miterlimit",t.ml)),this.of=p,this.ms=u,this.ost=m,this.maskId=d,e.msElem=h}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var buildShapeString=function(t,e,n,o){if(e===0)return"";var l,u=t.o,h=t.i,f=t.v,d=" M"+o.applyToPointStringified(f[0][0],f[0][1]);for(l=1;l<e;l+=1)d+=" C"+o.applyToPointStringified(u[l-1][0],u[l-1][1])+" "+o.applyToPointStringified(h[l][0],h[l][1])+" "+o.applyToPointStringified(f[l][0],f[l][1]);return n&&e&&(d+=" C"+o.applyToPointStringified(u[l-1][0],u[l-1][1])+" "+o.applyToPointStringified(h[0][0],h[0][1])+" "+o.applyToPointStringified(f[0][0],f[0][1]),d+="z"),d},SVGElementsRenderer=function(){var t=new Matrix,e=new Matrix;function n(p,m,v){(v||m.transform.op._mdf)&&m.transform.container.setAttribute("opacity",m.transform.op.v),(v||m.transform.mProps._mdf)&&m.transform.container.setAttribute("transform",m.transform.mProps.v.to2dCSS())}function o(){}function l(p,m,v){var b,S,T,C,w,R,L,N,F,B,U=m.styles.length,z=m.lvl;for(R=0;R<U;R+=1){if(C=m.sh._mdf||v,m.styles[R].lvl<z){for(N=e.reset(),F=z-m.styles[R].lvl,B=m.transformers.length-1;!C&&F>0;)C=m.transformers[B].mProps._mdf||C,F-=1,B-=1;if(C)for(F=z-m.styles[R].lvl,B=m.transformers.length-1;F>0;)N.multiply(m.transformers[B].mProps.v),F-=1,B-=1}else N=t;if(S=(L=m.sh.paths)._length,C){for(T="",b=0;b<S;b+=1)(w=L.shapes[b])&&w._length&&(T+=buildShapeString(w,w._length,w.c,N));m.caches[R]=T}else T=m.caches[R];m.styles[R].d+=p.hd===!0?"":T,m.styles[R]._mdf=C||m.styles[R]._mdf}}function u(p,m,v){var b=m.style;(m.c._mdf||v)&&b.pElem.setAttribute("fill","rgb("+bmFloor(m.c.v[0])+","+bmFloor(m.c.v[1])+","+bmFloor(m.c.v[2])+")"),(m.o._mdf||v)&&b.pElem.setAttribute("fill-opacity",m.o.v)}function h(p,m,v){f(p,m,v),d(p,m,v)}function f(p,m,v){var b,S,T,C,w,R=m.gf,L=m.g._hasOpacity,N=m.s.v,F=m.e.v;if(m.o._mdf||v){var B=p.ty==="gf"?"fill-opacity":"stroke-opacity";m.style.pElem.setAttribute(B,m.o.v)}if(m.s._mdf||v){var U=p.t===1?"x1":"cx",z=U==="x1"?"y1":"cy";R.setAttribute(U,N[0]),R.setAttribute(z,N[1]),L&&!m.g._collapsable&&(m.of.setAttribute(U,N[0]),m.of.setAttribute(z,N[1]))}if(m.g._cmdf||v){b=m.cst;var K=m.g.c;for(T=b.length,S=0;S<T;S+=1)(C=b[S]).setAttribute("offset",K[4*S]+"%"),C.setAttribute("stop-color","rgb("+K[4*S+1]+","+K[4*S+2]+","+K[4*S+3]+")")}if(L&&(m.g._omdf||v)){var Q=m.g.o;for(T=(b=m.g._collapsable?m.cst:m.ost).length,S=0;S<T;S+=1)C=b[S],m.g._collapsable||C.setAttribute("offset",Q[2*S]+"%"),C.setAttribute("stop-opacity",Q[2*S+1])}if(p.t===1)(m.e._mdf||v)&&(R.setAttribute("x2",F[0]),R.setAttribute("y2",F[1]),L&&!m.g._collapsable&&(m.of.setAttribute("x2",F[0]),m.of.setAttribute("y2",F[1])));else if((m.s._mdf||m.e._mdf||v)&&(w=Math.sqrt(Math.pow(N[0]-F[0],2)+Math.pow(N[1]-F[1],2)),R.setAttribute("r",w),L&&!m.g._collapsable&&m.of.setAttribute("r",w)),m.e._mdf||m.h._mdf||m.a._mdf||v){w||(w=Math.sqrt(Math.pow(N[0]-F[0],2)+Math.pow(N[1]-F[1],2)));var q=Math.atan2(F[1]-N[1],F[0]-N[0]),H=m.h.v;H>=1?H=.99:H<=-1&&(H=-.99);var se=w*H,le=Math.cos(q+m.a.v)*se+N[0],ne=Math.sin(q+m.a.v)*se+N[1];R.setAttribute("fx",le),R.setAttribute("fy",ne),L&&!m.g._collapsable&&(m.of.setAttribute("fx",le),m.of.setAttribute("fy",ne))}}function d(p,m,v){var b=m.style,S=m.d;S&&(S._mdf||v)&&S.dashStr&&(b.pElem.setAttribute("stroke-dasharray",S.dashStr),b.pElem.setAttribute("stroke-dashoffset",S.dashoffset[0])),m.c&&(m.c._mdf||v)&&b.pElem.setAttribute("stroke","rgb("+bmFloor(m.c.v[0])+","+bmFloor(m.c.v[1])+","+bmFloor(m.c.v[2])+")"),(m.o._mdf||v)&&b.pElem.setAttribute("stroke-opacity",m.o.v),(m.w._mdf||v)&&(b.pElem.setAttribute("stroke-width",m.w.v),b.msElem&&b.msElem.setAttribute("stroke-width",m.w.v))}return{createRenderFunction:function(p){switch(p.ty){case"fl":return u;case"gf":return f;case"gs":return h;case"st":return d;case"sh":case"el":case"rc":case"sr":return l;case"tr":return n;case"no":return o;default:return null}}}}();function SVGShapeElement(t,e,n){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(t,e,n),this.prevViewData=[]}function LetterProps(t,e,n,o,l,u){this.o=t,this.sw=e,this.sc=n,this.fc=o,this.m=l,this.p=u,this._mdf={o:!0,sw:!!e,sc:!!n,fc:!!o,m:!0,p:!0}}function TextProperty(t,e){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,e.d&&e.d.sid&&(e.d=t.globalData.slotManager.getProp(e.d)),this.data=e,this.elem=t,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var t,e,n,o,l=this.shapes.length,u=this.stylesList.length,h=[],f=!1;for(n=0;n<u;n+=1){for(o=this.stylesList[n],f=!1,h.length=0,t=0;t<l;t+=1)(e=this.shapes[t]).styles.indexOf(o)!==-1&&(h.push(e),f=e._isAnimated||f);h.length>1&&f&&this.setShapesAsAnimated(h)}},SVGShapeElement.prototype.setShapesAsAnimated=function(t){var e,n=t.length;for(e=0;e<n;e+=1)t[e].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(t,e){var n,o=new SVGStyleData(t,e),l=o.pElem;return t.ty==="st"?n=new SVGStrokeStyleData(this,t,o):t.ty==="fl"?n=new SVGFillStyleData(this,t,o):t.ty==="gf"||t.ty==="gs"?(n=new(t.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,t,o),this.globalData.defs.appendChild(n.gf),n.maskId&&(this.globalData.defs.appendChild(n.ms),this.globalData.defs.appendChild(n.of),l.setAttribute("mask","url("+getLocationHref()+"#"+n.maskId+")"))):t.ty==="no"&&(n=new SVGNoStyleData(this,t,o)),t.ty!=="st"&&t.ty!=="gs"||(l.setAttribute("stroke-linecap",lineCapEnum[t.lc||2]),l.setAttribute("stroke-linejoin",lineJoinEnum[t.lj||2]),l.setAttribute("fill-opacity","0"),t.lj===1&&l.setAttribute("stroke-miterlimit",t.ml)),t.r===2&&l.setAttribute("fill-rule","evenodd"),t.ln&&l.setAttribute("id",t.ln),t.cl&&l.setAttribute("class",t.cl),t.bm&&(l.style["mix-blend-mode"]=getBlendMode(t.bm)),this.stylesList.push(o),this.addToAnimatedContents(t,n),n},SVGShapeElement.prototype.createGroupElement=function(t){var e=new ShapeGroupData;return t.ln&&e.gr.setAttribute("id",t.ln),t.cl&&e.gr.setAttribute("class",t.cl),t.bm&&(e.gr.style["mix-blend-mode"]=getBlendMode(t.bm)),e},SVGShapeElement.prototype.createTransformElement=function(t,e){var n=TransformPropertyFactory.getTransformProperty(this,t,this),o=new SVGTransformData(n,n.o,e);return this.addToAnimatedContents(t,o),o},SVGShapeElement.prototype.createShapeElement=function(t,e,n){var o=4;t.ty==="rc"?o=5:t.ty==="el"?o=6:t.ty==="sr"&&(o=7);var l=new SVGShapeData(e,n,ShapePropertyFactory.getShapeProp(this,t,o,this));return this.shapes.push(l),this.addShapeToModifiers(l),this.addToAnimatedContents(t,l),l},SVGShapeElement.prototype.addToAnimatedContents=function(t,e){for(var n=0,o=this.animatedContents.length;n<o;){if(this.animatedContents[n].element===e)return;n+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(t),element:e,data:t})},SVGShapeElement.prototype.setElementStyles=function(t){var e,n=t.styles,o=this.stylesList.length;for(e=0;e<o;e+=1)this.stylesList[e].closed||n.push(this.stylesList[e])},SVGShapeElement.prototype.reloadShapes=function(){var t;this._isFirstFrame=!0;var e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(t,e,n,o,l,u,h){var f,d,p,m,v,b,S=[].concat(u),T=t.length-1,C=[],w=[];for(f=T;f>=0;f-=1){if((b=this.searchProcessedElement(t[f]))?e[f]=n[b-1]:t[f]._render=h,t[f].ty==="fl"||t[f].ty==="st"||t[f].ty==="gf"||t[f].ty==="gs"||t[f].ty==="no")b?e[f].style.closed=!1:e[f]=this.createStyleElement(t[f],l),t[f]._render&&e[f].style.pElem.parentNode!==o&&o.appendChild(e[f].style.pElem),C.push(e[f].style);else if(t[f].ty==="gr"){if(b)for(p=e[f].it.length,d=0;d<p;d+=1)e[f].prevViewData[d]=e[f].it[d];else e[f]=this.createGroupElement(t[f]);this.searchShapes(t[f].it,e[f].it,e[f].prevViewData,e[f].gr,l+1,S,h),t[f]._render&&e[f].gr.parentNode!==o&&o.appendChild(e[f].gr)}else t[f].ty==="tr"?(b||(e[f]=this.createTransformElement(t[f],o)),m=e[f].transform,S.push(m)):t[f].ty==="sh"||t[f].ty==="rc"||t[f].ty==="el"||t[f].ty==="sr"?(b||(e[f]=this.createShapeElement(t[f],S,l)),this.setElementStyles(e[f])):t[f].ty==="tm"||t[f].ty==="rd"||t[f].ty==="ms"||t[f].ty==="pb"||t[f].ty==="zz"||t[f].ty==="op"?(b?(v=e[f]).closed=!1:((v=ShapeModifiers.getModifier(t[f].ty)).init(this,t[f]),e[f]=v,this.shapeModifiers.push(v)),w.push(v)):t[f].ty==="rp"&&(b?(v=e[f]).closed=!0:(v=ShapeModifiers.getModifier(t[f].ty),e[f]=v,v.init(this,t,f,e),this.shapeModifiers.push(v),h=!1),w.push(v));this.addProcessedElement(t[f],f+1)}for(T=C.length,f=0;f<T;f+=1)C[f].closed=!0;for(T=w.length,f=0;f<T;f+=1)w[f].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){var t;this.renderModifiers();var e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].reset();for(this.renderShape(),t=0;t<e;t+=1)(this.stylesList[t]._mdf||this._isFirstFrame)&&(this.stylesList[t].msElem&&(this.stylesList[t].msElem.setAttribute("d",this.stylesList[t].d),this.stylesList[t].d="M0 0"+this.stylesList[t].d),this.stylesList[t].pElem.setAttribute("d",this.stylesList[t].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var t,e,n=this.animatedContents.length;for(t=0;t<n;t+=1)e=this.animatedContents[t],(this._isFirstFrame||e.element._isAnimated)&&e.data!==!0&&e.fn(e.data,e.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},LetterProps.prototype.update=function(t,e,n,o,l,u){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var h=!1;return this.o!==t&&(this.o=t,this._mdf.o=!0,h=!0),this.sw!==e&&(this.sw=e,this._mdf.sw=!0,h=!0),this.sc!==n&&(this.sc=n,this._mdf.sc=!0,h=!0),this.fc!==o&&(this.fc=o,this._mdf.fc=!0,h=!0),this.m!==l&&(this.m=l,this._mdf.m=!0,h=!0),!u.length||this.p[0]===u[0]&&this.p[1]===u[1]&&this.p[4]===u[4]&&this.p[5]===u[5]&&this.p[12]===u[12]&&this.p[13]===u[13]||(this.p=u,this._mdf.p=!0,h=!0),h},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},TextProperty.prototype.setCurrentData=function(t){t.__complete||this.completeTextData(t),this.currentData=t,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(t){this.effectsSequence.push(t),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(t){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||t){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var e=this.currentData,n=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{var o;this.lock=!0,this._mdf=!1;var l=this.effectsSequence.length,u=t||this.data.d.k[this.keysIndex].s;for(o=0;o<l;o+=1)u=n!==this.keysIndex?this.effectsSequence[o](u,u.t):this.effectsSequence[o](this.currentData,u.t);e!==u&&this.setCurrentData(u),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},TextProperty.prototype.getKeyframeValue=function(){for(var t=this.data.d.k,e=this.elem.comp.renderedFrame,n=0,o=t.length;n<=o-1&&!(n===o-1||t[n+1].t>e);)n+=1;return this.keysIndex!==n&&(this.keysIndex=n),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(t){for(var e,n,o=[],l=0,u=t.length,h=!1,f=!1,d="";l<u;)h=f,f=!1,e=t.charCodeAt(l),d=t.charAt(l),FontManager.isCombinedCharacter(e)?h=!0:e>=55296&&e<=56319?FontManager.isRegionalFlag(t,l)?d=t.substr(l,14):(n=t.charCodeAt(l+1))>=56320&&n<=57343&&(FontManager.isModifier(e,n)?(d=t.substr(l,2),h=!0):d=FontManager.isFlagEmoji(t.substr(l,4))?t.substr(l,4):t.substr(l,2)):e>56319?(n=t.charCodeAt(l+1),FontManager.isVariationSelector(e)&&(h=!0)):FontManager.isZeroWidthJoiner(e)&&(h=!0,f=!0),h?(o[o.length-1]+=d,h=!1):o.push(d),l+=d.length;return o},TextProperty.prototype.completeTextData=function(t){t.__complete=!0;var e,n,o,l,u,h,f,d=this.elem.globalData.fontManager,p=this.data,m=[],v=0,b=p.m.g,S=0,T=0,C=0,w=[],R=0,L=0,N=d.getFontByName(t.f),F=0,B=getFontProperties(N);t.fWeight=B.weight,t.fStyle=B.style,t.finalSize=t.s,t.finalText=this.buildFinalText(t.t),n=t.finalText.length,t.finalLineHeight=t.lh;var U,z=t.tr/1e3*t.finalSize;if(t.sz)for(var K,Q,q=!0,H=t.sz[0],se=t.sz[1];q;){K=0,R=0,n=(Q=this.buildFinalText(t.t)).length,z=t.tr/1e3*t.finalSize;var le=-1;for(e=0;e<n;e+=1)U=Q[e].charCodeAt(0),o=!1,Q[e]===" "?le=e:U!==13&&U!==3||(R=0,o=!0,K+=t.finalLineHeight||1.2*t.finalSize),d.chars?(f=d.getCharData(Q[e],N.fStyle,N.fFamily),F=o?0:f.w*t.finalSize/100):F=d.measureText(Q[e],t.f,t.finalSize),R+F>H&&Q[e]!==" "?(le===-1?n+=1:e=le,K+=t.finalLineHeight||1.2*t.finalSize,Q.splice(e,le===e?1:0,"\r"),le=-1,R=0):(R+=F,R+=z);K+=N.ascent*t.finalSize/100,this.canResize&&t.finalSize>this.minimumFontSize&&se<K?(t.finalSize-=1,t.finalLineHeight=t.finalSize*t.lh/t.s):(t.finalText=Q,n=t.finalText.length,q=!1)}R=-z,F=0;var ne,ce=0;for(e=0;e<n;e+=1)if(o=!1,(U=(ne=t.finalText[e]).charCodeAt(0))===13||U===3?(ce=0,w.push(R),L=R>L?R:L,R=-2*z,l="",o=!0,C+=1):l=ne,d.chars?(f=d.getCharData(ne,N.fStyle,d.getFontByName(t.f).fFamily),F=o?0:f.w*t.finalSize/100):F=d.measureText(l,t.f,t.finalSize),ne===" "?ce+=F+z:(R+=F+z+ce,ce=0),m.push({l:F,an:F,add:S,n:o,anIndexes:[],val:l,line:C,animatorJustifyOffset:0}),b==2){if(S+=F,l===""||l===" "||e===n-1){for(l!==""&&l!==" "||(S-=F);T<=e;)m[T].an=S,m[T].ind=v,m[T].extra=F,T+=1;v+=1,S=0}}else if(b==3){if(S+=F,l===""||e===n-1){for(l===""&&(S-=F);T<=e;)m[T].an=S,m[T].ind=v,m[T].extra=F,T+=1;S=0,v+=1}}else m[v].ind=v,m[v].extra=0,v+=1;if(t.l=m,L=R>L?R:L,w.push(R),t.sz)t.boxWidth=t.sz[0],t.justifyOffset=0;else switch(t.boxWidth=L,t.j){case 1:t.justifyOffset=-t.boxWidth;break;case 2:t.justifyOffset=-t.boxWidth/2;break;default:t.justifyOffset=0}t.lineWidths=w;var fe,ge,Z,ie,oe=p.a;h=oe.length;var ae=[];for(u=0;u<h;u+=1){for((fe=oe[u]).a.sc&&(t.strokeColorAnim=!0),fe.a.sw&&(t.strokeWidthAnim=!0),(fe.a.fc||fe.a.fh||fe.a.fs||fe.a.fb)&&(t.fillColorAnim=!0),ie=0,Z=fe.s.b,e=0;e<n;e+=1)(ge=m[e]).anIndexes[u]=ie,(Z==1&&ge.val!==""||Z==2&&ge.val!==""&&ge.val!==" "||Z==3&&(ge.n||ge.val==" "||e==n-1)||Z==4&&(ge.n||e==n-1))&&(fe.s.rn===1&&ae.push(ie),ie+=1);p.a[u].s.totalChars=ie;var pe,we=-1;if(fe.s.rn===1)for(e=0;e<n;e+=1)we!=(ge=m[e]).anIndexes[u]&&(we=ge.anIndexes[u],pe=ae.splice(Math.floor(Math.random()*ae.length),1)[0]),ge.anIndexes[u]=pe}t.yOffset=t.finalLineHeight||1.2*t.finalSize,t.ls=t.ls||0,t.ascent=N.ascent*t.finalSize/100},TextProperty.prototype.updateDocumentData=function(t,e){e=e===void 0?this.keysIndex:e;var n=this.copyData({},this.data.d.k[e].s);n=this.copyData(n,t),this.data.d.k[e].s=n,this.recalculate(e),this.setCurrentData(n),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(t){var e=this.data.d.k[t].s;e.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(e)},TextProperty.prototype.canResizeFont=function(t){this.canResize=t,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(t){this.minimumFontSize=Math.floor(t)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var t=Math.max,e=Math.min,n=Math.floor;function o(l,u){this._currentTextLength=-1,this.k=!1,this.data=u,this.elem=l,this.comp=l.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(l),this.s=PropertyFactory.getProp(l,u.s||{k:0},0,0,this),this.e="e"in u?PropertyFactory.getProp(l,u.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(l,u.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(l,u.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(l,u.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(l,u.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(l,u.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return o.prototype={getMult:function(l){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var u=0,h=0,f=1,d=1;this.ne.v>0?u=this.ne.v/100:h=-this.ne.v/100,this.xe.v>0?f=1-this.xe.v/100:d=1+this.xe.v/100;var p=BezierFactory.getBezierEasing(u,h,f,d).get,m=0,v=this.finalS,b=this.finalE,S=this.data.sh;if(S===2)m=p(m=b===v?l>=b?1:0:t(0,e(.5/(b-v)+(l-v)/(b-v),1)));else if(S===3)m=p(m=b===v?l>=b?0:1:1-t(0,e(.5/(b-v)+(l-v)/(b-v),1)));else if(S===4)b===v?m=0:(m=t(0,e(.5/(b-v)+(l-v)/(b-v),1)))<.5?m*=2:m=1-2*(m-.5),m=p(m);else if(S===5){if(b===v)m=0;else{var T=b-v,C=-T/2+(l=e(t(0,l+.5-v),b-v)),w=T/2;m=Math.sqrt(1-C*C/(w*w))}m=p(m)}else S===6?(b===v?m=0:(l=e(t(0,l+.5-v),b-v),m=(1+Math.cos(Math.PI+2*Math.PI*l/(b-v)))/2),m=p(m)):(l>=n(v)&&(m=t(0,e(l-v<0?e(b,1)-(v-l):b-l,1))),m=p(m));if(this.sm.v!==100){var R=.01*this.sm.v;R===0&&(R=1e-8);var L=.5-.5*R;m<L?m=0:(m=(m-L)/R)>1&&(m=1)}return m*this.a.v},getValue:function(l){this.iterateDynamicProperties(),this._mdf=l||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,l&&this.data.r===2&&(this.e.v=this._currentTextLength);var u=this.data.r===2?1:100/this.data.totalChars,h=this.o.v/u,f=this.s.v/u+h,d=this.e.v/u+h;if(f>d){var p=f;f=d,d=p}this.finalS=f,this.finalE=d}},extendPrototype([DynamicPropertyContainer],o),{getTextSelectorProp:function(l,u,h){return new o(l,u)}}}();function TextAnimatorDataProperty(t,e,n){var o={propType:!1},l=PropertyFactory.getProp,u=e.a;this.a={r:u.r?l(t,u.r,0,degToRads,n):o,rx:u.rx?l(t,u.rx,0,degToRads,n):o,ry:u.ry?l(t,u.ry,0,degToRads,n):o,sk:u.sk?l(t,u.sk,0,degToRads,n):o,sa:u.sa?l(t,u.sa,0,degToRads,n):o,s:u.s?l(t,u.s,1,.01,n):o,a:u.a?l(t,u.a,1,0,n):o,o:u.o?l(t,u.o,0,.01,n):o,p:u.p?l(t,u.p,1,0,n):o,sw:u.sw?l(t,u.sw,0,0,n):o,sc:u.sc?l(t,u.sc,1,0,n):o,fc:u.fc?l(t,u.fc,1,0,n):o,fh:u.fh?l(t,u.fh,0,0,n):o,fs:u.fs?l(t,u.fs,0,.01,n):o,fb:u.fb?l(t,u.fb,0,.01,n):o,t:u.t?l(t,u.t,0,0,n):o},this.s=TextSelectorProp.getTextSelectorProp(t,e.s,n),this.s.t=e.s.t}function TextAnimatorProperty(t,e,n){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=t,this._renderType=e,this._elem=n,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(n)}function ITextElement(){}TextAnimatorProperty.prototype.searchProperties=function(){var t,e,n=this._textData.a.length,o=PropertyFactory.getProp;for(t=0;t<n;t+=1)e=this._textData.a[t],this._animatorsData[t]=new TextAnimatorDataProperty(this._elem,e,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:o(this._elem,this._textData.p.a,0,0,this),f:o(this._elem,this._textData.p.f,0,0,this),l:o(this._elem,this._textData.p.l,0,0,this),r:o(this._elem,this._textData.p.r,0,0,this),p:o(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=o(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(t,e){if(this.lettersChangedFlag=e,this._mdf||this._isFirstFrame||e||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var n,o,l,u,h,f,d,p,m,v,b,S,T,C,w,R,L,N,F,B=this._moreOptions.alignment.v,U=this._animatorsData,z=this._textData,K=this.mHelper,Q=this._renderType,q=this.renderedLetters.length,H=t.l;if(this._hasMaskedPath){if(F=this._pathData.m,!this._pathData.n||this._pathData._mdf){var se,le=F.v;for(this._pathData.r.v&&(le=le.reverse()),h={tLength:0,segments:[]},u=le._length-1,R=0,l=0;l<u;l+=1)se=bez.buildBezierData(le.v[l],le.v[l+1],[le.o[l][0]-le.v[l][0],le.o[l][1]-le.v[l][1]],[le.i[l+1][0]-le.v[l+1][0],le.i[l+1][1]-le.v[l+1][1]]),h.tLength+=se.segmentLength,h.segments.push(se),R+=se.segmentLength;l=u,F.v.c&&(se=bez.buildBezierData(le.v[l],le.v[0],[le.o[l][0]-le.v[l][0],le.o[l][1]-le.v[l][1]],[le.i[0][0]-le.v[0][0],le.i[0][1]-le.v[0][1]]),h.tLength+=se.segmentLength,h.segments.push(se),R+=se.segmentLength),this._pathData.pi=h}if(h=this._pathData.pi,f=this._pathData.f.v,b=0,v=1,p=0,m=!0,C=h.segments,f<0&&F.v.c)for(h.tLength<Math.abs(f)&&(f=-Math.abs(f)%h.tLength),v=(T=C[b=C.length-1].points).length-1;f<0;)f+=T[v].partialLength,(v-=1)<0&&(v=(T=C[b-=1].points).length-1);S=(T=C[b].points)[v-1],w=(d=T[v]).partialLength}u=H.length,n=0,o=0;var ne,ce,fe,ge,Z,ie=1.2*t.finalSize*.714,oe=!0;fe=U.length;var ae,pe,we,_e,Me,Oe,Ye,qe,Re,Je,ke,de,Be=-1,Pe=f,et=b,He=v,rt=-1,ot="",ht=this.defaultPropsArray;if(t.j===2||t.j===1){var xt=0,me=0,he=t.j===2?-.5:-1,Ne=0,Ve=!0;for(l=0;l<u;l+=1)if(H[l].n){for(xt&&(xt+=me);Ne<l;)H[Ne].animatorJustifyOffset=xt,Ne+=1;xt=0,Ve=!0}else{for(ce=0;ce<fe;ce+=1)(ne=U[ce].a).t.propType&&(Ve&&t.j===2&&(me+=ne.t.v*he),(Z=U[ce].s.getMult(H[l].anIndexes[ce],z.a[ce].s.totalChars)).length?xt+=ne.t.v*Z[0]*he:xt+=ne.t.v*Z*he);Ve=!1}for(xt&&(xt+=me);Ne<l;)H[Ne].animatorJustifyOffset=xt,Ne+=1}for(l=0;l<u;l+=1){if(K.reset(),_e=1,H[l].n)n=0,o+=t.yOffset,o+=oe?1:0,f=Pe,oe=!1,this._hasMaskedPath&&(v=He,S=(T=C[b=et].points)[v-1],w=(d=T[v]).partialLength,p=0),ot="",ke="",Re="",de="",ht=this.defaultPropsArray;else{if(this._hasMaskedPath){if(rt!==H[l].line){switch(t.j){case 1:f+=R-t.lineWidths[H[l].line];break;case 2:f+=(R-t.lineWidths[H[l].line])/2}rt=H[l].line}Be!==H[l].ind&&(H[Be]&&(f+=H[Be].extra),f+=H[l].an/2,Be=H[l].ind),f+=B[0]*H[l].an*.005;var tt=0;for(ce=0;ce<fe;ce+=1)(ne=U[ce].a).p.propType&&((Z=U[ce].s.getMult(H[l].anIndexes[ce],z.a[ce].s.totalChars)).length?tt+=ne.p.v[0]*Z[0]:tt+=ne.p.v[0]*Z),ne.a.propType&&((Z=U[ce].s.getMult(H[l].anIndexes[ce],z.a[ce].s.totalChars)).length?tt+=ne.a.v[0]*Z[0]:tt+=ne.a.v[0]*Z);for(m=!0,this._pathData.a.v&&(f=.5*H[0].an+(R-this._pathData.f.v-.5*H[0].an-.5*H[H.length-1].an)*Be/(u-1),f+=this._pathData.f.v);m;)p+w>=f+tt||!T?(L=(f+tt-p)/d.partialLength,pe=S.point[0]+(d.point[0]-S.point[0])*L,we=S.point[1]+(d.point[1]-S.point[1])*L,K.translate(-B[0]*H[l].an*.005,-B[1]*ie*.01),m=!1):T&&(p+=d.partialLength,(v+=1)>=T.length&&(v=0,C[b+=1]?T=C[b].points:F.v.c?(v=0,T=C[b=0].points):(p-=d.partialLength,T=null)),T&&(S=d,w=(d=T[v]).partialLength));ae=H[l].an/2-H[l].add,K.translate(-ae,0,0)}else ae=H[l].an/2-H[l].add,K.translate(-ae,0,0),K.translate(-B[0]*H[l].an*.005,-B[1]*ie*.01,0);for(ce=0;ce<fe;ce+=1)(ne=U[ce].a).t.propType&&(Z=U[ce].s.getMult(H[l].anIndexes[ce],z.a[ce].s.totalChars),n===0&&t.j===0||(this._hasMaskedPath?Z.length?f+=ne.t.v*Z[0]:f+=ne.t.v*Z:Z.length?n+=ne.t.v*Z[0]:n+=ne.t.v*Z));for(t.strokeWidthAnim&&(Oe=t.sw||0),t.strokeColorAnim&&(Me=t.sc?[t.sc[0],t.sc[1],t.sc[2]]:[0,0,0]),t.fillColorAnim&&t.fc&&(Ye=[t.fc[0],t.fc[1],t.fc[2]]),ce=0;ce<fe;ce+=1)(ne=U[ce].a).a.propType&&((Z=U[ce].s.getMult(H[l].anIndexes[ce],z.a[ce].s.totalChars)).length?K.translate(-ne.a.v[0]*Z[0],-ne.a.v[1]*Z[1],ne.a.v[2]*Z[2]):K.translate(-ne.a.v[0]*Z,-ne.a.v[1]*Z,ne.a.v[2]*Z));for(ce=0;ce<fe;ce+=1)(ne=U[ce].a).s.propType&&((Z=U[ce].s.getMult(H[l].anIndexes[ce],z.a[ce].s.totalChars)).length?K.scale(1+(ne.s.v[0]-1)*Z[0],1+(ne.s.v[1]-1)*Z[1],1):K.scale(1+(ne.s.v[0]-1)*Z,1+(ne.s.v[1]-1)*Z,1));for(ce=0;ce<fe;ce+=1){if(ne=U[ce].a,Z=U[ce].s.getMult(H[l].anIndexes[ce],z.a[ce].s.totalChars),ne.sk.propType&&(Z.length?K.skewFromAxis(-ne.sk.v*Z[0],ne.sa.v*Z[1]):K.skewFromAxis(-ne.sk.v*Z,ne.sa.v*Z)),ne.r.propType&&(Z.length?K.rotateZ(-ne.r.v*Z[2]):K.rotateZ(-ne.r.v*Z)),ne.ry.propType&&(Z.length?K.rotateY(ne.ry.v*Z[1]):K.rotateY(ne.ry.v*Z)),ne.rx.propType&&(Z.length?K.rotateX(ne.rx.v*Z[0]):K.rotateX(ne.rx.v*Z)),ne.o.propType&&(Z.length?_e+=(ne.o.v*Z[0]-_e)*Z[0]:_e+=(ne.o.v*Z-_e)*Z),t.strokeWidthAnim&&ne.sw.propType&&(Z.length?Oe+=ne.sw.v*Z[0]:Oe+=ne.sw.v*Z),t.strokeColorAnim&&ne.sc.propType)for(qe=0;qe<3;qe+=1)Z.length?Me[qe]+=(ne.sc.v[qe]-Me[qe])*Z[0]:Me[qe]+=(ne.sc.v[qe]-Me[qe])*Z;if(t.fillColorAnim&&t.fc){if(ne.fc.propType)for(qe=0;qe<3;qe+=1)Z.length?Ye[qe]+=(ne.fc.v[qe]-Ye[qe])*Z[0]:Ye[qe]+=(ne.fc.v[qe]-Ye[qe])*Z;ne.fh.propType&&(Ye=Z.length?addHueToRGB(Ye,ne.fh.v*Z[0]):addHueToRGB(Ye,ne.fh.v*Z)),ne.fs.propType&&(Ye=Z.length?addSaturationToRGB(Ye,ne.fs.v*Z[0]):addSaturationToRGB(Ye,ne.fs.v*Z)),ne.fb.propType&&(Ye=Z.length?addBrightnessToRGB(Ye,ne.fb.v*Z[0]):addBrightnessToRGB(Ye,ne.fb.v*Z))}}for(ce=0;ce<fe;ce+=1)(ne=U[ce].a).p.propType&&(Z=U[ce].s.getMult(H[l].anIndexes[ce],z.a[ce].s.totalChars),this._hasMaskedPath?Z.length?K.translate(0,ne.p.v[1]*Z[0],-ne.p.v[2]*Z[1]):K.translate(0,ne.p.v[1]*Z,-ne.p.v[2]*Z):Z.length?K.translate(ne.p.v[0]*Z[0],ne.p.v[1]*Z[1],-ne.p.v[2]*Z[2]):K.translate(ne.p.v[0]*Z,ne.p.v[1]*Z,-ne.p.v[2]*Z));if(t.strokeWidthAnim&&(Re=Oe<0?0:Oe),t.strokeColorAnim&&(Je="rgb("+Math.round(255*Me[0])+","+Math.round(255*Me[1])+","+Math.round(255*Me[2])+")"),t.fillColorAnim&&t.fc&&(ke="rgb("+Math.round(255*Ye[0])+","+Math.round(255*Ye[1])+","+Math.round(255*Ye[2])+")"),this._hasMaskedPath){if(K.translate(0,-t.ls),K.translate(0,B[1]*ie*.01+o,0),this._pathData.p.v){N=(d.point[1]-S.point[1])/(d.point[0]-S.point[0]);var nt=180*Math.atan(N)/Math.PI;d.point[0]<S.point[0]&&(nt+=180),K.rotate(-nt*Math.PI/180)}K.translate(pe,we,0),f-=B[0]*H[l].an*.005,H[l+1]&&Be!==H[l+1].ind&&(f+=H[l].an/2,f+=.001*t.tr*t.finalSize)}else{switch(K.translate(n,o,0),t.ps&&K.translate(t.ps[0],t.ps[1]+t.ascent,0),t.j){case 1:K.translate(H[l].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[H[l].line]),0,0);break;case 2:K.translate(H[l].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[H[l].line])/2,0,0)}K.translate(0,-t.ls),K.translate(ae,0,0),K.translate(B[0]*H[l].an*.005,B[1]*ie*.01,0),n+=H[l].l+.001*t.tr*t.finalSize}Q==="html"?ot=K.toCSS():Q==="svg"?ot=K.to2dCSS():ht=[K.props[0],K.props[1],K.props[2],K.props[3],K.props[4],K.props[5],K.props[6],K.props[7],K.props[8],K.props[9],K.props[10],K.props[11],K.props[12],K.props[13],K.props[14],K.props[15]],de=_e}q<=l?(ge=new LetterProps(de,Re,Je,ke,ot,ht),this.renderedLetters.push(ge),q+=1,this.lettersChangedFlag=!0):(ge=this.renderedLetters[l],this.lettersChangedFlag=ge.update(de,Re,Je,ke,ot,ht)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),ITextElement.prototype.initElement=function(t,e,n){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(t,e,n),this.textProperty=new TextProperty(this,t.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(t.t,this.renderType,this),this.initTransform(t,e,n),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)},ITextElement.prototype.createPathShape=function(t,e){var n,o,l=e.length,u="";for(n=0;n<l;n+=1)e[n].ty==="sh"&&(o=e[n].ks.k,u+=buildShapeString(o,o.i.length,!0,t));return u},ITextElement.prototype.updateDocumentData=function(t,e){this.textProperty.updateDocumentData(t,e)},ITextElement.prototype.canResizeFont=function(t){this.textProperty.canResizeFont(t)},ITextElement.prototype.setMinimumFontSize=function(t){this.textProperty.setMinimumFontSize(t)},ITextElement.prototype.applyTextPropertiesToMatrix=function(t,e,n,o,l){switch(t.ps&&e.translate(t.ps[0],t.ps[1]+t.ascent,0),e.translate(0,-t.ls,0),t.j){case 1:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[n]),0,0);break;case 2:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[n])/2,0,0)}e.translate(o,l,0)},ITextElement.prototype.buildColor=function(t){return"rgb("+Math.round(255*t[0])+","+Math.round(255*t[1])+","+Math.round(255*t[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(t,e,n){this.textSpans=[],this.renderType="svg",this.initElement(t,e,n)}function ISolidElement(t,e,n){this.initElement(t,e,n)}function NullElement(t,e,n){this.initFrame(),this.initBaseData(t,e,n),this.initFrame(),this.initTransform(t,e,n),this.initHierarchy()}function SVGRendererBase(){}function ICompElement(){}function SVGCompElement(t,e,n){this.layers=t.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,n),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function SVGRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var n="";if(e&&e.title){var o=createNS("title"),l=createElementID();o.setAttribute("id",l),o.textContent=e.title,this.svgElement.appendChild(o),n+=l}if(e&&e.description){var u=createNS("desc"),h=createElementID();u.setAttribute("id",h),u.textContent=e.description,this.svgElement.appendChild(u),n+=" "+h}n&&this.svgElement.setAttribute("aria-labelledby",n);var f=createNS("defs");this.svgElement.appendChild(f);var d=createNS("g");this.svgElement.appendChild(d),this.layerElement=d,this.renderConfig={preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",progressiveLoad:e&&e.progressiveLoad||!1,hideOnTransparent:!(e&&e.hideOnTransparent===!1),viewBoxOnly:e&&e.viewBoxOnly||!1,viewBoxSize:e&&e.viewBoxSize||!1,className:e&&e.className||"",id:e&&e.id||"",focusable:e&&e.focusable,filterSize:{width:e&&e.filterSize&&e.filterSize.width||"100%",height:e&&e.filterSize&&e.filterSize.height||"100%",x:e&&e.filterSize&&e.filterSize.x||"0%",y:e&&e.filterSize&&e.filterSize.y||"0%"},width:e&&e.width,height:e&&e.height,runExpressions:!e||e.runExpressions===void 0||e.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:f,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(t){for(var e=0,n=t.length,o=[],l="";e<n;)t[e]==="\r"||t[e]===""?(o.push(l),l=""):l+=t[e],e+=1;return o.push(l),o},SVGTextLottieElement.prototype.buildShapeData=function(t,e){if(t.shapes&&t.shapes.length){var n=t.shapes[0];if(n.it){var o=n.it[n.it.length-1];o.s&&(o.s.k[0]=e,o.s.k[1]=e)}}return t},SVGTextLottieElement.prototype.buildNewText=function(){var t,e;this.addDynamicProperty(this);var n=this.textProperty.currentData;this.renderedLetters=createSizedArray(n?n.l.length:0),n.fc?this.layerElement.setAttribute("fill",this.buildColor(n.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),n.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(n.sc)),this.layerElement.setAttribute("stroke-width",n.sw)),this.layerElement.setAttribute("font-size",n.finalSize);var o=this.globalData.fontManager.getFontByName(n.f);if(o.fClass)this.layerElement.setAttribute("class",o.fClass);else{this.layerElement.setAttribute("font-family",o.fFamily);var l=n.fWeight,u=n.fStyle;this.layerElement.setAttribute("font-style",u),this.layerElement.setAttribute("font-weight",l)}this.layerElement.setAttribute("aria-label",n.t);var h,f=n.l||[],d=!!this.globalData.fontManager.chars;e=f.length;var p=this.mHelper,m=this.data.singleShape,v=0,b=0,S=!0,T=.001*n.tr*n.finalSize;if(!m||d||n.sz){var C,w=this.textSpans.length;for(t=0;t<e;t+=1){if(this.textSpans[t]||(this.textSpans[t]={span:null,childSpan:null,glyph:null}),!d||!m||t===0){if(h=w>t?this.textSpans[t].span:createNS(d?"g":"text"),w<=t){if(h.setAttribute("stroke-linecap","butt"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit","4"),this.textSpans[t].span=h,d){var R=createNS("g");h.appendChild(R),this.textSpans[t].childSpan=R}this.textSpans[t].span=h,this.layerElement.appendChild(h)}h.style.display="inherit"}if(p.reset(),m&&(f[t].n&&(v=-T,b+=n.yOffset,b+=S?1:0,S=!1),this.applyTextPropertiesToMatrix(n,p,f[t].line,v,b),v+=f[t].l||0,v+=T),d){var L;if((C=this.globalData.fontManager.getCharData(n.finalText[t],o.fStyle,this.globalData.fontManager.getFontByName(n.f).fFamily)).t===1)L=new SVGCompElement(C.data,this.globalData,this);else{var N=emptyShapeData;C.data&&C.data.shapes&&(N=this.buildShapeData(C.data,n.finalSize)),L=new SVGShapeElement(N,this.globalData,this)}if(this.textSpans[t].glyph){var F=this.textSpans[t].glyph;this.textSpans[t].childSpan.removeChild(F.layerElement),F.destroy()}this.textSpans[t].glyph=L,L._debug=!0,L.prepareFrame(0),L.renderFrame(),this.textSpans[t].childSpan.appendChild(L.layerElement),C.t===1&&this.textSpans[t].childSpan.setAttribute("transform","scale("+n.finalSize/100+","+n.finalSize/100+")")}else m&&h.setAttribute("transform","translate("+p.props[12]+","+p.props[13]+")"),h.textContent=f[t].val,h.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}m&&h&&h.setAttribute("d","")}else{var B=this.textContainer,U="start";switch(n.j){case 1:U="end";break;case 2:U="middle";break;default:U="start"}B.setAttribute("text-anchor",U),B.setAttribute("letter-spacing",T);var z=this.buildTextContents(n.finalText);for(e=z.length,b=n.ps?n.ps[1]+n.ascent:0,t=0;t<e;t+=1)(h=this.textSpans[t].span||createNS("tspan")).textContent=z[t],h.setAttribute("x",0),h.setAttribute("y",b),h.style.display="inherit",B.appendChild(h),this.textSpans[t]||(this.textSpans[t]={span:null,glyph:null}),this.textSpans[t].span=h,b+=n.finalLineHeight;this.layerElement.appendChild(B)}for(;t<this.textSpans.length;)this.textSpans[t].span.style.display="none",t+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var t=this.layerElement.getBBox();this.bbox={top:t.y,left:t.x,width:t.width,height:t.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var t,e,n=this.textSpans.length;for(this.renderedFrame=this.comp.renderedFrame,t=0;t<n;t+=1)(e=this.textSpans[t].glyph)&&(e.prepareFrame(this.comp.renderedFrame-this.data.st),e._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var t,e;this._sizeChanged=!0;var n,o,l,u=this.textAnimator.renderedLetters,h=this.textProperty.currentData.l;for(e=h.length,t=0;t<e;t+=1)h[t].n||(n=u[t],o=this.textSpans[t].span,(l=this.textSpans[t].glyph)&&l.renderFrame(),n._mdf.m&&o.setAttribute("transform",n.m),n._mdf.o&&o.setAttribute("opacity",n.o),n._mdf.sw&&o.setAttribute("stroke-width",n.sw),n._mdf.sc&&o.setAttribute("stroke",n.sc),n._mdf.fc&&o.setAttribute("fill",n.fc))}},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var t=createNS("rect");t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.layerElement.appendChild(t)},NullElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(t){return new NullElement(t,this.globalData,this)},SVGRendererBase.prototype.createShape=function(t){return new SVGShapeElement(t,this.globalData,this)},SVGRendererBase.prototype.createText=function(t){return new SVGTextLottieElement(t,this.globalData,this)},SVGRendererBase.prototype.createImage=function(t){return new IImageElement(t,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(t){return new ISolidElement(t,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(t){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+t.w+" "+t.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",t.w),this.svgElement.setAttribute("height",t.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var e=this.globalData.defs;this.setupGlobalData(t,e),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=t;var n=createNS("clipPath"),o=createNS("rect");o.setAttribute("width",t.w),o.setAttribute("height",t.h),o.setAttribute("x",0),o.setAttribute("y",0);var l=createElementID();n.setAttribute("id",l),n.appendChild(o),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+l+")"),e.appendChild(n),this.layers=t.layers,this.elements=createSizedArray(t.layers.length)},SVGRendererBase.prototype.destroy=function(){var t;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var e=this.layers?this.layers.length:0;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(t){var e=0,n=this.layers.length;for(e=0;e<n;e+=1)if(this.layers[e].ind===t)return e;return-1},SVGRendererBase.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&this.layers[t].ty!==99){e[t]=!0;var n=this.createItem(this.layers[t]);if(e[t]=n,getExpressionsPlugin()&&(this.layers[t].ty===0&&this.globalData.projectInterface.registerComposition(n),n.initExpressions()),this.appendElementInPos(n,t),this.layers[t].tt){var o="tp"in this.layers[t]?this.findIndexByInd(this.layers[t].tp):t-1;if(o===-1)return;if(this.elements[o]&&this.elements[o]!==!0){var l=e[o].getMatte(this.layers[t].tt);n.setMatte(l)}else this.buildItem(o),this.addPendingElement(n)}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();if(t.checkParenting(),t.data.tt)for(var e=0,n=this.elements.length;e<n;){if(this.elements[e]===t){var o="tp"in t.data?this.findIndexByInd(t.data.tp):e-1,l=this.elements[o].getMatte(this.layers[e].tt);t.setMatte(l);break}e+=1}}},SVGRendererBase.prototype.renderFrame=function(t){if(this.renderedFrame!==t&&!this.destroyed){var e;t===null?t=this.renderedFrame:this.renderedFrame=t,this.globalData.frameNum=t,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=t,this.globalData._mdf=!1;var n=this.layers.length;for(this.completeLayers||this.checkLayers(t),e=n-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].prepareFrame(t-this.layers[e].st);if(this.globalData._mdf)for(e=0;e<n;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(t,e){var n=t.getBaseElement();if(n){for(var o,l=0;l<e;)this.elements[l]&&this.elements[l]!==!0&&this.elements[l].getBaseElement()&&(o=this.elements[l].getBaseElement()),l+=1;o?this.layerElement.insertBefore(n,o):this.layerElement.appendChild(n)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(t,e,n){this.initFrame(),this.initBaseData(t,e,n),this.initTransform(t,e,n),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&e.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(t){if(this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=t/this.data.sr;else{var e=this.tm.v;e===this.data.op&&(e=this.data.op-1),this.renderedFrame=e}var n,o=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),n=o-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&(this.elements[n].prepareFrame(this.renderedFrame-this.layers[n].st),this.elements[n]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},ICompElement.prototype.setElements=function(t){this.elements=t},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)},extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)},ShapeTransformManager.prototype={addTransformSequence:function(t){var e,n=t.length,o="_";for(e=0;e<n;e+=1)o+=t[e].transform.key+"_";var l=this.sequences[o];return l||(l={transforms:[].concat(t),finalTransform:new Matrix,_mdf:!1},this.sequences[o]=l,this.sequenceList.push(l)),l},processSequence:function(t,e){for(var n=0,o=t.transforms.length,l=e;n<o&&!e;){if(t.transforms[n].transform.mProps._mdf){l=!0;break}n+=1}if(l)for(t.finalTransform.reset(),n=o-1;n>=0;n-=1)t.finalTransform.multiply(t.transforms[n].transform.mProps.v);t._mdf=l},processSequences:function(t){var e,n=this.sequenceList.length;for(e=0;e<n;e+=1)this.processSequence(this.sequenceList[e],t)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var t="__lottie_element_luma_buffer",e=null,n=null,o=null;function l(){var u,h,f;e||(u=createNS("svg"),h=createNS("filter"),f=createNS("feColorMatrix"),h.setAttribute("id",t),f.setAttribute("type","matrix"),f.setAttribute("color-interpolation-filters","sRGB"),f.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),h.appendChild(f),u.appendChild(h),u.setAttribute("id",t+"_svg"),featureSupport.svgLumaHidden&&(u.style.display="none"),o=u,document.body.appendChild(o),e=createTag("canvas"),(n=e.getContext("2d")).filter="url(#"+t+")",n.fillStyle="rgba(0,0,0,0)",n.fillRect(0,0,1,1))}return{load:l,get:function(u){return e||l(),e.width=u.width,e.height=u.height,n.filter="url(#"+t+")",e}}};function createCanvas(t,e){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(t,e);var n=createTag("canvas");return n.width=t,n.height=e,n}var assetLoader={loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas},registeredEffects={};function CVEffects(t){var e,n,o=t.data.ef?t.data.ef.length:0;for(this.filters=[],e=0;e<o;e+=1){n=null;var l=t.data.ef[e].ty;registeredEffects[l]&&(n=new registeredEffects[l].effect(t.effectsManager.effectElements[e],t)),n&&this.filters.push(n)}this.filters.length&&t.addRenderableComponent(this)}function registerEffect(t,e){registeredEffects[t]={effect:e}}function CVMaskElement(t,e){var n;this.data=t,this.element=e,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var o=this.masksProperties.length,l=!1;for(n=0;n<o;n+=1)this.masksProperties[n].mode!=="n"&&(l=!0),this.viewData[n]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[n],3);this.hasMasks=l,l&&this.element.addRenderableComponent(this)}function CVBaseElement(){}CVEffects.prototype.renderFrame=function(t){var e,n=this.filters.length;for(e=0;e<n;e+=1)this.filters[e].renderFrame(t)},CVEffects.prototype.getEffects=function(t){var e,n=this.filters.length,o=[];for(e=0;e<n;e+=1)this.filters[e].type===t&&o.push(this.filters[e]);return o},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var t,e,n,o,l=this.element.finalTransform.mat,u=this.element.canvasContext,h=this.masksProperties.length;for(u.beginPath(),t=0;t<h;t+=1)if(this.masksProperties[t].mode!=="n"){var f;this.masksProperties[t].inv&&(u.moveTo(0,0),u.lineTo(this.element.globalData.compSize.w,0),u.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),u.lineTo(0,this.element.globalData.compSize.h),u.lineTo(0,0)),o=this.viewData[t].v,e=l.applyToPointArray(o.v[0][0],o.v[0][1],0),u.moveTo(e[0],e[1]);var d=o._length;for(f=1;f<d;f+=1)n=l.applyToTriplePoints(o.o[f-1],o.i[f],o.v[f]),u.bezierCurveTo(n[0],n[1],n[2],n[3],n[4],n[5]);n=l.applyToTriplePoints(o.o[f-1],o.i[0],o.v[0]),u.bezierCurveTo(n[0],n[1],n[2],n[3],n[4],n[5])}this.element.globalData.renderer.save(!0),u.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};function CVShapeData(t,e,n,o){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var l,u=4;e.ty==="rc"?u=5:e.ty==="el"?u=6:e.ty==="sr"&&(u=7),this.sh=ShapePropertyFactory.getShapeProp(t,e,u,t);var h,f=n.length;for(l=0;l<f;l+=1)n[l].closed||(h={transforms:o.addTransformSequence(n[l].transforms),trNodes:[]},this.styledShapes.push(h),n[l].elements.push(h))}function CVShapeElement(t,e,n){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(t,e,n)}function CVTextElement(t,e,n){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(t,e,n)}function CVImageElement(t,e,n){this.assetData=e.getAssetData(t.refId),this.img=e.imageLoader.getAsset(this.assetData),this.initElement(t,e,n)}function CVSolidElement(t,e,n){this.initElement(t,e,n)}function CanvasRendererBase(){}function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){var t;for(this.stack=[],this.cArrPos=0,this.cTr=new Matrix,t=0;t<15;t+=1){var e=new CanvasContext;this.stack[t]=e}this._length=15,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}function CVCompElement(t,e,n){this.completeLayers=!1,this.layers=t.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(t,e,n),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function CanvasRenderer(t,e){this.animationItem=t,this.renderConfig={clearCanvas:!e||e.clearCanvas===void 0||e.clearCanvas,context:e&&e.context||null,progressiveLoad:e&&e.progressiveLoad||!1,preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",className:e&&e.className||"",id:e&&e.id||"",runExpressions:!e||e.runExpressions===void 0||e.runExpressions},this.renderConfig.dpr=e&&e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=e&&e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}function HBaseElement(){}function HSolidElement(t,e,n){this.initElement(t,e,n)}function HShapeElement(t,e,n){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(t,e,n),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(t,e,n){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(t,e,n)}function HCameraElement(t,e,n){this.initFrame(),this.initBaseData(t,e,n),this.initHierarchy();var o=PropertyFactory.getProp;if(this.pe=o(this,t.pe,0,0,this),t.ks.p.s?(this.px=o(this,t.ks.p.x,1,0,this),this.py=o(this,t.ks.p.y,1,0,this),this.pz=o(this,t.ks.p.z,1,0,this)):this.p=o(this,t.ks.p,1,0,this),t.ks.a&&(this.a=o(this,t.ks.a,1,0,this)),t.ks.or.k.length&&t.ks.or.k[0].to){var l,u=t.ks.or.k.length;for(l=0;l<u;l+=1)t.ks.or.k[l].to=null,t.ks.or.k[l].ti=null}this.or=o(this,t.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=o(this,t.ks.rx,0,degToRads,this),this.ry=o(this,t.ks.ry,0,degToRads,this),this.rz=o(this,t.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HImageElement(t,e,n){this.assetData=e.getAssetData(t.refId),this.initElement(t,e,n)}function HybridRendererBase(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&e.hideOnTransparent===!1),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function HCompElement(t,e,n){this.layers=t.layers,this.supports3d=!t.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,n),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function HybridRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&e.hideOnTransparent===!1),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"},runExpressions:!e||e.runExpressions===void 0||e.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var t=this.globalData.canvasContext,e=assetLoader.createCanvas(t.canvas.width,t.canvas.height);this.buffers.push(e);var n=assetLoader.createCanvas(t.canvas.width,t.canvas.height);this.buffers.push(n),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var t=this.globalData;if(t.blendMode!==this.data.bm){t.blendMode=this.data.bm;var e=getBlendMode(this.data.bm);t.canvasContext.globalCompositeOperation=e}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(t){t.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var t=this.buffers[0].getContext("2d");this.clearCanvas(t),t.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var t=this.buffers[1],e=t.getContext("2d");if(this.clearCanvas(e),e.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform),this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1).renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var n=assetLoader.getLumaCanvas(this.canvasContext.canvas);n.getContext("2d").drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(n,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(t,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(t){if(!this.hidden&&!this.data.hd&&(this.data.td!==1||t)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var e=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(e),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(e),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(t,e){var n={data:t,type:t.ty,preTransforms:this.transformsManager.addTransformSequence(e),transforms:[],elements:[],closed:t.hd===!0},o={};if(t.ty==="fl"||t.ty==="st"?(o.c=PropertyFactory.getProp(this,t.c,1,255,this),o.c.k||(n.co="rgb("+bmFloor(o.c.v[0])+","+bmFloor(o.c.v[1])+","+bmFloor(o.c.v[2])+")")):t.ty!=="gf"&&t.ty!=="gs"||(o.s=PropertyFactory.getProp(this,t.s,1,null,this),o.e=PropertyFactory.getProp(this,t.e,1,null,this),o.h=PropertyFactory.getProp(this,t.h||{k:0},0,.01,this),o.a=PropertyFactory.getProp(this,t.a||{k:0},0,degToRads,this),o.g=new GradientProperty(this,t.g,this)),o.o=PropertyFactory.getProp(this,t.o,0,.01,this),t.ty==="st"||t.ty==="gs"){if(n.lc=lineCapEnum[t.lc||2],n.lj=lineJoinEnum[t.lj||2],t.lj==1&&(n.ml=t.ml),o.w=PropertyFactory.getProp(this,t.w,0,null,this),o.w.k||(n.wi=o.w.v),t.d){var l=new DashProperty(this,t.d,"canvas",this);o.d=l,o.d.k||(n.da=o.d.dashArray,n.do=o.d.dashoffset[0])}}else n.r=t.r===2?"evenodd":"nonzero";return this.stylesList.push(n),o.style=n,o},CVShapeElement.prototype.createGroupElement=function(){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(t){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,t.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,t,this)}}},CVShapeElement.prototype.createShapeElement=function(t){var e=new CVShapeData(this,t,this.stylesList,this.transformsManager);return this.shapes.push(e),this.addShapeToModifiers(e),e},CVShapeElement.prototype.reloadShapes=function(){var t;this._isFirstFrame=!0;var e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(t){var e,n=this.stylesList.length;for(e=0;e<n;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.push(t)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var t,e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.pop()},CVShapeElement.prototype.closeStyles=function(t){var e,n=t.length;for(e=0;e<n;e+=1)t[e].closed=!0},CVShapeElement.prototype.searchShapes=function(t,e,n,o,l){var u,h,f,d,p,m,v=t.length-1,b=[],S=[],T=[].concat(l);for(u=v;u>=0;u-=1){if((d=this.searchProcessedElement(t[u]))?e[u]=n[d-1]:t[u]._shouldRender=o,t[u].ty==="fl"||t[u].ty==="st"||t[u].ty==="gf"||t[u].ty==="gs")d?e[u].style.closed=!1:e[u]=this.createStyleElement(t[u],T),b.push(e[u].style);else if(t[u].ty==="gr"){if(d)for(f=e[u].it.length,h=0;h<f;h+=1)e[u].prevViewData[h]=e[u].it[h];else e[u]=this.createGroupElement(t[u]);this.searchShapes(t[u].it,e[u].it,e[u].prevViewData,o,T)}else t[u].ty==="tr"?(d||(m=this.createTransformElement(t[u]),e[u]=m),T.push(e[u]),this.addTransformToStyleList(e[u])):t[u].ty==="sh"||t[u].ty==="rc"||t[u].ty==="el"||t[u].ty==="sr"?d||(e[u]=this.createShapeElement(t[u])):t[u].ty==="tm"||t[u].ty==="rd"||t[u].ty==="pb"||t[u].ty==="zz"||t[u].ty==="op"?(d?(p=e[u]).closed=!1:((p=ShapeModifiers.getModifier(t[u].ty)).init(this,t[u]),e[u]=p,this.shapeModifiers.push(p)),S.push(p)):t[u].ty==="rp"&&(d?(p=e[u]).closed=!0:(p=ShapeModifiers.getModifier(t[u].ty),e[u]=p,p.init(this,t,u,e),this.shapeModifiers.push(p),o=!1),S.push(p));this.addProcessedElement(t[u],u+1)}for(this.removeTransformFromStyleList(),this.closeStyles(b),v=S.length,u=0;u<v;u+=1)S[u].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(t,e){(t._opMdf||e.op._mdf||this._isFirstFrame)&&(e.opacity=t.opacity,e.opacity*=e.op.v,e._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var t,e,n,o,l,u,h,f,d,p=this.stylesList.length,m=this.globalData.renderer,v=this.globalData.canvasContext;for(t=0;t<p;t+=1)if(((f=(d=this.stylesList[t]).type)!=="st"&&f!=="gs"||d.wi!==0)&&d.data._shouldRender&&d.coOp!==0&&this.globalData.currentGlobalAlpha!==0){for(m.save(),u=d.elements,f==="st"||f==="gs"?(m.ctxStrokeStyle(f==="st"?d.co:d.grd),m.ctxLineWidth(d.wi),m.ctxLineCap(d.lc),m.ctxLineJoin(d.lj),m.ctxMiterLimit(d.ml||0)):m.ctxFillStyle(f==="fl"?d.co:d.grd),m.ctxOpacity(d.coOp),f!=="st"&&f!=="gs"&&v.beginPath(),m.ctxTransform(d.preTransforms.finalTransform.props),n=u.length,e=0;e<n;e+=1){for(f!=="st"&&f!=="gs"||(v.beginPath(),d.da&&(v.setLineDash(d.da),v.lineDashOffset=d.do)),l=(h=u[e].trNodes).length,o=0;o<l;o+=1)h[o].t==="m"?v.moveTo(h[o].p[0],h[o].p[1]):h[o].t==="c"?v.bezierCurveTo(h[o].pts[0],h[o].pts[1],h[o].pts[2],h[o].pts[3],h[o].pts[4],h[o].pts[5]):v.closePath();f!=="st"&&f!=="gs"||(m.ctxStroke(),d.da&&v.setLineDash(this.dashResetter))}f!=="st"&&f!=="gs"&&this.globalData.renderer.ctxFill(d.r),m.restore()}},CVShapeElement.prototype.renderShape=function(t,e,n,o){var l,u;for(u=t,l=e.length-1;l>=0;l-=1)e[l].ty==="tr"?(u=n[l].transform,this.renderShapeTransform(t,u)):e[l].ty==="sh"||e[l].ty==="el"||e[l].ty==="rc"||e[l].ty==="sr"?this.renderPath(e[l],n[l]):e[l].ty==="fl"?this.renderFill(e[l],n[l],u):e[l].ty==="st"?this.renderStroke(e[l],n[l],u):e[l].ty==="gf"||e[l].ty==="gs"?this.renderGradientFill(e[l],n[l],u):e[l].ty==="gr"?this.renderShape(u,e[l].it,n[l].it):e[l].ty;o&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(t,e){if(this._isFirstFrame||e._mdf||t.transforms._mdf){var n,o,l,u=t.trNodes,h=e.paths,f=h._length;u.length=0;var d=t.transforms.finalTransform;for(l=0;l<f;l+=1){var p=h.shapes[l];if(p&&p.v){for(o=p._length,n=1;n<o;n+=1)n===1&&u.push({t:"m",p:d.applyToPointArray(p.v[0][0],p.v[0][1],0)}),u.push({t:"c",pts:d.applyToTriplePoints(p.o[n-1],p.i[n],p.v[n])});o===1&&u.push({t:"m",p:d.applyToPointArray(p.v[0][0],p.v[0][1],0)}),p.c&&o&&(u.push({t:"c",pts:d.applyToTriplePoints(p.o[n-1],p.i[0],p.v[0])}),u.push({t:"z"}))}}t.trNodes=u}},CVShapeElement.prototype.renderPath=function(t,e){if(t.hd!==!0&&t._shouldRender){var n,o=e.styledShapes.length;for(n=0;n<o;n+=1)this.renderStyledShape(e.styledShapes[n],e.sh)}},CVShapeElement.prototype.renderFill=function(t,e,n){var o=e.style;(e.c._mdf||this._isFirstFrame)&&(o.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||n._opMdf||this._isFirstFrame)&&(o.coOp=e.o.v*n.opacity)},CVShapeElement.prototype.renderGradientFill=function(t,e,n){var o,l=e.style;if(!l.grd||e.g._mdf||e.s._mdf||e.e._mdf||t.t!==1&&(e.h._mdf||e.a._mdf)){var u,h=this.globalData.canvasContext,f=e.s.v,d=e.e.v;if(t.t===1)o=h.createLinearGradient(f[0],f[1],d[0],d[1]);else{var p=Math.sqrt(Math.pow(f[0]-d[0],2)+Math.pow(f[1]-d[1],2)),m=Math.atan2(d[1]-f[1],d[0]-f[0]),v=e.h.v;v>=1?v=.99:v<=-1&&(v=-.99);var b=p*v,S=Math.cos(m+e.a.v)*b+f[0],T=Math.sin(m+e.a.v)*b+f[1];o=h.createRadialGradient(S,T,0,f[0],f[1],p)}var C=t.g.p,w=e.g.c,R=1;for(u=0;u<C;u+=1)e.g._hasOpacity&&e.g._collapsable&&(R=e.g.o[2*u+1]),o.addColorStop(w[4*u]/100,"rgba("+w[4*u+1]+","+w[4*u+2]+","+w[4*u+3]+","+R+")");l.grd=o}l.coOp=e.o.v*n.opacity},CVShapeElement.prototype.renderStroke=function(t,e,n){var o=e.style,l=e.d;l&&(l._mdf||this._isFirstFrame)&&(o.da=l.dashArray,o.do=l.dashoffset[0]),(e.c._mdf||this._isFirstFrame)&&(o.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||n._opMdf||this._isFirstFrame)&&(o.coOp=e.o.v*n.opacity),(e.w._mdf||this._isFirstFrame)&&(o.wi=e.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=!1;t.fc?(e=!0,this.values.fill=this.buildColor(t.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=e;var n=!1;t.sc&&(n=!0,this.values.stroke=this.buildColor(t.sc),this.values.sWidth=t.sw);var o,l,u,h,f,d,p,m,v,b,S,T,C=this.globalData.fontManager.getFontByName(t.f),w=t.l,R=this.mHelper;this.stroke=n,this.values.fValue=t.finalSize+"px "+this.globalData.fontManager.getFontByName(t.f).fFamily,l=t.finalText.length;var L=this.data.singleShape,N=.001*t.tr*t.finalSize,F=0,B=0,U=!0,z=0;for(o=0;o<l;o+=1){h=(u=this.globalData.fontManager.getCharData(t.finalText[o],C.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily))&&u.data||{},R.reset(),L&&w[o].n&&(F=-N,B+=t.yOffset,B+=U?1:0,U=!1),v=(p=h.shapes?h.shapes[0].it:[]).length,R.scale(t.finalSize/100,t.finalSize/100),L&&this.applyTextPropertiesToMatrix(t,R,w[o].line,F,B),S=createSizedArray(v-1);var K=0;for(m=0;m<v;m+=1)if(p[m].ty==="sh"){for(d=p[m].ks.k.i.length,b=p[m].ks.k,T=[],f=1;f<d;f+=1)f===1&&T.push(R.applyToX(b.v[0][0],b.v[0][1],0),R.applyToY(b.v[0][0],b.v[0][1],0)),T.push(R.applyToX(b.o[f-1][0],b.o[f-1][1],0),R.applyToY(b.o[f-1][0],b.o[f-1][1],0),R.applyToX(b.i[f][0],b.i[f][1],0),R.applyToY(b.i[f][0],b.i[f][1],0),R.applyToX(b.v[f][0],b.v[f][1],0),R.applyToY(b.v[f][0],b.v[f][1],0));T.push(R.applyToX(b.o[f-1][0],b.o[f-1][1],0),R.applyToY(b.o[f-1][0],b.o[f-1][1],0),R.applyToX(b.i[0][0],b.i[0][1],0),R.applyToY(b.i[0][0],b.i[0][1],0),R.applyToX(b.v[0][0],b.v[0][1],0),R.applyToY(b.v[0][0],b.v[0][1],0)),S[K]=T,K+=1}L&&(F+=w[o].l,F+=N),this.textSpans[z]?this.textSpans[z].elem=S:this.textSpans[z]={elem:S},z+=1}},CVTextElement.prototype.renderInnerContent=function(){var t,e,n,o,l,u;this.validateText(),this.canvasContext.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var h,f=this.textAnimator.renderedLetters,d=this.textProperty.currentData.l;e=d.length;var p,m,v=null,b=null,S=null,T=this.globalData.renderer;for(t=0;t<e;t+=1)if(!d[t].n){if((h=f[t])&&(T.save(),T.ctxTransform(h.p),T.ctxOpacity(h.o)),this.fill){for(h&&h.fc?v!==h.fc&&(T.ctxFillStyle(h.fc),v=h.fc):v!==this.values.fill&&(v=this.values.fill,T.ctxFillStyle(this.values.fill)),o=(p=this.textSpans[t].elem).length,this.globalData.canvasContext.beginPath(),n=0;n<o;n+=1)for(u=(m=p[n]).length,this.globalData.canvasContext.moveTo(m[0],m[1]),l=2;l<u;l+=6)this.globalData.canvasContext.bezierCurveTo(m[l],m[l+1],m[l+2],m[l+3],m[l+4],m[l+5]);this.globalData.canvasContext.closePath(),T.ctxFill()}if(this.stroke){for(h&&h.sw?S!==h.sw&&(S=h.sw,T.ctxLineWidth(h.sw)):S!==this.values.sWidth&&(S=this.values.sWidth,T.ctxLineWidth(this.values.sWidth)),h&&h.sc?b!==h.sc&&(b=h.sc,T.ctxStrokeStyle(h.sc)):b!==this.values.stroke&&(b=this.values.stroke,T.ctxStrokeStyle(this.values.stroke)),o=(p=this.textSpans[t].elem).length,this.globalData.canvasContext.beginPath(),n=0;n<o;n+=1)for(u=(m=p[n]).length,this.globalData.canvasContext.moveTo(m[0],m[1]),l=2;l<u;l+=6)this.globalData.canvasContext.bezierCurveTo(m[l],m[l+1],m[l+2],m[l+3],m[l+4],m[l+5]);this.globalData.canvasContext.closePath(),T.ctxStroke()}h&&this.globalData.renderer.restore()}},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var t=createTag("canvas");t.width=this.assetData.w,t.height=this.assetData.h;var e,n,o=t.getContext("2d"),l=this.img.width,u=this.img.height,h=l/u,f=this.assetData.w/this.assetData.h,d=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;h>f&&d==="xMidYMid slice"||h<f&&d!=="xMidYMid slice"?e=(n=u)*f:n=(e=l)/f,o.drawImage(this.img,(l-e)/2,(u-n)/2,e,n,0,0,this.assetData.w,this.assetData.h),this.img=t}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(t){return new CVShapeElement(t,this.globalData,this)},CanvasRendererBase.prototype.createText=function(t){return new CVTextElement(t,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(t){return new CVImageElement(t,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(t){return new CVSolidElement(t,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(t){t[0]===1&&t[1]===0&&t[4]===0&&t[5]===1&&t[12]===0&&t[13]===0||this.canvasContext.transform(t[0],t[1],t[4],t[5],t[12],t[13])},CanvasRendererBase.prototype.ctxOpacity=function(t){this.canvasContext.globalAlpha*=t<0?0:t},CanvasRendererBase.prototype.ctxFillStyle=function(t){this.canvasContext.fillStyle=t},CanvasRendererBase.prototype.ctxStrokeStyle=function(t){this.canvasContext.strokeStyle=t},CanvasRendererBase.prototype.ctxLineWidth=function(t){this.canvasContext.lineWidth=t},CanvasRendererBase.prototype.ctxLineCap=function(t){this.canvasContext.lineCap=t},CanvasRendererBase.prototype.ctxLineJoin=function(t){this.canvasContext.lineJoin=t},CanvasRendererBase.prototype.ctxMiterLimit=function(t){this.canvasContext.miterLimit=t},CanvasRendererBase.prototype.ctxFill=function(t){this.canvasContext.fill(t)},CanvasRendererBase.prototype.ctxFillRect=function(t,e,n,o){this.canvasContext.fillRect(t,e,n,o)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(t){this.renderConfig.clearCanvas?(t&&(this.globalData.blendMode="source-over"),this.contextData.restore(t)):this.canvasContext.restore()},CanvasRendererBase.prototype.configAnimation=function(t){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var e=this.animationItem.container.style;e.width="100%",e.height="100%";var n="0px 0px 0px";e.transformOrigin=n,e.mozTransformOrigin=n,e.webkitTransformOrigin=n,e["-webkit-transform"]=n,e.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=t,this.layers=t.layers,this.transformCanvas={w:t.w,h:t.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(t,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(t.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(t,e){var n,o,l,u;if(this.reset(),t?(n=t,o=e,this.canvasContext.canvas.width=n,this.canvasContext.canvas.height=o):(this.animationItem.wrapper&&this.animationItem.container?(n=this.animationItem.wrapper.offsetWidth,o=this.animationItem.wrapper.offsetHeight):(n=this.canvasContext.canvas.width,o=this.canvasContext.canvas.height),this.canvasContext.canvas.width=n*this.renderConfig.dpr,this.canvasContext.canvas.height=o*this.renderConfig.dpr),this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var h=this.renderConfig.preserveAspectRatio.split(" "),f=h[1]||"meet",d=h[0]||"xMidYMid",p=d.substr(0,4),m=d.substr(4);l=n/o,(u=this.transformCanvas.w/this.transformCanvas.h)>l&&f==="meet"||u<l&&f==="slice"?(this.transformCanvas.sx=n/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=n/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=o/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=o/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx=p==="xMid"&&(u<l&&f==="meet"||u>l&&f==="slice")?(n-this.transformCanvas.w*(o/this.transformCanvas.h))/2*this.renderConfig.dpr:p==="xMax"&&(u<l&&f==="meet"||u>l&&f==="slice")?(n-this.transformCanvas.w*(o/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty=m==="YMid"&&(u>l&&f==="meet"||u<l&&f==="slice")?(o-this.transformCanvas.h*(n/this.transformCanvas.w))/2*this.renderConfig.dpr:m==="YMax"&&(u>l&&f==="meet"||u<l&&f==="slice")?(o-this.transformCanvas.h*(n/this.transformCanvas.w))*this.renderConfig.dpr:0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=n/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=o/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){var t;for(this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),t=(this.layers?this.layers.length:0)-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(t,e){if((this.renderedFrame!==t||this.renderConfig.clearCanvas!==!0||e)&&!this.destroyed&&t!==-1){var n;this.renderedFrame=t,this.globalData.frameNum=t-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||e,this.globalData.projectInterface.currentFrame=t;var o=this.layers.length;for(this.completeLayers||this.checkLayers(t),n=o-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&this.elements[n].prepareFrame(t-this.layers[n].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),n=o-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&this.elements[n].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&this.layers[t].ty!==99){var n=this.createItem(this.layers[t],this,this.globalData);e[t]=n,n.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"},CVContextData.prototype.duplicate=function(){var t=2*this._length,e=0;for(e=this._length;e<t;e+=1)this.stack[e]=new CanvasContext;this._length=t},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(t){this.cArrPos-=1;var e,n=this.stack[this.cArrPos],o=n.transform,l=this.cTr.props;for(e=0;e<16;e+=1)l[e]=o[e];if(t){this.nativeContext.restore();var u=this.stack[this.cArrPos+1];this.appliedFillStyle=u.fillStyle,this.appliedStrokeStyle=u.strokeStyle,this.appliedLineWidth=u.lineWidth,this.appliedLineCap=u.lineCap,this.appliedLineJoin=u.lineJoin,this.appliedMiterLimit=u.miterLimit}this.nativeContext.setTransform(o[0],o[1],o[4],o[5],o[12],o[13]),(t||n.opacity!==-1&&this.currentOpacity!==n.opacity)&&(this.nativeContext.globalAlpha=n.opacity,this.currentOpacity=n.opacity),this.currentFillStyle=n.fillStyle,this.currentStrokeStyle=n.strokeStyle,this.currentLineWidth=n.lineWidth,this.currentLineCap=n.lineCap,this.currentLineJoin=n.lineJoin,this.currentMiterLimit=n.miterLimit},CVContextData.prototype.save=function(t){t&&this.nativeContext.save();var e=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var n,o=this.stack[this.cArrPos];for(n=0;n<16;n+=1)o.transform[n]=e[n];this.cArrPos+=1;var l=this.stack[this.cArrPos];l.opacity=o.opacity,l.fillStyle=o.fillStyle,l.strokeStyle=o.strokeStyle,l.lineWidth=o.lineWidth,l.lineCap=o.lineCap,l.lineJoin=o.lineJoin,l.miterLimit=o.miterLimit},CVContextData.prototype.setOpacity=function(t){this.stack[this.cArrPos].opacity=t},CVContextData.prototype.setContext=function(t){this.nativeContext=t},CVContextData.prototype.fillStyle=function(t){this.stack[this.cArrPos].fillStyle!==t&&(this.currentFillStyle=t,this.stack[this.cArrPos].fillStyle=t)},CVContextData.prototype.strokeStyle=function(t){this.stack[this.cArrPos].strokeStyle!==t&&(this.currentStrokeStyle=t,this.stack[this.cArrPos].strokeStyle=t)},CVContextData.prototype.lineWidth=function(t){this.stack[this.cArrPos].lineWidth!==t&&(this.currentLineWidth=t,this.stack[this.cArrPos].lineWidth=t)},CVContextData.prototype.lineCap=function(t){this.stack[this.cArrPos].lineCap!==t&&(this.currentLineCap=t,this.stack[this.cArrPos].lineCap=t)},CVContextData.prototype.lineJoin=function(t){this.stack[this.cArrPos].lineJoin!==t&&(this.currentLineJoin=t,this.stack[this.cArrPos].lineJoin=t)},CVContextData.prototype.miterLimit=function(t){this.stack[this.cArrPos].miterLimit!==t&&(this.currentMiterLimit=t,this.stack[this.cArrPos].miterLimit=t)},CVContextData.prototype.transform=function(t){this.transformMat.cloneFromProps(t);var e=this.cTr;this.transformMat.multiply(e),e.cloneFromProps(this.transformMat.props);var n=e.props;this.nativeContext.setTransform(n[0],n[1],n[4],n[5],n[12],n[13])},CVContextData.prototype.opacity=function(t){var e=this.stack[this.cArrPos].opacity;e*=t<0?0:t,this.stack[this.cArrPos].opacity!==e&&(this.currentOpacity!==t&&(this.nativeContext.globalAlpha=t,this.currentOpacity=t),this.stack[this.cArrPos].opacity=e)},CVContextData.prototype.fill=function(t){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(t)},CVContextData.prototype.fillRect=function(t,e,n,o){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(t,e,n,o)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()},extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var t,e=this.canvasContext;for(e.beginPath(),e.moveTo(0,0),e.lineTo(this.data.w,0),e.lineTo(this.data.w,this.data.h),e.lineTo(0,this.data.h),e.lineTo(0,0),e.clip(),t=this.layers.length-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},CVCompElement.prototype.destroy=function(){var t;for(t=this.layers.length-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)},extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var t=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var e=this.finalTransform.mat.toCSS();t.transform=e,t.webkitTransform=e}this.finalTransform._opMdf&&(t.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var t;this.data.hasMask?((t=createNS("rect")).setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((t=createTag("div")).style.width=this.data.sw+"px",t.style.height=this.data.sh+"px",t.style.backgroundColor=this.data.sc),this.layerElement.appendChild(t)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var t;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),t=this.svgElement;else{t=createNS("svg");var e=this.comp.data?this.comp.data:this.globalData.compSize;t.setAttribute("width",e.w),t.setAttribute("height",e.h),t.appendChild(this.shapesContainer),this.layerElement.appendChild(t)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=t},HShapeElement.prototype.getTransformedPoint=function(t,e){var n,o=t.length;for(n=0;n<o;n+=1)e=t[n].mProps.v.applyToPointArray(e[0],e[1],0);return e},HShapeElement.prototype.calculateShapeBoundingBox=function(t,e){var n,o,l,u,h,f=t.sh.v,d=t.transformers,p=f._length;if(!(p<=1)){for(n=0;n<p-1;n+=1)o=this.getTransformedPoint(d,f.v[n]),l=this.getTransformedPoint(d,f.o[n]),u=this.getTransformedPoint(d,f.i[n+1]),h=this.getTransformedPoint(d,f.v[n+1]),this.checkBounds(o,l,u,h,e);f.c&&(o=this.getTransformedPoint(d,f.v[n]),l=this.getTransformedPoint(d,f.o[n]),u=this.getTransformedPoint(d,f.i[0]),h=this.getTransformedPoint(d,f.v[0]),this.checkBounds(o,l,u,h,e))}},HShapeElement.prototype.checkBounds=function(t,e,n,o,l){this.getBoundsOfCurve(t,e,n,o);var u=this.shapeBoundingBox;l.x=bmMin(u.left,l.x),l.xMax=bmMax(u.right,l.xMax),l.y=bmMin(u.top,l.y),l.yMax=bmMax(u.bottom,l.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(t,e,n,o){for(var l,u,h,f,d,p,m,v=[[t[0],o[0]],[t[1],o[1]]],b=0;b<2;++b)u=6*t[b]-12*e[b]+6*n[b],l=-3*t[b]+9*e[b]-9*n[b]+3*o[b],h=3*e[b]-3*t[b],u|=0,h|=0,(l|=0)===0&&u===0||(l===0?(f=-h/u)>0&&f<1&&v[b].push(this.calculateF(f,t,e,n,o,b)):(d=u*u-4*h*l)>=0&&((p=(-u+bmSqrt(d))/(2*l))>0&&p<1&&v[b].push(this.calculateF(p,t,e,n,o,b)),(m=(-u-bmSqrt(d))/(2*l))>0&&m<1&&v[b].push(this.calculateF(m,t,e,n,o,b))));this.shapeBoundingBox.left=bmMin.apply(null,v[0]),this.shapeBoundingBox.top=bmMin.apply(null,v[1]),this.shapeBoundingBox.right=bmMax.apply(null,v[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,v[1])},HShapeElement.prototype.calculateF=function(t,e,n,o,l,u){return bmPow(1-t,3)*e[u]+3*bmPow(1-t,2)*t*n[u]+3*(1-t)*bmPow(t,2)*o[u]+bmPow(t,3)*l[u]},HShapeElement.prototype.calculateBoundingBox=function(t,e){var n,o=t.length;for(n=0;n<o;n+=1)t[n]&&t[n].sh?this.calculateShapeBoundingBox(t[n],e):t[n]&&t[n].it?this.calculateBoundingBox(t[n].it,e):t[n]&&t[n].style&&t[n].w&&this.expandStrokeBoundingBox(t[n].w,e)},HShapeElement.prototype.expandStrokeBoundingBox=function(t,e){var n=0;if(t.keyframes){for(var o=0;o<t.keyframes.length;o+=1){var l=t.keyframes[o].s;l>n&&(n=l)}n*=t.mult}else n=t.v*t.mult;e.x-=n,e.xMax+=n,e.y-=n,e.yMax+=n},HShapeElement.prototype.currentBoxContains=function(t){return this.currentBBox.x<=t.x&&this.currentBBox.y<=t.y&&this.currentBBox.width+this.currentBBox.x>=t.x+t.width&&this.currentBBox.height+this.currentBBox.y>=t.y+t.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var t=this.tempBoundingBox,e=999999;if(t.x=e,t.xMax=-e,t.y=e,t.yMax=-e,this.calculateBoundingBox(this.itemsData,t),t.width=t.xMax<t.x?0:t.xMax-t.x,t.height=t.yMax<t.y?0:t.yMax-t.y,this.currentBoxContains(t))return;var n=!1;if(this.currentBBox.w!==t.width&&(this.currentBBox.w=t.width,this.shapeCont.setAttribute("width",t.width),n=!0),this.currentBBox.h!==t.height&&(this.currentBBox.h=t.height,this.shapeCont.setAttribute("height",t.height),n=!0),n||this.currentBBox.x!==t.x||this.currentBBox.y!==t.y){this.currentBBox.w=t.width,this.currentBBox.h=t.height,this.currentBBox.x=t.x,this.currentBBox.y=t.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var o=this.shapeCont.style,l="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";o.transform=l,o.webkitTransform=l}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var t=createNS("g");this.maskedElement.appendChild(t),this.innerElem=t}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=this.innerElem.style,n=t.fc?this.buildColor(t.fc):"rgba(0,0,0,0)";e.fill=n,e.color=n,t.sc&&(e.stroke=this.buildColor(t.sc),e.strokeWidth=t.sw+"px");var o,l,u=this.globalData.fontManager.getFontByName(t.f);if(!this.globalData.fontManager.chars)if(e.fontSize=t.finalSize+"px",e.lineHeight=t.finalSize+"px",u.fClass)this.innerElem.className=u.fClass;else{e.fontFamily=u.fFamily;var h=t.fWeight,f=t.fStyle;e.fontStyle=f,e.fontWeight=h}var d,p,m,v=t.l;l=v.length;var b,S=this.mHelper,T="",C=0;for(o=0;o<l;o+=1){if(this.globalData.fontManager.chars?(this.textPaths[C]?d=this.textPaths[C]:((d=createNS("path")).setAttribute("stroke-linecap",lineCapEnum[1]),d.setAttribute("stroke-linejoin",lineJoinEnum[2]),d.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[C]?m=(p=this.textSpans[C]).children[0]:((p=createTag("div")).style.lineHeight=0,(m=createNS("svg")).appendChild(d),styleDiv(p)))):this.isMasked?d=this.textPaths[C]?this.textPaths[C]:createNS("text"):this.textSpans[C]?(p=this.textSpans[C],d=this.textPaths[C]):(styleDiv(p=createTag("span")),styleDiv(d=createTag("span")),p.appendChild(d)),this.globalData.fontManager.chars){var w,R=this.globalData.fontManager.getCharData(t.finalText[o],u.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily);if(w=R?R.data:null,S.reset(),w&&w.shapes&&w.shapes.length&&(b=w.shapes[0].it,S.scale(t.finalSize/100,t.finalSize/100),T=this.createPathShape(S,b),d.setAttribute("d",T)),this.isMasked)this.innerElem.appendChild(d);else{if(this.innerElem.appendChild(p),w&&w.shapes){document.body.appendChild(m);var L=m.getBBox();m.setAttribute("width",L.width+2),m.setAttribute("height",L.height+2),m.setAttribute("viewBox",L.x-1+" "+(L.y-1)+" "+(L.width+2)+" "+(L.height+2));var N=m.style,F="translate("+(L.x-1)+"px,"+(L.y-1)+"px)";N.transform=F,N.webkitTransform=F,v[o].yOffset=L.y-1}else m.setAttribute("width",1),m.setAttribute("height",1);p.appendChild(m)}}else if(d.textContent=v[o].val,d.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(d);else{this.innerElem.appendChild(p);var B=d.style,U="translate3d(0,"+-t.finalSize/1.2+"px,0)";B.transform=U,B.webkitTransform=U}this.isMasked?this.textSpans[C]=d:this.textSpans[C]=p,this.textSpans[C].style.display="block",this.textPaths[C]=d,C+=1}for(;C<this.textSpans.length;)this.textSpans[C].style.display="none",C+=1},HTextElement.prototype.renderInnerContent=function(){var t;if(this.validateText(),this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),t=this.svgElement.style;var e="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";t.transform=e,t.webkitTransform=e}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var n,o,l,u,h,f=0,d=this.textAnimator.renderedLetters,p=this.textProperty.currentData.l;for(o=p.length,n=0;n<o;n+=1)p[n].n?f+=1:(u=this.textSpans[n],h=this.textPaths[n],l=d[f],f+=1,l._mdf.m&&(this.isMasked?u.setAttribute("transform",l.m):(u.style.webkitTransform=l.m,u.style.transform=l.m)),u.style.opacity=l.o,l.sw&&l._mdf.sw&&h.setAttribute("stroke-width",l.sw),l.sc&&l._mdf.sc&&h.setAttribute("stroke",l.sc),l.fc&&l._mdf.fc&&(h.setAttribute("fill",l.fc),h.style.color=l.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var m=this.innerElem.getBBox();if(this.currentBBox.w!==m.width&&(this.currentBBox.w=m.width,this.svgElement.setAttribute("width",m.width)),this.currentBBox.h!==m.height&&(this.currentBBox.h=m.height,this.svgElement.setAttribute("height",m.height)),this.currentBBox.w!==m.width+2||this.currentBBox.h!==m.height+2||this.currentBBox.x!==m.x-1||this.currentBBox.y!==m.y-1){this.currentBBox.w=m.width+2,this.currentBBox.h=m.height+2,this.currentBBox.x=m.x-1,this.currentBBox.y=m.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),t=this.svgElement.style;var v="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";t.transform=v,t.webkitTransform=v}}}},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var t,e,n,o,l=this.comp.threeDElements.length;for(t=0;t<l;t+=1)if((e=this.comp.threeDElements[t]).type==="3d"){n=e.perspectiveElem.style,o=e.container.style;var u=this.pe.v+"px",h="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";n.perspective=u,n.webkitPerspective=u,o.transformOrigin="0px 0px 0px",o.mozTransformOrigin="0px 0px 0px",o.webkitTransformOrigin="0px 0px 0px",n.transform=h,n.webkitTransform=h}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var t,e,n=this._isFirstFrame;if(this.hierarchy)for(e=this.hierarchy.length,t=0;t<e;t+=1)n=this.hierarchy[t].finalTransform.mProp._mdf||n;if(n||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(t=e=this.hierarchy.length-1;t>=0;t-=1){var o=this.hierarchy[t].finalTransform.mProp;this.mat.translate(-o.p.v[0],-o.p.v[1],o.p.v[2]),this.mat.rotateX(-o.or.v[0]).rotateY(-o.or.v[1]).rotateZ(o.or.v[2]),this.mat.rotateX(-o.rx.v).rotateY(-o.ry.v).rotateZ(o.rz.v),this.mat.scale(1/o.s.v[0],1/o.s.v[1],1/o.s.v[2]),this.mat.translate(o.a.v[0],o.a.v[1],o.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var l;l=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var u=Math.sqrt(Math.pow(l[0],2)+Math.pow(l[1],2)+Math.pow(l[2],2)),h=[l[0]/u,l[1]/u,l[2]/u],f=Math.sqrt(h[2]*h[2]+h[0]*h[0]),d=Math.atan2(h[1],f),p=Math.atan2(h[0],-h[2]);this.mat.rotateY(p).rotateX(-d)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var m=!this._prevMat.equals(this.mat);if((m||this.pe._mdf)&&this.comp.threeDElements){var v,b,S;for(e=this.comp.threeDElements.length,t=0;t<e;t+=1)if((v=this.comp.threeDElements[t]).type==="3d"){if(m){var T=this.mat.toCSS();(S=v.container.style).transform=T,S.webkitTransform=T}this.pe._mdf&&((b=v.perspectiveElem.style).perspective=this.pe.v+"px",b.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData),e=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(e),e.crossOrigin="anonymous",e.src=t,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRendererBase.prototype.appendElementInPos=function(t,e){var n=t.getBaseElement();if(n){var o=this.layers[e];if(o.ddd&&this.supports3d)this.addTo3dContainer(n,e);else if(this.threeDElements)this.addTo3dContainer(n,e);else{for(var l,u,h=0;h<e;)this.elements[h]&&this.elements[h]!==!0&&this.elements[h].getBaseElement&&(u=this.elements[h],l=(this.layers[h].ddd?this.getThreeDContainerByPos(h):u.getBaseElement())||l),h+=1;l?o.ddd&&this.supports3d||this.layerElement.insertBefore(n,l):o.ddd&&this.supports3d||this.layerElement.appendChild(n)}}},HybridRendererBase.prototype.createShape=function(t){return this.supports3d?new HShapeElement(t,this.globalData,this):new SVGShapeElement(t,this.globalData,this)},HybridRendererBase.prototype.createText=function(t){return this.supports3d?new HTextElement(t,this.globalData,this):new SVGTextLottieElement(t,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(t){return this.camera=new HCameraElement(t,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(t){return this.supports3d?new HImageElement(t,this.globalData,this):new IImageElement(t,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(t){return this.supports3d?new HSolidElement(t,this.globalData,this):new ISolidElement(t,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(t){for(var e=0,n=this.threeDElements.length;e<n;){if(this.threeDElements[e].startPos<=t&&this.threeDElements[e].endPos>=t)return this.threeDElements[e].perspectiveElem;e+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(t,e){var n,o,l=createTag("div");styleDiv(l);var u=createTag("div");if(styleDiv(u),e==="3d"){(n=l.style).width=this.globalData.compSize.w+"px",n.height=this.globalData.compSize.h+"px",n.webkitTransformOrigin="50% 50%",n.mozTransformOrigin="50% 50%",n.transformOrigin="50% 50%";var h="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(o=u.style).transform=h,o.webkitTransform=h}l.appendChild(u);var f={container:u,perspectiveElem:l,startPos:t,endPos:t,type:e};return this.threeDElements.push(f),f},HybridRendererBase.prototype.build3dContainers=function(){var t,e,n=this.layers.length,o="";for(t=0;t<n;t+=1)this.layers[t].ddd&&this.layers[t].ty!==3?(o!=="3d"&&(o="3d",e=this.createThreeDContainer(t,"3d")),e.endPos=Math.max(e.endPos,t)):(o!=="2d"&&(o="2d",e=this.createThreeDContainer(t,"2d")),e.endPos=Math.max(e.endPos,t));for(t=(n=this.threeDElements.length)-1;t>=0;t-=1)this.resizerElem.appendChild(this.threeDElements[t].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(t,e){for(var n=0,o=this.threeDElements.length;n<o;){if(e<=this.threeDElements[n].endPos){for(var l,u=this.threeDElements[n].startPos;u<e;)this.elements[u]&&this.elements[u].getBaseElement&&(l=this.elements[u].getBaseElement()),u+=1;l?this.threeDElements[n].container.insertBefore(t,l):this.threeDElements[n].container.appendChild(t);break}n+=1}},HybridRendererBase.prototype.configAnimation=function(t){var e=createTag("div"),n=this.animationItem.wrapper,o=e.style;o.width=t.w+"px",o.height=t.h+"px",this.resizerElem=e,styleDiv(e),o.transformStyle="flat",o.mozTransformStyle="flat",o.webkitTransformStyle="flat",this.renderConfig.className&&e.setAttribute("class",this.renderConfig.className),n.appendChild(e),o.overflow="hidden";var l=createNS("svg");l.setAttribute("width","1"),l.setAttribute("height","1"),styleDiv(l),this.resizerElem.appendChild(l);var u=createNS("defs");l.appendChild(u),this.data=t,this.setupGlobalData(t,l),this.globalData.defs=u,this.layers=t.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){var t;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var e=this.layers?this.layers.length:0;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var t,e,n,o,l=this.animationItem.wrapper.offsetWidth,u=this.animationItem.wrapper.offsetHeight,h=l/u;this.globalData.compSize.w/this.globalData.compSize.h>h?(t=l/this.globalData.compSize.w,e=l/this.globalData.compSize.w,n=0,o=(u-this.globalData.compSize.h*(l/this.globalData.compSize.w))/2):(t=u/this.globalData.compSize.h,e=u/this.globalData.compSize.h,n=(l-this.globalData.compSize.w*(u/this.globalData.compSize.h))/2,o=0);var f=this.resizerElem.style;f.webkitTransform="matrix3d("+t+",0,0,0,0,"+e+",0,0,0,0,1,0,"+n+","+o+",0,1)",f.transform=f.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var t,e=this.globalData.compSize.w,n=this.globalData.compSize.h,o=this.threeDElements.length;for(t=0;t<o;t+=1){var l=this.threeDElements[t].perspectiveElem.style;l.webkitPerspective=Math.sqrt(Math.pow(e,2)+Math.pow(n,2))+"px",l.perspective=l.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(t){var e,n=t.length,o=createTag("div");for(e=0;e<n;e+=1)if(t[e].xt){var l=this.createComp(t[e],o,this.globalData.comp,null);l.initExpressions(),this.globalData.projectInterface.registerComposition(l)}},extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(t,e){for(var n,o=0;o<e;)this.elements[o]&&this.elements[o].getBaseElement&&(n=this.elements[o].getBaseElement()),o+=1;n?this.layerElement.insertBefore(t,n):this.layerElement.appendChild(t)},HCompElement.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)},extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)};var CompExpressionInterface=function(t){function e(n){for(var o=0,l=t.layers.length;o<l;){if(t.layers[o].nm===n||t.layers[o].ind===n)return t.elements[o].layerInterface;o+=1}return null}return Object.defineProperty(e,"_name",{value:t.data.nm}),e.layer=e,e.pixelAspect=1,e.height=t.data.h||t.globalData.compSize.h,e.width=t.data.w||t.globalData.compSize.w,e.pixelAspect=1,e.frameDuration=1/t.globalData.frameRate,e.displayStartTime=0,e.numLayers=t.layers.length,e};function _typeof$2(t){return(_typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function seedRandom(t,e){var n=this,o=e.pow(256,6),l=e.pow(2,52),u=2*l;function h(m){var v,b=m.length,S=this,T=0,C=S.i=S.j=0,w=S.S=[];for(b||(m=[b++]);T<256;)w[T]=T++;for(T=0;T<256;T++)w[T]=w[C=255&C+m[T%b]+(v=w[T])],w[C]=v;S.g=function(R){for(var L,N=0,F=S.i,B=S.j,U=S.S;R--;)L=U[F=255&F+1],N=256*N+U[255&(U[F]=U[B=255&B+L])+(U[B]=L)];return S.i=F,S.j=B,N}}function f(m,v){return v.i=m.i,v.j=m.j,v.S=m.S.slice(),v}function d(m,v){for(var b,S=m+"",T=0;T<S.length;)v[255&T]=255&(b^=19*v[255&T])+S.charCodeAt(T++);return p(v)}function p(m){return String.fromCharCode.apply(0,m)}e.seedrandom=function(m,v,b){var S=[],T=d(function R(L,N){var F,B=[],U=_typeof$2(L);if(N&&U=="object")for(F in L)try{B.push(R(L[F],N-1))}catch{}return B.length?B:U=="string"?L:L+"\0"}((v=v===!0?{entropy:!0}:v||{}).entropy?[m,p(t)]:m===null?function(){try{var R=new Uint8Array(256);return(n.crypto||n.msCrypto).getRandomValues(R),p(R)}catch{var L=n.navigator,N=L&&L.plugins;return[+new Date,n,N,n.screen,p(t)]}}():m,3),S),C=new h(S),w=function(){for(var R=C.g(6),L=o,N=0;R<l;)R=256*(R+N),L*=256,N=C.g(1);for(;R>=u;)R/=2,L/=2,N>>>=1;return(R+N)/L};return w.int32=function(){return 0|C.g(4)},w.quick=function(){return C.g(4)/4294967296},w.double=w,d(p(C.S),t),(v.pass||b||function(R,L,N,F){return F&&(F.S&&f(F,C),R.state=function(){return f(C,{})}),N?(e.random=R,L):R})(w,T,"global"in v?v.global:this==e,v.state)},d(e.random(),t)}function initialize$2(t){seedRandom([],t)}var propTypes={SHAPE:"shape"};function _typeof$1(t){return(_typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(t){return t.constructor===Array||t.constructor===Float32Array}function isNumerable(t,e){return t==="number"||e instanceof Number||t==="boolean"||t==="string"}function $bm_neg(t){var e=_typeof$1(t);if(e==="number"||t instanceof Number||e==="boolean")return-t;if($bm_isInstanceOfArray(t)){var n,o=t.length,l=[];for(n=0;n<o;n+=1)l[n]=-t[n];return l}return t.propType?t.v:-t}initialize$2(BMMath);var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(t,e){var n=_typeof$1(t),o=_typeof$1(e);if(isNumerable(n,t)&&isNumerable(o,e)||n==="string"||o==="string")return t+e;if($bm_isInstanceOfArray(t)&&isNumerable(o,e))return(t=t.slice(0))[0]+=e,t;if(isNumerable(n,t)&&$bm_isInstanceOfArray(e))return(e=e.slice(0))[0]=t+e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var l=0,u=t.length,h=e.length,f=[];l<u||l<h;)(typeof t[l]=="number"||t[l]instanceof Number)&&(typeof e[l]=="number"||e[l]instanceof Number)?f[l]=t[l]+e[l]:f[l]=e[l]===void 0?t[l]:t[l]||e[l],l+=1;return f}return 0}var add=sum;function sub(t,e){var n=_typeof$1(t),o=_typeof$1(e);if(isNumerable(n,t)&&isNumerable(o,e))return n==="string"&&(t=parseInt(t,10)),o==="string"&&(e=parseInt(e,10)),t-e;if($bm_isInstanceOfArray(t)&&isNumerable(o,e))return(t=t.slice(0))[0]-=e,t;if(isNumerable(n,t)&&$bm_isInstanceOfArray(e))return(e=e.slice(0))[0]=t-e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var l=0,u=t.length,h=e.length,f=[];l<u||l<h;)(typeof t[l]=="number"||t[l]instanceof Number)&&(typeof e[l]=="number"||e[l]instanceof Number)?f[l]=t[l]-e[l]:f[l]=e[l]===void 0?t[l]:t[l]||e[l],l+=1;return f}return 0}function mul(t,e){var n,o,l,u=_typeof$1(t),h=_typeof$1(e);if(isNumerable(u,t)&&isNumerable(h,e))return t*e;if($bm_isInstanceOfArray(t)&&isNumerable(h,e)){for(l=t.length,n=createTypedArray("float32",l),o=0;o<l;o+=1)n[o]=t[o]*e;return n}if(isNumerable(u,t)&&$bm_isInstanceOfArray(e)){for(l=e.length,n=createTypedArray("float32",l),o=0;o<l;o+=1)n[o]=t*e[o];return n}return 0}function div(t,e){var n,o,l,u=_typeof$1(t),h=_typeof$1(e);if(isNumerable(u,t)&&isNumerable(h,e))return t/e;if($bm_isInstanceOfArray(t)&&isNumerable(h,e)){for(l=t.length,n=createTypedArray("float32",l),o=0;o<l;o+=1)n[o]=t[o]/e;return n}if(isNumerable(u,t)&&$bm_isInstanceOfArray(e)){for(l=e.length,n=createTypedArray("float32",l),o=0;o<l;o+=1)n[o]=t/e[o];return n}return 0}function mod(t,e){return typeof t=="string"&&(t=parseInt(t,10)),typeof e=="string"&&(e=parseInt(e,10)),t%e}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(t,e,n){if(e>n){var o=n;n=e,e=o}return Math.min(Math.max(t,e),n)}function radiansToDegrees(t){return t/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(t){return t*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(t,e){if(typeof t=="number"||t instanceof Number)return e=e||0,Math.abs(t-e);var n;e||(e=helperLengthArray);var o=Math.min(t.length,e.length),l=0;for(n=0;n<o;n+=1)l+=Math.pow(e[n]-t[n],2);return Math.sqrt(l)}function normalize(t){return div(t,length(t))}function rgbToHsl(t){var e,n,o=t[0],l=t[1],u=t[2],h=Math.max(o,l,u),f=Math.min(o,l,u),d=(h+f)/2;if(h===f)e=0,n=0;else{var p=h-f;switch(n=d>.5?p/(2-h-f):p/(h+f),h){case o:e=(l-u)/p+(l<u?6:0);break;case l:e=(u-o)/p+2;break;case u:e=(o-l)/p+4}e/=6}return[e,n,d,t[3]]}function hue2rgb(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function hslToRgb(t){var e,n,o,l=t[0],u=t[1],h=t[2];if(u===0)e=h,o=h,n=h;else{var f=h<.5?h*(1+u):h+u-h*u,d=2*h-f;e=hue2rgb(d,f,l+1/3),n=hue2rgb(d,f,l),o=hue2rgb(d,f,l-1/3)}return[e,n,o,t[3]]}function linear(t,e,n,o,l){if(o!==void 0&&l!==void 0||(o=e,l=n,e=0,n=1),n<e){var u=n;n=e,e=u}if(t<=e)return o;if(t>=n)return l;var h,f=n===e?0:(t-e)/(n-e);if(!o.length)return o+(l-o)*f;var d=o.length,p=createTypedArray("float32",d);for(h=0;h<d;h+=1)p[h]=o[h]+(l[h]-o[h])*f;return p}function random(t,e){if(e===void 0&&(t===void 0?(t=0,e=1):(e=t,t=void 0)),e.length){var n,o=e.length;t||(t=createTypedArray("float32",o));var l=createTypedArray("float32",o),u=BMMath.random();for(n=0;n<o;n+=1)l[n]=t[n]+u*(e[n]-t[n]);return l}return t===void 0&&(t=0),t+BMMath.random()*(e-t)}function createPath(t,e,n,o){var l,u=t.length,h=shapePool.newElement();h.setPathData(!!o,u);var f,d,p=[0,0];for(l=0;l<u;l+=1)f=e&&e[l]?e[l]:p,d=n&&n[l]?n[l]:p,h.setTripleAt(t[l][0],t[l][1],d[0]+t[l][0],d[1]+t[l][1],f[0]+t[l][0],f[1]+t[l][1],l,!0);return h}function initiateExpression(elem,data,property){function noOp(t){return t}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=(function(t,e){var n,o,l=this.pv.length?this.pv.length:1,u=createTypedArray("float32",l),h=Math.floor(5*time);for(n=0,o=0;n<h;){for(o=0;o<l;o+=1)u[o]+=-e+2*e*BMMath.random();n+=1}var f=5*time,d=f-Math.floor(f),p=createTypedArray("float32",l);if(l>1){for(o=0;o<l;o+=1)p[o]=this.pv[o]+u[o]+(-e+2*e*BMMath.random())*d;return p}return this.pv+u[0]+(-e+2*e*BMMath.random())*d}).bind(this);function loopInDuration(t,e){return loopIn(t,e,!0)}function loopOutDuration(t,e){return loopOut(t,e,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,text,textIndex,textTotal,selectorValue;function lookAt(t,e){var n=[e[0]-t[0],e[1]-t[1],e[2]-t[2]],o=Math.atan2(n[0],Math.sqrt(n[1]*n[1]+n[2]*n[2]))/degToRads;return[-Math.atan2(n[1],n[2])/degToRads,o,0]}function easeOut(t,e,n,o,l){return applyEase(easeOutBez,t,e,n,o,l)}function easeIn(t,e,n,o,l){return applyEase(easeInBez,t,e,n,o,l)}function ease(t,e,n,o,l){return applyEase(easeInOutBez,t,e,n,o,l)}function applyEase(t,e,n,o,l,u){l===void 0?(l=n,u=o):e=(e-n)/(o-n),e>1?e=1:e<0&&(e=0);var h=t(e);if($bm_isInstanceOfArray(l)){var f,d=l.length,p=createTypedArray("float32",d);for(f=0;f<d;f+=1)p[f]=(u[f]-l[f])*h+l[f];return p}return(u-l)*h+l}function nearestKey(t){var e,n,o,l=data.k.length;if(data.k.length&&typeof data.k[0]!="number")if(n=-1,(t*=elem.comp.globalData.frameRate)<data.k[0].t)n=1,o=data.k[0].t;else{for(e=0;e<l-1;e+=1){if(t===data.k[e].t){n=e+1,o=data.k[e].t;break}if(t>data.k[e].t&&t<data.k[e+1].t){t-data.k[e].t>data.k[e+1].t-t?(n=e+2,o=data.k[e+1].t):(n=e+1,o=data.k[e].t);break}}n===-1&&(n=e+1,o=data.k[e].t)}else n=0,o=0;var u={};return u.index=n,u.time=o/elem.comp.globalData.frameRate,u}function key(t){var e,n,o;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+t);t-=1,e={time:data.k[t].t/elem.comp.globalData.frameRate,value:[]};var l=Object.prototype.hasOwnProperty.call(data.k[t],"s")?data.k[t].s:data.k[t-1].e;for(o=l.length,n=0;n<o;n+=1)e[n]=l[n],e.value[n]=l[n];return e}function framesToTime(t,e){return e||(e=elem.comp.globalData.frameRate),t/e}function timeToFrames(t,e){return t||t===0||(t=time),e||(e=elem.comp.globalData.frameRate),t*e}function seedRandom(t){BMMath.seedrandom(randSeed+t)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(t,e){return typeof value=="string"?e===void 0?value.substring(t):value.substring(t,e):""}function substr(t,e){return typeof value=="string"?e===void 0?value.substr(t):value.substr(t,e):""}function posterizeTime(t){time=t===0?0:Math.floor(time*t)/t,value=valueAtTime(time)}var index=elem.data.ind;!elem.hierarchy||elem.hierarchy.length;var parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(t){return value=t,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType!==4||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),!(!elem.hierarchy||!elem.hierarchy.length)&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var t={};return t.initExpressions=function(e){var n=0,o=[];e.renderer.compInterface=CompExpressionInterface(e.renderer),e.renderer.globalData.projectInterface.registerComposition(e.renderer),e.renderer.globalData.pushExpression=function(){n+=1},e.renderer.globalData.popExpression=function(){(n-=1)===0&&function(){var l,u=o.length;for(l=0;l<u;l+=1)o[l].release();o.length=0}()},e.renderer.globalData.registerExpressionProperty=function(l){o.indexOf(l)===-1&&o.push(l)}},t.resetFrame=ExpressionManager.resetFrame,t}(),MaskManagerInterface=function(){function t(e,n){this._mask=e,this._data=n}return Object.defineProperty(t.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(t.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(e){var n,o=createSizedArray(e.viewData.length),l=e.viewData.length;for(n=0;n<l;n+=1)o[n]=new t(e.viewData[n],e.masksProperties[n]);return function(u){for(n=0;n<l;){if(e.masksProperties[n].nm===u)return o[n];n+=1}return null}}}(),ExpressionPropertyInterface=function(){var t={pv:0,v:0,mult:1},e={pv:[0,0,0],v:[0,0,0],mult:1};function n(l,u,h){Object.defineProperty(l,"velocity",{get:function(){return u.getVelocityAtTime(u.comp.currentFrame)}}),l.numKeys=u.keyframes?u.keyframes.length:0,l.key=function(f){if(!l.numKeys)return 0;var d="";d="s"in u.keyframes[f-1]?u.keyframes[f-1].s:"e"in u.keyframes[f-2]?u.keyframes[f-2].e:u.keyframes[f-2].s;var p=h==="unidimensional"?new Number(d):Object.assign({},d);return p.time=u.keyframes[f-1].t/u.elem.comp.globalData.frameRate,p.value=h==="unidimensional"?d[0]:d,p},l.valueAtTime=u.getValueAtTime,l.speedAtTime=u.getSpeedAtTime,l.velocityAtTime=u.getVelocityAtTime,l.propertyGroup=u.propertyGroup}function o(){return t}return function(l){return l?l.propType==="unidimensional"?function(u){u&&"pv"in u||(u=t);var h=1/u.mult,f=u.pv*h,d=new Number(f);return d.value=f,n(d,u,"unidimensional"),function(){return u.k&&u.getValue(),f=u.v*h,d.value!==f&&((d=new Number(f)).value=f,n(d,u,"unidimensional")),d}}(l):function(u){u&&"pv"in u||(u=e);var h=1/u.mult,f=u.data&&u.data.l||u.pv.length,d=createTypedArray("float32",f),p=createTypedArray("float32",f);return d.value=p,n(d,u,"multidimensional"),function(){u.k&&u.getValue();for(var m=0;m<f;m+=1)p[m]=u.v[m]*h,d[m]=p[m];return d}}(l):o}}(),TransformExpressionInterface=function(t){function e(h){switch(h){case"scale":case"Scale":case"ADBE Scale":case 6:return e.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return e.rotation;case"ADBE Rotate X":return e.xRotation;case"ADBE Rotate Y":return e.yRotation;case"position":case"Position":case"ADBE Position":case 2:return e.position;case"ADBE Position_0":return e.xPosition;case"ADBE Position_1":return e.yPosition;case"ADBE Position_2":return e.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return e.anchorPoint;case"opacity":case"Opacity":case 11:return e.opacity;default:return null}}var n,o,l,u;return Object.defineProperty(e,"rotation",{get:ExpressionPropertyInterface(t.r||t.rz)}),Object.defineProperty(e,"zRotation",{get:ExpressionPropertyInterface(t.rz||t.r)}),Object.defineProperty(e,"xRotation",{get:ExpressionPropertyInterface(t.rx)}),Object.defineProperty(e,"yRotation",{get:ExpressionPropertyInterface(t.ry)}),Object.defineProperty(e,"scale",{get:ExpressionPropertyInterface(t.s)}),t.p?u=ExpressionPropertyInterface(t.p):(n=ExpressionPropertyInterface(t.px),o=ExpressionPropertyInterface(t.py),t.pz&&(l=ExpressionPropertyInterface(t.pz))),Object.defineProperty(e,"position",{get:function(){return t.p?u():[n(),o(),l?l():0]}}),Object.defineProperty(e,"xPosition",{get:ExpressionPropertyInterface(t.px)}),Object.defineProperty(e,"yPosition",{get:ExpressionPropertyInterface(t.py)}),Object.defineProperty(e,"zPosition",{get:ExpressionPropertyInterface(t.pz)}),Object.defineProperty(e,"anchorPoint",{get:ExpressionPropertyInterface(t.a)}),Object.defineProperty(e,"opacity",{get:ExpressionPropertyInterface(t.o)}),Object.defineProperty(e,"skew",{get:ExpressionPropertyInterface(t.sk)}),Object.defineProperty(e,"skewAxis",{get:ExpressionPropertyInterface(t.sa)}),Object.defineProperty(e,"orientation",{get:ExpressionPropertyInterface(t.or)}),e},LayerExpressionInterface=function(){function t(p){var m=new Matrix;return p!==void 0?this._elem.finalTransform.mProp.getValueAtTime(p).clone(m):this._elem.finalTransform.mProp.applyToMatrix(m),m}function e(p,m){var v=this.getMatrix(m);return v.props[12]=0,v.props[13]=0,v.props[14]=0,this.applyPoint(v,p)}function n(p,m){var v=this.getMatrix(m);return this.applyPoint(v,p)}function o(p,m){var v=this.getMatrix(m);return v.props[12]=0,v.props[13]=0,v.props[14]=0,this.invertPoint(v,p)}function l(p,m){var v=this.getMatrix(m);return this.invertPoint(v,p)}function u(p,m){if(this._elem.hierarchy&&this._elem.hierarchy.length){var v,b=this._elem.hierarchy.length;for(v=0;v<b;v+=1)this._elem.hierarchy[v].finalTransform.mProp.applyToMatrix(p)}return p.applyToPointArray(m[0],m[1],m[2]||0)}function h(p,m){if(this._elem.hierarchy&&this._elem.hierarchy.length){var v,b=this._elem.hierarchy.length;for(v=0;v<b;v+=1)this._elem.hierarchy[v].finalTransform.mProp.applyToMatrix(p)}return p.inversePoint(m)}function f(p){var m=new Matrix;if(m.reset(),this._elem.finalTransform.mProp.applyToMatrix(m),this._elem.hierarchy&&this._elem.hierarchy.length){var v,b=this._elem.hierarchy.length;for(v=0;v<b;v+=1)this._elem.hierarchy[v].finalTransform.mProp.applyToMatrix(m);return m.inversePoint(p)}return m.inversePoint(p)}function d(){return[1,1,1,1]}return function(p){var m;function v(S){switch(S){case"ADBE Root Vectors Group":case"Contents":case 2:return v.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return m;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return v.effect;case"ADBE Text Properties":return v.textInterface;default:return null}}v.getMatrix=t,v.invertPoint=h,v.applyPoint=u,v.toWorld=n,v.toWorldVec=e,v.fromWorld=l,v.fromWorldVec=o,v.toComp=n,v.fromComp=f,v.sampleImage=d,v.sourceRectAtTime=p.sourceRectAtTime.bind(p),v._elem=p;var b=getDescriptor(m=TransformExpressionInterface(p.finalTransform.mProp),"anchorPoint");return Object.defineProperties(v,{hasParent:{get:function(){return p.hierarchy.length}},parent:{get:function(){return p.hierarchy[0].layerInterface}},rotation:getDescriptor(m,"rotation"),scale:getDescriptor(m,"scale"),position:getDescriptor(m,"position"),opacity:getDescriptor(m,"opacity"),anchorPoint:b,anchor_point:b,transform:{get:function(){return m}},active:{get:function(){return p.isInRange}}}),v.startTime=p.data.st,v.index=p.data.ind,v.source=p.data.refId,v.height=p.data.ty===0?p.data.h:100,v.width=p.data.ty===0?p.data.w:100,v.inPoint=p.data.ip/p.comp.globalData.frameRate,v.outPoint=p.data.op/p.comp.globalData.frameRate,v._name=p.data.nm,v.registerMaskInterface=function(S){v.mask=new MaskManagerInterface(S,p)},v.registerEffectsInterface=function(S){v.effect=S},v}}(),propertyGroupFactory=function(t,e){return function(n){return(n=n===void 0?1:n)<=0?t:e(n-1)}},PropertyInterface=function(t,e){var n={_name:t};return function(o){return(o=o===void 0?1:o)<=0?n:e(o-1)}},EffectsExpressionInterface=function(){function t(n,o,l,u){function h(v){for(var b=n.ef,S=0,T=b.length;S<T;){if(v===b[S].nm||v===b[S].mn||v===b[S].ix)return b[S].ty===5?p[S]:p[S]();S+=1}throw new Error}var f,d=propertyGroupFactory(h,l),p=[],m=n.ef.length;for(f=0;f<m;f+=1)n.ef[f].ty===5?p.push(t(n.ef[f],o.effectElements[f],o.effectElements[f].propertyGroup,u)):p.push(e(o.effectElements[f],n.ef[f].ty,u,d));return n.mn==="ADBE Color Control"&&Object.defineProperty(h,"color",{get:function(){return p[0]()}}),Object.defineProperties(h,{numProperties:{get:function(){return n.np}},_name:{value:n.nm},propertyGroup:{value:d}}),h.enabled=n.en!==0,h.active=h.enabled,h}function e(n,o,l,u){var h=ExpressionPropertyInterface(n.p);return n.p.setGroupProperty&&n.p.setGroupProperty(PropertyInterface("",u)),function(){return o===10?l.comp.compInterface(n.p.v):h()}}return{createEffectsInterface:function(n,o){if(n.effectsManager){var l,u=[],h=n.data.ef,f=n.effectsManager.effectElements.length;for(l=0;l<f;l+=1)u.push(t(h[l],n.effectsManager.effectElements[l],o,n));var d=n.data.ef||[],p=function(m){for(l=0,f=d.length;l<f;){if(m===d[l].nm||m===d[l].mn||m===d[l].ix)return u[l];l+=1}return null};return Object.defineProperty(p,"numProperties",{get:function(){return d.length}}),p}return null}}}(),ShapePathInterface=function(t,e,n){var o=e.sh;function l(h){return h==="Shape"||h==="shape"||h==="Path"||h==="path"||h==="ADBE Vector Shape"||h===2?l.path:null}var u=propertyGroupFactory(l,n);return o.setGroupProperty(PropertyInterface("Path",u)),Object.defineProperties(l,{path:{get:function(){return o.k&&o.getValue(),o}},shape:{get:function(){return o.k&&o.getValue(),o}},_name:{value:t.nm},ix:{value:t.ix},propertyIndex:{value:t.ix},mn:{value:t.mn},propertyGroup:{value:n}}),l},ShapeExpressionInterface=function(){function t(S,T,C){var w,R=[],L=S?S.length:0;for(w=0;w<L;w+=1)S[w].ty==="gr"?R.push(e(S[w],T[w],C)):S[w].ty==="fl"?R.push(n(S[w],T[w],C)):S[w].ty==="st"?R.push(u(S[w],T[w],C)):S[w].ty==="tm"?R.push(h(S[w],T[w],C)):S[w].ty==="tr"||(S[w].ty==="el"?R.push(d(S[w],T[w],C)):S[w].ty==="sr"?R.push(p(S[w],T[w],C)):S[w].ty==="sh"?R.push(ShapePathInterface(S[w],T[w],C)):S[w].ty==="rc"?R.push(m(S[w],T[w],C)):S[w].ty==="rd"?R.push(v(S[w],T[w],C)):S[w].ty==="rp"?R.push(b(S[w],T[w],C)):S[w].ty==="gf"?R.push(o(S[w],T[w],C)):R.push(l(S[w],T[w])));return R}function e(S,T,C){var w=function(N){switch(N){case"ADBE Vectors Group":case"Contents":case 2:return w.content;default:return w.transform}};w.propertyGroup=propertyGroupFactory(w,C);var R=function(N,F,B){var U,z=function(Q){for(var q=0,H=U.length;q<H;){if(U[q]._name===Q||U[q].mn===Q||U[q].propertyIndex===Q||U[q].ix===Q||U[q].ind===Q)return U[q];q+=1}return typeof Q=="number"?U[Q-1]:null};z.propertyGroup=propertyGroupFactory(z,B),U=t(N.it,F.it,z.propertyGroup),z.numProperties=U.length;var K=f(N.it[N.it.length-1],F.it[F.it.length-1],z.propertyGroup);return z.transform=K,z.propertyIndex=N.cix,z._name=N.nm,z}(S,T,w.propertyGroup),L=f(S.it[S.it.length-1],T.it[T.it.length-1],w.propertyGroup);return w.content=R,w.transform=L,Object.defineProperty(w,"_name",{get:function(){return S.nm}}),w.numProperties=S.np,w.propertyIndex=S.ix,w.nm=S.nm,w.mn=S.mn,w}function n(S,T,C){function w(R){return R==="Color"||R==="color"?w.color:R==="Opacity"||R==="opacity"?w.opacity:null}return Object.defineProperties(w,{color:{get:ExpressionPropertyInterface(T.c)},opacity:{get:ExpressionPropertyInterface(T.o)},_name:{value:S.nm},mn:{value:S.mn}}),T.c.setGroupProperty(PropertyInterface("Color",C)),T.o.setGroupProperty(PropertyInterface("Opacity",C)),w}function o(S,T,C){function w(R){return R==="Start Point"||R==="start point"?w.startPoint:R==="End Point"||R==="end point"?w.endPoint:R==="Opacity"||R==="opacity"?w.opacity:null}return Object.defineProperties(w,{startPoint:{get:ExpressionPropertyInterface(T.s)},endPoint:{get:ExpressionPropertyInterface(T.e)},opacity:{get:ExpressionPropertyInterface(T.o)},type:{get:function(){return"a"}},_name:{value:S.nm},mn:{value:S.mn}}),T.s.setGroupProperty(PropertyInterface("Start Point",C)),T.e.setGroupProperty(PropertyInterface("End Point",C)),T.o.setGroupProperty(PropertyInterface("Opacity",C)),w}function l(){return function(){return null}}function u(S,T,C){var w,R=propertyGroupFactory(U,C),L=propertyGroupFactory(B,R);function N(z){Object.defineProperty(B,S.d[z].nm,{get:ExpressionPropertyInterface(T.d.dataProps[z].p)})}var F=S.d?S.d.length:0,B={};for(w=0;w<F;w+=1)N(w),T.d.dataProps[w].p.setGroupProperty(L);function U(z){return z==="Color"||z==="color"?U.color:z==="Opacity"||z==="opacity"?U.opacity:z==="Stroke Width"||z==="stroke width"?U.strokeWidth:null}return Object.defineProperties(U,{color:{get:ExpressionPropertyInterface(T.c)},opacity:{get:ExpressionPropertyInterface(T.o)},strokeWidth:{get:ExpressionPropertyInterface(T.w)},dash:{get:function(){return B}},_name:{value:S.nm},mn:{value:S.mn}}),T.c.setGroupProperty(PropertyInterface("Color",R)),T.o.setGroupProperty(PropertyInterface("Opacity",R)),T.w.setGroupProperty(PropertyInterface("Stroke Width",R)),U}function h(S,T,C){function w(L){return L===S.e.ix||L==="End"||L==="end"?w.end:L===S.s.ix?w.start:L===S.o.ix?w.offset:null}var R=propertyGroupFactory(w,C);return w.propertyIndex=S.ix,T.s.setGroupProperty(PropertyInterface("Start",R)),T.e.setGroupProperty(PropertyInterface("End",R)),T.o.setGroupProperty(PropertyInterface("Offset",R)),w.propertyIndex=S.ix,w.propertyGroup=C,Object.defineProperties(w,{start:{get:ExpressionPropertyInterface(T.s)},end:{get:ExpressionPropertyInterface(T.e)},offset:{get:ExpressionPropertyInterface(T.o)},_name:{value:S.nm}}),w.mn=S.mn,w}function f(S,T,C){function w(L){return S.a.ix===L||L==="Anchor Point"?w.anchorPoint:S.o.ix===L||L==="Opacity"?w.opacity:S.p.ix===L||L==="Position"?w.position:S.r.ix===L||L==="Rotation"||L==="ADBE Vector Rotation"?w.rotation:S.s.ix===L||L==="Scale"?w.scale:S.sk&&S.sk.ix===L||L==="Skew"?w.skew:S.sa&&S.sa.ix===L||L==="Skew Axis"?w.skewAxis:null}var R=propertyGroupFactory(w,C);return T.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",R)),T.transform.mProps.p.setGroupProperty(PropertyInterface("Position",R)),T.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",R)),T.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",R)),T.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",R)),T.transform.mProps.sk&&(T.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",R)),T.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",R))),T.transform.op.setGroupProperty(PropertyInterface("Opacity",R)),Object.defineProperties(w,{opacity:{get:ExpressionPropertyInterface(T.transform.mProps.o)},position:{get:ExpressionPropertyInterface(T.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(T.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(T.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(T.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(T.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(T.transform.mProps.sa)},_name:{value:S.nm}}),w.ty="tr",w.mn=S.mn,w.propertyGroup=C,w}function d(S,T,C){function w(N){return S.p.ix===N?w.position:S.s.ix===N?w.size:null}var R=propertyGroupFactory(w,C);w.propertyIndex=S.ix;var L=T.sh.ty==="tm"?T.sh.prop:T.sh;return L.s.setGroupProperty(PropertyInterface("Size",R)),L.p.setGroupProperty(PropertyInterface("Position",R)),Object.defineProperties(w,{size:{get:ExpressionPropertyInterface(L.s)},position:{get:ExpressionPropertyInterface(L.p)},_name:{value:S.nm}}),w.mn=S.mn,w}function p(S,T,C){function w(N){return S.p.ix===N?w.position:S.r.ix===N?w.rotation:S.pt.ix===N?w.points:S.or.ix===N||N==="ADBE Vector Star Outer Radius"?w.outerRadius:S.os.ix===N?w.outerRoundness:!S.ir||S.ir.ix!==N&&N!=="ADBE Vector Star Inner Radius"?S.is&&S.is.ix===N?w.innerRoundness:null:w.innerRadius}var R=propertyGroupFactory(w,C),L=T.sh.ty==="tm"?T.sh.prop:T.sh;return w.propertyIndex=S.ix,L.or.setGroupProperty(PropertyInterface("Outer Radius",R)),L.os.setGroupProperty(PropertyInterface("Outer Roundness",R)),L.pt.setGroupProperty(PropertyInterface("Points",R)),L.p.setGroupProperty(PropertyInterface("Position",R)),L.r.setGroupProperty(PropertyInterface("Rotation",R)),S.ir&&(L.ir.setGroupProperty(PropertyInterface("Inner Radius",R)),L.is.setGroupProperty(PropertyInterface("Inner Roundness",R))),Object.defineProperties(w,{position:{get:ExpressionPropertyInterface(L.p)},rotation:{get:ExpressionPropertyInterface(L.r)},points:{get:ExpressionPropertyInterface(L.pt)},outerRadius:{get:ExpressionPropertyInterface(L.or)},outerRoundness:{get:ExpressionPropertyInterface(L.os)},innerRadius:{get:ExpressionPropertyInterface(L.ir)},innerRoundness:{get:ExpressionPropertyInterface(L.is)},_name:{value:S.nm}}),w.mn=S.mn,w}function m(S,T,C){function w(N){return S.p.ix===N?w.position:S.r.ix===N?w.roundness:S.s.ix===N||N==="Size"||N==="ADBE Vector Rect Size"?w.size:null}var R=propertyGroupFactory(w,C),L=T.sh.ty==="tm"?T.sh.prop:T.sh;return w.propertyIndex=S.ix,L.p.setGroupProperty(PropertyInterface("Position",R)),L.s.setGroupProperty(PropertyInterface("Size",R)),L.r.setGroupProperty(PropertyInterface("Rotation",R)),Object.defineProperties(w,{position:{get:ExpressionPropertyInterface(L.p)},roundness:{get:ExpressionPropertyInterface(L.r)},size:{get:ExpressionPropertyInterface(L.s)},_name:{value:S.nm}}),w.mn=S.mn,w}function v(S,T,C){function w(N){return S.r.ix===N||N==="Round Corners 1"?w.radius:null}var R=propertyGroupFactory(w,C),L=T;return w.propertyIndex=S.ix,L.rd.setGroupProperty(PropertyInterface("Radius",R)),Object.defineProperties(w,{radius:{get:ExpressionPropertyInterface(L.rd)},_name:{value:S.nm}}),w.mn=S.mn,w}function b(S,T,C){function w(N){return S.c.ix===N||N==="Copies"?w.copies:S.o.ix===N||N==="Offset"?w.offset:null}var R=propertyGroupFactory(w,C),L=T;return w.propertyIndex=S.ix,L.c.setGroupProperty(PropertyInterface("Copies",R)),L.o.setGroupProperty(PropertyInterface("Offset",R)),Object.defineProperties(w,{copies:{get:ExpressionPropertyInterface(L.c)},offset:{get:ExpressionPropertyInterface(L.o)},_name:{value:S.nm}}),w.mn=S.mn,w}return function(S,T,C){var w;function R(L){if(typeof L=="number")return(L=L===void 0?1:L)===0?C:w[L-1];for(var N=0,F=w.length;N<F;){if(w[N]._name===L)return w[N];N+=1}return null}return R.propertyGroup=propertyGroupFactory(R,function(){return C}),w=t(S,T,R.propertyGroup),R.numProperties=w.length,R._name="Contents",R}}(),TextExpressionInterface=function(t){var e;function n(o){switch(o){case"ADBE Text Document":return n.sourceText;default:return null}}return Object.defineProperty(n,"sourceText",{get:function(){t.textProperty.getValue();var o=t.textProperty.currentData.t;return e&&o===e.value||((e=new String(o)).value=o||new String(o),Object.defineProperty(e,"style",{get:function(){return{fillColor:t.textProperty.currentData.fc}}})),e}}),n};function _typeof(t){return(_typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}var FootageInterface=(dataInterfaceFactory=function(t){function e(n){return n==="Outline"?e.outlineInterface():null}return e._name="Outline",e.outlineInterface=function(n){var o="",l=n.getFootageData();function u(h){if(l[h])return o=h,_typeof(l=l[h])==="object"?u:l;var f=h.indexOf(o);if(f!==-1){var d=parseInt(h.substr(f+o.length),10);return _typeof(l=l[d])==="object"?u:l}return""}return function(){return o="",l=n.getFootageData(),u}}(t),e},function(t){function e(n){return n==="Data"?e.dataInterface:null}return e._name="Data",e.dataInterface=dataInterfaceFactory(t),e}),dataInterfaceFactory,interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(t){return interfaces[t]||null}var expressionHelpers={searchExpressions:function(t,e,n){e.x&&(n.k=!0,n.x=!0,n.initiateExpression=ExpressionManager.initiateExpression,n.effectsSequence.push(n.initiateExpression(t,e,n).bind(n)))},getSpeedAtTime:function(t){var e=this.getValueAtTime(t),n=this.getValueAtTime(t+-.01),o=0;if(e.length){var l;for(l=0;l<e.length;l+=1)o+=Math.pow(n[l]-e[l],2);o=100*Math.sqrt(o)}else o=0;return o},getVelocityAtTime:function(t){if(this.vel!==void 0)return this.vel;var e,n,o=this.getValueAtTime(t),l=this.getValueAtTime(t+-.001);if(o.length)for(e=createTypedArray("float32",o.length),n=0;n<o.length;n+=1)e[n]=(l[n]-o[n])/-.001;else e=(l-o)/-.001;return e},getValueAtTime:function(t){return t*=this.elem.globalData.frameRate,(t-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<t?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(t,this._cachingAtTime),this._cachingAtTime.lastFrame=t),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(t){this.propertyGroup=t}};function addPropertyDecorator(){function t(v,b,S){if(!this.k||!this.keyframes)return this.pv;v=v?v.toLowerCase():"";var T,C,w,R,L,N=this.comp.renderedFrame,F=this.keyframes,B=F[F.length-1].t;if(N<=B)return this.pv;if(S?C=B-(T=b?Math.abs(B-this.elem.comp.globalData.frameRate*b):Math.max(0,B-this.elem.data.ip)):((!b||b>F.length-1)&&(b=F.length-1),T=B-(C=F[F.length-1-b].t)),v==="pingpong"){if(Math.floor((N-C)/T)%2!=0)return this.getValueAtTime((T-(N-C)%T+C)/this.comp.globalData.frameRate,0)}else{if(v==="offset"){var U=this.getValueAtTime(C/this.comp.globalData.frameRate,0),z=this.getValueAtTime(B/this.comp.globalData.frameRate,0),K=this.getValueAtTime(((N-C)%T+C)/this.comp.globalData.frameRate,0),Q=Math.floor((N-C)/T);if(this.pv.length){for(R=(L=new Array(U.length)).length,w=0;w<R;w+=1)L[w]=(z[w]-U[w])*Q+K[w];return L}return(z-U)*Q+K}if(v==="continue"){var q=this.getValueAtTime(B/this.comp.globalData.frameRate,0),H=this.getValueAtTime((B-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(R=(L=new Array(q.length)).length,w=0;w<R;w+=1)L[w]=q[w]+(q[w]-H[w])*((N-B)/this.comp.globalData.frameRate)/5e-4;return L}return q+(N-B)/.001*(q-H)}}return this.getValueAtTime(((N-C)%T+C)/this.comp.globalData.frameRate,0)}function e(v,b,S){if(!this.k)return this.pv;v=v?v.toLowerCase():"";var T,C,w,R,L,N=this.comp.renderedFrame,F=this.keyframes,B=F[0].t;if(N>=B)return this.pv;if(S?C=B+(T=b?Math.abs(this.elem.comp.globalData.frameRate*b):Math.max(0,this.elem.data.op-B)):((!b||b>F.length-1)&&(b=F.length-1),T=(C=F[b].t)-B),v==="pingpong"){if(Math.floor((B-N)/T)%2==0)return this.getValueAtTime(((B-N)%T+B)/this.comp.globalData.frameRate,0)}else{if(v==="offset"){var U=this.getValueAtTime(B/this.comp.globalData.frameRate,0),z=this.getValueAtTime(C/this.comp.globalData.frameRate,0),K=this.getValueAtTime((T-(B-N)%T+B)/this.comp.globalData.frameRate,0),Q=Math.floor((B-N)/T)+1;if(this.pv.length){for(R=(L=new Array(U.length)).length,w=0;w<R;w+=1)L[w]=K[w]-(z[w]-U[w])*Q;return L}return K-(z-U)*Q}if(v==="continue"){var q=this.getValueAtTime(B/this.comp.globalData.frameRate,0),H=this.getValueAtTime((B+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(R=(L=new Array(q.length)).length,w=0;w<R;w+=1)L[w]=q[w]+(q[w]-H[w])*(B-N)/.001;return L}return q+(q-H)*(B-N)/.001}}return this.getValueAtTime((T-((B-N)%T+B))/this.comp.globalData.frameRate,0)}function n(v,b){if(!this.k)return this.pv;if(v=.5*(v||.4),(b=Math.floor(b||5))<=1)return this.pv;var S,T,C=this.comp.renderedFrame/this.comp.globalData.frameRate,w=C-v,R=b>1?(C+v-w)/(b-1):1,L=0,N=0;for(S=this.pv.length?createTypedArray("float32",this.pv.length):0;L<b;){if(T=this.getValueAtTime(w+L*R),this.pv.length)for(N=0;N<this.pv.length;N+=1)S[N]+=T[N];else S+=T;L+=1}if(this.pv.length)for(N=0;N<this.pv.length;N+=1)S[N]/=b;else S/=b;return S}function o(v){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var b=this._transformCachingAtTime.v;if(b.cloneFromProps(this.pre.props),this.appliedTransformations<1){var S=this.a.getValueAtTime(v);b.translate(-S[0]*this.a.mult,-S[1]*this.a.mult,S[2]*this.a.mult)}if(this.appliedTransformations<2){var T=this.s.getValueAtTime(v);b.scale(T[0]*this.s.mult,T[1]*this.s.mult,T[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var C=this.sk.getValueAtTime(v),w=this.sa.getValueAtTime(v);b.skewFromAxis(-C*this.sk.mult,w*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var R=this.r.getValueAtTime(v);b.rotate(-R*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var L=this.rz.getValueAtTime(v),N=this.ry.getValueAtTime(v),F=this.rx.getValueAtTime(v),B=this.or.getValueAtTime(v);b.rotateZ(-L*this.rz.mult).rotateY(N*this.ry.mult).rotateX(F*this.rx.mult).rotateZ(-B[2]*this.or.mult).rotateY(B[1]*this.or.mult).rotateX(B[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var U=this.px.getValueAtTime(v),z=this.py.getValueAtTime(v);if(this.data.p.z){var K=this.pz.getValueAtTime(v);b.translate(U*this.px.mult,z*this.py.mult,-K*this.pz.mult)}else b.translate(U*this.px.mult,z*this.py.mult,0)}else{var Q=this.p.getValueAtTime(v);b.translate(Q[0]*this.p.mult,Q[1]*this.p.mult,-Q[2]*this.p.mult)}return b}function l(){return this.v.clone(new Matrix)}var u=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(v,b,S){var T=u(v,b,S);return T.dynamicProperties.length?T.getValueAtTime=o.bind(T):T.getValueAtTime=l.bind(T),T.setGroupProperty=expressionHelpers.setGroupProperty,T};var h=PropertyFactory.getProp;PropertyFactory.getProp=function(v,b,S,T,C){var w=h(v,b,S,T,C);w.kf?w.getValueAtTime=expressionHelpers.getValueAtTime.bind(w):w.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(w),w.setGroupProperty=expressionHelpers.setGroupProperty,w.loopOut=t,w.loopIn=e,w.smooth=n,w.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(w),w.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(w),w.numKeys=b.a===1?b.k.length:0,w.propertyIndex=b.ix;var R=0;return S!==0&&(R=createTypedArray("float32",b.a===1?b.k[0].s.length:b.k.length)),w._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:R},expressionHelpers.searchExpressions(v,b,w),w.k&&C.addDynamicProperty(w),w};var f=ShapePropertyFactory.getConstructorFunction(),d=ShapePropertyFactory.getKeyframedConstructorFunction();function p(){}p.prototype={vertices:function(v,b){this.k&&this.getValue();var S,T=this.v;b!==void 0&&(T=this.getValueAtTime(b,0));var C=T._length,w=T[v],R=T.v,L=createSizedArray(C);for(S=0;S<C;S+=1)L[S]=v==="i"||v==="o"?[w[S][0]-R[S][0],w[S][1]-R[S][1]]:[w[S][0],w[S][1]];return L},points:function(v){return this.vertices("v",v)},inTangents:function(v){return this.vertices("i",v)},outTangents:function(v){return this.vertices("o",v)},isClosed:function(){return this.v.c},pointOnPath:function(v,b){var S=this.v;b!==void 0&&(S=this.getValueAtTime(b,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(S));for(var T,C=this._segmentsLength,w=C.lengths,R=C.totalLength*v,L=0,N=w.length,F=0;L<N;){if(F+w[L].addedLength>R){var B=L,U=S.c&&L===N-1?0:L+1,z=(R-F)/w[L].addedLength;T=bez.getPointInSegment(S.v[B],S.v[U],S.o[B],S.i[U],z,w[L]);break}F+=w[L].addedLength,L+=1}return T||(T=S.c?[S.v[0][0],S.v[0][1]]:[S.v[S._length-1][0],S.v[S._length-1][1]]),T},vectorOnPath:function(v,b,S){v==1?v=this.v.c:v==0&&(v=.999);var T=this.pointOnPath(v,b),C=this.pointOnPath(v+.001,b),w=C[0]-T[0],R=C[1]-T[1],L=Math.sqrt(Math.pow(w,2)+Math.pow(R,2));return L===0?[0,0]:S==="tangent"?[w/L,R/L]:[-R/L,w/L]},tangentOnPath:function(v,b){return this.vectorOnPath(v,b,"tangent")},normalOnPath:function(v,b){return this.vectorOnPath(v,b,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([p],f),extendPrototype([p],d),d.prototype.getValueAtTime=function(v){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),v*=this.elem.globalData.frameRate,(v-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<v?this._caching.lastIndex:0,this._cachingAtTime.lastTime=v,this.interpolateShape(v,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},d.prototype.initiateExpression=ExpressionManager.initiateExpression;var m=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(v,b,S,T,C){var w=m(v,b,S,T,C);return w.propertyIndex=b.ix,w.lock=!1,S===3?expressionHelpers.searchExpressions(v,b.pt,w):S===4&&expressionHelpers.searchExpressions(v,b.ks,w),w.k&&v.addDynamicProperty(w),w}}function initialize$1(){addPropertyDecorator()}function addDecorator(){TextProperty.prototype.getExpressionValue=function(t,e){var n=this.calculateExpression(e);if(t.t!==n){var o={};return this.copyData(o,t),o.t=n.toString(),o.__complete=!1,o}return t},TextProperty.prototype.searchProperty=function(){var t=this.searchKeyframes(),e=this.searchExpressions();return this.kf=t||e,this.kf},TextProperty.prototype.searchExpressions=function(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function(t,e){var n,o,l=createNS("feMerge");for(l.setAttribute("result",t),o=0;o<e.length;o+=1)(n=createNS("feMergeNode")).setAttribute("in",e[o]),l.appendChild(n),l.appendChild(n);return l}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(t,e,n,o,l){this.filterManager=e;var u=createNS("feColorMatrix");u.setAttribute("type","matrix"),u.setAttribute("color-interpolation-filters","linearRGB"),u.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=u,u.setAttribute("result",o+"_tint_1"),t.appendChild(u),(u=createNS("feColorMatrix")).setAttribute("type","matrix"),u.setAttribute("color-interpolation-filters","sRGB"),u.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),u.setAttribute("result",o+"_tint_2"),t.appendChild(u),this.matrixFilter=u;var h=this.createMergeNode(o,[l,o+"_tint_1",o+"_tint_2"]);t.appendChild(h)}function SVGFillFilter(t,e,n,o){this.filterManager=e;var l=createNS("feColorMatrix");l.setAttribute("type","matrix"),l.setAttribute("color-interpolation-filters","sRGB"),l.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),l.setAttribute("result",o),t.appendChild(l),this.matrixFilter=l}function SVGStrokeEffect(t,e,n){this.initialized=!1,this.filterManager=e,this.elem=n,this.paths=[]}function SVGTritoneFilter(t,e,n,o){this.filterManager=e;var l=createNS("feColorMatrix");l.setAttribute("type","matrix"),l.setAttribute("color-interpolation-filters","linearRGB"),l.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),t.appendChild(l);var u=createNS("feComponentTransfer");u.setAttribute("color-interpolation-filters","sRGB"),u.setAttribute("result",o),this.matrixFilter=u;var h=createNS("feFuncR");h.setAttribute("type","table"),u.appendChild(h),this.feFuncR=h;var f=createNS("feFuncG");f.setAttribute("type","table"),u.appendChild(f),this.feFuncG=f;var d=createNS("feFuncB");d.setAttribute("type","table"),u.appendChild(d),this.feFuncB=d,t.appendChild(u)}function SVGProLevelsFilter(t,e,n,o){this.filterManager=e;var l=this.filterManager.effectElements,u=createNS("feComponentTransfer");(l[10].p.k||l[10].p.v!==0||l[11].p.k||l[11].p.v!==1||l[12].p.k||l[12].p.v!==1||l[13].p.k||l[13].p.v!==0||l[14].p.k||l[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",u)),(l[17].p.k||l[17].p.v!==0||l[18].p.k||l[18].p.v!==1||l[19].p.k||l[19].p.v!==1||l[20].p.k||l[20].p.v!==0||l[21].p.k||l[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",u)),(l[24].p.k||l[24].p.v!==0||l[25].p.k||l[25].p.v!==1||l[26].p.k||l[26].p.v!==1||l[27].p.k||l[27].p.v!==0||l[28].p.k||l[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",u)),(l[31].p.k||l[31].p.v!==0||l[32].p.k||l[32].p.v!==1||l[33].p.k||l[33].p.v!==1||l[34].p.k||l[34].p.v!==0||l[35].p.k||l[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",u)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(u.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(u)),(l[3].p.k||l[3].p.v!==0||l[4].p.k||l[4].p.v!==1||l[5].p.k||l[5].p.v!==1||l[6].p.k||l[6].p.v!==0||l[7].p.k||l[7].p.v!==1)&&((u=createNS("feComponentTransfer")).setAttribute("color-interpolation-filters","sRGB"),u.setAttribute("result",o),t.appendChild(u),this.feFuncRComposed=this.createFeFunc("feFuncR",u),this.feFuncGComposed=this.createFeFunc("feFuncG",u),this.feFuncBComposed=this.createFeFunc("feFuncB",u))}function SVGDropShadowEffect(t,e,n,o,l){var u=e.container.globalData.renderConfig.filterSize,h=e.data.fs||u;t.setAttribute("x",h.x||u.x),t.setAttribute("y",h.y||u.y),t.setAttribute("width",h.width||u.width),t.setAttribute("height",h.height||u.height),this.filterManager=e;var f=createNS("feGaussianBlur");f.setAttribute("in","SourceAlpha"),f.setAttribute("result",o+"_drop_shadow_1"),f.setAttribute("stdDeviation","0"),this.feGaussianBlur=f,t.appendChild(f);var d=createNS("feOffset");d.setAttribute("dx","25"),d.setAttribute("dy","0"),d.setAttribute("in",o+"_drop_shadow_1"),d.setAttribute("result",o+"_drop_shadow_2"),this.feOffset=d,t.appendChild(d);var p=createNS("feFlood");p.setAttribute("flood-color","#00ff00"),p.setAttribute("flood-opacity","1"),p.setAttribute("result",o+"_drop_shadow_3"),this.feFlood=p,t.appendChild(p);var m=createNS("feComposite");m.setAttribute("in",o+"_drop_shadow_3"),m.setAttribute("in2",o+"_drop_shadow_2"),m.setAttribute("operator","in"),m.setAttribute("result",o+"_drop_shadow_4"),t.appendChild(m);var v=this.createMergeNode(o,[o+"_drop_shadow_4",l]);t.appendChild(v)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v,o=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+o+" 0"),this.matrixFilter.setAttribute("values",n[0]-e[0]+" 0 0 0 "+e[0]+" "+(n[1]-e[1])+" 0 0 0 "+e[1]+" "+(n[2]-e[2])+" 0 0 0 "+e[2]+" 0 0 0 1 0")}},SVGFillFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[2].p.v,n=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+e[0]+" 0 0 0 0 "+e[1]+" 0 0 0 0 "+e[2]+" 0 0 0 "+n+" 0")}},SVGStrokeEffect.prototype.initialize=function(){var t,e,n,o,l=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(this.filterManager.effectElements[1].p.v===1?(o=this.elem.maskManager.masksProperties.length,n=0):o=(n=this.filterManager.effectElements[0].p.v-1)+1,(e=createNS("g")).setAttribute("fill","none"),e.setAttribute("stroke-linecap","round"),e.setAttribute("stroke-dashoffset",1);n<o;n+=1)t=createNS("path"),e.appendChild(t),this.paths.push({p:t,m:n});if(this.filterManager.effectElements[10].p.v===3){var u=createNS("mask"),h=createElementID();u.setAttribute("id",h),u.setAttribute("mask-type","alpha"),u.appendChild(e),this.elem.globalData.defs.appendChild(u);var f=createNS("g");for(f.setAttribute("mask","url("+getLocationHref()+"#"+h+")");l[0];)f.appendChild(l[0]);this.elem.layerElement.appendChild(f),this.masker=u,e.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(l=this.elem.layerElement.children||this.elem.layerElement.childNodes;l.length;)this.elem.layerElement.removeChild(l[0]);this.elem.layerElement.appendChild(e),this.elem.layerElement.removeAttribute("mask"),e.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=e},SVGStrokeEffect.prototype.renderFrame=function(t){var e;this.initialized||this.initialize();var n,o,l=this.paths.length;for(e=0;e<l;e+=1)if(this.paths[e].m!==-1&&(n=this.elem.maskManager.viewData[this.paths[e].m],o=this.paths[e].p,(t||this.filterManager._mdf||n.prop._mdf)&&o.setAttribute("d",n.lastPath),t||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||n.prop._mdf)){var u;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var h=.01*Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),f=.01*Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),d=o.getTotalLength();u="0 0 0 "+d*h+" ";var p,m=d*(f-h),v=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01,b=Math.floor(m/v);for(p=0;p<b;p+=1)u+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01+" ";u+="0 "+10*d+" 0 0"}else u="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01;o.setAttribute("stroke-dasharray",u)}if((t||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(t||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(t||this.filterManager.effectElements[3].p._mdf)){var S=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(255*S[0])+","+bmFloor(255*S[1])+","+bmFloor(255*S[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v,o=this.filterManager.effectElements[2].p.v,l=o[0]+" "+n[0]+" "+e[0],u=o[1]+" "+n[1]+" "+e[1],h=o[2]+" "+n[2]+" "+e[2];this.feFuncR.setAttribute("tableValues",l),this.feFuncG.setAttribute("tableValues",u),this.feFuncB.setAttribute("tableValues",h)}},SVGProLevelsFilter.prototype.createFeFunc=function(t,e){var n=createNS(t);return n.setAttribute("type","table"),e.appendChild(n),n},SVGProLevelsFilter.prototype.getTableValue=function(t,e,n,o,l){for(var u,h,f=0,d=Math.min(t,e),p=Math.max(t,e),m=Array.call(null,{length:256}),v=0,b=l-o,S=e-t;f<=256;)h=(u=f/256)<=d?S<0?l:o:u>=p?S<0?o:l:o+b*Math.pow((u-t)/S,1/n),m[v]=h,v+=1,f+=256/255;return m.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e,n=this.filterManager.effectElements;this.feFuncRComposed&&(t||n[3].p._mdf||n[4].p._mdf||n[5].p._mdf||n[6].p._mdf||n[7].p._mdf)&&(e=this.getTableValue(n[3].p.v,n[4].p.v,n[5].p.v,n[6].p.v,n[7].p.v),this.feFuncRComposed.setAttribute("tableValues",e),this.feFuncGComposed.setAttribute("tableValues",e),this.feFuncBComposed.setAttribute("tableValues",e)),this.feFuncR&&(t||n[10].p._mdf||n[11].p._mdf||n[12].p._mdf||n[13].p._mdf||n[14].p._mdf)&&(e=this.getTableValue(n[10].p.v,n[11].p.v,n[12].p.v,n[13].p.v,n[14].p.v),this.feFuncR.setAttribute("tableValues",e)),this.feFuncG&&(t||n[17].p._mdf||n[18].p._mdf||n[19].p._mdf||n[20].p._mdf||n[21].p._mdf)&&(e=this.getTableValue(n[17].p.v,n[18].p.v,n[19].p.v,n[20].p.v,n[21].p.v),this.feFuncG.setAttribute("tableValues",e)),this.feFuncB&&(t||n[24].p._mdf||n[25].p._mdf||n[26].p._mdf||n[27].p._mdf||n[28].p._mdf)&&(e=this.getTableValue(n[24].p.v,n[25].p.v,n[26].p.v,n[27].p.v,n[28].p.v),this.feFuncB.setAttribute("tableValues",e)),this.feFuncA&&(t||n[31].p._mdf||n[32].p._mdf||n[33].p._mdf||n[34].p._mdf||n[35].p._mdf)&&(e=this.getTableValue(n[31].p.v,n[32].p.v,n[33].p.v,n[34].p.v,n[35].p.v),this.feFuncA.setAttribute("tableValues",e))}},extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){if((t||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),t||this.filterManager.effectElements[0].p._mdf){var e=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*e[0]),Math.round(255*e[1]),Math.round(255*e[2])))}if((t||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),t||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var n=this.filterManager.effectElements[3].p.v,o=(this.filterManager.effectElements[2].p.v-90)*degToRads,l=n*Math.cos(o),u=n*Math.sin(o);this.feOffset.setAttribute("dx",l),this.feOffset.setAttribute("dy",u)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(t,e,n){this.initialized=!1,this.filterManager=e,this.filterElem=t,this.elem=n,n.matteElement=createNS("g"),n.matteElement.appendChild(n.layerElement),n.matteElement.appendChild(n.transformedElement),n.baseElement=n.matteElement}function SVGGaussianBlurEffect(t,e,n,o){t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width","300%"),t.setAttribute("height","300%"),this.filterManager=e;var l=createNS("feGaussianBlur");l.setAttribute("result",o),t.appendChild(l),this.feGaussianBlur=l}function TransformEffect(){}function SVGTransformEffect(t,e){this.init(e)}function CVTransformEffect(t){this.init(t)}return SVGMatte3Effect.prototype.findSymbol=function(t){for(var e=0,n=_svgMatteSymbols.length;e<n;){if(_svgMatteSymbols[e]===t)return _svgMatteSymbols[e];e+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(t,e){var n=t.layerElement.parentNode;if(n){for(var o,l=n.children,u=0,h=l.length;u<h&&l[u]!==t.layerElement;)u+=1;u<=h-2&&(o=l[u+1]);var f=createNS("use");f.setAttribute("href","#"+e),o?n.insertBefore(f,o):n.appendChild(f)}},SVGMatte3Effect.prototype.setElementAsMask=function(t,e){if(!this.findSymbol(e)){var n=createElementID(),o=createNS("mask");o.setAttribute("id",e.layerId),o.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(e);var l=t.globalData.defs;l.appendChild(o);var u=createNS("symbol");u.setAttribute("id",n),this.replaceInParent(e,n),u.appendChild(e.layerElement),l.appendChild(u);var h=createNS("use");h.setAttribute("href","#"+n),o.appendChild(h),e.data.hd=!1,e.show()}t.setMatte(e.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var t=this.filterManager.effectElements[0].p.v,e=this.elem.comp.elements,n=0,o=e.length;n<o;)e[n]&&e[n].data.ind===t&&this.setElementAsMask(this.elem,e[n]),n+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGGaussianBlurEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=.3*this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v,o=n==3?0:e,l=n==2?0:e;this.feGaussianBlur.setAttribute("stdDeviation",o+" "+l);var u=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",u)}},TransformEffect.prototype.init=function(t){this.effectsManager=t,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(t){if(this._opMdf=!1,this._mdf=!1,t||this.effectsManager._mdf){var e=this.effectsManager.effectElements,n=e[0].p.v,o=e[1].p.v,l=e[2].p.v===1,u=e[3].p.v,h=l?u:e[4].p.v,f=e[5].p.v,d=e[6].p.v,p=e[7].p.v;this.matrix.reset(),this.matrix.translate(-n[0],-n[1],n[2]),this.matrix.scale(.01*h,.01*u,1),this.matrix.rotate(-p*degToRads),this.matrix.skewFromAxis(-f*degToRads,(d+90)*degToRads),this.matrix.translate(o[0],o[1],0),this._mdf=!0,this.opacity!==e[8].p.v&&(this.opacity=e[8].p.v,this._opMdf=!0)}},extendPrototype([TransformEffect],SVGTransformEffect),extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie})}),REACT_LOTTIE_PLAYER_VERSION="3.6.0",LOTTIE_WEB_VERSION="^5.12.2",PlayerState,PlayerEvent;function parseSrc(t){if(typeof t=="object")return t;try{return JSON.parse(t)}catch{}try{return new URL(t).toString()}catch{}return t}(function(t){t.Loading="loading",t.Playing="playing",t.Paused="paused",t.Stopped="stopped",t.Frozen="frozen",t.Error="error"})(PlayerState||(PlayerState={})),function(t){t.Load="load",t.InstanceSaved="instanceSaved",t.Error="error",t.Ready="ready",t.Play="play",t.Pause="pause",t.Stop="stop",t.Freeze="freeze",t.Loop="loop",t.Complete="complete",t.Frame="frame"}(PlayerEvent||(PlayerEvent={}));var defaultOptions={clearCanvas:!1,hideOnTransparent:!0,progressiveLoad:!0},Player=function(t){function e(n){var o=t.call(this,n)||this;return o.container=null,o.unmounted=!1,o.handleBgChange=function(l){o.setState({background:l})},o.triggerDownload=function(l,u){var h=document.createElement("a");h.href=l,h.download=u,document.body.appendChild(h),h.click(),document.body.removeChild(h)},o.snapshot=function(l){var u;l===void 0&&(l=!0);var h=o.props.id?o.props.id:"lottie",f=document.getElementById(h);if(o.props.renderer==="svg"){if(f){var d=f.querySelector("svg");if(d){var p=new XMLSerializer().serializeToString(d);u="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(p)}}l&&o.triggerDownload(u,"snapshot.svg")}else if(o.props.renderer==="canvas"){if(f){var m=f.querySelector("canvas");m&&(u=m.toDataURL("image/png"))}l&&o.triggerDownload(u,"snapshot.png")}return u},typeof window<"u"&&(window.lottie=lottie),o.state={animationData:null,background:"transparent",containerRef:reactExports.createRef(),debug:!0,instance:null,playerState:PlayerState.Loading,seeker:0},o}return __extends(e,t),e.getDerivedStateFromProps=function(n,o){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(l){return n.background!==o.background?[2,{background:n.background}]:[2,null]})})},e.prototype.getVersions=function(){return{lottieWebVersion:LOTTIE_WEB_VERSION,lottiePlayerVersion:REACT_LOTTIE_PLAYER_VERSION}},e.prototype.componentDidMount=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return this.unmounted?[3,2]:[4,this.createLottie()];case 1:n.sent(),n.label=2;case 2:return[2]}})})},e.prototype.componentWillUnmount=function(){this.unmounted=!0,this.state.instance&&this.state.instance.destroy()},e.prototype.componentDidUpdate=function(n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(o){switch(o.label){case 0:return this.props.src===n.src?[3,2]:(this.state.instance&&this.state.instance.destroy(),[4,this.createLottie()]);case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.render=function(){var n=this,o=this.props,l=o.children,u=o.loop,h=o.style,f=o.onBackgroundChange,d=o.className,p=this.state,m=p.animationData,v=p.instance,b=p.playerState,S=p.seeker,T=p.debug,C=p.background;return reactExports.createElement("div",{className:"lf-player-container"},this.state.playerState===PlayerState.Error?reactExports.createElement("div",{className:"lf-error"},reactExports.createElement("span",{"aria-label":"error-symbol",role:"img"},"⚠️")):reactExports.createElement("div",{id:this.props.id?this.props.id:"lottie",ref:function(w){return n.container=w},style:__assign({background:C,margin:"0 auto",outline:"none",overflow:"hidden"},h),className:d}),reactExports.Children.map(l,function(w){return reactExports.isValidElement(w)?reactExports.cloneElement(w,{animationData:m,background:C,debug:T,instance:v,loop:u,pause:function(){return n.pause()},play:function(){return n.play()},playerState:b,seeker:S,setBackground:function(R){n.setState({background:R}),typeof f=="function"&&f(R)},setSeeker:function(R,L){return n.setSeeker(R,L)},stop:function(){return n.stop()},toggleDebug:function(){return n.toggleDebug()},setLoop:function(R){return n.setLoop(R)},colorChangedEvent:function(R){n.handleBgChange(R)},snapshot:function(){n.snapshot()}}):null}))},e.prototype.toggleDebug=function(){this.setState({debug:!this.state.debug})},e.prototype.createLottie=function(){return __awaiter(this,void 0,void 0,function(){var n,o,l,u,h,f,d,p,m,v,b,S,T,C,w=this;return __generator(this,function(R){switch(R.label){case 0:if(n=this.props,o=n.autoplay,l=n.direction,u=n.loop,h=n.lottieRef,f=n.renderer,d=n.speed,p=n.src,m=n.background,v=n.rendererSettings,b=n.hover,S=this.state.instance,!p||!this.container)return[2];R.label=1;case 1:return R.trys.push([1,5,,6]),typeof(T=parseSrc(p))!="string"?[3,4]:[4,fetch(T).catch(function(){throw w.setState({playerState:PlayerState.Error}),w.triggerEvent(PlayerEvent.Error),new Error("@LottieFiles/lottie-react: Animation data could not be fetched.")})];case 2:return[4,R.sent().json().catch(function(){throw w.setState({playerState:PlayerState.Error}),w.triggerEvent(PlayerEvent.Error),new Error("@LottieFiles/lottie-react: Animation data could not be fetched.")})];case 3:T=R.sent(),R.label=4;case 4:return S&&S.destroy(),C=lottie.loadAnimation({rendererSettings:v||defaultOptions,animationData:T,autoplay:o||!1,container:this.container,loop:u||!1,renderer:f}),d&&C.setSpeed(d),this.setState({animationData:T}),this.setState({instance:C},function(){w.triggerEvent(PlayerEvent.InstanceSaved),typeof h=="function"&&h(C),o&&w.play()}),C.addEventListener("enterFrame",function(){w.triggerEvent(PlayerEvent.Frame),w.setState({seeker:Math.floor(C.currentFrame)})}),C.addEventListener("DOMLoaded",function(){w.triggerEvent(PlayerEvent.Load)}),C.addEventListener("data_ready",function(){w.triggerEvent(PlayerEvent.Ready)}),C.addEventListener("data_failed",function(){w.setState({playerState:PlayerState.Error}),w.triggerEvent(PlayerEvent.Error)}),C.addEventListener("loopComplete",function(){w.triggerEvent(PlayerEvent.Loop)}),C.addEventListener("complete",function(){w.triggerEvent(PlayerEvent.Complete),w.setState({playerState:PlayerState.Paused}),w.props.keepLastFrame&&!w.props.loop||w.setSeeker(0)}),this.container&&(this.container.addEventListener("mouseenter",function(){b&&w.state.playerState!==PlayerState.Playing&&(w.props.keepLastFrame&&w.stop(),w.play())}),this.container.addEventListener("mouseleave",function(){b&&w.state.playerState===PlayerState.Playing&&w.stop()})),d&&this.setPlayerSpeed(d),l&&this.setPlayerDirection(l),m&&this.setState({background:m}),[3,6];case 5:return R.sent(),this.setState({playerState:PlayerState.Error}),this.triggerEvent(PlayerEvent.Error),[3,6];case 6:return[2]}})})},e.prototype.play=function(){var n=this.state.instance;n&&(this.triggerEvent(PlayerEvent.Play),n.play(),this.setState({playerState:PlayerState.Playing}))},e.prototype.pause=function(){var n=this.state.instance;n&&(this.triggerEvent(PlayerEvent.Pause),n.pause(),this.setState({playerState:PlayerState.Paused}))},e.prototype.stop=function(){var n=this.state.instance;n&&(this.triggerEvent(PlayerEvent.Stop),n.stop(),this.setState({playerState:PlayerState.Stopped}))},e.prototype.setPlayerSpeed=function(n){var o=this.state.instance;o&&o.setSpeed(n)},e.prototype.setPlayerDirection=function(n){var o=this.state.instance;o&&o.setDirection(n)},e.prototype.setSeeker=function(n,o){o===void 0&&(o=!1);var l=this.state,u=l.instance,h=l.playerState;u&&(o&&h===PlayerState.Playing?u.goToAndPlay(n,!0):(u.goToAndStop(n,!0),this.triggerEvent(PlayerEvent.Pause),this.setState({playerState:PlayerState.Paused})))},e.prototype.setLoop=function(n){var o=this.state.instance;o&&(o.loop=n,this.setState({instance:o}))},e.prototype.triggerEvent=function(n){var o=this.props.onEvent;o&&o(n)},e.defaultProps={loop:!1},e}(reactExports.Component);function styleInject(t,e){e===void 0&&(e={});var n=e.insertAt;if(typeof document<"u"){var o=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.type="text/css",n==="top"&&o.firstChild?o.insertBefore(l,o.firstChild):o.appendChild(l),l.styleSheet?l.styleSheet.cssText=t:l.appendChild(document.createTextNode(t))}}var css_248z=`.lf-progress {
  -webkit-appearance: none;
  -moz-apperance: none;
  width: 100%;
  /* margin: 0 10px; */
  height: 4px;
  border-radius: 3px;
  cursor: pointer;
}
.lf-progress:focus {
  outline: none;
  border: none;
}
.lf-progress::-moz-range-track {
  cursor: pointer;
  background: none;
  border: none;
  outline: none;
}
.lf-progress::-webkit-slider-thumb {
  -webkit-appearance: none !important;
  height: 13px;
  width: 13px;
  border: 0;
  border-radius: 50%;
  background: #0fccce;
  cursor: pointer;
}
.lf-progress::-moz-range-thumb {
  -moz-appearance: none !important;
  height: 13px;
  width: 13px;
  border: 0;
  border-radius: 50%;
  background: #0fccce;
  cursor: pointer;
}
.lf-progress::-ms-track {
  width: 100%;
  height: 3px;
  cursor: pointer;
  background: transparent;
  border-color: transparent;
  color: transparent;
}
.lf-progress::-ms-fill-lower {
  background: #ccc;
  border-radius: 3px;
}
.lf-progress::-ms-fill-upper {
  background: #ccc;
  border-radius: 3px;
}
.lf-progress::-ms-thumb {
  border: 0;
  height: 15px;
  width: 15px;
  border-radius: 50%;
  background: #0fccce;
  cursor: pointer;
}
.lf-progress:focus::-ms-fill-lower {
  background: #ccc;
}
.lf-progress:focus::-ms-fill-upper {
  background: #ccc;
}
.lf-player-container :focus {
  outline: 0;
}
.lf-popover {
  position: relative;
}

.lf-popover-content {
  display: inline-block;
  position: absolute;
  opacity: 1;
  visibility: visible;
  transform: translate(0, -10px);
  box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);
  transition: all 0.3s cubic-bezier(0.75, -0.02, 0.2, 0.97);
}

.lf-popover-content.hidden {
  opacity: 0;
  visibility: hidden;
  transform: translate(0, 0px);
}

.lf-player-btn-container {
  display: flex;
  align-items: center;
}
.lf-player-btn {
  cursor: pointer;
  fill: #999;
  width: 14px;
}

.lf-player-btn.active {
  fill: #555;
}

.lf-popover {
  position: relative;
}

.lf-popover-content {
  display: inline-block;
  position: absolute;
  background-color: #ffffff;
  opacity: 1;

  transform: translate(0, -10px);
  box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);
  transition: all 0.3s cubic-bezier(0.75, -0.02, 0.2, 0.97);
  padding: 10px;
}

.lf-popover-content.hidden {
  opacity: 0;
  visibility: hidden;
  transform: translate(0, 0px);
}

.lf-arrow {
  position: absolute;
  z-index: -1;
  content: '';
  bottom: -9px;
  border-style: solid;
  border-width: 10px 10px 0px 10px;
}

.lf-left-align,
.lf-left-align .lfarrow {
  left: 0;
  right: unset;
}

.lf-right-align,
.lf-right-align .lf-arrow {
  right: 0;
  left: unset;
}

.lf-text-input {
  border: 1px #ccc solid;
  border-radius: 5px;
  padding: 3px;
  width: 60px;
  margin: 0;
}

.lf-color-picker {
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  height: 90px;
}

.lf-color-selectors {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

.lf-color-component {
  display: flex;
  flex-direction: row;
  font-size: 12px;
  align-items: center;
  justify-content: center;
}

.lf-color-component strong {
  width: 40px;
}

.lf-color-component input[type='range'] {
  margin: 0 0 0 10px;
}

.lf-color-component input[type='number'] {
  width: 50px;
  margin: 0 0 0 10px;
}

.lf-color-preview {
  font-size: 12px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: space-between;
  padding-left: 5px;
}

.lf-preview {
  height: 60px;
  width: 60px;
}

.lf-popover-snapshot {
  width: 150px;
}
.lf-popover-snapshot h5 {
  margin: 5px 0 10px 0;
  font-size: 0.75rem;
}
.lf-popover-snapshot a {
  display: block;
  text-decoration: none;
}
.lf-popover-snapshot a:before {
  content: '⥼';
  margin-right: 5px;
}
.lf-popover-snapshot .lf-note {
  display: block;
  margin-top: 10px;
  color: #999;
}
.lf-player-controls > div {
  margin-right: 5px;
  margin-left: 5px;
}
.lf-player-controls > div:first-child {
  margin-left: 0px;
}
.lf-player-controls > div:last-child {
  margin-right: 0px;
}
`;styleInject(css_248z);var ColorPicker=function(t){function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={red:0,green:0,blue:0,rgba:null,hex:"#000000",colorComponents:[]},n.handleChange=function(o,l){if(o==="r"){var u="#"+(256|l).toString(16).slice(1)+(256|n.state.green).toString(16).slice(1)+(256|n.state.blue).toString(16).slice(1);n.setState({hex:u})}else o==="g"?(u="#"+(256|n.state.red).toString(16).slice(1)+(256|l).toString(16).slice(1)+(256|n.state.blue).toString(16).slice(1),n.setState({hex:u})):o==="b"&&(u="#"+(256|n.state.red).toString(16).slice(1)+(256|n.state.green).toString(16).slice(1)+(256|l).toString(16).slice(1),n.setState({hex:u}))},n.parseColor=function(o){var l;if(typeof o=="string"){if(o[0]==="#"){var u=o.length===4?[o.slice(1,2),o.slice(2,3),o.slice(3,4)].map(function(h){return parseInt(""+h+h,16)}):[o.slice(1,3),o.slice(3,5),o.slice(5,7)].map(function(h){return parseInt(h,16)});n.setState({colorComponents:u})}else o.startsWith("rgb")&&(u=(l=o.match(/\d+/g))===null||l===void 0?void 0:l.map(function(h){return parseInt(h)}))!==void 0&&n.setState({colorComponents:u});n.state.colorComponents.length&&(n.setState({red:n.state.colorComponents[0]}),n.setState({green:n.state.colorComponents[1]}),n.setState({blue:n.state.colorComponents[2]}))}},n}return __extends(e,t),e.prototype.componentDidUpdate=function(n,o){return this.props.colorChangedEvent&&this.state.hex!==o.hex&&this.props.colorChangedEvent(this.state.hex),!0},e.prototype.render=function(){var n=this;return reactExports.createElement("div",{className:"lf-color-picker"},reactExports.createElement("div",{className:"lf-color-selectors"},reactExports.createElement("div",{className:"lf-color-component"},reactExports.createElement("strong",null,"Red"),reactExports.createElement("input",{type:"range",min:"0",max:"255",value:this.state.red,onChange:function(o){n.setState({red:o.target.value}),n.handleChange("r",o.target.value)}}),reactExports.createElement("input",{className:"lf-text-input",type:"number",min:"0",max:"255",value:this.state.red,onChange:function(o){n.setState({red:o.target.value}),n.handleChange("r",o.target.value)}})),reactExports.createElement("div",{className:"lf-color-component"},reactExports.createElement("strong",null,"Green"),reactExports.createElement("input",{type:"range",min:"0",max:"255",value:this.state.green,onChange:function(o){n.setState({green:o.target.value}),n.handleChange("g",o.target.value)}}),reactExports.createElement("input",{className:"lf-text-input",type:"number",min:"0",max:"255",value:this.state.green,onChange:function(o){n.setState({green:o.target.value}),n.handleChange("g",o.target.value)}})),reactExports.createElement("div",{className:"lf-color-component"},reactExports.createElement("strong",null,"Blue"),reactExports.createElement("input",{type:"range",min:"0",max:"255",value:this.state.blue,onChange:function(o){n.setState({blue:o.target.value}),n.handleChange("b",o.target.value)}}),reactExports.createElement("input",{className:"lf-text-input",type:"number",min:"0",max:"255",value:this.state.blue,onChange:function(o){n.setState({blue:o.target.value}),n.handleChange("b",o.target.value)}}))),reactExports.createElement("div",{className:"lf-color-preview"},reactExports.createElement("div",{className:"lf-preview",style:{background:"rgb("+this.state.red+", "+this.state.green+", "+this.state.blue+")"}}),reactExports.createElement("div",null,reactExports.createElement("input",{className:"lf-text-input",type:"text",value:this.state.hex,onChange:function(o){n.setState({hex:o.target.value}),n.parseColor(o.target.value)}}))))},e}(reactExports.Component),Popover=function(t){var e=t.children,n=t.icon,o=reactExports.useState(null),l=o[0],u=o[1],h=reactExports.useState(null),f=h[0],d=h[1],p=reactExports.useState(null),m=p[0],v=p[1],b=reactExports.useState(!1),S=b[0],T=b[1];return reactExports.useEffect(function(){if(l&&f){var C=l.getBoundingClientRect(),w=f.getBoundingClientRect(),R=C.left+w.width>window.innerWidth?-1:0;v(R)}},[m,f,l]),reactExports.createElement("div",{className:"lf-popover",onMouseOver:function(){T(!0)},onMouseLeave:function(){T(!1)},ref:function(C){u(C)}},reactExports.createElement("div",{className:" lf-player-btn"},n),reactExports.createElement("div",{className:"lf-popover-content",ref:function(C){d(C)},style:{bottom:"22px",right:"0px",zIndex:2,visibility:S?"visible":"hidden"}},e))},Seeker=function(t){function e(n){var o=t.call(this,n)||this;return o.inputRef=reactExports.createRef(),o.handleChange=function(){return function(l){var u=l.target.value,h=Math.floor(u/100*o.props.max);o.props.onChange(h)}},o.state={value:0},o}return __extends(e,t),e.prototype.render=function(){var n=this.props.value/this.props.max*100,o={backgroundImage:"-webkit-gradient(linear, left top, right top, color-stop("+n+"%, rgba(15, 204, 206, 0.4)), color-stop("+n+"%, #DAE1E7))"},l={position:"absolute",left:0,marginTop:"8px",width:"20px",display:"block",border:"0px",backgroundColor:this.props.darkTheme?"#505050":"rgb(218, 225, 231)",color:this.props.darkTheme?"#B9B9B9":"#555",padding:"2px",textAlign:"center",borderRadius:"3px",fontSize:"8px",fontWeight:"bold"},u={position:"absolute",right:0,marginTop:"8px",width:"20px",display:"block",border:"0px",backgroundColor:this.props.darkTheme?"#505050":"rgb(218, 225, 231)",color:this.props.darkTheme?"#B9B9B9":"#555",padding:"2px",textAlign:"center",borderRadius:"3px",fontSize:"8px",fontWeight:"bold"};return reactExports.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",marginRight:"5px",marginLeft:"5px",position:"relative"}},reactExports.createElement("input",{ref:this.inputRef,id:"track",className:"lf-progress",name:"progress","aria-label":"progress",type:"range",min:"0",max:"100",step:"0.1",value:n,onInput:this.handleChange(),onChange:this.handleChange(),style:o}),this.props.showLabels&&reactExports.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},reactExports.createElement("div",{style:l},this.props.min),reactExports.createElement("div",{style:u},this.props.max)))},e}(reactExports.Component),ControlButtonStyle={display:"inline-flex",cursor:"pointer"};(function(t){function e(n){var o=t.call(this,n)||this;return o.state={activeFrame:0,mouseDown:!1},o}return __extends(e,t),e.prototype.render=function(){var n=this,o=this.props,l=o.instance,u=o.playerState,h=o.seeker,f=o.setLoop,d=o.setSeeker,p=o.play,m=o.pause,v=o.stop,b=o.visible,S=o.buttons;if(!l||!b)return null;var T=!S||S.includes("play"),C=!S||S.includes("stop"),w=!S||S.includes("repeat"),R=!S||S.includes("frame"),L=!S||S.includes("background"),N=!S||S.includes("snapshot"),F={width:14,height:14,viewBox:"0 0 24 24"},B=Math.round(l.currentFrame);return reactExports.createElement("div",{className:"lf-player-controls",style:{display:"flex",justifyContent:"space-between",height:"60px",alignItems:"center",backgroundColor:this.props.transparentTheme?"transparent":this.props.darkTheme?"#3C3C3C":"#ffffff",paddingLeft:"10px",paddingRight:"10px"}},T&&reactExports.createElement("div",{role:"button","aria-label":u===PlayerState.Playing?PlayerEvent.Pause:PlayerEvent.Play,tabIndex:0,onClick:function(){u===PlayerState.Playing?typeof m=="function"&&m():typeof p=="function"&&p()},onKeyDown:function(){u===PlayerState.Playing?typeof m=="function"&&m():typeof p=="function"&&p()},className:"lf-player-btn",style:ControlButtonStyle},u===PlayerState.Playing?reactExports.createElement("svg",__assign({},F),reactExports.createElement("rect",{height:"22.9",rx:"1.9",width:"7.6",x:"14",y:".5"}),reactExports.createElement("rect",{height:"22.9",rx:"1.9",width:"7.6",x:"2",y:".5"})):reactExports.createElement("svg",__assign({},F),reactExports.createElement("path",{d:"M2 3.4C2 1.9 3.5 1 4.8 1.8l16.5 9.6c1.2.7 1.2 2.5 0 3.2L4.8 24.2C3.5 25 2 24.1 2 22.6V3.4z"}))),C&&reactExports.createElement("div",{tabIndex:0,role:"button","aria-label":PlayerEvent.Stop,onClick:function(){return v&&v()},onKeyDown:function(){return v&&v()},className:u===PlayerState.Stopped?"lf-player-btn active":"lf-player-btn",style:ControlButtonStyle},reactExports.createElement("svg",__assign({},F),reactExports.createElement("path",{d:`M2 3.667A1.67 1.67 0 0 1 3.667 2h16.666A1.67 1.67 0 0 1 22 3.667v16.666A1.67 1.67 0 0 1 20.333
            22H3.667A1.67 1.67 0 0 1 2 20.333z`}))),reactExports.createElement(Seeker,{min:0,step:1,max:l?l.totalFrames:1,value:h||0,onChange:function(U){d&&n.setState({activeFrame:U},function(){d(U,!1)})},onChangeEnd:function(U){d&&n.setState({activeFrame:U},function(){d(U,!1)})},showLabels:this.props.showLabels,darkTheme:this.props.darkTheme}),R&&reactExports.createElement("div",{role:"button",className:"lf-player-btn-container"},reactExports.createElement("input",{style:{outline:"none",border:this.props.darkTheme?"1px #505050 solid":"1px #ccc solid",borderRadius:"3px",width:"40px",textAlign:"center",backgroundColor:this.props.darkTheme?"#505050":"#ffffff",color:this.props.darkTheme?"#B9B9B9":"#999",fontSize:"0.7rem",padding:"0",fontFamily:"inherit"},type:"text",value:B,readOnly:!0})),w&&reactExports.createElement("div",{role:"button","aria-label":PlayerEvent.Loop,tabIndex:0,onClick:function(){l&&f&&f(!l.loop)},onKeyDown:function(){l&&f&&f(!l.loop)},className:l.loop?"lf-player-btn active":"lf-player-btn",style:ControlButtonStyle},reactExports.createElement("svg",__assign({},F),reactExports.createElement("path",{d:`M12.5 16.8137h-.13v1.8939h4.9696c3.6455 0 6.6113-2.9658 6.6113-6.6116
            0-3.64549-2.9658-6.61131-6.6113-6.61131-.5231 0-.947.42391-.947.94696 0 .52304.4239.94696.947.94696 2.6011 0
            4.7174 2.11634 4.7174 4.71739 0 2.6014-2.1166 4.7177-4.7174 4.7177H12.5zM13.6025
            5.61469v-.13H7.48137C3.83582 5.48469.87 8.45051.87 12.096c0 3.6509 3.17269 6.6117 6.81304 6.6117.52304 0
            .94696-.424.94696-.947 0-.5231-.42392-.947-.94696-.947-2.60804 0-4.91907-2.1231-4.91907-4.7176 0-2.60115
            2.11634-4.71744 4.7174-4.71744h6.12113V5.61469z`,stroke:"#8795A1",strokeWidth:".26"}),reactExports.createElement("path",{d:`M11.1482
            2.20355h0l-.001-.00116c-.3412-.40061-.9405-.44558-1.33668-.0996h-.00001c-.39526.34519-.43936.94795-.09898
            1.34767l2.51487 3.03683-2.51894 3.06468c-.33872.40088-.29282 1.00363.10347
            1.34723l.08517-.0982-.08517.0982c.17853.1549.39807.2308.61647.2308.2671 0 .5328-.114.72-.3347h0l.0011-.0014
            3.0435-3.68655.0006-.00068c.3035-.35872.3025-.88754-.0019-1.24526l-3.0425-3.65786zM13.9453
            21.7965h0l.001.0011c.3413.4006.9407.4456 1.337.0996h0c.3953-.3452.4395-.9479.099-1.3477l-2.5154-3.0368
            2.5195-3.0647c.3388-.4008.2929-1.0036-.1035-1.3472l-.0852.0982.0852-.0982c-.1786-.1549-.3981-.2308-.6166-.2308-.2671
            0-.5329.114-.7202.3347h0l-.0011.0014-3.0442
            3.6865c-.0001.0003-.0003.0005-.0005.0007-.3036.3587-.3027.8876.0019 1.2453l3.0431 3.6579z`,fill:"#8795A1",stroke:"#8795A1",strokeWidth:".26"}))),L&&reactExports.createElement(Popover,{icon:reactExports.createElement("svg",__assign({},F),reactExports.createElement("path",{d:`M12 3.1L6.1 8.6a7.6 7.6 0 00-2.2 4 7.2 7.2 0 00.4 4.4 7.9 7.9 0 003 3.5 8.7 8.7 0 004.7 1.3c1.6 0
            3.2-.5 4.6-1.3s2.4-2 3-3.5a7.2 7.2 0 00.5-4.5 7.6 7.6 0 00-2.2-4L12 3.2zM12 0l7.5 7a9.8 9.8 0 013 5.1
            9.3 9.3 0 01-.6 5.8c-.9 1.8-2.2 3.3-4 4.4A11.2 11.2 0 0112 24a11.2 11.2 0
            01-6-1.7c-1.7-1-3-2.6-3.9-4.4a9.3 9.3 0 01-.6-5.8c.4-2 1.5-3.7 3-5L12 0zM6 14h12c0 1.5-.7 3-1.8 4s-2.6
            1.6-4.2 1.6S9 19 7.8 18s-1.7-2.5-1.7-4z`}))},reactExports.createElement("div",{slot:"content",className:"lf-popover popover-background"},reactExports.createElement(ColorPicker,{colorChangedEvent:this.props.colorChangedEvent}))),N&&reactExports.createElement(Popover,{icon:reactExports.createElement("svg",__assign({},F),reactExports.createElement("path",{clipRule:"evenodd",d:`M0 3.01A2.983 2.983 0 012.983.027H16.99a2.983 2.983 0 012.983 2.983v14.008a2.982 2.982 0 01-2.983
              2.983H2.983A2.983 2.983 0 010 17.018zm2.983-.941a.941.941 0 00-.942.94v14.01c0
              .52.422.94.942.94H16.99a.94.94 0 00.941-.94V3.008a.941.941 0 00-.94-.94H2.981z`,fillRule:"evenodd"}),reactExports.createElement("path",{d:"M12.229 7.945l-2.07 4.598-2.586-2.605-2.414 2.758v2.146h9.656V11.93z"}),reactExports.createElement("circle",{cx:"7.444",cy:"6.513",r:"2.032"}),reactExports.createElement("path",{d:`M9.561 23.916h11.25a2.929 2.929 0 002.926-2.927V9.954a1.06 1.06 0 10-2.122 0v11.035a.805.805 0
              01-.803.804H9.562a1.061 1.061 0 100 2.123z`,stroke:"#8795a1",strokeWidth:".215"}))},reactExports.createElement("div",{slot:"content",className:"lf-popover lf-popover-snapshot",onWheel:function(U){d&&d(B+(U.deltaY>0?-1:1),!1)}},reactExports.createElement("h5",null,"Frame ",B),reactExports.createElement("div",{style:{cursor:"pointer",color:"#0FCCCE"},onClick:this.props.snapshot},"Download SVG"),reactExports.createElement("div",{style:{cursor:"pointer",color:"#0FCCCE"},onClick:this.props.snapshot},"Download PNG"),reactExports.createElement("i",{className:"lf-note"},"Scroll with mousewheel to find exact frame"))))},e})(reactExports.Component);const ParrotMascot=({position:t="right",message:e})=>{const n=useAnimation(),o=reactExports.useRef(null),l=reactExports.useRef(null),[u,h]=reactExports.useState(!1),[f,d]=reactExports.useState(""),[p,m]=reactExports.useState([{text:"Olá! Eu sou o Algodinho, especialista em algodão e yield gap! Como posso ajudar?",type:"bot"}]),[v,b]=reactExports.useState(!1),S=reactExports.useRef(null);reactExports.useEffect(()=>{S.current&&(S.current.scrollTop=S.current.scrollHeight)},[p]),reactExports.useEffect(()=>{var w;n.start({y:[0,-10,0],transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),(w=l.current)==null||w.play()},[n]);const T=async w=>{b(!0),await new Promise(L=>setTimeout(L,1e3)),b(!1);const R=w.toLowerCase();return R.includes("yield gap")?"O yield gap é a diferença entre a produtividade potencial que poderia ser alcançada e a produtividade real obtida nas fazendas. Trabalho para ajudar os produtores a reduzirem essa diferença!":R.includes("algodão")&&R.includes("produção")?"O Brasil é um dos maiores produtores mundiais de algodão! Nossos principais estados produtores são Mato Grosso e Bahia. A produção sustentável e eficiente é fundamental para o setor.":R.includes("pragas")||R.includes("doenças")?"O manejo integrado de pragas (MIP) é essencial na cultura do algodão. As principais pragas incluem o bicudo-do-algodoeiro, lagartas e percevejos. É importante fazer monitoramento constante!":R.includes("irrigação")?"A irrigação adequada é fundamental para reduzir o yield gap. Recomendo o uso de sistemas eficientes como gotejamento ou pivô central, sempre monitorando a necessidade hídrica da cultura.":R.includes("solo")?"O manejo do solo é crucial! Recomendo análises regulares, correção adequada e práticas conservacionistas como plantio direto e rotação de culturas.":R.includes("tecnologia")||R.includes("digital")?"A agricultura digital tem um papel importante na redução do yield gap! Uso de drones, sensores, GPS e softwares de gestão podem ajudar muito na tomada de decisão.":"Posso ajudar com informações sobre yield gap, produção de algodão, manejo de pragas e doenças, irrigação, solo e tecnologias! O que você gostaria de saber?"},C=async w=>{if(w.preventDefault(),!f.trim())return;const R={text:f,type:"user"};m(F=>[...F,R]),d("");const N={text:await T(f),type:"bot"};m(F=>[...F,N])};return jsxRuntimeExports.jsx(motion.div,{ref:o,animate:n,className:`fixed z-50 ${t==="right"?"right-4":"left-4"} bottom-4 flex items-end gap-4 ${t==="left"?"flex-row-reverse":""}`,children:u?jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},className:"bg-white rounded-2xl shadow-2xl w-96 max-w-sm overflow-hidden border border-primary-100",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 p-4 flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-full bg-white p-1 shadow-lg",children:jsxRuntimeExports.jsx(Player,{ref:l,autoplay:!0,loop:!0,src:"https://lottie.host/32e8bfad-98f6-4386-9e7e-f9717eb5a515/xO1bQzxXnI.json",style:{width:"100%",height:"100%"}})}),jsxRuntimeExports.jsx("h3",{className:"text-white font-medium",children:"Algodinho"})]}),jsxRuntimeExports.jsx("button",{onClick:()=>h(!1),className:"text-white hover:text-primary-100 transition-colors",children:jsxRuntimeExports.jsx(X$1,{size:20})})]}),jsxRuntimeExports.jsxs("div",{ref:S,className:"h-[400px] overflow-y-auto p-4 space-y-4 bg-gradient-to-b from-primary-50/30 to-transparent",children:[p.map((w,R)=>jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:`flex ${w.type==="user"?"justify-end":"justify-start"}`,children:jsxRuntimeExports.jsx("div",{className:`max-w-[80%] p-3 rounded-2xl ${w.type==="user"?"bg-primary-600 text-white rounded-tr-none":"bg-gray-100 text-gray-800 rounded-tl-none"}`,children:w.text})},R)),v&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},className:"flex gap-2 px-4 py-2 bg-gray-100 rounded-full w-20",children:[jsxRuntimeExports.jsx(motion.div,{animate:{y:[0,-5,0]},transition:{duration:.5,repeat:1/0,delay:0},className:"w-2 h-2 bg-primary-600 rounded-full"}),jsxRuntimeExports.jsx(motion.div,{animate:{y:[0,-5,0]},transition:{duration:.5,repeat:1/0,delay:.2},className:"w-2 h-2 bg-primary-600 rounded-full"}),jsxRuntimeExports.jsx(motion.div,{animate:{y:[0,-5,0]},transition:{duration:.5,repeat:1/0,delay:.4},className:"w-2 h-2 bg-primary-600 rounded-full"})]})]}),jsxRuntimeExports.jsx("form",{onSubmit:C,className:"p-4 border-t border-gray-100 bg-white",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("input",{type:"text",value:f,onChange:w=>d(w.target.value),placeholder:"Digite sua pergunta...",className:"flex-1 px-4 py-2 border border-gray-200 rounded-full focus:outline-none focus:ring-2 focus:ring-primary-600 focus:border-transparent"}),jsxRuntimeExports.jsx("button",{type:"submit",className:"bg-primary-600 text-white p-3 rounded-full hover:bg-primary-700 transition-colors shadow-lg hover:shadow-xl transform hover:scale-105 transition-transform",children:jsxRuntimeExports.jsx(Send,{size:20})})]})})]}):jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},whileHover:{scale:1.05},className:"bg-white p-4 rounded-2xl shadow-lg max-w-xs cursor-pointer flex items-center gap-3 border border-primary-100",onClick:()=>h(!0),children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 rounded-full bg-primary-50 p-1",children:jsxRuntimeExports.jsx(Player,{ref:l,autoplay:!0,loop:!0,src:"https://lottie.host/32e8bfad-98f6-4386-9e7e-f9717eb5a515/xO1bQzxXnI.json",style:{width:"100%",height:"100%"}})}),jsxRuntimeExports.jsx("p",{className:"text-gray-800 font-medium",children:"Olá! Posso ajudar? 🌱"}),jsxRuntimeExports.jsx("div",{className:`absolute ${t==="right"?"-right-2":"-left-2"} top-1/2 -translate-y-1/2 w-4 h-4 bg-white transform rotate-45 border-r border-b border-primary-100`})]})})},AnimatedBackground=()=>jsxRuntimeExports.jsxs("div",{className:"fixed inset-0 -z-10 overflow-hidden",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0},animate:{opacity:.1},transition:{duration:1},className:"absolute inset-0",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-br from-primary-100 to-transparent"}),jsxRuntimeExports.jsx("div",{className:"absolute top-0 right-0 w-1/2 h-1/2 bg-gradient-to-bl from-accent-100 to-transparent"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 left-0 w-1/2 h-1/2 bg-gradient-to-tr from-secondary-100 to-transparent"})]}),[...Array(50)].map((t,e)=>jsxRuntimeExports.jsx(motion.div,{className:"absolute w-2 h-2 bg-primary-200 rounded-full",initial:{x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight},animate:{y:[0,-20,0],scale:[1,1.2,1]},transition:{duration:3+Math.random()*2,repeat:1/0,delay:Math.random()*2}},e))]}),Bird=({delay:t=0,reverse:e=!1})=>{const[n,o]=useInView({triggerOnce:!1,threshold:0}),l={y:[0,-15,0],x:e?[-1e3,window.innerWidth+100]:[window.innerWidth+100,-1e3]};return jsxRuntimeExports.jsx(motion.div,{ref:n,initial:{x:e?-100:window.innerWidth+100},animate:o?l:{},transition:{duration:20,delay:t,repeat:1/0,ease:"linear"},className:"absolute",style:{top:`${Math.random()*80}%`},children:jsxRuntimeExports.jsx(motion.div,{animate:{y:[0,8,0]},transition:{duration:1,repeat:1/0,ease:"easeInOut"},children:jsxRuntimeExports.jsx(motion.div,{animate:{rotate:e?[-5,5,-5]:[5,-5,5]},transition:{duration:.5,repeat:1/0,ease:"easeInOut"},children:jsxRuntimeExports.jsx(Player,{autoplay:!0,loop:!0,src:"https://lottie.host/2a41d144-a431-47f9-8afb-210c2a5e0677/kDSHlpH8Aq.json",style:{width:"50px",height:"50px"}})})})})},FlyingBirds=()=>jsxRuntimeExports.jsx("div",{className:"fixed inset-0 pointer-events-none z-0",children:[...Array(6)].map((t,e)=>jsxRuntimeExports.jsx(Bird,{delay:e*2,reverse:e%2===0},e))}),generateMockData=()=>{const t=[];for(let o=0;o<8;o++)for(let l=0;l<8;l++){const u=(o-4)*2.5,h=(l-8/2)*2.5,f=Math.abs(u),d=Math.random()*10,p=Math.min(95,Math.max(20,f<2?85+d:f<4?60+d:30+d)),m=Math.min(100,p+15+Math.random()*5);t.push({id:`region-${o}-${l}`,name:`Field ${String.fromCharCode(65+o)}${l+1}`,x:u,z:h,width:2,depth:2,dry:{waterAccessLevel:Math.round(p),precipitation:Math.round(100+Math.random()*150),temperature:Math.round(28+Math.random()*5),soilMoisture:Math.round(p*.8),lastUpdated:new Date},wet:{waterAccessLevel:Math.round(m),precipitation:Math.round(300+Math.random()*200),temperature:Math.round(24+Math.random()*3),soilMoisture:Math.round(m*.9),lastUpdated:new Date}})}return t},AppContext=reactExports.createContext(void 0),AppProvider=({children:t})=>{const[e,n]=reactExports.useState([]),[o,l]=reactExports.useState(!0),[u,h]=reactExports.useState("dry");reactExports.useEffect(()=>{l(!0),setTimeout(()=>{const d=generateMockData();n(d),l(!1)},1500)},[]),reactExports.useEffect(()=>{l(!0),setTimeout(()=>{l(!1)},800)},[u]);const f=()=>{h(d=>d==="dry"?"wet":"dry")};return jsxRuntimeExports.jsx(AppContext.Provider,{value:{regions:e,isLoading:o,seasonType:u,setSeasonType:h,toggleSimulation:f},children:t})},useAppContext=()=>{const t=reactExports.useContext(AppContext);if(!t)throw new Error("useAppContext must be used within an AppProvider");return t},Header=()=>{const{toggleSimulation:t}=useAppContext();return jsxRuntimeExports.jsxs("header",{className:"bg-white border-b border-gray-200 py-3 px-4 flex items-center justify-between shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(Droplets,{className:"h-7 w-7 text-blue-600 mr-2"}),jsxRuntimeExports.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:"FlowCot Map"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx("button",{onClick:t,className:"px-3 py-1 bg-blue-50 hover:bg-blue-100 text-blue-600 rounded-md text-sm font-medium transition-colors",children:"Toggle Seasons"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("button",{className:"p-1.5 rounded-full hover:bg-gray-100",children:jsxRuntimeExports.jsx(HelpCircle,{className:"h-5 w-5 text-gray-500"})}),jsxRuntimeExports.jsx("button",{className:"p-1.5 rounded-full hover:bg-gray-100",children:jsxRuntimeExports.jsx(Settings,{className:"h-5 w-5 text-gray-500"})}),jsxRuntimeExports.jsx("button",{className:"p-1.5 rounded-full hover:bg-gray-100 lg:hidden",children:jsxRuntimeExports.jsx(Menu,{className:"h-5 w-5 text-gray-500"})})]})]})]})};/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const REVISION="162",MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},CullFaceNone=0,CullFaceBack=1,CullFaceFront=2,CullFaceFrontBack=3,BasicShadowMap=0,PCFShadowMap=1,PCFSoftShadowMap=2,VSMShadowMap=3,FrontSide=0,BackSide=1,DoubleSide=2,NoBlending=0,NormalBlending=1,AdditiveBlending=2,SubtractiveBlending=3,MultiplyBlending=4,CustomBlending=5,AddEquation=100,SubtractEquation=101,ReverseSubtractEquation=102,MinEquation=103,MaxEquation=104,ZeroFactor=200,OneFactor=201,SrcColorFactor=202,OneMinusSrcColorFactor=203,SrcAlphaFactor=204,OneMinusSrcAlphaFactor=205,DstAlphaFactor=206,OneMinusDstAlphaFactor=207,DstColorFactor=208,OneMinusDstColorFactor=209,SrcAlphaSaturateFactor=210,ConstantColorFactor=211,OneMinusConstantColorFactor=212,ConstantAlphaFactor=213,OneMinusConstantAlphaFactor=214,NeverDepth=0,AlwaysDepth=1,LessDepth=2,LessEqualDepth=3,EqualDepth=4,GreaterEqualDepth=5,GreaterDepth=6,NotEqualDepth=7,MultiplyOperation=0,MixOperation=1,AddOperation=2,NoToneMapping=0,LinearToneMapping=1,ReinhardToneMapping=2,CineonToneMapping=3,ACESFilmicToneMapping=4,CustomToneMapping=5,AgXToneMapping=6,NeutralToneMapping=7,AttachedBindMode="attached",DetachedBindMode="detached",UVMapping=300,CubeReflectionMapping=301,CubeRefractionMapping=302,EquirectangularReflectionMapping=303,EquirectangularRefractionMapping=304,CubeUVReflectionMapping=306,RepeatWrapping=1e3,ClampToEdgeWrapping=1001,MirroredRepeatWrapping=1002,NearestFilter=1003,NearestMipmapNearestFilter=1004,NearestMipMapNearestFilter=1004,NearestMipmapLinearFilter=1005,NearestMipMapLinearFilter=1005,LinearFilter=1006,LinearMipmapNearestFilter=1007,LinearMipMapNearestFilter=1007,LinearMipmapLinearFilter=1008,LinearMipMapLinearFilter=1008,UnsignedByteType=1009,ByteType=1010,ShortType=1011,UnsignedShortType=1012,IntType=1013,UnsignedIntType=1014,FloatType=1015,HalfFloatType=1016,UnsignedShort4444Type=1017,UnsignedShort5551Type=1018,UnsignedInt248Type=1020,AlphaFormat=1021,RGBAFormat=1023,LuminanceFormat=1024,LuminanceAlphaFormat=1025,DepthFormat=1026,DepthStencilFormat=1027,RedFormat=1028,RedIntegerFormat=1029,RGFormat=1030,RGIntegerFormat=1031,RGBAIntegerFormat=1033,RGB_S3TC_DXT1_Format=33776,RGBA_S3TC_DXT1_Format=33777,RGBA_S3TC_DXT3_Format=33778,RGBA_S3TC_DXT5_Format=33779,RGB_PVRTC_4BPPV1_Format=35840,RGB_PVRTC_2BPPV1_Format=35841,RGBA_PVRTC_4BPPV1_Format=35842,RGBA_PVRTC_2BPPV1_Format=35843,RGB_ETC1_Format=36196,RGB_ETC2_Format=37492,RGBA_ETC2_EAC_Format=37496,RGBA_ASTC_4x4_Format=37808,RGBA_ASTC_5x4_Format=37809,RGBA_ASTC_5x5_Format=37810,RGBA_ASTC_6x5_Format=37811,RGBA_ASTC_6x6_Format=37812,RGBA_ASTC_8x5_Format=37813,RGBA_ASTC_8x6_Format=37814,RGBA_ASTC_8x8_Format=37815,RGBA_ASTC_10x5_Format=37816,RGBA_ASTC_10x6_Format=37817,RGBA_ASTC_10x8_Format=37818,RGBA_ASTC_10x10_Format=37819,RGBA_ASTC_12x10_Format=37820,RGBA_ASTC_12x12_Format=37821,RGBA_BPTC_Format=36492,RGB_BPTC_SIGNED_Format=36494,RGB_BPTC_UNSIGNED_Format=36495,RED_RGTC1_Format=36283,SIGNED_RED_RGTC1_Format=36284,RED_GREEN_RGTC2_Format=36285,SIGNED_RED_GREEN_RGTC2_Format=36286,LoopOnce=2200,LoopRepeat=2201,LoopPingPong=2202,InterpolateDiscrete=2300,InterpolateLinear=2301,InterpolateSmooth=2302,ZeroCurvatureEnding=2400,ZeroSlopeEnding=2401,WrapAroundEnding=2402,NormalAnimationBlendMode=2500,AdditiveAnimationBlendMode=2501,TrianglesDrawMode=0,TriangleStripDrawMode=1,TriangleFanDrawMode=2,BasicDepthPacking=3200,RGBADepthPacking=3201,TangentSpaceNormalMap=0,ObjectSpaceNormalMap=1,NoColorSpace="",SRGBColorSpace="srgb",LinearSRGBColorSpace="srgb-linear",DisplayP3ColorSpace="display-p3",LinearDisplayP3ColorSpace="display-p3-linear",LinearTransfer="linear",SRGBTransfer="srgb",Rec709Primaries="rec709",P3Primaries="p3",ZeroStencilOp=0,KeepStencilOp=7680,ReplaceStencilOp=7681,IncrementStencilOp=7682,DecrementStencilOp=7683,IncrementWrapStencilOp=34055,DecrementWrapStencilOp=34056,InvertStencilOp=5386,NeverStencilFunc=512,LessStencilFunc=513,EqualStencilFunc=514,LessEqualStencilFunc=515,GreaterStencilFunc=516,NotEqualStencilFunc=517,GreaterEqualStencilFunc=518,AlwaysStencilFunc=519,NeverCompare=512,LessCompare=513,EqualCompare=514,LessEqualCompare=515,GreaterCompare=516,NotEqualCompare=517,GreaterEqualCompare=518,AlwaysCompare=519,StaticDrawUsage=35044,DynamicDrawUsage=35048,StreamDrawUsage=35040,StaticReadUsage=35045,DynamicReadUsage=35049,StreamReadUsage=35041,StaticCopyUsage=35046,DynamicCopyUsage=35050,StreamCopyUsage=35042,GLSL1="100",GLSL3="300 es",_SRGBAFormat=1035,WebGLCoordinateSystem=2e3,WebGPUCoordinateSystem=2001;let EventDispatcher$1=class{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const o=this._listeners;o[e]===void 0&&(o[e]=[]),o[e].indexOf(n)===-1&&o[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const o=this._listeners;return o[e]!==void 0&&o[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const l=this._listeners[e];if(l!==void 0){const u=l.indexOf(n);u!==-1&&l.splice(u,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const o=this._listeners[e.type];if(o!==void 0){e.target=this;const l=o.slice(0);for(let u=0,h=l.length;u<h;u++)l[u].call(this,e);e.target=null}}};const _lut=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let _seed=1234567;const DEG2RAD=Math.PI/180,RAD2DEG=180/Math.PI;function generateUUID(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,o=Math.random()*4294967295|0;return(_lut[t&255]+_lut[t>>8&255]+_lut[t>>16&255]+_lut[t>>24&255]+"-"+_lut[e&255]+_lut[e>>8&255]+"-"+_lut[e>>16&15|64]+_lut[e>>24&255]+"-"+_lut[n&63|128]+_lut[n>>8&255]+"-"+_lut[n>>16&255]+_lut[n>>24&255]+_lut[o&255]+_lut[o>>8&255]+_lut[o>>16&255]+_lut[o>>24&255]).toLowerCase()}function clamp(t,e,n){return Math.max(e,Math.min(n,t))}function euclideanModulo(t,e){return(t%e+e)%e}function mapLinear(t,e,n,o,l){return o+(t-e)*(l-o)/(n-e)}function inverseLerp(t,e,n){return t!==e?(n-t)/(e-t):0}function lerp(t,e,n){return(1-n)*t+n*e}function damp(t,e,n,o){return lerp(t,e,1-Math.exp(-n*o))}function pingpong(t,e=1){return e-Math.abs(euclideanModulo(t,e*2)-e)}function smoothstep(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function smootherstep(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function randInt(t,e){return t+Math.floor(Math.random()*(e-t+1))}function randFloat(t,e){return t+Math.random()*(e-t)}function randFloatSpread(t){return t*(.5-Math.random())}function seededRandom(t){t!==void 0&&(_seed=t);let e=_seed+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function degToRad(t){return t*DEG2RAD}function radToDeg(t){return t*RAD2DEG}function isPowerOfTwo(t){return(t&t-1)===0&&t!==0}function ceilPowerOfTwo(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function floorPowerOfTwo(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function setQuaternionFromProperEuler(t,e,n,o,l){const u=Math.cos,h=Math.sin,f=u(n/2),d=h(n/2),p=u((e+o)/2),m=h((e+o)/2),v=u((e-o)/2),b=h((e-o)/2),S=u((o-e)/2),T=h((o-e)/2);switch(l){case"XYX":t.set(f*m,d*v,d*b,f*p);break;case"YZY":t.set(d*b,f*m,d*v,f*p);break;case"ZXZ":t.set(d*v,d*b,f*m,f*p);break;case"XZX":t.set(f*m,d*T,d*S,f*p);break;case"YXY":t.set(d*S,f*m,d*T,f*p);break;case"ZYZ":t.set(d*T,d*S,f*m,f*p);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+l)}}function denormalize(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function normalize$1(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const MathUtils={DEG2RAD,RAD2DEG,generateUUID,clamp,euclideanModulo,mapLinear,inverseLerp,lerp,damp,pingpong,smoothstep,smootherstep,randInt,randFloat,randFloatSpread,seededRandom,degToRad,radToDeg,isPowerOfTwo,ceilPowerOfTwo,floorPowerOfTwo,setQuaternionFromProperEuler,normalize:normalize$1,denormalize};class Vector2{constructor(e=0,n=0){Vector2.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,o=this.y,l=e.elements;return this.x=l[0]*n+l[3]*o+l[6],this.y=l[1]*n+l[4]*o+l[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const o=this.length();return this.divideScalar(o||1).multiplyScalar(Math.max(e,Math.min(n,o)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const o=this.dot(e)/n;return Math.acos(clamp(o,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,o=this.y-e.y;return n*n+o*o}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,o){return this.x=e.x+(n.x-e.x)*o,this.y=e.y+(n.y-e.y)*o,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const o=Math.cos(n),l=Math.sin(n),u=this.x-e.x,h=this.y-e.y;return this.x=u*o-h*l+e.x,this.y=u*l+h*o+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Matrix3{constructor(e,n,o,l,u,h,f,d,p){Matrix3.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,o,l,u,h,f,d,p)}set(e,n,o,l,u,h,f,d,p){const m=this.elements;return m[0]=e,m[1]=l,m[2]=f,m[3]=n,m[4]=u,m[5]=d,m[6]=o,m[7]=h,m[8]=p,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,o=e.elements;return n[0]=o[0],n[1]=o[1],n[2]=o[2],n[3]=o[3],n[4]=o[4],n[5]=o[5],n[6]=o[6],n[7]=o[7],n[8]=o[8],this}extractBasis(e,n,o){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),o.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const o=e.elements,l=n.elements,u=this.elements,h=o[0],f=o[3],d=o[6],p=o[1],m=o[4],v=o[7],b=o[2],S=o[5],T=o[8],C=l[0],w=l[3],R=l[6],L=l[1],N=l[4],F=l[7],B=l[2],U=l[5],z=l[8];return u[0]=h*C+f*L+d*B,u[3]=h*w+f*N+d*U,u[6]=h*R+f*F+d*z,u[1]=p*C+m*L+v*B,u[4]=p*w+m*N+v*U,u[7]=p*R+m*F+v*z,u[2]=b*C+S*L+T*B,u[5]=b*w+S*N+T*U,u[8]=b*R+S*F+T*z,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],o=e[1],l=e[2],u=e[3],h=e[4],f=e[5],d=e[6],p=e[7],m=e[8];return n*h*m-n*f*p-o*u*m+o*f*d+l*u*p-l*h*d}invert(){const e=this.elements,n=e[0],o=e[1],l=e[2],u=e[3],h=e[4],f=e[5],d=e[6],p=e[7],m=e[8],v=m*h-f*p,b=f*d-m*u,S=p*u-h*d,T=n*v+o*b+l*S;if(T===0)return this.set(0,0,0,0,0,0,0,0,0);const C=1/T;return e[0]=v*C,e[1]=(l*p-m*o)*C,e[2]=(f*o-l*h)*C,e[3]=b*C,e[4]=(m*n-l*d)*C,e[5]=(l*u-f*n)*C,e[6]=S*C,e[7]=(o*d-p*n)*C,e[8]=(h*n-o*u)*C,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,o,l,u,h,f){const d=Math.cos(u),p=Math.sin(u);return this.set(o*d,o*p,-o*(d*h+p*f)+h+e,-l*p,l*d,-l*(-p*h+d*f)+f+n,0,0,1),this}scale(e,n){return this.premultiply(_m3.makeScale(e,n)),this}rotate(e){return this.premultiply(_m3.makeRotation(-e)),this}translate(e,n){return this.premultiply(_m3.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),o=Math.sin(e);return this.set(n,-o,0,o,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,o=e.elements;for(let l=0;l<9;l++)if(n[l]!==o[l])return!1;return!0}fromArray(e,n=0){for(let o=0;o<9;o++)this.elements[o]=e[o+n];return this}toArray(e=[],n=0){const o=this.elements;return e[n]=o[0],e[n+1]=o[1],e[n+2]=o[2],e[n+3]=o[3],e[n+4]=o[4],e[n+5]=o[5],e[n+6]=o[6],e[n+7]=o[7],e[n+8]=o[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const _m3=new Matrix3;function arrayNeedsUint32(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const TYPED_ARRAYS={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function getTypedArray(t,e){return new TYPED_ARRAYS[t](e)}function createElementNS(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function createCanvasElement(){const t=createElementNS("canvas");return t.style.display="block",t}const _cache={};function warnOnce(t){t in _cache||(_cache[t]=!0,console.warn(t))}const LINEAR_SRGB_TO_LINEAR_DISPLAY_P3=new Matrix3().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),LINEAR_DISPLAY_P3_TO_LINEAR_SRGB=new Matrix3().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),COLOR_SPACES={[LinearSRGBColorSpace]:{transfer:LinearTransfer,primaries:Rec709Primaries,toReference:t=>t,fromReference:t=>t},[SRGBColorSpace]:{transfer:SRGBTransfer,primaries:Rec709Primaries,toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[LinearDisplayP3ColorSpace]:{transfer:LinearTransfer,primaries:P3Primaries,toReference:t=>t.applyMatrix3(LINEAR_DISPLAY_P3_TO_LINEAR_SRGB),fromReference:t=>t.applyMatrix3(LINEAR_SRGB_TO_LINEAR_DISPLAY_P3)},[DisplayP3ColorSpace]:{transfer:SRGBTransfer,primaries:P3Primaries,toReference:t=>t.convertSRGBToLinear().applyMatrix3(LINEAR_DISPLAY_P3_TO_LINEAR_SRGB),fromReference:t=>t.applyMatrix3(LINEAR_SRGB_TO_LINEAR_DISPLAY_P3).convertLinearToSRGB()}},SUPPORTED_WORKING_COLOR_SPACES=new Set([LinearSRGBColorSpace,LinearDisplayP3ColorSpace]),ColorManagement={enabled:!0,_workingColorSpace:LinearSRGBColorSpace,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!SUPPORTED_WORKING_COLOR_SPACES.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const o=COLOR_SPACES[e].toReference,l=COLOR_SPACES[n].fromReference;return l(o(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return COLOR_SPACES[t].primaries},getTransfer:function(t){return t===NoColorSpace?LinearTransfer:COLOR_SPACES[t].transfer}};function SRGBToLinear(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function LinearToSRGB(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let _canvas;class ImageUtils{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{_canvas===void 0&&(_canvas=createElementNS("canvas")),_canvas.width=e.width,_canvas.height=e.height;const o=_canvas.getContext("2d");e instanceof ImageData?o.putImageData(e,0,0):o.drawImage(e,0,0,e.width,e.height),n=_canvas}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=createElementNS("canvas");n.width=e.width,n.height=e.height;const o=n.getContext("2d");o.drawImage(e,0,0,e.width,e.height);const l=o.getImageData(0,0,e.width,e.height),u=l.data;for(let h=0;h<u.length;h++)u[h]=SRGBToLinear(u[h]/255)*255;return o.putImageData(l,0,0),n}else if(e.data){const n=e.data.slice(0);for(let o=0;o<n.length;o++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[o]=Math.floor(SRGBToLinear(n[o]/255)*255):n[o]=SRGBToLinear(n[o]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let _sourceId=0;class Source{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:_sourceId++}),this.uuid=generateUUID(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const o={uuid:this.uuid,url:""},l=this.data;if(l!==null){let u;if(Array.isArray(l)){u=[];for(let h=0,f=l.length;h<f;h++)l[h].isDataTexture?u.push(serializeImage(l[h].image)):u.push(serializeImage(l[h]))}else u=serializeImage(l);o.url=u}return n||(e.images[this.uuid]=o),o}}function serializeImage(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?ImageUtils.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let _textureId=0;class Texture extends EventDispatcher$1{constructor(e=Texture.DEFAULT_IMAGE,n=Texture.DEFAULT_MAPPING,o=ClampToEdgeWrapping,l=ClampToEdgeWrapping,u=LinearFilter,h=LinearMipmapLinearFilter,f=RGBAFormat,d=UnsignedByteType,p=Texture.DEFAULT_ANISOTROPY,m=NoColorSpace){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:_textureId++}),this.uuid=generateUUID(),this.name="",this.source=new Source(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=o,this.wrapT=l,this.magFilter=u,this.minFilter=h,this.anisotropy=p,this.format=f,this.internalFormat=null,this.type=d,this.offset=new Vector2(0,0),this.repeat=new Vector2(1,1),this.center=new Vector2(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Matrix3,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=m,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const o={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(o.userData=this.userData),n||(e.textures[this.uuid]=o),o}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==UVMapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case RepeatWrapping:e.x=e.x-Math.floor(e.x);break;case ClampToEdgeWrapping:e.x=e.x<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case RepeatWrapping:e.y=e.y-Math.floor(e.y);break;case ClampToEdgeWrapping:e.y=e.y<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}Texture.DEFAULT_IMAGE=null;Texture.DEFAULT_MAPPING=UVMapping;Texture.DEFAULT_ANISOTROPY=1;class Vector4{constructor(e=0,n=0,o=0,l=1){Vector4.prototype.isVector4=!0,this.x=e,this.y=n,this.z=o,this.w=l}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,o,l){return this.x=e,this.y=n,this.z=o,this.w=l,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,o=this.y,l=this.z,u=this.w,h=e.elements;return this.x=h[0]*n+h[4]*o+h[8]*l+h[12]*u,this.y=h[1]*n+h[5]*o+h[9]*l+h[13]*u,this.z=h[2]*n+h[6]*o+h[10]*l+h[14]*u,this.w=h[3]*n+h[7]*o+h[11]*l+h[15]*u,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,o,l,u;const d=e.elements,p=d[0],m=d[4],v=d[8],b=d[1],S=d[5],T=d[9],C=d[2],w=d[6],R=d[10];if(Math.abs(m-b)<.01&&Math.abs(v-C)<.01&&Math.abs(T-w)<.01){if(Math.abs(m+b)<.1&&Math.abs(v+C)<.1&&Math.abs(T+w)<.1&&Math.abs(p+S+R-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const N=(p+1)/2,F=(S+1)/2,B=(R+1)/2,U=(m+b)/4,z=(v+C)/4,K=(T+w)/4;return N>F&&N>B?N<.01?(o=0,l=.707106781,u=.707106781):(o=Math.sqrt(N),l=U/o,u=z/o):F>B?F<.01?(o=.707106781,l=0,u=.707106781):(l=Math.sqrt(F),o=U/l,u=K/l):B<.01?(o=.707106781,l=.707106781,u=0):(u=Math.sqrt(B),o=z/u,l=K/u),this.set(o,l,u,n),this}let L=Math.sqrt((w-T)*(w-T)+(v-C)*(v-C)+(b-m)*(b-m));return Math.abs(L)<.001&&(L=1),this.x=(w-T)/L,this.y=(v-C)/L,this.z=(b-m)/L,this.w=Math.acos((p+S+R-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const o=this.length();return this.divideScalar(o||1).multiplyScalar(Math.max(e,Math.min(n,o)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,o){return this.x=e.x+(n.x-e.x)*o,this.y=e.y+(n.y-e.y)*o,this.z=e.z+(n.z-e.z)*o,this.w=e.w+(n.w-e.w)*o,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class RenderTarget extends EventDispatcher$1{constructor(e=1,n=1,o={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Vector4(0,0,e,n),this.scissorTest=!1,this.viewport=new Vector4(0,0,e,n);const l={width:e,height:n,depth:1};o=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:LinearFilter,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0,count:1},o);const u=new Texture(l,o.mapping,o.wrapS,o.wrapT,o.magFilter,o.minFilter,o.format,o.type,o.anisotropy,o.colorSpace);u.flipY=!1,u.generateMipmaps=o.generateMipmaps,u.internalFormat=o.internalFormat,this.textures=[];const h=o.count;for(let f=0;f<h;f++)this.textures[f]=u.clone(),this.textures[f].isRenderTargetTexture=!0;this.depthBuffer=o.depthBuffer,this.stencilBuffer=o.stencilBuffer,this.depthTexture=o.depthTexture,this.samples=o.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,n,o=1){if(this.width!==e||this.height!==n||this.depth!==o){this.width=e,this.height=n,this.depth=o;for(let l=0,u=this.textures.length;l<u;l++)this.textures[l].image.width=e,this.textures[l].image.height=n,this.textures[l].image.depth=o;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let o=0,l=e.textures.length;o<l;o++)this.textures[o]=e.textures[o].clone(),this.textures[o].isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new Source(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class WebGLRenderTarget extends RenderTarget{constructor(e=1,n=1,o={}){super(e,n,o),this.isWebGLRenderTarget=!0}}class DataArrayTexture extends Texture{constructor(e=null,n=1,o=1,l=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:o,depth:l},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class WebGLArrayRenderTarget extends WebGLRenderTarget{constructor(e=1,n=1,o=1,l={}){super(e,n,l),this.isWebGLArrayRenderTarget=!0,this.depth=o,this.texture=new DataArrayTexture(null,e,n,o),this.texture.isRenderTargetTexture=!0}}class Data3DTexture extends Texture{constructor(e=null,n=1,o=1,l=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:o,depth:l},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class WebGL3DRenderTarget extends WebGLRenderTarget{constructor(e=1,n=1,o=1,l={}){super(e,n,l),this.isWebGL3DRenderTarget=!0,this.depth=o,this.texture=new Data3DTexture(null,e,n,o),this.texture.isRenderTargetTexture=!0}}class Quaternion{constructor(e=0,n=0,o=0,l=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=o,this._w=l}static slerpFlat(e,n,o,l,u,h,f){let d=o[l+0],p=o[l+1],m=o[l+2],v=o[l+3];const b=u[h+0],S=u[h+1],T=u[h+2],C=u[h+3];if(f===0){e[n+0]=d,e[n+1]=p,e[n+2]=m,e[n+3]=v;return}if(f===1){e[n+0]=b,e[n+1]=S,e[n+2]=T,e[n+3]=C;return}if(v!==C||d!==b||p!==S||m!==T){let w=1-f;const R=d*b+p*S+m*T+v*C,L=R>=0?1:-1,N=1-R*R;if(N>Number.EPSILON){const B=Math.sqrt(N),U=Math.atan2(B,R*L);w=Math.sin(w*U)/B,f=Math.sin(f*U)/B}const F=f*L;if(d=d*w+b*F,p=p*w+S*F,m=m*w+T*F,v=v*w+C*F,w===1-f){const B=1/Math.sqrt(d*d+p*p+m*m+v*v);d*=B,p*=B,m*=B,v*=B}}e[n]=d,e[n+1]=p,e[n+2]=m,e[n+3]=v}static multiplyQuaternionsFlat(e,n,o,l,u,h){const f=o[l],d=o[l+1],p=o[l+2],m=o[l+3],v=u[h],b=u[h+1],S=u[h+2],T=u[h+3];return e[n]=f*T+m*v+d*S-p*b,e[n+1]=d*T+m*b+p*v-f*S,e[n+2]=p*T+m*S+f*b-d*v,e[n+3]=m*T-f*v-d*b-p*S,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,o,l){return this._x=e,this._y=n,this._z=o,this._w=l,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const o=e._x,l=e._y,u=e._z,h=e._order,f=Math.cos,d=Math.sin,p=f(o/2),m=f(l/2),v=f(u/2),b=d(o/2),S=d(l/2),T=d(u/2);switch(h){case"XYZ":this._x=b*m*v+p*S*T,this._y=p*S*v-b*m*T,this._z=p*m*T+b*S*v,this._w=p*m*v-b*S*T;break;case"YXZ":this._x=b*m*v+p*S*T,this._y=p*S*v-b*m*T,this._z=p*m*T-b*S*v,this._w=p*m*v+b*S*T;break;case"ZXY":this._x=b*m*v-p*S*T,this._y=p*S*v+b*m*T,this._z=p*m*T+b*S*v,this._w=p*m*v-b*S*T;break;case"ZYX":this._x=b*m*v-p*S*T,this._y=p*S*v+b*m*T,this._z=p*m*T-b*S*v,this._w=p*m*v+b*S*T;break;case"YZX":this._x=b*m*v+p*S*T,this._y=p*S*v+b*m*T,this._z=p*m*T-b*S*v,this._w=p*m*v-b*S*T;break;case"XZY":this._x=b*m*v-p*S*T,this._y=p*S*v-b*m*T,this._z=p*m*T+b*S*v,this._w=p*m*v+b*S*T;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+h)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const o=n/2,l=Math.sin(o);return this._x=e.x*l,this._y=e.y*l,this._z=e.z*l,this._w=Math.cos(o),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,o=n[0],l=n[4],u=n[8],h=n[1],f=n[5],d=n[9],p=n[2],m=n[6],v=n[10],b=o+f+v;if(b>0){const S=.5/Math.sqrt(b+1);this._w=.25/S,this._x=(m-d)*S,this._y=(u-p)*S,this._z=(h-l)*S}else if(o>f&&o>v){const S=2*Math.sqrt(1+o-f-v);this._w=(m-d)/S,this._x=.25*S,this._y=(l+h)/S,this._z=(u+p)/S}else if(f>v){const S=2*Math.sqrt(1+f-o-v);this._w=(u-p)/S,this._x=(l+h)/S,this._y=.25*S,this._z=(d+m)/S}else{const S=2*Math.sqrt(1+v-o-f);this._w=(h-l)/S,this._x=(u+p)/S,this._y=(d+m)/S,this._z=.25*S}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let o=e.dot(n)+1;return o<Number.EPSILON?(o=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=o):(this._x=0,this._y=-e.z,this._z=e.y,this._w=o)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=o),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(clamp(this.dot(e),-1,1)))}rotateTowards(e,n){const o=this.angleTo(e);if(o===0)return this;const l=Math.min(1,n/o);return this.slerp(e,l),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const o=e._x,l=e._y,u=e._z,h=e._w,f=n._x,d=n._y,p=n._z,m=n._w;return this._x=o*m+h*f+l*p-u*d,this._y=l*m+h*d+u*f-o*p,this._z=u*m+h*p+o*d-l*f,this._w=h*m-o*f-l*d-u*p,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const o=this._x,l=this._y,u=this._z,h=this._w;let f=h*e._w+o*e._x+l*e._y+u*e._z;if(f<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,f=-f):this.copy(e),f>=1)return this._w=h,this._x=o,this._y=l,this._z=u,this;const d=1-f*f;if(d<=Number.EPSILON){const S=1-n;return this._w=S*h+n*this._w,this._x=S*o+n*this._x,this._y=S*l+n*this._y,this._z=S*u+n*this._z,this.normalize(),this}const p=Math.sqrt(d),m=Math.atan2(p,f),v=Math.sin((1-n)*m)/p,b=Math.sin(n*m)/p;return this._w=h*v+this._w*b,this._x=o*v+this._x*b,this._y=l*v+this._y*b,this._z=u*v+this._z*b,this._onChangeCallback(),this}slerpQuaternions(e,n,o){return this.copy(e).slerp(n,o)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),o=Math.random(),l=Math.sqrt(1-o),u=Math.sqrt(o);return this.set(l*Math.sin(e),l*Math.cos(e),u*Math.sin(n),u*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Vector3{constructor(e=0,n=0,o=0){Vector3.prototype.isVector3=!0,this.x=e,this.y=n,this.z=o}set(e,n,o){return o===void 0&&(o=this.z),this.x=e,this.y=n,this.z=o,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(_quaternion$4.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(_quaternion$4.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,o=this.y,l=this.z,u=e.elements;return this.x=u[0]*n+u[3]*o+u[6]*l,this.y=u[1]*n+u[4]*o+u[7]*l,this.z=u[2]*n+u[5]*o+u[8]*l,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,o=this.y,l=this.z,u=e.elements,h=1/(u[3]*n+u[7]*o+u[11]*l+u[15]);return this.x=(u[0]*n+u[4]*o+u[8]*l+u[12])*h,this.y=(u[1]*n+u[5]*o+u[9]*l+u[13])*h,this.z=(u[2]*n+u[6]*o+u[10]*l+u[14])*h,this}applyQuaternion(e){const n=this.x,o=this.y,l=this.z,u=e.x,h=e.y,f=e.z,d=e.w,p=2*(h*l-f*o),m=2*(f*n-u*l),v=2*(u*o-h*n);return this.x=n+d*p+h*v-f*m,this.y=o+d*m+f*p-u*v,this.z=l+d*v+u*m-h*p,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,o=this.y,l=this.z,u=e.elements;return this.x=u[0]*n+u[4]*o+u[8]*l,this.y=u[1]*n+u[5]*o+u[9]*l,this.z=u[2]*n+u[6]*o+u[10]*l,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const o=this.length();return this.divideScalar(o||1).multiplyScalar(Math.max(e,Math.min(n,o)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,o){return this.x=e.x+(n.x-e.x)*o,this.y=e.y+(n.y-e.y)*o,this.z=e.z+(n.z-e.z)*o,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const o=e.x,l=e.y,u=e.z,h=n.x,f=n.y,d=n.z;return this.x=l*d-u*f,this.y=u*h-o*d,this.z=o*f-l*h,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const o=e.dot(this)/n;return this.copy(e).multiplyScalar(o)}projectOnPlane(e){return _vector$c.copy(this).projectOnVector(e),this.sub(_vector$c)}reflect(e){return this.sub(_vector$c.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const o=this.dot(e)/n;return Math.acos(clamp(o,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,o=this.y-e.y,l=this.z-e.z;return n*n+o*o+l*l}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,o){const l=Math.sin(n)*e;return this.x=l*Math.sin(o),this.y=Math.cos(n)*e,this.z=l*Math.cos(o),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,o){return this.x=e*Math.sin(n),this.y=o,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),o=this.setFromMatrixColumn(e,1).length(),l=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=o,this.z=l,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,o=Math.sqrt(1-n*n);return this.x=o*Math.cos(e),this.y=n,this.z=o*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const _vector$c=new Vector3,_quaternion$4=new Quaternion;class Box3{constructor(e=new Vector3(1/0,1/0,1/0),n=new Vector3(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,o=e.length;n<o;n+=3)this.expandByPoint(_vector$b.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,o=e.count;n<o;n++)this.expandByPoint(_vector$b.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,o=e.length;n<o;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const o=_vector$b.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(o),this.max.copy(e).add(o),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const o=e.geometry;if(o!==void 0){const u=o.getAttribute("position");if(n===!0&&u!==void 0&&e.isInstancedMesh!==!0)for(let h=0,f=u.count;h<f;h++)e.isMesh===!0?e.getVertexPosition(h,_vector$b):_vector$b.fromBufferAttribute(u,h),_vector$b.applyMatrix4(e.matrixWorld),this.expandByPoint(_vector$b);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),_box$4.copy(e.boundingBox)):(o.boundingBox===null&&o.computeBoundingBox(),_box$4.copy(o.boundingBox)),_box$4.applyMatrix4(e.matrixWorld),this.union(_box$4)}const l=e.children;for(let u=0,h=l.length;u<h;u++)this.expandByObject(l[u],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,_vector$b),_vector$b.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,o;return e.normal.x>0?(n=e.normal.x*this.min.x,o=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,o=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,o+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,o+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,o+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,o+=e.normal.z*this.min.z),n<=-e.constant&&o>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(_center),_extents.subVectors(this.max,_center),_v0$2.subVectors(e.a,_center),_v1$7.subVectors(e.b,_center),_v2$4.subVectors(e.c,_center),_f0.subVectors(_v1$7,_v0$2),_f1.subVectors(_v2$4,_v1$7),_f2.subVectors(_v0$2,_v2$4);let n=[0,-_f0.z,_f0.y,0,-_f1.z,_f1.y,0,-_f2.z,_f2.y,_f0.z,0,-_f0.x,_f1.z,0,-_f1.x,_f2.z,0,-_f2.x,-_f0.y,_f0.x,0,-_f1.y,_f1.x,0,-_f2.y,_f2.x,0];return!satForAxes(n,_v0$2,_v1$7,_v2$4,_extents)||(n=[1,0,0,0,1,0,0,0,1],!satForAxes(n,_v0$2,_v1$7,_v2$4,_extents))?!1:(_triangleNormal.crossVectors(_f0,_f1),n=[_triangleNormal.x,_triangleNormal.y,_triangleNormal.z],satForAxes(n,_v0$2,_v1$7,_v2$4,_extents))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,_vector$b).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(_vector$b).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(_points[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),_points[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),_points[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),_points[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),_points[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),_points[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),_points[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),_points[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(_points),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const _points=[new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3],_vector$b=new Vector3,_box$4=new Box3,_v0$2=new Vector3,_v1$7=new Vector3,_v2$4=new Vector3,_f0=new Vector3,_f1=new Vector3,_f2=new Vector3,_center=new Vector3,_extents=new Vector3,_triangleNormal=new Vector3,_testAxis=new Vector3;function satForAxes(t,e,n,o,l){for(let u=0,h=t.length-3;u<=h;u+=3){_testAxis.fromArray(t,u);const f=l.x*Math.abs(_testAxis.x)+l.y*Math.abs(_testAxis.y)+l.z*Math.abs(_testAxis.z),d=e.dot(_testAxis),p=n.dot(_testAxis),m=o.dot(_testAxis);if(Math.max(-Math.max(d,p,m),Math.min(d,p,m))>f)return!1}return!0}const _box$3=new Box3,_v1$6=new Vector3,_v2$3=new Vector3;class Sphere{constructor(e=new Vector3,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const o=this.center;n!==void 0?o.copy(n):_box$3.setFromPoints(e).getCenter(o);let l=0;for(let u=0,h=e.length;u<h;u++)l=Math.max(l,o.distanceToSquared(e[u]));return this.radius=Math.sqrt(l),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const o=this.center.distanceToSquared(e);return n.copy(e),o>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;_v1$6.subVectors(e,this.center);const n=_v1$6.lengthSq();if(n>this.radius*this.radius){const o=Math.sqrt(n),l=(o-this.radius)*.5;this.center.addScaledVector(_v1$6,l/o),this.radius+=l}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(_v2$3.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(_v1$6.copy(e.center).add(_v2$3)),this.expandByPoint(_v1$6.copy(e.center).sub(_v2$3))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const _vector$a=new Vector3,_segCenter=new Vector3,_segDir=new Vector3,_diff=new Vector3,_edge1=new Vector3,_edge2=new Vector3,_normal$1=new Vector3;class Ray{constructor(e=new Vector3,n=new Vector3(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,_vector$a)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const o=n.dot(this.direction);return o<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,o)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=_vector$a.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(_vector$a.copy(this.origin).addScaledVector(this.direction,n),_vector$a.distanceToSquared(e))}distanceSqToSegment(e,n,o,l){_segCenter.copy(e).add(n).multiplyScalar(.5),_segDir.copy(n).sub(e).normalize(),_diff.copy(this.origin).sub(_segCenter);const u=e.distanceTo(n)*.5,h=-this.direction.dot(_segDir),f=_diff.dot(this.direction),d=-_diff.dot(_segDir),p=_diff.lengthSq(),m=Math.abs(1-h*h);let v,b,S,T;if(m>0)if(v=h*d-f,b=h*f-d,T=u*m,v>=0)if(b>=-T)if(b<=T){const C=1/m;v*=C,b*=C,S=v*(v+h*b+2*f)+b*(h*v+b+2*d)+p}else b=u,v=Math.max(0,-(h*b+f)),S=-v*v+b*(b+2*d)+p;else b=-u,v=Math.max(0,-(h*b+f)),S=-v*v+b*(b+2*d)+p;else b<=-T?(v=Math.max(0,-(-h*u+f)),b=v>0?-u:Math.min(Math.max(-u,-d),u),S=-v*v+b*(b+2*d)+p):b<=T?(v=0,b=Math.min(Math.max(-u,-d),u),S=b*(b+2*d)+p):(v=Math.max(0,-(h*u+f)),b=v>0?u:Math.min(Math.max(-u,-d),u),S=-v*v+b*(b+2*d)+p);else b=h>0?-u:u,v=Math.max(0,-(h*b+f)),S=-v*v+b*(b+2*d)+p;return o&&o.copy(this.origin).addScaledVector(this.direction,v),l&&l.copy(_segCenter).addScaledVector(_segDir,b),S}intersectSphere(e,n){_vector$a.subVectors(e.center,this.origin);const o=_vector$a.dot(this.direction),l=_vector$a.dot(_vector$a)-o*o,u=e.radius*e.radius;if(l>u)return null;const h=Math.sqrt(u-l),f=o-h,d=o+h;return d<0?null:f<0?this.at(d,n):this.at(f,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const o=-(this.origin.dot(e.normal)+e.constant)/n;return o>=0?o:null}intersectPlane(e,n){const o=this.distanceToPlane(e);return o===null?null:this.at(o,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let o,l,u,h,f,d;const p=1/this.direction.x,m=1/this.direction.y,v=1/this.direction.z,b=this.origin;return p>=0?(o=(e.min.x-b.x)*p,l=(e.max.x-b.x)*p):(o=(e.max.x-b.x)*p,l=(e.min.x-b.x)*p),m>=0?(u=(e.min.y-b.y)*m,h=(e.max.y-b.y)*m):(u=(e.max.y-b.y)*m,h=(e.min.y-b.y)*m),o>h||u>l||((u>o||isNaN(o))&&(o=u),(h<l||isNaN(l))&&(l=h),v>=0?(f=(e.min.z-b.z)*v,d=(e.max.z-b.z)*v):(f=(e.max.z-b.z)*v,d=(e.min.z-b.z)*v),o>d||f>l)||((f>o||o!==o)&&(o=f),(d<l||l!==l)&&(l=d),l<0)?null:this.at(o>=0?o:l,n)}intersectsBox(e){return this.intersectBox(e,_vector$a)!==null}intersectTriangle(e,n,o,l,u){_edge1.subVectors(n,e),_edge2.subVectors(o,e),_normal$1.crossVectors(_edge1,_edge2);let h=this.direction.dot(_normal$1),f;if(h>0){if(l)return null;f=1}else if(h<0)f=-1,h=-h;else return null;_diff.subVectors(this.origin,e);const d=f*this.direction.dot(_edge2.crossVectors(_diff,_edge2));if(d<0)return null;const p=f*this.direction.dot(_edge1.cross(_diff));if(p<0||d+p>h)return null;const m=-f*_diff.dot(_normal$1);return m<0?null:this.at(m/h,u)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Matrix4{constructor(e,n,o,l,u,h,f,d,p,m,v,b,S,T,C,w){Matrix4.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,o,l,u,h,f,d,p,m,v,b,S,T,C,w)}set(e,n,o,l,u,h,f,d,p,m,v,b,S,T,C,w){const R=this.elements;return R[0]=e,R[4]=n,R[8]=o,R[12]=l,R[1]=u,R[5]=h,R[9]=f,R[13]=d,R[2]=p,R[6]=m,R[10]=v,R[14]=b,R[3]=S,R[7]=T,R[11]=C,R[15]=w,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Matrix4().fromArray(this.elements)}copy(e){const n=this.elements,o=e.elements;return n[0]=o[0],n[1]=o[1],n[2]=o[2],n[3]=o[3],n[4]=o[4],n[5]=o[5],n[6]=o[6],n[7]=o[7],n[8]=o[8],n[9]=o[9],n[10]=o[10],n[11]=o[11],n[12]=o[12],n[13]=o[13],n[14]=o[14],n[15]=o[15],this}copyPosition(e){const n=this.elements,o=e.elements;return n[12]=o[12],n[13]=o[13],n[14]=o[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,o){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),o.setFromMatrixColumn(this,2),this}makeBasis(e,n,o){return this.set(e.x,n.x,o.x,0,e.y,n.y,o.y,0,e.z,n.z,o.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,o=e.elements,l=1/_v1$5.setFromMatrixColumn(e,0).length(),u=1/_v1$5.setFromMatrixColumn(e,1).length(),h=1/_v1$5.setFromMatrixColumn(e,2).length();return n[0]=o[0]*l,n[1]=o[1]*l,n[2]=o[2]*l,n[3]=0,n[4]=o[4]*u,n[5]=o[5]*u,n[6]=o[6]*u,n[7]=0,n[8]=o[8]*h,n[9]=o[9]*h,n[10]=o[10]*h,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,o=e.x,l=e.y,u=e.z,h=Math.cos(o),f=Math.sin(o),d=Math.cos(l),p=Math.sin(l),m=Math.cos(u),v=Math.sin(u);if(e.order==="XYZ"){const b=h*m,S=h*v,T=f*m,C=f*v;n[0]=d*m,n[4]=-d*v,n[8]=p,n[1]=S+T*p,n[5]=b-C*p,n[9]=-f*d,n[2]=C-b*p,n[6]=T+S*p,n[10]=h*d}else if(e.order==="YXZ"){const b=d*m,S=d*v,T=p*m,C=p*v;n[0]=b+C*f,n[4]=T*f-S,n[8]=h*p,n[1]=h*v,n[5]=h*m,n[9]=-f,n[2]=S*f-T,n[6]=C+b*f,n[10]=h*d}else if(e.order==="ZXY"){const b=d*m,S=d*v,T=p*m,C=p*v;n[0]=b-C*f,n[4]=-h*v,n[8]=T+S*f,n[1]=S+T*f,n[5]=h*m,n[9]=C-b*f,n[2]=-h*p,n[6]=f,n[10]=h*d}else if(e.order==="ZYX"){const b=h*m,S=h*v,T=f*m,C=f*v;n[0]=d*m,n[4]=T*p-S,n[8]=b*p+C,n[1]=d*v,n[5]=C*p+b,n[9]=S*p-T,n[2]=-p,n[6]=f*d,n[10]=h*d}else if(e.order==="YZX"){const b=h*d,S=h*p,T=f*d,C=f*p;n[0]=d*m,n[4]=C-b*v,n[8]=T*v+S,n[1]=v,n[5]=h*m,n[9]=-f*m,n[2]=-p*m,n[6]=S*v+T,n[10]=b-C*v}else if(e.order==="XZY"){const b=h*d,S=h*p,T=f*d,C=f*p;n[0]=d*m,n[4]=-v,n[8]=p*m,n[1]=b*v+C,n[5]=h*m,n[9]=S*v-T,n[2]=T*v-S,n[6]=f*m,n[10]=C*v+b}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(_zero,e,_one)}lookAt(e,n,o){const l=this.elements;return _z.subVectors(e,n),_z.lengthSq()===0&&(_z.z=1),_z.normalize(),_x.crossVectors(o,_z),_x.lengthSq()===0&&(Math.abs(o.z)===1?_z.x+=1e-4:_z.z+=1e-4,_z.normalize(),_x.crossVectors(o,_z)),_x.normalize(),_y.crossVectors(_z,_x),l[0]=_x.x,l[4]=_y.x,l[8]=_z.x,l[1]=_x.y,l[5]=_y.y,l[9]=_z.y,l[2]=_x.z,l[6]=_y.z,l[10]=_z.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const o=e.elements,l=n.elements,u=this.elements,h=o[0],f=o[4],d=o[8],p=o[12],m=o[1],v=o[5],b=o[9],S=o[13],T=o[2],C=o[6],w=o[10],R=o[14],L=o[3],N=o[7],F=o[11],B=o[15],U=l[0],z=l[4],K=l[8],Q=l[12],q=l[1],H=l[5],se=l[9],le=l[13],ne=l[2],ce=l[6],fe=l[10],ge=l[14],Z=l[3],ie=l[7],oe=l[11],ae=l[15];return u[0]=h*U+f*q+d*ne+p*Z,u[4]=h*z+f*H+d*ce+p*ie,u[8]=h*K+f*se+d*fe+p*oe,u[12]=h*Q+f*le+d*ge+p*ae,u[1]=m*U+v*q+b*ne+S*Z,u[5]=m*z+v*H+b*ce+S*ie,u[9]=m*K+v*se+b*fe+S*oe,u[13]=m*Q+v*le+b*ge+S*ae,u[2]=T*U+C*q+w*ne+R*Z,u[6]=T*z+C*H+w*ce+R*ie,u[10]=T*K+C*se+w*fe+R*oe,u[14]=T*Q+C*le+w*ge+R*ae,u[3]=L*U+N*q+F*ne+B*Z,u[7]=L*z+N*H+F*ce+B*ie,u[11]=L*K+N*se+F*fe+B*oe,u[15]=L*Q+N*le+F*ge+B*ae,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],o=e[4],l=e[8],u=e[12],h=e[1],f=e[5],d=e[9],p=e[13],m=e[2],v=e[6],b=e[10],S=e[14],T=e[3],C=e[7],w=e[11],R=e[15];return T*(+u*d*v-l*p*v-u*f*b+o*p*b+l*f*S-o*d*S)+C*(+n*d*S-n*p*b+u*h*b-l*h*S+l*p*m-u*d*m)+w*(+n*p*v-n*f*S-u*h*v+o*h*S+u*f*m-o*p*m)+R*(-l*f*m-n*d*v+n*f*b+l*h*v-o*h*b+o*d*m)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,o){const l=this.elements;return e.isVector3?(l[12]=e.x,l[13]=e.y,l[14]=e.z):(l[12]=e,l[13]=n,l[14]=o),this}invert(){const e=this.elements,n=e[0],o=e[1],l=e[2],u=e[3],h=e[4],f=e[5],d=e[6],p=e[7],m=e[8],v=e[9],b=e[10],S=e[11],T=e[12],C=e[13],w=e[14],R=e[15],L=v*w*p-C*b*p+C*d*S-f*w*S-v*d*R+f*b*R,N=T*b*p-m*w*p-T*d*S+h*w*S+m*d*R-h*b*R,F=m*C*p-T*v*p+T*f*S-h*C*S-m*f*R+h*v*R,B=T*v*d-m*C*d-T*f*b+h*C*b+m*f*w-h*v*w,U=n*L+o*N+l*F+u*B;if(U===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const z=1/U;return e[0]=L*z,e[1]=(C*b*u-v*w*u-C*l*S+o*w*S+v*l*R-o*b*R)*z,e[2]=(f*w*u-C*d*u+C*l*p-o*w*p-f*l*R+o*d*R)*z,e[3]=(v*d*u-f*b*u-v*l*p+o*b*p+f*l*S-o*d*S)*z,e[4]=N*z,e[5]=(m*w*u-T*b*u+T*l*S-n*w*S-m*l*R+n*b*R)*z,e[6]=(T*d*u-h*w*u-T*l*p+n*w*p+h*l*R-n*d*R)*z,e[7]=(h*b*u-m*d*u+m*l*p-n*b*p-h*l*S+n*d*S)*z,e[8]=F*z,e[9]=(T*v*u-m*C*u-T*o*S+n*C*S+m*o*R-n*v*R)*z,e[10]=(h*C*u-T*f*u+T*o*p-n*C*p-h*o*R+n*f*R)*z,e[11]=(m*f*u-h*v*u-m*o*p+n*v*p+h*o*S-n*f*S)*z,e[12]=B*z,e[13]=(m*C*l-T*v*l+T*o*b-n*C*b-m*o*w+n*v*w)*z,e[14]=(T*f*l-h*C*l-T*o*d+n*C*d+h*o*w-n*f*w)*z,e[15]=(h*v*l-m*f*l+m*o*d-n*v*d-h*o*b+n*f*b)*z,this}scale(e){const n=this.elements,o=e.x,l=e.y,u=e.z;return n[0]*=o,n[4]*=l,n[8]*=u,n[1]*=o,n[5]*=l,n[9]*=u,n[2]*=o,n[6]*=l,n[10]*=u,n[3]*=o,n[7]*=l,n[11]*=u,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],o=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],l=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,o,l))}makeTranslation(e,n,o){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,o,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),o=Math.sin(e);return this.set(1,0,0,0,0,n,-o,0,0,o,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),o=Math.sin(e);return this.set(n,0,o,0,0,1,0,0,-o,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),o=Math.sin(e);return this.set(n,-o,0,0,o,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const o=Math.cos(n),l=Math.sin(n),u=1-o,h=e.x,f=e.y,d=e.z,p=u*h,m=u*f;return this.set(p*h+o,p*f-l*d,p*d+l*f,0,p*f+l*d,m*f+o,m*d-l*h,0,p*d-l*f,m*d+l*h,u*d*d+o,0,0,0,0,1),this}makeScale(e,n,o){return this.set(e,0,0,0,0,n,0,0,0,0,o,0,0,0,0,1),this}makeShear(e,n,o,l,u,h){return this.set(1,o,u,0,e,1,h,0,n,l,1,0,0,0,0,1),this}compose(e,n,o){const l=this.elements,u=n._x,h=n._y,f=n._z,d=n._w,p=u+u,m=h+h,v=f+f,b=u*p,S=u*m,T=u*v,C=h*m,w=h*v,R=f*v,L=d*p,N=d*m,F=d*v,B=o.x,U=o.y,z=o.z;return l[0]=(1-(C+R))*B,l[1]=(S+F)*B,l[2]=(T-N)*B,l[3]=0,l[4]=(S-F)*U,l[5]=(1-(b+R))*U,l[6]=(w+L)*U,l[7]=0,l[8]=(T+N)*z,l[9]=(w-L)*z,l[10]=(1-(b+C))*z,l[11]=0,l[12]=e.x,l[13]=e.y,l[14]=e.z,l[15]=1,this}decompose(e,n,o){const l=this.elements;let u=_v1$5.set(l[0],l[1],l[2]).length();const h=_v1$5.set(l[4],l[5],l[6]).length(),f=_v1$5.set(l[8],l[9],l[10]).length();this.determinant()<0&&(u=-u),e.x=l[12],e.y=l[13],e.z=l[14],_m1$4.copy(this);const p=1/u,m=1/h,v=1/f;return _m1$4.elements[0]*=p,_m1$4.elements[1]*=p,_m1$4.elements[2]*=p,_m1$4.elements[4]*=m,_m1$4.elements[5]*=m,_m1$4.elements[6]*=m,_m1$4.elements[8]*=v,_m1$4.elements[9]*=v,_m1$4.elements[10]*=v,n.setFromRotationMatrix(_m1$4),o.x=u,o.y=h,o.z=f,this}makePerspective(e,n,o,l,u,h,f=WebGLCoordinateSystem){const d=this.elements,p=2*u/(n-e),m=2*u/(o-l),v=(n+e)/(n-e),b=(o+l)/(o-l);let S,T;if(f===WebGLCoordinateSystem)S=-(h+u)/(h-u),T=-2*h*u/(h-u);else if(f===WebGPUCoordinateSystem)S=-h/(h-u),T=-h*u/(h-u);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+f);return d[0]=p,d[4]=0,d[8]=v,d[12]=0,d[1]=0,d[5]=m,d[9]=b,d[13]=0,d[2]=0,d[6]=0,d[10]=S,d[14]=T,d[3]=0,d[7]=0,d[11]=-1,d[15]=0,this}makeOrthographic(e,n,o,l,u,h,f=WebGLCoordinateSystem){const d=this.elements,p=1/(n-e),m=1/(o-l),v=1/(h-u),b=(n+e)*p,S=(o+l)*m;let T,C;if(f===WebGLCoordinateSystem)T=(h+u)*v,C=-2*v;else if(f===WebGPUCoordinateSystem)T=u*v,C=-1*v;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+f);return d[0]=2*p,d[4]=0,d[8]=0,d[12]=-b,d[1]=0,d[5]=2*m,d[9]=0,d[13]=-S,d[2]=0,d[6]=0,d[10]=C,d[14]=-T,d[3]=0,d[7]=0,d[11]=0,d[15]=1,this}equals(e){const n=this.elements,o=e.elements;for(let l=0;l<16;l++)if(n[l]!==o[l])return!1;return!0}fromArray(e,n=0){for(let o=0;o<16;o++)this.elements[o]=e[o+n];return this}toArray(e=[],n=0){const o=this.elements;return e[n]=o[0],e[n+1]=o[1],e[n+2]=o[2],e[n+3]=o[3],e[n+4]=o[4],e[n+5]=o[5],e[n+6]=o[6],e[n+7]=o[7],e[n+8]=o[8],e[n+9]=o[9],e[n+10]=o[10],e[n+11]=o[11],e[n+12]=o[12],e[n+13]=o[13],e[n+14]=o[14],e[n+15]=o[15],e}}const _v1$5=new Vector3,_m1$4=new Matrix4,_zero=new Vector3(0,0,0),_one=new Vector3(1,1,1),_x=new Vector3,_y=new Vector3,_z=new Vector3,_matrix$2=new Matrix4,_quaternion$3=new Quaternion;class Euler{constructor(e=0,n=0,o=0,l=Euler.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=o,this._order=l}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,o,l=this._order){return this._x=e,this._y=n,this._z=o,this._order=l,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,o=!0){const l=e.elements,u=l[0],h=l[4],f=l[8],d=l[1],p=l[5],m=l[9],v=l[2],b=l[6],S=l[10];switch(n){case"XYZ":this._y=Math.asin(clamp(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(-m,S),this._z=Math.atan2(-h,u)):(this._x=Math.atan2(b,p),this._z=0);break;case"YXZ":this._x=Math.asin(-clamp(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(f,S),this._z=Math.atan2(d,p)):(this._y=Math.atan2(-v,u),this._z=0);break;case"ZXY":this._x=Math.asin(clamp(b,-1,1)),Math.abs(b)<.9999999?(this._y=Math.atan2(-v,S),this._z=Math.atan2(-h,p)):(this._y=0,this._z=Math.atan2(d,u));break;case"ZYX":this._y=Math.asin(-clamp(v,-1,1)),Math.abs(v)<.9999999?(this._x=Math.atan2(b,S),this._z=Math.atan2(d,u)):(this._x=0,this._z=Math.atan2(-h,p));break;case"YZX":this._z=Math.asin(clamp(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(-m,p),this._y=Math.atan2(-v,u)):(this._x=0,this._y=Math.atan2(f,S));break;case"XZY":this._z=Math.asin(-clamp(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(b,p),this._y=Math.atan2(f,u)):(this._x=Math.atan2(-m,S),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,o===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,o){return _matrix$2.makeRotationFromQuaternion(e),this.setFromRotationMatrix(_matrix$2,n,o)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return _quaternion$3.setFromEuler(this),this.setFromQuaternion(_quaternion$3,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Euler.DEFAULT_ORDER="XYZ";class Layers{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let _object3DId=0;const _v1$4=new Vector3,_q1=new Quaternion,_m1$3=new Matrix4,_target=new Vector3,_position$3=new Vector3,_scale$2=new Vector3,_quaternion$2=new Quaternion,_xAxis=new Vector3(1,0,0),_yAxis=new Vector3(0,1,0),_zAxis=new Vector3(0,0,1),_addedEvent={type:"added"},_removedEvent={type:"removed"},_childaddedEvent={type:"childadded",child:null},_childremovedEvent={type:"childremoved",child:null};class Object3D extends EventDispatcher$1{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:_object3DId++}),this.uuid=generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Object3D.DEFAULT_UP.clone();const e=new Vector3,n=new Euler,o=new Quaternion,l=new Vector3(1,1,1);function u(){o.setFromEuler(n,!1)}function h(){n.setFromQuaternion(o,void 0,!1)}n._onChange(u),o._onChange(h),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:o},scale:{configurable:!0,enumerable:!0,value:l},modelViewMatrix:{value:new Matrix4},normalMatrix:{value:new Matrix3}}),this.matrix=new Matrix4,this.matrixWorld=new Matrix4,this.matrixAutoUpdate=Object3D.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Layers,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return _q1.setFromAxisAngle(e,n),this.quaternion.multiply(_q1),this}rotateOnWorldAxis(e,n){return _q1.setFromAxisAngle(e,n),this.quaternion.premultiply(_q1),this}rotateX(e){return this.rotateOnAxis(_xAxis,e)}rotateY(e){return this.rotateOnAxis(_yAxis,e)}rotateZ(e){return this.rotateOnAxis(_zAxis,e)}translateOnAxis(e,n){return _v1$4.copy(e).applyQuaternion(this.quaternion),this.position.add(_v1$4.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(_xAxis,e)}translateY(e){return this.translateOnAxis(_yAxis,e)}translateZ(e){return this.translateOnAxis(_zAxis,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(_m1$3.copy(this.matrixWorld).invert())}lookAt(e,n,o){e.isVector3?_target.copy(e):_target.set(e,n,o);const l=this.parent;this.updateWorldMatrix(!0,!1),_position$3.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?_m1$3.lookAt(_position$3,_target,this.up):_m1$3.lookAt(_target,_position$3,this.up),this.quaternion.setFromRotationMatrix(_m1$3),l&&(_m1$3.extractRotation(l.matrixWorld),_q1.setFromRotationMatrix(_m1$3),this.quaternion.premultiply(_q1.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(_addedEvent),_childaddedEvent.child=e,this.dispatchEvent(_childaddedEvent),_childaddedEvent.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let o=0;o<arguments.length;o++)this.remove(arguments[o]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(_removedEvent),_childremovedEvent.child=e,this.dispatchEvent(_childremovedEvent),_childremovedEvent.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),_m1$3.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),_m1$3.multiply(e.parent.matrixWorld)),e.applyMatrix4(_m1$3),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let o=0,l=this.children.length;o<l;o++){const h=this.children[o].getObjectByProperty(e,n);if(h!==void 0)return h}}getObjectsByProperty(e,n,o=[]){this[e]===n&&o.push(this);const l=this.children;for(let u=0,h=l.length;u<h;u++)l[u].getObjectsByProperty(e,n,o);return o}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,e,_scale$2),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,_quaternion$2,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let o=0,l=n.length;o<l;o++)n[o].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let o=0,l=n.length;o<l;o++)n[o].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let o=0,l=n.length;o<l;o++){const u=n[o];(u.matrixWorldAutoUpdate===!0||e===!0)&&u.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const o=this.parent;if(e===!0&&o!==null&&o.matrixWorldAutoUpdate===!0&&o.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const l=this.children;for(let u=0,h=l.length;u<h;u++){const f=l[u];f.matrixWorldAutoUpdate===!0&&f.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",o={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},o.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const l={};l.uuid=this.uuid,l.type=this.type,this.name!==""&&(l.name=this.name),this.castShadow===!0&&(l.castShadow=!0),this.receiveShadow===!0&&(l.receiveShadow=!0),this.visible===!1&&(l.visible=!1),this.frustumCulled===!1&&(l.frustumCulled=!1),this.renderOrder!==0&&(l.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(l.userData=this.userData),l.layers=this.layers.mask,l.matrix=this.matrix.toArray(),l.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(l.matrixAutoUpdate=!1),this.isInstancedMesh&&(l.type="InstancedMesh",l.count=this.count,l.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(l.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(l.type="BatchedMesh",l.perObjectFrustumCulled=this.perObjectFrustumCulled,l.sortObjects=this.sortObjects,l.drawRanges=this._drawRanges,l.reservedRanges=this._reservedRanges,l.visibility=this._visibility,l.active=this._active,l.bounds=this._bounds.map(f=>({boxInitialized:f.boxInitialized,boxMin:f.box.min.toArray(),boxMax:f.box.max.toArray(),sphereInitialized:f.sphereInitialized,sphereRadius:f.sphere.radius,sphereCenter:f.sphere.center.toArray()})),l.maxGeometryCount=this._maxGeometryCount,l.maxVertexCount=this._maxVertexCount,l.maxIndexCount=this._maxIndexCount,l.geometryInitialized=this._geometryInitialized,l.geometryCount=this._geometryCount,l.matricesTexture=this._matricesTexture.toJSON(e),this.boundingSphere!==null&&(l.boundingSphere={center:l.boundingSphere.center.toArray(),radius:l.boundingSphere.radius}),this.boundingBox!==null&&(l.boundingBox={min:l.boundingBox.min.toArray(),max:l.boundingBox.max.toArray()}));function u(f,d){return f[d.uuid]===void 0&&(f[d.uuid]=d.toJSON(e)),d.uuid}if(this.isScene)this.background&&(this.background.isColor?l.background=this.background.toJSON():this.background.isTexture&&(l.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(l.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){l.geometry=u(e.geometries,this.geometry);const f=this.geometry.parameters;if(f!==void 0&&f.shapes!==void 0){const d=f.shapes;if(Array.isArray(d))for(let p=0,m=d.length;p<m;p++){const v=d[p];u(e.shapes,v)}else u(e.shapes,d)}}if(this.isSkinnedMesh&&(l.bindMode=this.bindMode,l.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(u(e.skeletons,this.skeleton),l.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const f=[];for(let d=0,p=this.material.length;d<p;d++)f.push(u(e.materials,this.material[d]));l.material=f}else l.material=u(e.materials,this.material);if(this.children.length>0){l.children=[];for(let f=0;f<this.children.length;f++)l.children.push(this.children[f].toJSON(e).object)}if(this.animations.length>0){l.animations=[];for(let f=0;f<this.animations.length;f++){const d=this.animations[f];l.animations.push(u(e.animations,d))}}if(n){const f=h(e.geometries),d=h(e.materials),p=h(e.textures),m=h(e.images),v=h(e.shapes),b=h(e.skeletons),S=h(e.animations),T=h(e.nodes);f.length>0&&(o.geometries=f),d.length>0&&(o.materials=d),p.length>0&&(o.textures=p),m.length>0&&(o.images=m),v.length>0&&(o.shapes=v),b.length>0&&(o.skeletons=b),S.length>0&&(o.animations=S),T.length>0&&(o.nodes=T)}return o.object=l,o;function h(f){const d=[];for(const p in f){const m=f[p];delete m.metadata,d.push(m)}return d}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let o=0;o<e.children.length;o++){const l=e.children[o];this.add(l.clone())}return this}}Object3D.DEFAULT_UP=new Vector3(0,1,0);Object3D.DEFAULT_MATRIX_AUTO_UPDATE=!0;Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const _v0$1=new Vector3,_v1$3=new Vector3,_v2$2=new Vector3,_v3$2=new Vector3,_vab=new Vector3,_vac=new Vector3,_vbc=new Vector3,_vap=new Vector3,_vbp=new Vector3,_vcp=new Vector3;class Triangle{constructor(e=new Vector3,n=new Vector3,o=new Vector3){this.a=e,this.b=n,this.c=o}static getNormal(e,n,o,l){l.subVectors(o,n),_v0$1.subVectors(e,n),l.cross(_v0$1);const u=l.lengthSq();return u>0?l.multiplyScalar(1/Math.sqrt(u)):l.set(0,0,0)}static getBarycoord(e,n,o,l,u){_v0$1.subVectors(l,n),_v1$3.subVectors(o,n),_v2$2.subVectors(e,n);const h=_v0$1.dot(_v0$1),f=_v0$1.dot(_v1$3),d=_v0$1.dot(_v2$2),p=_v1$3.dot(_v1$3),m=_v1$3.dot(_v2$2),v=h*p-f*f;if(v===0)return u.set(0,0,0),null;const b=1/v,S=(p*d-f*m)*b,T=(h*m-f*d)*b;return u.set(1-S-T,T,S)}static containsPoint(e,n,o,l){return this.getBarycoord(e,n,o,l,_v3$2)===null?!1:_v3$2.x>=0&&_v3$2.y>=0&&_v3$2.x+_v3$2.y<=1}static getInterpolation(e,n,o,l,u,h,f,d){return this.getBarycoord(e,n,o,l,_v3$2)===null?(d.x=0,d.y=0,"z"in d&&(d.z=0),"w"in d&&(d.w=0),null):(d.setScalar(0),d.addScaledVector(u,_v3$2.x),d.addScaledVector(h,_v3$2.y),d.addScaledVector(f,_v3$2.z),d)}static isFrontFacing(e,n,o,l){return _v0$1.subVectors(o,n),_v1$3.subVectors(e,n),_v0$1.cross(_v1$3).dot(l)<0}set(e,n,o){return this.a.copy(e),this.b.copy(n),this.c.copy(o),this}setFromPointsAndIndices(e,n,o,l){return this.a.copy(e[n]),this.b.copy(e[o]),this.c.copy(e[l]),this}setFromAttributeAndIndices(e,n,o,l){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,o),this.c.fromBufferAttribute(e,l),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return _v0$1.subVectors(this.c,this.b),_v1$3.subVectors(this.a,this.b),_v0$1.cross(_v1$3).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Triangle.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Triangle.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,o,l,u){return Triangle.getInterpolation(e,this.a,this.b,this.c,n,o,l,u)}containsPoint(e){return Triangle.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Triangle.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const o=this.a,l=this.b,u=this.c;let h,f;_vab.subVectors(l,o),_vac.subVectors(u,o),_vap.subVectors(e,o);const d=_vab.dot(_vap),p=_vac.dot(_vap);if(d<=0&&p<=0)return n.copy(o);_vbp.subVectors(e,l);const m=_vab.dot(_vbp),v=_vac.dot(_vbp);if(m>=0&&v<=m)return n.copy(l);const b=d*v-m*p;if(b<=0&&d>=0&&m<=0)return h=d/(d-m),n.copy(o).addScaledVector(_vab,h);_vcp.subVectors(e,u);const S=_vab.dot(_vcp),T=_vac.dot(_vcp);if(T>=0&&S<=T)return n.copy(u);const C=S*p-d*T;if(C<=0&&p>=0&&T<=0)return f=p/(p-T),n.copy(o).addScaledVector(_vac,f);const w=m*T-S*v;if(w<=0&&v-m>=0&&S-T>=0)return _vbc.subVectors(u,l),f=(v-m)/(v-m+(S-T)),n.copy(l).addScaledVector(_vbc,f);const R=1/(w+C+b);return h=C*R,f=b*R,n.copy(o).addScaledVector(_vab,h).addScaledVector(_vac,f)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const _colorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},_hslA={h:0,s:0,l:0},_hslB={h:0,s:0,l:0};function hue2rgb(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}let Color$1=class{constructor(e,n,o){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,o)}set(e,n,o){if(n===void 0&&o===void 0){const l=e;l&&l.isColor?this.copy(l):typeof l=="number"?this.setHex(l):typeof l=="string"&&this.setStyle(l)}else this.setRGB(e,n,o);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=SRGBColorSpace){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,ColorManagement.toWorkingColorSpace(this,n),this}setRGB(e,n,o,l=ColorManagement.workingColorSpace){return this.r=e,this.g=n,this.b=o,ColorManagement.toWorkingColorSpace(this,l),this}setHSL(e,n,o,l=ColorManagement.workingColorSpace){if(e=euclideanModulo(e,1),n=clamp(n,0,1),o=clamp(o,0,1),n===0)this.r=this.g=this.b=o;else{const u=o<=.5?o*(1+n):o+n-o*n,h=2*o-u;this.r=hue2rgb(h,u,e+1/3),this.g=hue2rgb(h,u,e),this.b=hue2rgb(h,u,e-1/3)}return ColorManagement.toWorkingColorSpace(this,l),this}setStyle(e,n=SRGBColorSpace){function o(u){u!==void 0&&parseFloat(u)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let l;if(l=/^(\w+)\(([^\)]*)\)/.exec(e)){let u;const h=l[1],f=l[2];switch(h){case"rgb":case"rgba":if(u=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(f))return o(u[4]),this.setRGB(Math.min(255,parseInt(u[1],10))/255,Math.min(255,parseInt(u[2],10))/255,Math.min(255,parseInt(u[3],10))/255,n);if(u=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(f))return o(u[4]),this.setRGB(Math.min(100,parseInt(u[1],10))/100,Math.min(100,parseInt(u[2],10))/100,Math.min(100,parseInt(u[3],10))/100,n);break;case"hsl":case"hsla":if(u=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(f))return o(u[4]),this.setHSL(parseFloat(u[1])/360,parseFloat(u[2])/100,parseFloat(u[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(l=/^\#([A-Fa-f\d]+)$/.exec(e)){const u=l[1],h=u.length;if(h===3)return this.setRGB(parseInt(u.charAt(0),16)/15,parseInt(u.charAt(1),16)/15,parseInt(u.charAt(2),16)/15,n);if(h===6)return this.setHex(parseInt(u,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=SRGBColorSpace){const o=_colorKeywords[e.toLowerCase()];return o!==void 0?this.setHex(o,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=SRGBToLinear(e.r),this.g=SRGBToLinear(e.g),this.b=SRGBToLinear(e.b),this}copyLinearToSRGB(e){return this.r=LinearToSRGB(e.r),this.g=LinearToSRGB(e.g),this.b=LinearToSRGB(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=SRGBColorSpace){return ColorManagement.fromWorkingColorSpace(_color.copy(this),e),Math.round(clamp(_color.r*255,0,255))*65536+Math.round(clamp(_color.g*255,0,255))*256+Math.round(clamp(_color.b*255,0,255))}getHexString(e=SRGBColorSpace){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=ColorManagement.workingColorSpace){ColorManagement.fromWorkingColorSpace(_color.copy(this),n);const o=_color.r,l=_color.g,u=_color.b,h=Math.max(o,l,u),f=Math.min(o,l,u);let d,p;const m=(f+h)/2;if(f===h)d=0,p=0;else{const v=h-f;switch(p=m<=.5?v/(h+f):v/(2-h-f),h){case o:d=(l-u)/v+(l<u?6:0);break;case l:d=(u-o)/v+2;break;case u:d=(o-l)/v+4;break}d/=6}return e.h=d,e.s=p,e.l=m,e}getRGB(e,n=ColorManagement.workingColorSpace){return ColorManagement.fromWorkingColorSpace(_color.copy(this),n),e.r=_color.r,e.g=_color.g,e.b=_color.b,e}getStyle(e=SRGBColorSpace){ColorManagement.fromWorkingColorSpace(_color.copy(this),e);const n=_color.r,o=_color.g,l=_color.b;return e!==SRGBColorSpace?`color(${e} ${n.toFixed(3)} ${o.toFixed(3)} ${l.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(o*255)},${Math.round(l*255)})`}offsetHSL(e,n,o){return this.getHSL(_hslA),this.setHSL(_hslA.h+e,_hslA.s+n,_hslA.l+o)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,o){return this.r=e.r+(n.r-e.r)*o,this.g=e.g+(n.g-e.g)*o,this.b=e.b+(n.b-e.b)*o,this}lerpHSL(e,n){this.getHSL(_hslA),e.getHSL(_hslB);const o=lerp(_hslA.h,_hslB.h,n),l=lerp(_hslA.s,_hslB.s,n),u=lerp(_hslA.l,_hslB.l,n);return this.setHSL(o,l,u),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,o=this.g,l=this.b,u=e.elements;return this.r=u[0]*n+u[3]*o+u[6]*l,this.g=u[1]*n+u[4]*o+u[7]*l,this.b=u[2]*n+u[5]*o+u[8]*l,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const _color=new Color$1;Color$1.NAMES=_colorKeywords;let _materialId=0;class Material extends EventDispatcher$1{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:_materialId++}),this.uuid=generateUUID(),this.name="",this.type="Material",this.blending=NormalBlending,this.side=FrontSide,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=SrcAlphaFactor,this.blendDst=OneMinusSrcAlphaFactor,this.blendEquation=AddEquation,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Color$1(0,0,0),this.blendAlpha=0,this.depthFunc=LessEqualDepth,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=AlwaysStencilFunc,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=KeepStencilOp,this.stencilZFail=KeepStencilOp,this.stencilZPass=KeepStencilOp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const o=e[n];if(o===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const l=this[n];if(l===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}l&&l.isColor?l.set(o):l&&l.isVector3&&o&&o.isVector3?l.copy(o):this[n]=o}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const o={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};o.uuid=this.uuid,o.type=this.type,this.name!==""&&(o.name=this.name),this.color&&this.color.isColor&&(o.color=this.color.getHex()),this.roughness!==void 0&&(o.roughness=this.roughness),this.metalness!==void 0&&(o.metalness=this.metalness),this.sheen!==void 0&&(o.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(o.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(o.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(o.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(o.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(o.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(o.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(o.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(o.shininess=this.shininess),this.clearcoat!==void 0&&(o.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(o.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(o.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(o.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(o.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,o.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(o.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(o.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(o.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(o.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(o.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(o.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(o.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(o.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(o.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(o.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(o.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(o.lightMap=this.lightMap.toJSON(e).uuid,o.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(o.aoMap=this.aoMap.toJSON(e).uuid,o.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(o.bumpMap=this.bumpMap.toJSON(e).uuid,o.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(o.normalMap=this.normalMap.toJSON(e).uuid,o.normalMapType=this.normalMapType,o.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(o.displacementMap=this.displacementMap.toJSON(e).uuid,o.displacementScale=this.displacementScale,o.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(o.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(o.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(o.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(o.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(o.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(o.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(o.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(o.combine=this.combine)),this.envMapRotation!==void 0&&(o.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(o.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(o.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(o.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(o.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(o.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(o.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(o.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(o.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(o.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(o.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(o.size=this.size),this.shadowSide!==null&&(o.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(o.sizeAttenuation=this.sizeAttenuation),this.blending!==NormalBlending&&(o.blending=this.blending),this.side!==FrontSide&&(o.side=this.side),this.vertexColors===!0&&(o.vertexColors=!0),this.opacity<1&&(o.opacity=this.opacity),this.transparent===!0&&(o.transparent=!0),this.blendSrc!==SrcAlphaFactor&&(o.blendSrc=this.blendSrc),this.blendDst!==OneMinusSrcAlphaFactor&&(o.blendDst=this.blendDst),this.blendEquation!==AddEquation&&(o.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(o.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(o.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(o.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(o.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(o.blendAlpha=this.blendAlpha),this.depthFunc!==LessEqualDepth&&(o.depthFunc=this.depthFunc),this.depthTest===!1&&(o.depthTest=this.depthTest),this.depthWrite===!1&&(o.depthWrite=this.depthWrite),this.colorWrite===!1&&(o.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(o.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==AlwaysStencilFunc&&(o.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(o.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(o.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==KeepStencilOp&&(o.stencilFail=this.stencilFail),this.stencilZFail!==KeepStencilOp&&(o.stencilZFail=this.stencilZFail),this.stencilZPass!==KeepStencilOp&&(o.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(o.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(o.rotation=this.rotation),this.polygonOffset===!0&&(o.polygonOffset=!0),this.polygonOffsetFactor!==0&&(o.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(o.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(o.linewidth=this.linewidth),this.dashSize!==void 0&&(o.dashSize=this.dashSize),this.gapSize!==void 0&&(o.gapSize=this.gapSize),this.scale!==void 0&&(o.scale=this.scale),this.dithering===!0&&(o.dithering=!0),this.alphaTest>0&&(o.alphaTest=this.alphaTest),this.alphaHash===!0&&(o.alphaHash=!0),this.alphaToCoverage===!0&&(o.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(o.premultipliedAlpha=!0),this.forceSinglePass===!0&&(o.forceSinglePass=!0),this.wireframe===!0&&(o.wireframe=!0),this.wireframeLinewidth>1&&(o.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(o.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(o.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(o.flatShading=!0),this.visible===!1&&(o.visible=!1),this.toneMapped===!1&&(o.toneMapped=!1),this.fog===!1&&(o.fog=!1),Object.keys(this.userData).length>0&&(o.userData=this.userData);function l(u){const h=[];for(const f in u){const d=u[f];delete d.metadata,h.push(d)}return h}if(n){const u=l(e.textures),h=l(e.images);u.length>0&&(o.textures=u),h.length>0&&(o.images=h)}return o}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let o=null;if(n!==null){const l=n.length;o=new Array(l);for(let u=0;u!==l;++u)o[u]=n[u].clone()}return this.clippingPlanes=o,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class MeshBasicMaterial extends Material{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Color$1(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const _tables=_generateTables();function _generateTables(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),o=new Uint32Array(512),l=new Uint32Array(512);for(let d=0;d<256;++d){const p=d-127;p<-27?(o[d]=0,o[d|256]=32768,l[d]=24,l[d|256]=24):p<-14?(o[d]=1024>>-p-14,o[d|256]=1024>>-p-14|32768,l[d]=-p-1,l[d|256]=-p-1):p<=15?(o[d]=p+15<<10,o[d|256]=p+15<<10|32768,l[d]=13,l[d|256]=13):p<128?(o[d]=31744,o[d|256]=64512,l[d]=24,l[d|256]=24):(o[d]=31744,o[d|256]=64512,l[d]=13,l[d|256]=13)}const u=new Uint32Array(2048),h=new Uint32Array(64),f=new Uint32Array(64);for(let d=1;d<1024;++d){let p=d<<13,m=0;for(;(p&8388608)===0;)p<<=1,m-=8388608;p&=-8388609,m+=947912704,u[d]=p|m}for(let d=1024;d<2048;++d)u[d]=939524096+(d-1024<<13);for(let d=1;d<31;++d)h[d]=d<<23;h[31]=1199570944,h[32]=2147483648;for(let d=33;d<63;++d)h[d]=2147483648+(d-32<<23);h[63]=3347054592;for(let d=1;d<64;++d)d!==32&&(f[d]=1024);return{floatView:e,uint32View:n,baseTable:o,shiftTable:l,mantissaTable:u,exponentTable:h,offsetTable:f}}function toHalfFloat(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=clamp(t,-65504,65504),_tables.floatView[0]=t;const e=_tables.uint32View[0],n=e>>23&511;return _tables.baseTable[n]+((e&8388607)>>_tables.shiftTable[n])}function fromHalfFloat(t){const e=t>>10;return _tables.uint32View[0]=_tables.mantissaTable[_tables.offsetTable[e]+(t&1023)]+_tables.exponentTable[e],_tables.floatView[0]}const DataUtils={toHalfFloat,fromHalfFloat},_vector$9=new Vector3,_vector2$1=new Vector2;class BufferAttribute{constructor(e,n,o=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=o,this.usage=StaticDrawUsage,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=FloatType,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return warnOnce("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,o){e*=this.itemSize,o*=n.itemSize;for(let l=0,u=this.itemSize;l<u;l++)this.array[e+l]=n.array[o+l];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,o=this.count;n<o;n++)_vector2$1.fromBufferAttribute(this,n),_vector2$1.applyMatrix3(e),this.setXY(n,_vector2$1.x,_vector2$1.y);else if(this.itemSize===3)for(let n=0,o=this.count;n<o;n++)_vector$9.fromBufferAttribute(this,n),_vector$9.applyMatrix3(e),this.setXYZ(n,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyMatrix4(e){for(let n=0,o=this.count;n<o;n++)_vector$9.fromBufferAttribute(this,n),_vector$9.applyMatrix4(e),this.setXYZ(n,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyNormalMatrix(e){for(let n=0,o=this.count;n<o;n++)_vector$9.fromBufferAttribute(this,n),_vector$9.applyNormalMatrix(e),this.setXYZ(n,_vector$9.x,_vector$9.y,_vector$9.z);return this}transformDirection(e){for(let n=0,o=this.count;n<o;n++)_vector$9.fromBufferAttribute(this,n),_vector$9.transformDirection(e),this.setXYZ(n,_vector$9.x,_vector$9.y,_vector$9.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let o=this.array[e*this.itemSize+n];return this.normalized&&(o=denormalize(o,this.array)),o}setComponent(e,n,o){return this.normalized&&(o=normalize$1(o,this.array)),this.array[e*this.itemSize+n]=o,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=denormalize(n,this.array)),n}setX(e,n){return this.normalized&&(n=normalize$1(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=denormalize(n,this.array)),n}setY(e,n){return this.normalized&&(n=normalize$1(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=denormalize(n,this.array)),n}setZ(e,n){return this.normalized&&(n=normalize$1(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=denormalize(n,this.array)),n}setW(e,n){return this.normalized&&(n=normalize$1(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,o){return e*=this.itemSize,this.normalized&&(n=normalize$1(n,this.array),o=normalize$1(o,this.array)),this.array[e+0]=n,this.array[e+1]=o,this}setXYZ(e,n,o,l){return e*=this.itemSize,this.normalized&&(n=normalize$1(n,this.array),o=normalize$1(o,this.array),l=normalize$1(l,this.array)),this.array[e+0]=n,this.array[e+1]=o,this.array[e+2]=l,this}setXYZW(e,n,o,l,u){return e*=this.itemSize,this.normalized&&(n=normalize$1(n,this.array),o=normalize$1(o,this.array),l=normalize$1(l,this.array),u=normalize$1(u,this.array)),this.array[e+0]=n,this.array[e+1]=o,this.array[e+2]=l,this.array[e+3]=u,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==StaticDrawUsage&&(e.usage=this.usage),e}}class Int8BufferAttribute extends BufferAttribute{constructor(e,n,o){super(new Int8Array(e),n,o)}}class Uint8BufferAttribute extends BufferAttribute{constructor(e,n,o){super(new Uint8Array(e),n,o)}}class Uint8ClampedBufferAttribute extends BufferAttribute{constructor(e,n,o){super(new Uint8ClampedArray(e),n,o)}}class Int16BufferAttribute extends BufferAttribute{constructor(e,n,o){super(new Int16Array(e),n,o)}}class Uint16BufferAttribute extends BufferAttribute{constructor(e,n,o){super(new Uint16Array(e),n,o)}}class Int32BufferAttribute extends BufferAttribute{constructor(e,n,o){super(new Int32Array(e),n,o)}}class Uint32BufferAttribute extends BufferAttribute{constructor(e,n,o){super(new Uint32Array(e),n,o)}}class Float16BufferAttribute extends BufferAttribute{constructor(e,n,o){super(new Uint16Array(e),n,o),this.isFloat16BufferAttribute=!0}getX(e){let n=fromHalfFloat(this.array[e*this.itemSize]);return this.normalized&&(n=denormalize(n,this.array)),n}setX(e,n){return this.normalized&&(n=normalize$1(n,this.array)),this.array[e*this.itemSize]=toHalfFloat(n),this}getY(e){let n=fromHalfFloat(this.array[e*this.itemSize+1]);return this.normalized&&(n=denormalize(n,this.array)),n}setY(e,n){return this.normalized&&(n=normalize$1(n,this.array)),this.array[e*this.itemSize+1]=toHalfFloat(n),this}getZ(e){let n=fromHalfFloat(this.array[e*this.itemSize+2]);return this.normalized&&(n=denormalize(n,this.array)),n}setZ(e,n){return this.normalized&&(n=normalize$1(n,this.array)),this.array[e*this.itemSize+2]=toHalfFloat(n),this}getW(e){let n=fromHalfFloat(this.array[e*this.itemSize+3]);return this.normalized&&(n=denormalize(n,this.array)),n}setW(e,n){return this.normalized&&(n=normalize$1(n,this.array)),this.array[e*this.itemSize+3]=toHalfFloat(n),this}setXY(e,n,o){return e*=this.itemSize,this.normalized&&(n=normalize$1(n,this.array),o=normalize$1(o,this.array)),this.array[e+0]=toHalfFloat(n),this.array[e+1]=toHalfFloat(o),this}setXYZ(e,n,o,l){return e*=this.itemSize,this.normalized&&(n=normalize$1(n,this.array),o=normalize$1(o,this.array),l=normalize$1(l,this.array)),this.array[e+0]=toHalfFloat(n),this.array[e+1]=toHalfFloat(o),this.array[e+2]=toHalfFloat(l),this}setXYZW(e,n,o,l,u){return e*=this.itemSize,this.normalized&&(n=normalize$1(n,this.array),o=normalize$1(o,this.array),l=normalize$1(l,this.array),u=normalize$1(u,this.array)),this.array[e+0]=toHalfFloat(n),this.array[e+1]=toHalfFloat(o),this.array[e+2]=toHalfFloat(l),this.array[e+3]=toHalfFloat(u),this}}class Float32BufferAttribute extends BufferAttribute{constructor(e,n,o){super(new Float32Array(e),n,o)}}let _id$2=0;const _m1$2=new Matrix4,_obj=new Object3D,_offset=new Vector3,_box$2=new Box3,_boxMorphTargets=new Box3,_vector$8=new Vector3;class BufferGeometry extends EventDispatcher$1{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:_id$2++}),this.uuid=generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(arrayNeedsUint32(e)?Uint32BufferAttribute:Uint16BufferAttribute)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,o=0){this.groups.push({start:e,count:n,materialIndex:o})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const o=this.attributes.normal;if(o!==void 0){const u=new Matrix3().getNormalMatrix(e);o.applyNormalMatrix(u),o.needsUpdate=!0}const l=this.attributes.tangent;return l!==void 0&&(l.transformDirection(e),l.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return _m1$2.makeRotationFromQuaternion(e),this.applyMatrix4(_m1$2),this}rotateX(e){return _m1$2.makeRotationX(e),this.applyMatrix4(_m1$2),this}rotateY(e){return _m1$2.makeRotationY(e),this.applyMatrix4(_m1$2),this}rotateZ(e){return _m1$2.makeRotationZ(e),this.applyMatrix4(_m1$2),this}translate(e,n,o){return _m1$2.makeTranslation(e,n,o),this.applyMatrix4(_m1$2),this}scale(e,n,o){return _m1$2.makeScale(e,n,o),this.applyMatrix4(_m1$2),this}lookAt(e){return _obj.lookAt(e),_obj.updateMatrix(),this.applyMatrix4(_obj.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(_offset).negate(),this.translate(_offset.x,_offset.y,_offset.z),this}setFromPoints(e){const n=[];for(let o=0,l=e.length;o<l;o++){const u=e[o];n.push(u.x,u.y,u.z||0)}return this.setAttribute("position",new Float32BufferAttribute(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new Vector3(-1/0,-1/0,-1/0),new Vector3(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let o=0,l=n.length;o<l;o++){const u=n[o];_box$2.setFromBufferAttribute(u),this.morphTargetsRelative?(_vector$8.addVectors(this.boundingBox.min,_box$2.min),this.boundingBox.expandByPoint(_vector$8),_vector$8.addVectors(this.boundingBox.max,_box$2.max),this.boundingBox.expandByPoint(_vector$8)):(this.boundingBox.expandByPoint(_box$2.min),this.boundingBox.expandByPoint(_box$2.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new Vector3,1/0);return}if(e){const o=this.boundingSphere.center;if(_box$2.setFromBufferAttribute(e),n)for(let u=0,h=n.length;u<h;u++){const f=n[u];_boxMorphTargets.setFromBufferAttribute(f),this.morphTargetsRelative?(_vector$8.addVectors(_box$2.min,_boxMorphTargets.min),_box$2.expandByPoint(_vector$8),_vector$8.addVectors(_box$2.max,_boxMorphTargets.max),_box$2.expandByPoint(_vector$8)):(_box$2.expandByPoint(_boxMorphTargets.min),_box$2.expandByPoint(_boxMorphTargets.max))}_box$2.getCenter(o);let l=0;for(let u=0,h=e.count;u<h;u++)_vector$8.fromBufferAttribute(e,u),l=Math.max(l,o.distanceToSquared(_vector$8));if(n)for(let u=0,h=n.length;u<h;u++){const f=n[u],d=this.morphTargetsRelative;for(let p=0,m=f.count;p<m;p++)_vector$8.fromBufferAttribute(f,p),d&&(_offset.fromBufferAttribute(e,p),_vector$8.add(_offset)),l=Math.max(l,o.distanceToSquared(_vector$8))}this.boundingSphere.radius=Math.sqrt(l),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const o=n.position,l=n.normal,u=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new BufferAttribute(new Float32Array(4*o.count),4));const h=this.getAttribute("tangent"),f=[],d=[];for(let K=0;K<o.count;K++)f[K]=new Vector3,d[K]=new Vector3;const p=new Vector3,m=new Vector3,v=new Vector3,b=new Vector2,S=new Vector2,T=new Vector2,C=new Vector3,w=new Vector3;function R(K,Q,q){p.fromBufferAttribute(o,K),m.fromBufferAttribute(o,Q),v.fromBufferAttribute(o,q),b.fromBufferAttribute(u,K),S.fromBufferAttribute(u,Q),T.fromBufferAttribute(u,q),m.sub(p),v.sub(p),S.sub(b),T.sub(b);const H=1/(S.x*T.y-T.x*S.y);isFinite(H)&&(C.copy(m).multiplyScalar(T.y).addScaledVector(v,-S.y).multiplyScalar(H),w.copy(v).multiplyScalar(S.x).addScaledVector(m,-T.x).multiplyScalar(H),f[K].add(C),f[Q].add(C),f[q].add(C),d[K].add(w),d[Q].add(w),d[q].add(w))}let L=this.groups;L.length===0&&(L=[{start:0,count:e.count}]);for(let K=0,Q=L.length;K<Q;++K){const q=L[K],H=q.start,se=q.count;for(let le=H,ne=H+se;le<ne;le+=3)R(e.getX(le+0),e.getX(le+1),e.getX(le+2))}const N=new Vector3,F=new Vector3,B=new Vector3,U=new Vector3;function z(K){B.fromBufferAttribute(l,K),U.copy(B);const Q=f[K];N.copy(Q),N.sub(B.multiplyScalar(B.dot(Q))).normalize(),F.crossVectors(U,Q);const H=F.dot(d[K])<0?-1:1;h.setXYZW(K,N.x,N.y,N.z,H)}for(let K=0,Q=L.length;K<Q;++K){const q=L[K],H=q.start,se=q.count;for(let le=H,ne=H+se;le<ne;le+=3)z(e.getX(le+0)),z(e.getX(le+1)),z(e.getX(le+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let o=this.getAttribute("normal");if(o===void 0)o=new BufferAttribute(new Float32Array(n.count*3),3),this.setAttribute("normal",o);else for(let b=0,S=o.count;b<S;b++)o.setXYZ(b,0,0,0);const l=new Vector3,u=new Vector3,h=new Vector3,f=new Vector3,d=new Vector3,p=new Vector3,m=new Vector3,v=new Vector3;if(e)for(let b=0,S=e.count;b<S;b+=3){const T=e.getX(b+0),C=e.getX(b+1),w=e.getX(b+2);l.fromBufferAttribute(n,T),u.fromBufferAttribute(n,C),h.fromBufferAttribute(n,w),m.subVectors(h,u),v.subVectors(l,u),m.cross(v),f.fromBufferAttribute(o,T),d.fromBufferAttribute(o,C),p.fromBufferAttribute(o,w),f.add(m),d.add(m),p.add(m),o.setXYZ(T,f.x,f.y,f.z),o.setXYZ(C,d.x,d.y,d.z),o.setXYZ(w,p.x,p.y,p.z)}else for(let b=0,S=n.count;b<S;b+=3)l.fromBufferAttribute(n,b+0),u.fromBufferAttribute(n,b+1),h.fromBufferAttribute(n,b+2),m.subVectors(h,u),v.subVectors(l,u),m.cross(v),o.setXYZ(b+0,m.x,m.y,m.z),o.setXYZ(b+1,m.x,m.y,m.z),o.setXYZ(b+2,m.x,m.y,m.z);this.normalizeNormals(),o.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,o=e.count;n<o;n++)_vector$8.fromBufferAttribute(e,n),_vector$8.normalize(),e.setXYZ(n,_vector$8.x,_vector$8.y,_vector$8.z)}toNonIndexed(){function e(f,d){const p=f.array,m=f.itemSize,v=f.normalized,b=new p.constructor(d.length*m);let S=0,T=0;for(let C=0,w=d.length;C<w;C++){f.isInterleavedBufferAttribute?S=d[C]*f.data.stride+f.offset:S=d[C]*m;for(let R=0;R<m;R++)b[T++]=p[S++]}return new BufferAttribute(b,m,v)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new BufferGeometry,o=this.index.array,l=this.attributes;for(const f in l){const d=l[f],p=e(d,o);n.setAttribute(f,p)}const u=this.morphAttributes;for(const f in u){const d=[],p=u[f];for(let m=0,v=p.length;m<v;m++){const b=p[m],S=e(b,o);d.push(S)}n.morphAttributes[f]=d}n.morphTargetsRelative=this.morphTargetsRelative;const h=this.groups;for(let f=0,d=h.length;f<d;f++){const p=h[f];n.addGroup(p.start,p.count,p.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const d=this.parameters;for(const p in d)d[p]!==void 0&&(e[p]=d[p]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const o=this.attributes;for(const d in o){const p=o[d];e.data.attributes[d]=p.toJSON(e.data)}const l={};let u=!1;for(const d in this.morphAttributes){const p=this.morphAttributes[d],m=[];for(let v=0,b=p.length;v<b;v++){const S=p[v];m.push(S.toJSON(e.data))}m.length>0&&(l[d]=m,u=!0)}u&&(e.data.morphAttributes=l,e.data.morphTargetsRelative=this.morphTargetsRelative);const h=this.groups;h.length>0&&(e.data.groups=JSON.parse(JSON.stringify(h)));const f=this.boundingSphere;return f!==null&&(e.data.boundingSphere={center:f.center.toArray(),radius:f.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const o=e.index;o!==null&&this.setIndex(o.clone(n));const l=e.attributes;for(const p in l){const m=l[p];this.setAttribute(p,m.clone(n))}const u=e.morphAttributes;for(const p in u){const m=[],v=u[p];for(let b=0,S=v.length;b<S;b++)m.push(v[b].clone(n));this.morphAttributes[p]=m}this.morphTargetsRelative=e.morphTargetsRelative;const h=e.groups;for(let p=0,m=h.length;p<m;p++){const v=h[p];this.addGroup(v.start,v.count,v.materialIndex)}const f=e.boundingBox;f!==null&&(this.boundingBox=f.clone());const d=e.boundingSphere;return d!==null&&(this.boundingSphere=d.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const _inverseMatrix$3=new Matrix4,_ray$3=new Ray,_sphere$6=new Sphere,_sphereHitAt=new Vector3,_vA$1=new Vector3,_vB$1=new Vector3,_vC$1=new Vector3,_tempA=new Vector3,_morphA=new Vector3,_uvA$1=new Vector2,_uvB$1=new Vector2,_uvC$1=new Vector2,_normalA=new Vector3,_normalB=new Vector3,_normalC=new Vector3,_intersectionPoint=new Vector3,_intersectionPointWorld=new Vector3;class Mesh extends Object3D{constructor(e=new BufferGeometry,n=new MeshBasicMaterial){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,o=Object.keys(n);if(o.length>0){const l=n[o[0]];if(l!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let u=0,h=l.length;u<h;u++){const f=l[u].name||String(u);this.morphTargetInfluences.push(0),this.morphTargetDictionary[f]=u}}}}getVertexPosition(e,n){const o=this.geometry,l=o.attributes.position,u=o.morphAttributes.position,h=o.morphTargetsRelative;n.fromBufferAttribute(l,e);const f=this.morphTargetInfluences;if(u&&f){_morphA.set(0,0,0);for(let d=0,p=u.length;d<p;d++){const m=f[d],v=u[d];m!==0&&(_tempA.fromBufferAttribute(v,e),h?_morphA.addScaledVector(_tempA,m):_morphA.addScaledVector(_tempA.sub(n),m))}n.add(_morphA)}return n}raycast(e,n){const o=this.geometry,l=this.material,u=this.matrixWorld;l!==void 0&&(o.boundingSphere===null&&o.computeBoundingSphere(),_sphere$6.copy(o.boundingSphere),_sphere$6.applyMatrix4(u),_ray$3.copy(e.ray).recast(e.near),!(_sphere$6.containsPoint(_ray$3.origin)===!1&&(_ray$3.intersectSphere(_sphere$6,_sphereHitAt)===null||_ray$3.origin.distanceToSquared(_sphereHitAt)>(e.far-e.near)**2))&&(_inverseMatrix$3.copy(u).invert(),_ray$3.copy(e.ray).applyMatrix4(_inverseMatrix$3),!(o.boundingBox!==null&&_ray$3.intersectsBox(o.boundingBox)===!1)&&this._computeIntersections(e,n,_ray$3)))}_computeIntersections(e,n,o){let l;const u=this.geometry,h=this.material,f=u.index,d=u.attributes.position,p=u.attributes.uv,m=u.attributes.uv1,v=u.attributes.normal,b=u.groups,S=u.drawRange;if(f!==null)if(Array.isArray(h))for(let T=0,C=b.length;T<C;T++){const w=b[T],R=h[w.materialIndex],L=Math.max(w.start,S.start),N=Math.min(f.count,Math.min(w.start+w.count,S.start+S.count));for(let F=L,B=N;F<B;F+=3){const U=f.getX(F),z=f.getX(F+1),K=f.getX(F+2);l=checkGeometryIntersection(this,R,e,o,p,m,v,U,z,K),l&&(l.faceIndex=Math.floor(F/3),l.face.materialIndex=w.materialIndex,n.push(l))}}else{const T=Math.max(0,S.start),C=Math.min(f.count,S.start+S.count);for(let w=T,R=C;w<R;w+=3){const L=f.getX(w),N=f.getX(w+1),F=f.getX(w+2);l=checkGeometryIntersection(this,h,e,o,p,m,v,L,N,F),l&&(l.faceIndex=Math.floor(w/3),n.push(l))}}else if(d!==void 0)if(Array.isArray(h))for(let T=0,C=b.length;T<C;T++){const w=b[T],R=h[w.materialIndex],L=Math.max(w.start,S.start),N=Math.min(d.count,Math.min(w.start+w.count,S.start+S.count));for(let F=L,B=N;F<B;F+=3){const U=F,z=F+1,K=F+2;l=checkGeometryIntersection(this,R,e,o,p,m,v,U,z,K),l&&(l.faceIndex=Math.floor(F/3),l.face.materialIndex=w.materialIndex,n.push(l))}}else{const T=Math.max(0,S.start),C=Math.min(d.count,S.start+S.count);for(let w=T,R=C;w<R;w+=3){const L=w,N=w+1,F=w+2;l=checkGeometryIntersection(this,h,e,o,p,m,v,L,N,F),l&&(l.faceIndex=Math.floor(w/3),n.push(l))}}}}function checkIntersection(t,e,n,o,l,u,h,f){let d;if(e.side===BackSide?d=o.intersectTriangle(h,u,l,!0,f):d=o.intersectTriangle(l,u,h,e.side===FrontSide,f),d===null)return null;_intersectionPointWorld.copy(f),_intersectionPointWorld.applyMatrix4(t.matrixWorld);const p=n.ray.origin.distanceTo(_intersectionPointWorld);return p<n.near||p>n.far?null:{distance:p,point:_intersectionPointWorld.clone(),object:t}}function checkGeometryIntersection(t,e,n,o,l,u,h,f,d,p){t.getVertexPosition(f,_vA$1),t.getVertexPosition(d,_vB$1),t.getVertexPosition(p,_vC$1);const m=checkIntersection(t,e,n,o,_vA$1,_vB$1,_vC$1,_intersectionPoint);if(m){l&&(_uvA$1.fromBufferAttribute(l,f),_uvB$1.fromBufferAttribute(l,d),_uvC$1.fromBufferAttribute(l,p),m.uv=Triangle.getInterpolation(_intersectionPoint,_vA$1,_vB$1,_vC$1,_uvA$1,_uvB$1,_uvC$1,new Vector2)),u&&(_uvA$1.fromBufferAttribute(u,f),_uvB$1.fromBufferAttribute(u,d),_uvC$1.fromBufferAttribute(u,p),m.uv1=Triangle.getInterpolation(_intersectionPoint,_vA$1,_vB$1,_vC$1,_uvA$1,_uvB$1,_uvC$1,new Vector2)),h&&(_normalA.fromBufferAttribute(h,f),_normalB.fromBufferAttribute(h,d),_normalC.fromBufferAttribute(h,p),m.normal=Triangle.getInterpolation(_intersectionPoint,_vA$1,_vB$1,_vC$1,_normalA,_normalB,_normalC,new Vector3),m.normal.dot(o.direction)>0&&m.normal.multiplyScalar(-1));const v={a:f,b:d,c:p,normal:new Vector3,materialIndex:0};Triangle.getNormal(_vA$1,_vB$1,_vC$1,v.normal),m.face=v}return m}class BoxGeometry extends BufferGeometry{constructor(e=1,n=1,o=1,l=1,u=1,h=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:o,widthSegments:l,heightSegments:u,depthSegments:h};const f=this;l=Math.floor(l),u=Math.floor(u),h=Math.floor(h);const d=[],p=[],m=[],v=[];let b=0,S=0;T("z","y","x",-1,-1,o,n,e,h,u,0),T("z","y","x",1,-1,o,n,-e,h,u,1),T("x","z","y",1,1,e,o,n,l,h,2),T("x","z","y",1,-1,e,o,-n,l,h,3),T("x","y","z",1,-1,e,n,o,l,u,4),T("x","y","z",-1,-1,e,n,-o,l,u,5),this.setIndex(d),this.setAttribute("position",new Float32BufferAttribute(p,3)),this.setAttribute("normal",new Float32BufferAttribute(m,3)),this.setAttribute("uv",new Float32BufferAttribute(v,2));function T(C,w,R,L,N,F,B,U,z,K,Q){const q=F/z,H=B/K,se=F/2,le=B/2,ne=U/2,ce=z+1,fe=K+1;let ge=0,Z=0;const ie=new Vector3;for(let oe=0;oe<fe;oe++){const ae=oe*H-le;for(let pe=0;pe<ce;pe++){const we=pe*q-se;ie[C]=we*L,ie[w]=ae*N,ie[R]=ne,p.push(ie.x,ie.y,ie.z),ie[C]=0,ie[w]=0,ie[R]=U>0?1:-1,m.push(ie.x,ie.y,ie.z),v.push(pe/z),v.push(1-oe/K),ge+=1}}for(let oe=0;oe<K;oe++)for(let ae=0;ae<z;ae++){const pe=b+ae+ce*oe,we=b+ae+ce*(oe+1),_e=b+(ae+1)+ce*(oe+1),Me=b+(ae+1)+ce*oe;d.push(pe,we,Me),d.push(we,_e,Me),Z+=6}f.addGroup(S,Z,Q),S+=Z,b+=ge}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new BoxGeometry(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function cloneUniforms(t){const e={};for(const n in t){e[n]={};for(const o in t[n]){const l=t[n][o];l&&(l.isColor||l.isMatrix3||l.isMatrix4||l.isVector2||l.isVector3||l.isVector4||l.isTexture||l.isQuaternion)?l.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][o]=null):e[n][o]=l.clone():Array.isArray(l)?e[n][o]=l.slice():e[n][o]=l}}return e}function mergeUniforms(t){const e={};for(let n=0;n<t.length;n++){const o=cloneUniforms(t[n]);for(const l in o)e[l]=o[l]}return e}function cloneUniformsGroups(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function getUnlitUniformColorSpace(t){return t.getRenderTarget()===null?t.outputColorSpace:ColorManagement.workingColorSpace}const UniformsUtils={clone:cloneUniforms,merge:mergeUniforms};var default_vertex=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,default_fragment=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ShaderMaterial extends Material{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=default_vertex,this.fragmentShader=default_fragment,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1,clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=cloneUniforms(e.uniforms),this.uniformsGroups=cloneUniformsGroups(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const l in this.uniforms){const h=this.uniforms[l].value;h&&h.isTexture?n.uniforms[l]={type:"t",value:h.toJSON(e).uuid}:h&&h.isColor?n.uniforms[l]={type:"c",value:h.getHex()}:h&&h.isVector2?n.uniforms[l]={type:"v2",value:h.toArray()}:h&&h.isVector3?n.uniforms[l]={type:"v3",value:h.toArray()}:h&&h.isVector4?n.uniforms[l]={type:"v4",value:h.toArray()}:h&&h.isMatrix3?n.uniforms[l]={type:"m3",value:h.toArray()}:h&&h.isMatrix4?n.uniforms[l]={type:"m4",value:h.toArray()}:n.uniforms[l]={value:h}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const o={};for(const l in this.extensions)this.extensions[l]===!0&&(o[l]=!0);return Object.keys(o).length>0&&(n.extensions=o),n}}class Camera extends Object3D{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Matrix4,this.projectionMatrix=new Matrix4,this.projectionMatrixInverse=new Matrix4,this.coordinateSystem=WebGLCoordinateSystem}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const _v3$1=new Vector3,_minTarget=new Vector2,_maxTarget=new Vector2;class PerspectiveCamera extends Camera{constructor(e=50,n=1,o=.1,l=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=o,this.far=l,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=RAD2DEG*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return RAD2DEG*2*Math.atan(Math.tan(DEG2RAD*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,o){_v3$1.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(_v3$1.x,_v3$1.y).multiplyScalar(-e/_v3$1.z),_v3$1.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),o.set(_v3$1.x,_v3$1.y).multiplyScalar(-e/_v3$1.z)}getViewSize(e,n){return this.getViewBounds(e,_minTarget,_maxTarget),n.subVectors(_maxTarget,_minTarget)}setViewOffset(e,n,o,l,u,h){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=o,this.view.offsetY=l,this.view.width=u,this.view.height=h,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(DEG2RAD*.5*this.fov)/this.zoom,o=2*n,l=this.aspect*o,u=-.5*l;const h=this.view;if(this.view!==null&&this.view.enabled){const d=h.fullWidth,p=h.fullHeight;u+=h.offsetX*l/d,n-=h.offsetY*o/p,l*=h.width/d,o*=h.height/p}const f=this.filmOffset;f!==0&&(u+=e*f/this.getFilmWidth()),this.projectionMatrix.makePerspective(u,u+l,n,n-o,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const fov=-90,aspect=1;class CubeCamera extends Object3D{constructor(e,n,o){super(),this.type="CubeCamera",this.renderTarget=o,this.coordinateSystem=null,this.activeMipmapLevel=0;const l=new PerspectiveCamera(fov,aspect,e,n);l.layers=this.layers,this.add(l);const u=new PerspectiveCamera(fov,aspect,e,n);u.layers=this.layers,this.add(u);const h=new PerspectiveCamera(fov,aspect,e,n);h.layers=this.layers,this.add(h);const f=new PerspectiveCamera(fov,aspect,e,n);f.layers=this.layers,this.add(f);const d=new PerspectiveCamera(fov,aspect,e,n);d.layers=this.layers,this.add(d);const p=new PerspectiveCamera(fov,aspect,e,n);p.layers=this.layers,this.add(p)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[o,l,u,h,f,d]=n;for(const p of n)this.remove(p);if(e===WebGLCoordinateSystem)o.up.set(0,1,0),o.lookAt(1,0,0),l.up.set(0,1,0),l.lookAt(-1,0,0),u.up.set(0,0,-1),u.lookAt(0,1,0),h.up.set(0,0,1),h.lookAt(0,-1,0),f.up.set(0,1,0),f.lookAt(0,0,1),d.up.set(0,1,0),d.lookAt(0,0,-1);else if(e===WebGPUCoordinateSystem)o.up.set(0,-1,0),o.lookAt(-1,0,0),l.up.set(0,-1,0),l.lookAt(1,0,0),u.up.set(0,0,1),u.lookAt(0,1,0),h.up.set(0,0,-1),h.lookAt(0,-1,0),f.up.set(0,-1,0),f.lookAt(0,0,1),d.up.set(0,-1,0),d.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const p of n)this.add(p),p.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:o,activeMipmapLevel:l}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[u,h,f,d,p,m]=this.children,v=e.getRenderTarget(),b=e.getActiveCubeFace(),S=e.getActiveMipmapLevel(),T=e.xr.enabled;e.xr.enabled=!1;const C=o.texture.generateMipmaps;o.texture.generateMipmaps=!1,e.setRenderTarget(o,0,l),e.render(n,u),e.setRenderTarget(o,1,l),e.render(n,h),e.setRenderTarget(o,2,l),e.render(n,f),e.setRenderTarget(o,3,l),e.render(n,d),e.setRenderTarget(o,4,l),e.render(n,p),o.texture.generateMipmaps=C,e.setRenderTarget(o,5,l),e.render(n,m),e.setRenderTarget(v,b,S),e.xr.enabled=T,o.texture.needsPMREMUpdate=!0}}class CubeTexture extends Texture{constructor(e,n,o,l,u,h,f,d,p,m){e=e!==void 0?e:[],n=n!==void 0?n:CubeReflectionMapping,super(e,n,o,l,u,h,f,d,p,m),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class WebGLCubeRenderTarget extends WebGLRenderTarget{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const o={width:e,height:e,depth:1},l=[o,o,o,o,o,o];this.texture=new CubeTexture(l,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:LinearFilter}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const o={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},l=new BoxGeometry(5,5,5),u=new ShaderMaterial({name:"CubemapFromEquirect",uniforms:cloneUniforms(o.uniforms),vertexShader:o.vertexShader,fragmentShader:o.fragmentShader,side:BackSide,blending:NoBlending});u.uniforms.tEquirect.value=n;const h=new Mesh(l,u),f=n.minFilter;return n.minFilter===LinearMipmapLinearFilter&&(n.minFilter=LinearFilter),new CubeCamera(1,10,this).update(e,h),n.minFilter=f,h.geometry.dispose(),h.material.dispose(),this}clear(e,n,o,l){const u=e.getRenderTarget();for(let h=0;h<6;h++)e.setRenderTarget(this,h),e.clear(n,o,l);e.setRenderTarget(u)}}const _vector1=new Vector3,_vector2=new Vector3,_normalMatrix=new Matrix3;class Plane{constructor(e=new Vector3(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,o,l){return this.normal.set(e,n,o),this.constant=l,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,o){const l=_vector1.subVectors(o,n).cross(_vector2.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(l,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const o=e.delta(_vector1),l=this.normal.dot(o);if(l===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const u=-(e.start.dot(this.normal)+this.constant)/l;return u<0||u>1?null:n.copy(e.start).addScaledVector(o,u)}intersectsLine(e){const n=this.distanceToPoint(e.start),o=this.distanceToPoint(e.end);return n<0&&o>0||o<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const o=n||_normalMatrix.getNormalMatrix(e),l=this.coplanarPoint(_vector1).applyMatrix4(e),u=this.normal.applyMatrix3(o).normalize();return this.constant=-l.dot(u),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const _sphere$5=new Sphere,_vector$7=new Vector3;class Frustum{constructor(e=new Plane,n=new Plane,o=new Plane,l=new Plane,u=new Plane,h=new Plane){this.planes=[e,n,o,l,u,h]}set(e,n,o,l,u,h){const f=this.planes;return f[0].copy(e),f[1].copy(n),f[2].copy(o),f[3].copy(l),f[4].copy(u),f[5].copy(h),this}copy(e){const n=this.planes;for(let o=0;o<6;o++)n[o].copy(e.planes[o]);return this}setFromProjectionMatrix(e,n=WebGLCoordinateSystem){const o=this.planes,l=e.elements,u=l[0],h=l[1],f=l[2],d=l[3],p=l[4],m=l[5],v=l[6],b=l[7],S=l[8],T=l[9],C=l[10],w=l[11],R=l[12],L=l[13],N=l[14],F=l[15];if(o[0].setComponents(d-u,b-p,w-S,F-R).normalize(),o[1].setComponents(d+u,b+p,w+S,F+R).normalize(),o[2].setComponents(d+h,b+m,w+T,F+L).normalize(),o[3].setComponents(d-h,b-m,w-T,F-L).normalize(),o[4].setComponents(d-f,b-v,w-C,F-N).normalize(),n===WebGLCoordinateSystem)o[5].setComponents(d+f,b+v,w+C,F+N).normalize();else if(n===WebGPUCoordinateSystem)o[5].setComponents(f,v,C,N).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),_sphere$5.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),_sphere$5.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(_sphere$5)}intersectsSprite(e){return _sphere$5.center.set(0,0,0),_sphere$5.radius=.7071067811865476,_sphere$5.applyMatrix4(e.matrixWorld),this.intersectsSphere(_sphere$5)}intersectsSphere(e){const n=this.planes,o=e.center,l=-e.radius;for(let u=0;u<6;u++)if(n[u].distanceToPoint(o)<l)return!1;return!0}intersectsBox(e){const n=this.planes;for(let o=0;o<6;o++){const l=n[o];if(_vector$7.x=l.normal.x>0?e.max.x:e.min.x,_vector$7.y=l.normal.y>0?e.max.y:e.min.y,_vector$7.z=l.normal.z>0?e.max.z:e.min.z,l.distanceToPoint(_vector$7)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let o=0;o<6;o++)if(n[o].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function WebGLAnimation(){let t=null,e=!1,n=null,o=null;function l(u,h){n(u,h),o=t.requestAnimationFrame(l)}return{start:function(){e!==!0&&n!==null&&(o=t.requestAnimationFrame(l),e=!0)},stop:function(){t.cancelAnimationFrame(o),e=!1},setAnimationLoop:function(u){n=u},setContext:function(u){t=u}}}function WebGLAttributes(t,e){const n=e.isWebGL2,o=new WeakMap;function l(p,m){const v=p.array,b=p.usage,S=v.byteLength,T=t.createBuffer();t.bindBuffer(m,T),t.bufferData(m,v,b),p.onUploadCallback();let C;if(v instanceof Float32Array)C=t.FLOAT;else if(v instanceof Uint16Array)if(p.isFloat16BufferAttribute)if(n)C=t.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else C=t.UNSIGNED_SHORT;else if(v instanceof Int16Array)C=t.SHORT;else if(v instanceof Uint32Array)C=t.UNSIGNED_INT;else if(v instanceof Int32Array)C=t.INT;else if(v instanceof Int8Array)C=t.BYTE;else if(v instanceof Uint8Array)C=t.UNSIGNED_BYTE;else if(v instanceof Uint8ClampedArray)C=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+v);return{buffer:T,type:C,bytesPerElement:v.BYTES_PER_ELEMENT,version:p.version,size:S}}function u(p,m,v){const b=m.array,S=m._updateRange,T=m.updateRanges;if(t.bindBuffer(v,p),S.count===-1&&T.length===0&&t.bufferSubData(v,0,b),T.length!==0){for(let C=0,w=T.length;C<w;C++){const R=T[C];n?t.bufferSubData(v,R.start*b.BYTES_PER_ELEMENT,b,R.start,R.count):t.bufferSubData(v,R.start*b.BYTES_PER_ELEMENT,b.subarray(R.start,R.start+R.count))}m.clearUpdateRanges()}S.count!==-1&&(n?t.bufferSubData(v,S.offset*b.BYTES_PER_ELEMENT,b,S.offset,S.count):t.bufferSubData(v,S.offset*b.BYTES_PER_ELEMENT,b.subarray(S.offset,S.offset+S.count)),S.count=-1),m.onUploadCallback()}function h(p){return p.isInterleavedBufferAttribute&&(p=p.data),o.get(p)}function f(p){p.isInterleavedBufferAttribute&&(p=p.data);const m=o.get(p);m&&(t.deleteBuffer(m.buffer),o.delete(p))}function d(p,m){if(p.isGLBufferAttribute){const b=o.get(p);(!b||b.version<p.version)&&o.set(p,{buffer:p.buffer,type:p.type,bytesPerElement:p.elementSize,version:p.version});return}p.isInterleavedBufferAttribute&&(p=p.data);const v=o.get(p);if(v===void 0)o.set(p,l(p,m));else if(v.version<p.version){if(v.size!==p.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");u(v.buffer,p,m),v.version=p.version}}return{get:h,remove:f,update:d}}class PlaneGeometry extends BufferGeometry{constructor(e=1,n=1,o=1,l=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:o,heightSegments:l};const u=e/2,h=n/2,f=Math.floor(o),d=Math.floor(l),p=f+1,m=d+1,v=e/f,b=n/d,S=[],T=[],C=[],w=[];for(let R=0;R<m;R++){const L=R*b-h;for(let N=0;N<p;N++){const F=N*v-u;T.push(F,-L,0),C.push(0,0,1),w.push(N/f),w.push(1-R/d)}}for(let R=0;R<d;R++)for(let L=0;L<f;L++){const N=L+p*R,F=L+p*(R+1),B=L+1+p*(R+1),U=L+1+p*R;S.push(N,F,U),S.push(F,B,U)}this.setIndex(S),this.setAttribute("position",new Float32BufferAttribute(T,3)),this.setAttribute("normal",new Float32BufferAttribute(C,3)),this.setAttribute("uv",new Float32BufferAttribute(w,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new PlaneGeometry(e.width,e.height,e.widthSegments,e.heightSegments)}}var alphahash_fragment=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,alphahash_pars_fragment=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,alphamap_fragment=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,alphamap_pars_fragment=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,alphatest_fragment=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,alphatest_pars_fragment=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,aomap_fragment=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,aomap_pars_fragment=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,batching_pars_vertex=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,batching_vertex=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,begin_vertex=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,beginnormal_vertex=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bsdfs=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,iridescence_fragment=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,bumpmap_pars_fragment=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,clipping_planes_fragment=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,clipping_planes_pars_fragment=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,clipping_planes_pars_vertex=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,clipping_planes_vertex=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,color_fragment=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,color_pars_fragment=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,color_pars_vertex=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,color_vertex=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,common=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,cube_uv_reflection_fragment=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,defaultnormal_vertex=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,displacementmap_pars_vertex=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,displacementmap_vertex=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,emissivemap_fragment=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,emissivemap_pars_fragment=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,colorspace_fragment="gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,envmap_fragment=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,envmap_common_pars_fragment=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,envmap_pars_fragment=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,envmap_pars_vertex=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,envmap_vertex=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fog_vertex=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,fog_pars_vertex=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,fog_fragment=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,fog_pars_fragment=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,gradientmap_pars_fragment=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,lightmap_fragment=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,lightmap_pars_fragment=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lights_lambert_fragment=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,lights_lambert_pars_fragment=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,lights_pars_begin=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,envmap_physical_pars_fragment=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,lights_toon_fragment=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,lights_toon_pars_fragment=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,lights_phong_fragment=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_phong_pars_fragment=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,lights_physical_fragment=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,lights_physical_pars_fragment=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lights_fragment_begin=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lights_fragment_maps=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,lights_fragment_end=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,logdepthbuf_fragment=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,logdepthbuf_pars_fragment=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_pars_vertex=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,logdepthbuf_vertex=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,map_fragment=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,map_pars_fragment=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,map_particle_fragment=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,map_particle_pars_fragment=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,metalnessmap_fragment=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,metalnessmap_pars_fragment=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,morphinstance_vertex=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[MORPHTARGETS_COUNT];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,morphcolor_vertex=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,morphnormal_vertex=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,morphtarget_pars_vertex=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
	#endif
	#ifdef MORPHTARGETS_TEXTURE
		#ifndef USE_INSTANCING_MORPH
			uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		#endif
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,morphtarget_vertex=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,normal_fragment_begin=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,normal_fragment_maps=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,normal_pars_fragment=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_pars_vertex=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_vertex=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,normalmap_pars_fragment=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,clearcoat_normal_fragment_begin=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,clearcoat_normal_fragment_maps=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,clearcoat_pars_fragment=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,iridescence_pars_fragment=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,opaque_fragment=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,packing=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,premultiplied_alpha_fragment=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,project_vertex=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,dithering_fragment=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dithering_pars_fragment=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,roughnessmap_fragment=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,roughnessmap_pars_fragment=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,shadowmap_pars_fragment=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,shadowmap_pars_vertex=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,shadowmap_vertex=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,shadowmask_pars_fragment=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,skinbase_vertex=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,skinning_pars_vertex=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,skinning_vertex=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,skinnormal_vertex=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,specularmap_fragment=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,specularmap_pars_fragment=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,tonemapping_fragment=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,tonemapping_pars_fragment=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	float startCompression = 0.8 - 0.04;
	float desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min(color.r, min(color.g, color.b));
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max(color.r, max(color.g, color.b));
	if (peak < startCompression) return color;
	float d = 1. - startCompression;
	float newPeak = 1. - d * d / (peak + d - startCompression);
	color *= newPeak / peak;
	float g = 1. - 1. / (desaturation * (peak - newPeak) + 1.);
	return mix(color, vec3(1, 1, 1), g);
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,transmission_fragment=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,transmission_pars_fragment=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,uv_pars_fragment=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uv_pars_vertex=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uv_vertex=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,worldpos_vertex=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const vertex$h=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,fragment$h=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$g=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$g=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$f=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$f=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$e=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,fragment$e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,vertex$d=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,fragment$d=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,vertex$c=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,fragment$c=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$b=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$b=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$a=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,fragment$a=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$9=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$9=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$8=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,fragment$8=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$7=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,fragment$7=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,vertex$6=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$6=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$5=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,fragment$5=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$4=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$4=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$3=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,fragment$3=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$2=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$2=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,vertex$1=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$1=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ShaderChunk={alphahash_fragment,alphahash_pars_fragment,alphamap_fragment,alphamap_pars_fragment,alphatest_fragment,alphatest_pars_fragment,aomap_fragment,aomap_pars_fragment,batching_pars_vertex,batching_vertex,begin_vertex,beginnormal_vertex,bsdfs,iridescence_fragment,bumpmap_pars_fragment,clipping_planes_fragment,clipping_planes_pars_fragment,clipping_planes_pars_vertex,clipping_planes_vertex,color_fragment,color_pars_fragment,color_pars_vertex,color_vertex,common,cube_uv_reflection_fragment,defaultnormal_vertex,displacementmap_pars_vertex,displacementmap_vertex,emissivemap_fragment,emissivemap_pars_fragment,colorspace_fragment,colorspace_pars_fragment,envmap_fragment,envmap_common_pars_fragment,envmap_pars_fragment,envmap_pars_vertex,envmap_physical_pars_fragment,envmap_vertex,fog_vertex,fog_pars_vertex,fog_fragment,fog_pars_fragment,gradientmap_pars_fragment,lightmap_fragment,lightmap_pars_fragment,lights_lambert_fragment,lights_lambert_pars_fragment,lights_pars_begin,lights_toon_fragment,lights_toon_pars_fragment,lights_phong_fragment,lights_phong_pars_fragment,lights_physical_fragment,lights_physical_pars_fragment,lights_fragment_begin,lights_fragment_maps,lights_fragment_end,logdepthbuf_fragment,logdepthbuf_pars_fragment,logdepthbuf_pars_vertex,logdepthbuf_vertex,map_fragment,map_pars_fragment,map_particle_fragment,map_particle_pars_fragment,metalnessmap_fragment,metalnessmap_pars_fragment,morphinstance_vertex,morphcolor_vertex,morphnormal_vertex,morphtarget_pars_vertex,morphtarget_vertex,normal_fragment_begin,normal_fragment_maps,normal_pars_fragment,normal_pars_vertex,normal_vertex,normalmap_pars_fragment,clearcoat_normal_fragment_begin,clearcoat_normal_fragment_maps,clearcoat_pars_fragment,iridescence_pars_fragment,opaque_fragment,packing,premultiplied_alpha_fragment,project_vertex,dithering_fragment,dithering_pars_fragment,roughnessmap_fragment,roughnessmap_pars_fragment,shadowmap_pars_fragment,shadowmap_pars_vertex,shadowmap_vertex,shadowmask_pars_fragment,skinbase_vertex,skinning_pars_vertex,skinning_vertex,skinnormal_vertex,specularmap_fragment,specularmap_pars_fragment,tonemapping_fragment,tonemapping_pars_fragment,transmission_fragment,transmission_pars_fragment,uv_pars_fragment,uv_pars_vertex,uv_vertex,worldpos_vertex,background_vert:vertex$h,background_frag:fragment$h,backgroundCube_vert:vertex$g,backgroundCube_frag:fragment$g,cube_vert:vertex$f,cube_frag:fragment$f,depth_vert:vertex$e,depth_frag:fragment$e,distanceRGBA_vert:vertex$d,distanceRGBA_frag:fragment$d,equirect_vert:vertex$c,equirect_frag:fragment$c,linedashed_vert:vertex$b,linedashed_frag:fragment$b,meshbasic_vert:vertex$a,meshbasic_frag:fragment$a,meshlambert_vert:vertex$9,meshlambert_frag:fragment$9,meshmatcap_vert:vertex$8,meshmatcap_frag:fragment$8,meshnormal_vert:vertex$7,meshnormal_frag:fragment$7,meshphong_vert:vertex$6,meshphong_frag:fragment$6,meshphysical_vert:vertex$5,meshphysical_frag:fragment$5,meshtoon_vert:vertex$4,meshtoon_frag:fragment$4,points_vert:vertex$3,points_frag:fragment$3,shadow_vert:vertex$2,shadow_frag:fragment$2,sprite_vert:vertex$1,sprite_frag:fragment$1},UniformsLib={common:{diffuse:{value:new Color$1(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Matrix3},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Matrix3}},envmap:{envMap:{value:null},envMapRotation:{value:new Matrix3},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Matrix3}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Matrix3}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Matrix3},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Matrix3},normalScale:{value:new Vector2(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Matrix3},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Matrix3}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Matrix3}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Matrix3}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Color$1(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Color$1(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0},uvTransform:{value:new Matrix3}},sprite:{diffuse:{value:new Color$1(16777215)},opacity:{value:1},center:{value:new Vector2(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Matrix3},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0}}},ShaderLib={basic:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.fog]),vertexShader:ShaderChunk.meshbasic_vert,fragmentShader:ShaderChunk.meshbasic_frag},lambert:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color$1(0)}}]),vertexShader:ShaderChunk.meshlambert_vert,fragmentShader:ShaderChunk.meshlambert_frag},phong:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color$1(0)},specular:{value:new Color$1(1118481)},shininess:{value:30}}]),vertexShader:ShaderChunk.meshphong_vert,fragmentShader:ShaderChunk.meshphong_frag},standard:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.roughnessmap,UniformsLib.metalnessmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color$1(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag},toon:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.gradientmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color$1(0)}}]),vertexShader:ShaderChunk.meshtoon_vert,fragmentShader:ShaderChunk.meshtoon_frag},matcap:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,{matcap:{value:null}}]),vertexShader:ShaderChunk.meshmatcap_vert,fragmentShader:ShaderChunk.meshmatcap_frag},points:{uniforms:mergeUniforms([UniformsLib.points,UniformsLib.fog]),vertexShader:ShaderChunk.points_vert,fragmentShader:ShaderChunk.points_frag},dashed:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ShaderChunk.linedashed_vert,fragmentShader:ShaderChunk.linedashed_frag},depth:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap]),vertexShader:ShaderChunk.depth_vert,fragmentShader:ShaderChunk.depth_frag},normal:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,{opacity:{value:1}}]),vertexShader:ShaderChunk.meshnormal_vert,fragmentShader:ShaderChunk.meshnormal_frag},sprite:{uniforms:mergeUniforms([UniformsLib.sprite,UniformsLib.fog]),vertexShader:ShaderChunk.sprite_vert,fragmentShader:ShaderChunk.sprite_frag},background:{uniforms:{uvTransform:{value:new Matrix3},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ShaderChunk.background_vert,fragmentShader:ShaderChunk.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Matrix3}},vertexShader:ShaderChunk.backgroundCube_vert,fragmentShader:ShaderChunk.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ShaderChunk.cube_vert,fragmentShader:ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ShaderChunk.equirect_vert,fragmentShader:ShaderChunk.equirect_frag},distanceRGBA:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap,{referencePosition:{value:new Vector3},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ShaderChunk.distanceRGBA_vert,fragmentShader:ShaderChunk.distanceRGBA_frag},shadow:{uniforms:mergeUniforms([UniformsLib.lights,UniformsLib.fog,{color:{value:new Color$1(0)},opacity:{value:1}}]),vertexShader:ShaderChunk.shadow_vert,fragmentShader:ShaderChunk.shadow_frag}};ShaderLib.physical={uniforms:mergeUniforms([ShaderLib.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Matrix3},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Matrix3},clearcoatNormalScale:{value:new Vector2(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Matrix3},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Matrix3},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Matrix3},sheen:{value:0},sheenColor:{value:new Color$1(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Matrix3},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Matrix3},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Matrix3},transmissionSamplerSize:{value:new Vector2},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Matrix3},attenuationDistance:{value:0},attenuationColor:{value:new Color$1(0)},specularColor:{value:new Color$1(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Matrix3},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Matrix3},anisotropyVector:{value:new Vector2},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Matrix3}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag};const _rgb={r:0,b:0,g:0},_e1$1=new Euler,_m1$1=new Matrix4;function WebGLBackground(t,e,n,o,l,u,h){const f=new Color$1(0);let d=u===!0?0:1,p,m,v=null,b=0,S=null;function T(w,R){let L=!1,N=R.isScene===!0?R.background:null;N&&N.isTexture&&(N=(R.backgroundBlurriness>0?n:e).get(N)),N===null?C(f,d):N&&N.isColor&&(C(N,1),L=!0);const F=t.xr.getEnvironmentBlendMode();F==="additive"?o.buffers.color.setClear(0,0,0,1,h):F==="alpha-blend"&&o.buffers.color.setClear(0,0,0,0,h),(t.autoClear||L)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),N&&(N.isCubeTexture||N.mapping===CubeUVReflectionMapping)?(m===void 0&&(m=new Mesh(new BoxGeometry(1,1,1),new ShaderMaterial({name:"BackgroundCubeMaterial",uniforms:cloneUniforms(ShaderLib.backgroundCube.uniforms),vertexShader:ShaderLib.backgroundCube.vertexShader,fragmentShader:ShaderLib.backgroundCube.fragmentShader,side:BackSide,depthTest:!1,depthWrite:!1,fog:!1})),m.geometry.deleteAttribute("normal"),m.geometry.deleteAttribute("uv"),m.onBeforeRender=function(B,U,z){this.matrixWorld.copyPosition(z.matrixWorld)},Object.defineProperty(m.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),l.update(m)),_e1$1.copy(R.backgroundRotation),_e1$1.x*=-1,_e1$1.y*=-1,_e1$1.z*=-1,N.isCubeTexture&&N.isRenderTargetTexture===!1&&(_e1$1.y*=-1,_e1$1.z*=-1),m.material.uniforms.envMap.value=N,m.material.uniforms.flipEnvMap.value=N.isCubeTexture&&N.isRenderTargetTexture===!1?-1:1,m.material.uniforms.backgroundBlurriness.value=R.backgroundBlurriness,m.material.uniforms.backgroundIntensity.value=R.backgroundIntensity,m.material.uniforms.backgroundRotation.value.setFromMatrix4(_m1$1.makeRotationFromEuler(_e1$1)),m.material.toneMapped=ColorManagement.getTransfer(N.colorSpace)!==SRGBTransfer,(v!==N||b!==N.version||S!==t.toneMapping)&&(m.material.needsUpdate=!0,v=N,b=N.version,S=t.toneMapping),m.layers.enableAll(),w.unshift(m,m.geometry,m.material,0,0,null)):N&&N.isTexture&&(p===void 0&&(p=new Mesh(new PlaneGeometry(2,2),new ShaderMaterial({name:"BackgroundMaterial",uniforms:cloneUniforms(ShaderLib.background.uniforms),vertexShader:ShaderLib.background.vertexShader,fragmentShader:ShaderLib.background.fragmentShader,side:FrontSide,depthTest:!1,depthWrite:!1,fog:!1})),p.geometry.deleteAttribute("normal"),Object.defineProperty(p.material,"map",{get:function(){return this.uniforms.t2D.value}}),l.update(p)),p.material.uniforms.t2D.value=N,p.material.uniforms.backgroundIntensity.value=R.backgroundIntensity,p.material.toneMapped=ColorManagement.getTransfer(N.colorSpace)!==SRGBTransfer,N.matrixAutoUpdate===!0&&N.updateMatrix(),p.material.uniforms.uvTransform.value.copy(N.matrix),(v!==N||b!==N.version||S!==t.toneMapping)&&(p.material.needsUpdate=!0,v=N,b=N.version,S=t.toneMapping),p.layers.enableAll(),w.unshift(p,p.geometry,p.material,0,0,null))}function C(w,R){w.getRGB(_rgb,getUnlitUniformColorSpace(t)),o.buffers.color.setClear(_rgb.r,_rgb.g,_rgb.b,R,h)}return{getClearColor:function(){return f},setClearColor:function(w,R=1){f.set(w),d=R,C(f,d)},getClearAlpha:function(){return d},setClearAlpha:function(w){d=w,C(f,d)},render:T}}function WebGLBindingStates(t,e,n,o){const l=t.getParameter(t.MAX_VERTEX_ATTRIBS),u=o.isWebGL2?null:e.get("OES_vertex_array_object"),h=o.isWebGL2||u!==null,f={},d=w(null);let p=d,m=!1;function v(ne,ce,fe,ge,Z){let ie=!1;if(h){const oe=C(ge,fe,ce);p!==oe&&(p=oe,S(p.object)),ie=R(ne,ge,fe,Z),ie&&L(ne,ge,fe,Z)}else{const oe=ce.wireframe===!0;(p.geometry!==ge.id||p.program!==fe.id||p.wireframe!==oe)&&(p.geometry=ge.id,p.program=fe.id,p.wireframe=oe,ie=!0)}Z!==null&&n.update(Z,t.ELEMENT_ARRAY_BUFFER),(ie||m)&&(m=!1,K(ne,ce,fe,ge),Z!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.get(Z).buffer))}function b(){return o.isWebGL2?t.createVertexArray():u.createVertexArrayOES()}function S(ne){return o.isWebGL2?t.bindVertexArray(ne):u.bindVertexArrayOES(ne)}function T(ne){return o.isWebGL2?t.deleteVertexArray(ne):u.deleteVertexArrayOES(ne)}function C(ne,ce,fe){const ge=fe.wireframe===!0;let Z=f[ne.id];Z===void 0&&(Z={},f[ne.id]=Z);let ie=Z[ce.id];ie===void 0&&(ie={},Z[ce.id]=ie);let oe=ie[ge];return oe===void 0&&(oe=w(b()),ie[ge]=oe),oe}function w(ne){const ce=[],fe=[],ge=[];for(let Z=0;Z<l;Z++)ce[Z]=0,fe[Z]=0,ge[Z]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:ce,enabledAttributes:fe,attributeDivisors:ge,object:ne,attributes:{},index:null}}function R(ne,ce,fe,ge){const Z=p.attributes,ie=ce.attributes;let oe=0;const ae=fe.getAttributes();for(const pe in ae)if(ae[pe].location>=0){const _e=Z[pe];let Me=ie[pe];if(Me===void 0&&(pe==="instanceMatrix"&&ne.instanceMatrix&&(Me=ne.instanceMatrix),pe==="instanceColor"&&ne.instanceColor&&(Me=ne.instanceColor)),_e===void 0||_e.attribute!==Me||Me&&_e.data!==Me.data)return!0;oe++}return p.attributesNum!==oe||p.index!==ge}function L(ne,ce,fe,ge){const Z={},ie=ce.attributes;let oe=0;const ae=fe.getAttributes();for(const pe in ae)if(ae[pe].location>=0){let _e=ie[pe];_e===void 0&&(pe==="instanceMatrix"&&ne.instanceMatrix&&(_e=ne.instanceMatrix),pe==="instanceColor"&&ne.instanceColor&&(_e=ne.instanceColor));const Me={};Me.attribute=_e,_e&&_e.data&&(Me.data=_e.data),Z[pe]=Me,oe++}p.attributes=Z,p.attributesNum=oe,p.index=ge}function N(){const ne=p.newAttributes;for(let ce=0,fe=ne.length;ce<fe;ce++)ne[ce]=0}function F(ne){B(ne,0)}function B(ne,ce){const fe=p.newAttributes,ge=p.enabledAttributes,Z=p.attributeDivisors;fe[ne]=1,ge[ne]===0&&(t.enableVertexAttribArray(ne),ge[ne]=1),Z[ne]!==ce&&((o.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[o.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](ne,ce),Z[ne]=ce)}function U(){const ne=p.newAttributes,ce=p.enabledAttributes;for(let fe=0,ge=ce.length;fe<ge;fe++)ce[fe]!==ne[fe]&&(t.disableVertexAttribArray(fe),ce[fe]=0)}function z(ne,ce,fe,ge,Z,ie,oe){oe===!0?t.vertexAttribIPointer(ne,ce,fe,Z,ie):t.vertexAttribPointer(ne,ce,fe,ge,Z,ie)}function K(ne,ce,fe,ge){if(o.isWebGL2===!1&&(ne.isInstancedMesh||ge.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;N();const Z=ge.attributes,ie=fe.getAttributes(),oe=ce.defaultAttributeValues;for(const ae in ie){const pe=ie[ae];if(pe.location>=0){let we=Z[ae];if(we===void 0&&(ae==="instanceMatrix"&&ne.instanceMatrix&&(we=ne.instanceMatrix),ae==="instanceColor"&&ne.instanceColor&&(we=ne.instanceColor)),we!==void 0){const _e=we.normalized,Me=we.itemSize,Oe=n.get(we);if(Oe===void 0)continue;const Ye=Oe.buffer,qe=Oe.type,Re=Oe.bytesPerElement,Je=o.isWebGL2===!0&&(qe===t.INT||qe===t.UNSIGNED_INT||we.gpuType===IntType);if(we.isInterleavedBufferAttribute){const ke=we.data,de=ke.stride,Be=we.offset;if(ke.isInstancedInterleavedBuffer){for(let Pe=0;Pe<pe.locationSize;Pe++)B(pe.location+Pe,ke.meshPerAttribute);ne.isInstancedMesh!==!0&&ge._maxInstanceCount===void 0&&(ge._maxInstanceCount=ke.meshPerAttribute*ke.count)}else for(let Pe=0;Pe<pe.locationSize;Pe++)F(pe.location+Pe);t.bindBuffer(t.ARRAY_BUFFER,Ye);for(let Pe=0;Pe<pe.locationSize;Pe++)z(pe.location+Pe,Me/pe.locationSize,qe,_e,de*Re,(Be+Me/pe.locationSize*Pe)*Re,Je)}else{if(we.isInstancedBufferAttribute){for(let ke=0;ke<pe.locationSize;ke++)B(pe.location+ke,we.meshPerAttribute);ne.isInstancedMesh!==!0&&ge._maxInstanceCount===void 0&&(ge._maxInstanceCount=we.meshPerAttribute*we.count)}else for(let ke=0;ke<pe.locationSize;ke++)F(pe.location+ke);t.bindBuffer(t.ARRAY_BUFFER,Ye);for(let ke=0;ke<pe.locationSize;ke++)z(pe.location+ke,Me/pe.locationSize,qe,_e,Me*Re,Me/pe.locationSize*ke*Re,Je)}}else if(oe!==void 0){const _e=oe[ae];if(_e!==void 0)switch(_e.length){case 2:t.vertexAttrib2fv(pe.location,_e);break;case 3:t.vertexAttrib3fv(pe.location,_e);break;case 4:t.vertexAttrib4fv(pe.location,_e);break;default:t.vertexAttrib1fv(pe.location,_e)}}}}U()}function Q(){se();for(const ne in f){const ce=f[ne];for(const fe in ce){const ge=ce[fe];for(const Z in ge)T(ge[Z].object),delete ge[Z];delete ce[fe]}delete f[ne]}}function q(ne){if(f[ne.id]===void 0)return;const ce=f[ne.id];for(const fe in ce){const ge=ce[fe];for(const Z in ge)T(ge[Z].object),delete ge[Z];delete ce[fe]}delete f[ne.id]}function H(ne){for(const ce in f){const fe=f[ce];if(fe[ne.id]===void 0)continue;const ge=fe[ne.id];for(const Z in ge)T(ge[Z].object),delete ge[Z];delete fe[ne.id]}}function se(){le(),m=!0,p!==d&&(p=d,S(p.object))}function le(){d.geometry=null,d.program=null,d.wireframe=!1}return{setup:v,reset:se,resetDefaultState:le,dispose:Q,releaseStatesOfGeometry:q,releaseStatesOfProgram:H,initAttributes:N,enableAttribute:F,disableUnusedAttributes:U}}function WebGLBufferRenderer(t,e,n,o){const l=o.isWebGL2;let u;function h(m){u=m}function f(m,v){t.drawArrays(u,m,v),n.update(v,u,1)}function d(m,v,b){if(b===0)return;let S,T;if(l)S=t,T="drawArraysInstanced";else if(S=e.get("ANGLE_instanced_arrays"),T="drawArraysInstancedANGLE",S===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}S[T](u,m,v,b),n.update(v,u,b)}function p(m,v,b){if(b===0)return;const S=e.get("WEBGL_multi_draw");if(S===null)for(let T=0;T<b;T++)this.render(m[T],v[T]);else{S.multiDrawArraysWEBGL(u,m,0,v,0,b);let T=0;for(let C=0;C<b;C++)T+=v[C];n.update(T,u,1)}}this.setMode=h,this.render=f,this.renderInstances=d,this.renderMultiDraw=p}function WebGLCapabilities(t,e,n){let o;function l(){if(o!==void 0)return o;if(e.has("EXT_texture_filter_anisotropic")===!0){const z=e.get("EXT_texture_filter_anisotropic");o=t.getParameter(z.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else o=0;return o}function u(z){if(z==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";z="mediump"}return z==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const h=typeof WebGL2RenderingContext<"u"&&t.constructor.name==="WebGL2RenderingContext";let f=n.precision!==void 0?n.precision:"highp";const d=u(f);d!==f&&(console.warn("THREE.WebGLRenderer:",f,"not supported, using",d,"instead."),f=d);const p=h||e.has("WEBGL_draw_buffers"),m=n.logarithmicDepthBuffer===!0,v=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),b=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),S=t.getParameter(t.MAX_TEXTURE_SIZE),T=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),C=t.getParameter(t.MAX_VERTEX_ATTRIBS),w=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),R=t.getParameter(t.MAX_VARYING_VECTORS),L=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),N=b>0,F=h||e.has("OES_texture_float"),B=N&&F,U=h?t.getParameter(t.MAX_SAMPLES):0;return{isWebGL2:h,drawBuffers:p,getMaxAnisotropy:l,getMaxPrecision:u,precision:f,logarithmicDepthBuffer:m,maxTextures:v,maxVertexTextures:b,maxTextureSize:S,maxCubemapSize:T,maxAttributes:C,maxVertexUniforms:w,maxVaryings:R,maxFragmentUniforms:L,vertexTextures:N,floatFragmentTextures:F,floatVertexTextures:B,maxSamples:U}}function WebGLClipping(t){const e=this;let n=null,o=0,l=!1,u=!1;const h=new Plane,f=new Matrix3,d={value:null,needsUpdate:!1};this.uniform=d,this.numPlanes=0,this.numIntersection=0,this.init=function(v,b){const S=v.length!==0||b||o!==0||l;return l=b,o=v.length,S},this.beginShadows=function(){u=!0,m(null)},this.endShadows=function(){u=!1},this.setGlobalState=function(v,b){n=m(v,b,0)},this.setState=function(v,b,S){const T=v.clippingPlanes,C=v.clipIntersection,w=v.clipShadows,R=t.get(v);if(!l||T===null||T.length===0||u&&!w)u?m(null):p();else{const L=u?0:o,N=L*4;let F=R.clippingState||null;d.value=F,F=m(T,b,N,S);for(let B=0;B!==N;++B)F[B]=n[B];R.clippingState=F,this.numIntersection=C?this.numPlanes:0,this.numPlanes+=L}};function p(){d.value!==n&&(d.value=n,d.needsUpdate=o>0),e.numPlanes=o,e.numIntersection=0}function m(v,b,S,T){const C=v!==null?v.length:0;let w=null;if(C!==0){if(w=d.value,T!==!0||w===null){const R=S+C*4,L=b.matrixWorldInverse;f.getNormalMatrix(L),(w===null||w.length<R)&&(w=new Float32Array(R));for(let N=0,F=S;N!==C;++N,F+=4)h.copy(v[N]).applyMatrix4(L,f),h.normal.toArray(w,F),w[F+3]=h.constant}d.value=w,d.needsUpdate=!0}return e.numPlanes=C,e.numIntersection=0,w}}function WebGLCubeMaps(t){let e=new WeakMap;function n(h,f){return f===EquirectangularReflectionMapping?h.mapping=CubeReflectionMapping:f===EquirectangularRefractionMapping&&(h.mapping=CubeRefractionMapping),h}function o(h){if(h&&h.isTexture){const f=h.mapping;if(f===EquirectangularReflectionMapping||f===EquirectangularRefractionMapping)if(e.has(h)){const d=e.get(h).texture;return n(d,h.mapping)}else{const d=h.image;if(d&&d.height>0){const p=new WebGLCubeRenderTarget(d.height);return p.fromEquirectangularTexture(t,h),e.set(h,p),h.addEventListener("dispose",l),n(p.texture,h.mapping)}else return null}}return h}function l(h){const f=h.target;f.removeEventListener("dispose",l);const d=e.get(f);d!==void 0&&(e.delete(f),d.dispose())}function u(){e=new WeakMap}return{get:o,dispose:u}}class OrthographicCamera extends Camera{constructor(e=-1,n=1,o=1,l=-1,u=.1,h=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=o,this.bottom=l,this.near=u,this.far=h,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,o,l,u,h){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=o,this.view.offsetY=l,this.view.width=u,this.view.height=h,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),o=(this.right+this.left)/2,l=(this.top+this.bottom)/2;let u=o-e,h=o+e,f=l+n,d=l-n;if(this.view!==null&&this.view.enabled){const p=(this.right-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;u+=p*this.view.offsetX,h=u+p*this.view.width,f-=m*this.view.offsetY,d=f-m*this.view.height}this.projectionMatrix.makeOrthographic(u,h,f,d,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const LOD_MIN=4,EXTRA_LOD_SIGMA=[.125,.215,.35,.446,.526,.582],MAX_SAMPLES=20,_flatCamera=new OrthographicCamera,_clearColor=new Color$1;let _oldTarget=null,_oldActiveCubeFace=0,_oldActiveMipmapLevel=0;const PHI=(1+Math.sqrt(5))/2,INV_PHI=1/PHI,_axisDirections=[new Vector3(1,1,1),new Vector3(-1,1,1),new Vector3(1,1,-1),new Vector3(-1,1,-1),new Vector3(0,PHI,INV_PHI),new Vector3(0,PHI,-INV_PHI),new Vector3(INV_PHI,0,PHI),new Vector3(-INV_PHI,0,PHI),new Vector3(PHI,INV_PHI,0),new Vector3(-PHI,INV_PHI,0)];class PMREMGenerator{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,o=.1,l=100){_oldTarget=this._renderer.getRenderTarget(),_oldActiveCubeFace=this._renderer.getActiveCubeFace(),_oldActiveMipmapLevel=this._renderer.getActiveMipmapLevel(),this._setSize(256);const u=this._allocateTargets();return u.depthBuffer=!0,this._sceneToCubeUV(e,o,l,u),n>0&&this._blur(u,0,0,n),this._applyPMREM(u),this._cleanup(u),u}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(_oldTarget,_oldActiveCubeFace,_oldActiveMipmapLevel),e.scissorTest=!1,_setViewport(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===CubeReflectionMapping||e.mapping===CubeRefractionMapping?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),_oldTarget=this._renderer.getRenderTarget(),_oldActiveCubeFace=this._renderer.getActiveCubeFace(),_oldActiveMipmapLevel=this._renderer.getActiveMipmapLevel();const o=n||this._allocateTargets();return this._textureToCubeUV(e,o),this._applyPMREM(o),this._cleanup(o),o}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,o={magFilter:LinearFilter,minFilter:LinearFilter,generateMipmaps:!1,type:HalfFloatType,format:RGBAFormat,colorSpace:LinearSRGBColorSpace,depthBuffer:!1},l=_createRenderTarget(e,n,o);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=_createRenderTarget(e,n,o);const{_lodMax:u}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=_createPlanes(u)),this._blurMaterial=_getBlurShader(u,e,n)}return l}_compileMaterial(e){const n=new Mesh(this._lodPlanes[0],e);this._renderer.compile(n,_flatCamera)}_sceneToCubeUV(e,n,o,l){const f=new PerspectiveCamera(90,1,n,o),d=[1,-1,1,1,1,1],p=[1,1,1,-1,-1,-1],m=this._renderer,v=m.autoClear,b=m.toneMapping;m.getClearColor(_clearColor),m.toneMapping=NoToneMapping,m.autoClear=!1;const S=new MeshBasicMaterial({name:"PMREM.Background",side:BackSide,depthWrite:!1,depthTest:!1}),T=new Mesh(new BoxGeometry,S);let C=!1;const w=e.background;w?w.isColor&&(S.color.copy(w),e.background=null,C=!0):(S.color.copy(_clearColor),C=!0);for(let R=0;R<6;R++){const L=R%3;L===0?(f.up.set(0,d[R],0),f.lookAt(p[R],0,0)):L===1?(f.up.set(0,0,d[R]),f.lookAt(0,p[R],0)):(f.up.set(0,d[R],0),f.lookAt(0,0,p[R]));const N=this._cubeSize;_setViewport(l,L*N,R>2?N:0,N,N),m.setRenderTarget(l),C&&m.render(T,f),m.render(e,f)}T.geometry.dispose(),T.material.dispose(),m.toneMapping=b,m.autoClear=v,e.background=w}_textureToCubeUV(e,n){const o=this._renderer,l=e.mapping===CubeReflectionMapping||e.mapping===CubeRefractionMapping;l?(this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial());const u=l?this._cubemapMaterial:this._equirectMaterial,h=new Mesh(this._lodPlanes[0],u),f=u.uniforms;f.envMap.value=e;const d=this._cubeSize;_setViewport(n,0,0,3*d,2*d),o.setRenderTarget(n),o.render(h,_flatCamera)}_applyPMREM(e){const n=this._renderer,o=n.autoClear;n.autoClear=!1;for(let l=1;l<this._lodPlanes.length;l++){const u=Math.sqrt(this._sigmas[l]*this._sigmas[l]-this._sigmas[l-1]*this._sigmas[l-1]),h=_axisDirections[(l-1)%_axisDirections.length];this._blur(e,l-1,l,u,h)}n.autoClear=o}_blur(e,n,o,l,u){const h=this._pingPongRenderTarget;this._halfBlur(e,h,n,o,l,"latitudinal",u),this._halfBlur(h,e,o,o,l,"longitudinal",u)}_halfBlur(e,n,o,l,u,h,f){const d=this._renderer,p=this._blurMaterial;h!=="latitudinal"&&h!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const m=3,v=new Mesh(this._lodPlanes[l],p),b=p.uniforms,S=this._sizeLods[o]-1,T=isFinite(u)?Math.PI/(2*S):2*Math.PI/(2*MAX_SAMPLES-1),C=u/T,w=isFinite(u)?1+Math.floor(m*C):MAX_SAMPLES;w>MAX_SAMPLES&&console.warn(`sigmaRadians, ${u}, is too large and will clip, as it requested ${w} samples when the maximum is set to ${MAX_SAMPLES}`);const R=[];let L=0;for(let z=0;z<MAX_SAMPLES;++z){const K=z/C,Q=Math.exp(-K*K/2);R.push(Q),z===0?L+=Q:z<w&&(L+=2*Q)}for(let z=0;z<R.length;z++)R[z]=R[z]/L;b.envMap.value=e.texture,b.samples.value=w,b.weights.value=R,b.latitudinal.value=h==="latitudinal",f&&(b.poleAxis.value=f);const{_lodMax:N}=this;b.dTheta.value=T,b.mipInt.value=N-o;const F=this._sizeLods[l],B=3*F*(l>N-LOD_MIN?l-N+LOD_MIN:0),U=4*(this._cubeSize-F);_setViewport(n,B,U,3*F,2*F),d.setRenderTarget(n),d.render(v,_flatCamera)}}function _createPlanes(t){const e=[],n=[],o=[];let l=t;const u=t-LOD_MIN+1+EXTRA_LOD_SIGMA.length;for(let h=0;h<u;h++){const f=Math.pow(2,l);n.push(f);let d=1/f;h>t-LOD_MIN?d=EXTRA_LOD_SIGMA[h-t+LOD_MIN-1]:h===0&&(d=0),o.push(d);const p=1/(f-2),m=-p,v=1+p,b=[m,m,v,m,v,v,m,m,v,v,m,v],S=6,T=6,C=3,w=2,R=1,L=new Float32Array(C*T*S),N=new Float32Array(w*T*S),F=new Float32Array(R*T*S);for(let U=0;U<S;U++){const z=U%3*2/3-1,K=U>2?0:-1,Q=[z,K,0,z+2/3,K,0,z+2/3,K+1,0,z,K,0,z+2/3,K+1,0,z,K+1,0];L.set(Q,C*T*U),N.set(b,w*T*U);const q=[U,U,U,U,U,U];F.set(q,R*T*U)}const B=new BufferGeometry;B.setAttribute("position",new BufferAttribute(L,C)),B.setAttribute("uv",new BufferAttribute(N,w)),B.setAttribute("faceIndex",new BufferAttribute(F,R)),e.push(B),l>LOD_MIN&&l--}return{lodPlanes:e,sizeLods:n,sigmas:o}}function _createRenderTarget(t,e,n){const o=new WebGLRenderTarget(t,e,n);return o.texture.mapping=CubeUVReflectionMapping,o.texture.name="PMREM.cubeUv",o.scissorTest=!0,o}function _setViewport(t,e,n,o,l){t.viewport.set(e,n,o,l),t.scissor.set(e,n,o,l)}function _getBlurShader(t,e,n){const o=new Float32Array(MAX_SAMPLES),l=new Vector3(0,1,0);return new ShaderMaterial({name:"SphericalGaussianBlur",defines:{n:MAX_SAMPLES,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:o},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:l}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getEquirectMaterial(){return new ShaderMaterial({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCubemapMaterial(){return new ShaderMaterial({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCommonVertexShader(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function WebGLCubeUVMaps(t){let e=new WeakMap,n=null;function o(f){if(f&&f.isTexture){const d=f.mapping,p=d===EquirectangularReflectionMapping||d===EquirectangularRefractionMapping,m=d===CubeReflectionMapping||d===CubeRefractionMapping;if(p||m)if(f.isRenderTargetTexture&&f.needsPMREMUpdate===!0){f.needsPMREMUpdate=!1;let v=e.get(f);return n===null&&(n=new PMREMGenerator(t)),v=p?n.fromEquirectangular(f,v):n.fromCubemap(f,v),e.set(f,v),v.texture}else{if(e.has(f))return e.get(f).texture;{const v=f.image;if(p&&v&&v.height>0||m&&v&&l(v)){n===null&&(n=new PMREMGenerator(t));const b=p?n.fromEquirectangular(f):n.fromCubemap(f);return e.set(f,b),f.addEventListener("dispose",u),b.texture}else return null}}}return f}function l(f){let d=0;const p=6;for(let m=0;m<p;m++)f[m]!==void 0&&d++;return d===p}function u(f){const d=f.target;d.removeEventListener("dispose",u);const p=e.get(d);p!==void 0&&(e.delete(d),p.dispose())}function h(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:o,dispose:h}}function WebGLExtensions(t){const e={};function n(o){if(e[o]!==void 0)return e[o];let l;switch(o){case"WEBGL_depth_texture":l=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":l=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":l=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":l=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:l=t.getExtension(o)}return e[o]=l,l}return{has:function(o){return n(o)!==null},init:function(o){o.isWebGL2?(n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance")):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(o){const l=n(o);return l===null&&console.warn("THREE.WebGLRenderer: "+o+" extension not supported."),l}}}function WebGLGeometries(t,e,n,o){const l={},u=new WeakMap;function h(v){const b=v.target;b.index!==null&&e.remove(b.index);for(const T in b.attributes)e.remove(b.attributes[T]);for(const T in b.morphAttributes){const C=b.morphAttributes[T];for(let w=0,R=C.length;w<R;w++)e.remove(C[w])}b.removeEventListener("dispose",h),delete l[b.id];const S=u.get(b);S&&(e.remove(S),u.delete(b)),o.releaseStatesOfGeometry(b),b.isInstancedBufferGeometry===!0&&delete b._maxInstanceCount,n.memory.geometries--}function f(v,b){return l[b.id]===!0||(b.addEventListener("dispose",h),l[b.id]=!0,n.memory.geometries++),b}function d(v){const b=v.attributes;for(const T in b)e.update(b[T],t.ARRAY_BUFFER);const S=v.morphAttributes;for(const T in S){const C=S[T];for(let w=0,R=C.length;w<R;w++)e.update(C[w],t.ARRAY_BUFFER)}}function p(v){const b=[],S=v.index,T=v.attributes.position;let C=0;if(S!==null){const L=S.array;C=S.version;for(let N=0,F=L.length;N<F;N+=3){const B=L[N+0],U=L[N+1],z=L[N+2];b.push(B,U,U,z,z,B)}}else if(T!==void 0){const L=T.array;C=T.version;for(let N=0,F=L.length/3-1;N<F;N+=3){const B=N+0,U=N+1,z=N+2;b.push(B,U,U,z,z,B)}}else return;const w=new(arrayNeedsUint32(b)?Uint32BufferAttribute:Uint16BufferAttribute)(b,1);w.version=C;const R=u.get(v);R&&e.remove(R),u.set(v,w)}function m(v){const b=u.get(v);if(b){const S=v.index;S!==null&&b.version<S.version&&p(v)}else p(v);return u.get(v)}return{get:f,update:d,getWireframeAttribute:m}}function WebGLIndexedBufferRenderer(t,e,n,o){const l=o.isWebGL2;let u;function h(S){u=S}let f,d;function p(S){f=S.type,d=S.bytesPerElement}function m(S,T){t.drawElements(u,T,f,S*d),n.update(T,u,1)}function v(S,T,C){if(C===0)return;let w,R;if(l)w=t,R="drawElementsInstanced";else if(w=e.get("ANGLE_instanced_arrays"),R="drawElementsInstancedANGLE",w===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}w[R](u,T,f,S*d,C),n.update(T,u,C)}function b(S,T,C){if(C===0)return;const w=e.get("WEBGL_multi_draw");if(w===null)for(let R=0;R<C;R++)this.render(S[R]/d,T[R]);else{w.multiDrawElementsWEBGL(u,T,0,f,S,0,C);let R=0;for(let L=0;L<C;L++)R+=T[L];n.update(R,u,1)}}this.setMode=h,this.setIndex=p,this.render=m,this.renderInstances=v,this.renderMultiDraw=b}function WebGLInfo(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function o(u,h,f){switch(n.calls++,h){case t.TRIANGLES:n.triangles+=f*(u/3);break;case t.LINES:n.lines+=f*(u/2);break;case t.LINE_STRIP:n.lines+=f*(u-1);break;case t.LINE_LOOP:n.lines+=f*u;break;case t.POINTS:n.points+=f*u;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",h);break}}function l(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:l,update:o}}function numericalSort(t,e){return t[0]-e[0]}function absNumericalSort(t,e){return Math.abs(e[1])-Math.abs(t[1])}function WebGLMorphtargets(t,e,n){const o={},l=new Float32Array(8),u=new WeakMap,h=new Vector4,f=[];for(let p=0;p<8;p++)f[p]=[p,0];function d(p,m,v){const b=p.morphTargetInfluences;if(e.isWebGL2===!0){const T=m.morphAttributes.position||m.morphAttributes.normal||m.morphAttributes.color,C=T!==void 0?T.length:0;let w=u.get(m);if(w===void 0||w.count!==C){let le=function(){H.dispose(),u.delete(m),m.removeEventListener("dispose",le)};var S=le;w!==void 0&&w.texture.dispose();const R=m.morphAttributes.position!==void 0,L=m.morphAttributes.normal!==void 0,N=m.morphAttributes.color!==void 0,F=m.morphAttributes.position||[],B=m.morphAttributes.normal||[],U=m.morphAttributes.color||[];let z=0;R===!0&&(z=1),L===!0&&(z=2),N===!0&&(z=3);let K=m.attributes.position.count*z,Q=1;K>e.maxTextureSize&&(Q=Math.ceil(K/e.maxTextureSize),K=e.maxTextureSize);const q=new Float32Array(K*Q*4*C),H=new DataArrayTexture(q,K,Q,C);H.type=FloatType,H.needsUpdate=!0;const se=z*4;for(let ne=0;ne<C;ne++){const ce=F[ne],fe=B[ne],ge=U[ne],Z=K*Q*4*ne;for(let ie=0;ie<ce.count;ie++){const oe=ie*se;R===!0&&(h.fromBufferAttribute(ce,ie),q[Z+oe+0]=h.x,q[Z+oe+1]=h.y,q[Z+oe+2]=h.z,q[Z+oe+3]=0),L===!0&&(h.fromBufferAttribute(fe,ie),q[Z+oe+4]=h.x,q[Z+oe+5]=h.y,q[Z+oe+6]=h.z,q[Z+oe+7]=0),N===!0&&(h.fromBufferAttribute(ge,ie),q[Z+oe+8]=h.x,q[Z+oe+9]=h.y,q[Z+oe+10]=h.z,q[Z+oe+11]=ge.itemSize===4?h.w:1)}}w={count:C,texture:H,size:new Vector2(K,Q)},u.set(m,w),m.addEventListener("dispose",le)}if(p.isInstancedMesh===!0&&p.morphTexture!==null)v.getUniforms().setValue(t,"morphTexture",p.morphTexture,n);else{let R=0;for(let N=0;N<b.length;N++)R+=b[N];const L=m.morphTargetsRelative?1:1-R;v.getUniforms().setValue(t,"morphTargetBaseInfluence",L),v.getUniforms().setValue(t,"morphTargetInfluences",b)}v.getUniforms().setValue(t,"morphTargetsTexture",w.texture,n),v.getUniforms().setValue(t,"morphTargetsTextureSize",w.size)}else{const T=b===void 0?0:b.length;let C=o[m.id];if(C===void 0||C.length!==T){C=[];for(let F=0;F<T;F++)C[F]=[F,0];o[m.id]=C}for(let F=0;F<T;F++){const B=C[F];B[0]=F,B[1]=b[F]}C.sort(absNumericalSort);for(let F=0;F<8;F++)F<T&&C[F][1]?(f[F][0]=C[F][0],f[F][1]=C[F][1]):(f[F][0]=Number.MAX_SAFE_INTEGER,f[F][1]=0);f.sort(numericalSort);const w=m.morphAttributes.position,R=m.morphAttributes.normal;let L=0;for(let F=0;F<8;F++){const B=f[F],U=B[0],z=B[1];U!==Number.MAX_SAFE_INTEGER&&z?(w&&m.getAttribute("morphTarget"+F)!==w[U]&&m.setAttribute("morphTarget"+F,w[U]),R&&m.getAttribute("morphNormal"+F)!==R[U]&&m.setAttribute("morphNormal"+F,R[U]),l[F]=z,L+=z):(w&&m.hasAttribute("morphTarget"+F)===!0&&m.deleteAttribute("morphTarget"+F),R&&m.hasAttribute("morphNormal"+F)===!0&&m.deleteAttribute("morphNormal"+F),l[F]=0)}const N=m.morphTargetsRelative?1:1-L;v.getUniforms().setValue(t,"morphTargetBaseInfluence",N),v.getUniforms().setValue(t,"morphTargetInfluences",l)}}return{update:d}}function WebGLObjects(t,e,n,o){let l=new WeakMap;function u(d){const p=o.render.frame,m=d.geometry,v=e.get(d,m);if(l.get(v)!==p&&(e.update(v),l.set(v,p)),d.isInstancedMesh&&(d.hasEventListener("dispose",f)===!1&&d.addEventListener("dispose",f),l.get(d)!==p&&(n.update(d.instanceMatrix,t.ARRAY_BUFFER),d.instanceColor!==null&&n.update(d.instanceColor,t.ARRAY_BUFFER),l.set(d,p))),d.isSkinnedMesh){const b=d.skeleton;l.get(b)!==p&&(b.update(),l.set(b,p))}return v}function h(){l=new WeakMap}function f(d){const p=d.target;p.removeEventListener("dispose",f),n.remove(p.instanceMatrix),p.instanceColor!==null&&n.remove(p.instanceColor)}return{update:u,dispose:h}}class DepthTexture extends Texture{constructor(e,n,o,l,u,h,f,d,p,m){if(m=m!==void 0?m:DepthFormat,m!==DepthFormat&&m!==DepthStencilFormat)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");o===void 0&&m===DepthFormat&&(o=UnsignedIntType),o===void 0&&m===DepthStencilFormat&&(o=UnsignedInt248Type),super(null,l,u,h,f,d,m,o,p),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=f!==void 0?f:NearestFilter,this.minFilter=d!==void 0?d:NearestFilter,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const emptyTexture=new Texture,emptyShadowTexture=new DepthTexture(1,1);emptyShadowTexture.compareFunction=LessEqualCompare;const emptyArrayTexture=new DataArrayTexture,empty3dTexture=new Data3DTexture,emptyCubeTexture=new CubeTexture,arrayCacheF32=[],arrayCacheI32=[],mat4array=new Float32Array(16),mat3array=new Float32Array(9),mat2array=new Float32Array(4);function flatten(t,e,n){const o=t[0];if(o<=0||o>0)return t;const l=e*n;let u=arrayCacheF32[l];if(u===void 0&&(u=new Float32Array(l),arrayCacheF32[l]=u),e!==0){o.toArray(u,0);for(let h=1,f=0;h!==e;++h)f+=n,t[h].toArray(u,f)}return u}function arraysEqual(t,e){if(t.length!==e.length)return!1;for(let n=0,o=t.length;n<o;n++)if(t[n]!==e[n])return!1;return!0}function copyArray(t,e){for(let n=0,o=e.length;n<o;n++)t[n]=e[n]}function allocTexUnits(t,e){let n=arrayCacheI32[e];n===void 0&&(n=new Int32Array(e),arrayCacheI32[e]=n);for(let o=0;o!==e;++o)n[o]=t.allocateTextureUnit();return n}function setValueV1f(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function setValueV2f(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(arraysEqual(n,e))return;t.uniform2fv(this.addr,e),copyArray(n,e)}}function setValueV3f(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(arraysEqual(n,e))return;t.uniform3fv(this.addr,e),copyArray(n,e)}}function setValueV4f(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(arraysEqual(n,e))return;t.uniform4fv(this.addr,e),copyArray(n,e)}}function setValueM2(t,e){const n=this.cache,o=e.elements;if(o===void 0){if(arraysEqual(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),copyArray(n,e)}else{if(arraysEqual(n,o))return;mat2array.set(o),t.uniformMatrix2fv(this.addr,!1,mat2array),copyArray(n,o)}}function setValueM3(t,e){const n=this.cache,o=e.elements;if(o===void 0){if(arraysEqual(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),copyArray(n,e)}else{if(arraysEqual(n,o))return;mat3array.set(o),t.uniformMatrix3fv(this.addr,!1,mat3array),copyArray(n,o)}}function setValueM4(t,e){const n=this.cache,o=e.elements;if(o===void 0){if(arraysEqual(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),copyArray(n,e)}else{if(arraysEqual(n,o))return;mat4array.set(o),t.uniformMatrix4fv(this.addr,!1,mat4array),copyArray(n,o)}}function setValueV1i(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function setValueV2i(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(arraysEqual(n,e))return;t.uniform2iv(this.addr,e),copyArray(n,e)}}function setValueV3i(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(arraysEqual(n,e))return;t.uniform3iv(this.addr,e),copyArray(n,e)}}function setValueV4i(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(arraysEqual(n,e))return;t.uniform4iv(this.addr,e),copyArray(n,e)}}function setValueV1ui(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function setValueV2ui(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(arraysEqual(n,e))return;t.uniform2uiv(this.addr,e),copyArray(n,e)}}function setValueV3ui(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(arraysEqual(n,e))return;t.uniform3uiv(this.addr,e),copyArray(n,e)}}function setValueV4ui(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(arraysEqual(n,e))return;t.uniform4uiv(this.addr,e),copyArray(n,e)}}function setValueT1(t,e,n){const o=this.cache,l=n.allocateTextureUnit();o[0]!==l&&(t.uniform1i(this.addr,l),o[0]=l);const u=this.type===t.SAMPLER_2D_SHADOW?emptyShadowTexture:emptyTexture;n.setTexture2D(e||u,l)}function setValueT3D1(t,e,n){const o=this.cache,l=n.allocateTextureUnit();o[0]!==l&&(t.uniform1i(this.addr,l),o[0]=l),n.setTexture3D(e||empty3dTexture,l)}function setValueT6(t,e,n){const o=this.cache,l=n.allocateTextureUnit();o[0]!==l&&(t.uniform1i(this.addr,l),o[0]=l),n.setTextureCube(e||emptyCubeTexture,l)}function setValueT2DArray1(t,e,n){const o=this.cache,l=n.allocateTextureUnit();o[0]!==l&&(t.uniform1i(this.addr,l),o[0]=l),n.setTexture2DArray(e||emptyArrayTexture,l)}function getSingularSetter(t){switch(t){case 5126:return setValueV1f;case 35664:return setValueV2f;case 35665:return setValueV3f;case 35666:return setValueV4f;case 35674:return setValueM2;case 35675:return setValueM3;case 35676:return setValueM4;case 5124:case 35670:return setValueV1i;case 35667:case 35671:return setValueV2i;case 35668:case 35672:return setValueV3i;case 35669:case 35673:return setValueV4i;case 5125:return setValueV1ui;case 36294:return setValueV2ui;case 36295:return setValueV3ui;case 36296:return setValueV4ui;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1;case 35679:case 36299:case 36307:return setValueT3D1;case 35680:case 36300:case 36308:case 36293:return setValueT6;case 36289:case 36303:case 36311:case 36292:return setValueT2DArray1}}function setValueV1fArray(t,e){t.uniform1fv(this.addr,e)}function setValueV2fArray(t,e){const n=flatten(e,this.size,2);t.uniform2fv(this.addr,n)}function setValueV3fArray(t,e){const n=flatten(e,this.size,3);t.uniform3fv(this.addr,n)}function setValueV4fArray(t,e){const n=flatten(e,this.size,4);t.uniform4fv(this.addr,n)}function setValueM2Array(t,e){const n=flatten(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function setValueM3Array(t,e){const n=flatten(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function setValueM4Array(t,e){const n=flatten(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function setValueV1iArray(t,e){t.uniform1iv(this.addr,e)}function setValueV2iArray(t,e){t.uniform2iv(this.addr,e)}function setValueV3iArray(t,e){t.uniform3iv(this.addr,e)}function setValueV4iArray(t,e){t.uniform4iv(this.addr,e)}function setValueV1uiArray(t,e){t.uniform1uiv(this.addr,e)}function setValueV2uiArray(t,e){t.uniform2uiv(this.addr,e)}function setValueV3uiArray(t,e){t.uniform3uiv(this.addr,e)}function setValueV4uiArray(t,e){t.uniform4uiv(this.addr,e)}function setValueT1Array(t,e,n){const o=this.cache,l=e.length,u=allocTexUnits(n,l);arraysEqual(o,u)||(t.uniform1iv(this.addr,u),copyArray(o,u));for(let h=0;h!==l;++h)n.setTexture2D(e[h]||emptyTexture,u[h])}function setValueT3DArray(t,e,n){const o=this.cache,l=e.length,u=allocTexUnits(n,l);arraysEqual(o,u)||(t.uniform1iv(this.addr,u),copyArray(o,u));for(let h=0;h!==l;++h)n.setTexture3D(e[h]||empty3dTexture,u[h])}function setValueT6Array(t,e,n){const o=this.cache,l=e.length,u=allocTexUnits(n,l);arraysEqual(o,u)||(t.uniform1iv(this.addr,u),copyArray(o,u));for(let h=0;h!==l;++h)n.setTextureCube(e[h]||emptyCubeTexture,u[h])}function setValueT2DArrayArray(t,e,n){const o=this.cache,l=e.length,u=allocTexUnits(n,l);arraysEqual(o,u)||(t.uniform1iv(this.addr,u),copyArray(o,u));for(let h=0;h!==l;++h)n.setTexture2DArray(e[h]||emptyArrayTexture,u[h])}function getPureArraySetter(t){switch(t){case 5126:return setValueV1fArray;case 35664:return setValueV2fArray;case 35665:return setValueV3fArray;case 35666:return setValueV4fArray;case 35674:return setValueM2Array;case 35675:return setValueM3Array;case 35676:return setValueM4Array;case 5124:case 35670:return setValueV1iArray;case 35667:case 35671:return setValueV2iArray;case 35668:case 35672:return setValueV3iArray;case 35669:case 35673:return setValueV4iArray;case 5125:return setValueV1uiArray;case 36294:return setValueV2uiArray;case 36295:return setValueV3uiArray;case 36296:return setValueV4uiArray;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1Array;case 35679:case 36299:case 36307:return setValueT3DArray;case 35680:case 36300:case 36308:case 36293:return setValueT6Array;case 36289:case 36303:case 36311:case 36292:return setValueT2DArrayArray}}class SingleUniform{constructor(e,n,o){this.id=e,this.addr=o,this.cache=[],this.type=n.type,this.setValue=getSingularSetter(n.type)}}class PureArrayUniform{constructor(e,n,o){this.id=e,this.addr=o,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=getPureArraySetter(n.type)}}class StructuredUniform{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,o){const l=this.seq;for(let u=0,h=l.length;u!==h;++u){const f=l[u];f.setValue(e,n[f.id],o)}}}const RePathPart=/(\w+)(\])?(\[|\.)?/g;function addUniform(t,e){t.seq.push(e),t.map[e.id]=e}function parseUniform(t,e,n){const o=t.name,l=o.length;for(RePathPart.lastIndex=0;;){const u=RePathPart.exec(o),h=RePathPart.lastIndex;let f=u[1];const d=u[2]==="]",p=u[3];if(d&&(f=f|0),p===void 0||p==="["&&h+2===l){addUniform(n,p===void 0?new SingleUniform(f,t,e):new PureArrayUniform(f,t,e));break}else{let v=n.map[f];v===void 0&&(v=new StructuredUniform(f),addUniform(n,v)),n=v}}}class WebGLUniforms{constructor(e,n){this.seq=[],this.map={};const o=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let l=0;l<o;++l){const u=e.getActiveUniform(n,l),h=e.getUniformLocation(n,u.name);parseUniform(u,h,this)}}setValue(e,n,o,l){const u=this.map[n];u!==void 0&&u.setValue(e,o,l)}setOptional(e,n,o){const l=n[o];l!==void 0&&this.setValue(e,o,l)}static upload(e,n,o,l){for(let u=0,h=n.length;u!==h;++u){const f=n[u],d=o[f.id];d.needsUpdate!==!1&&f.setValue(e,d.value,l)}}static seqWithValue(e,n){const o=[];for(let l=0,u=e.length;l!==u;++l){const h=e[l];h.id in n&&o.push(h)}return o}}function WebGLShader(t,e,n){const o=t.createShader(e);return t.shaderSource(o,n),t.compileShader(o),o}const COMPLETION_STATUS_KHR=37297;let programIdCount=0;function handleSource(t,e){const n=t.split(`
`),o=[],l=Math.max(e-6,0),u=Math.min(e+6,n.length);for(let h=l;h<u;h++){const f=h+1;o.push(`${f===e?">":" "} ${f}: ${n[h]}`)}return o.join(`
`)}function getEncodingComponents(t){const e=ColorManagement.getPrimaries(ColorManagement.workingColorSpace),n=ColorManagement.getPrimaries(t);let o;switch(e===n?o="":e===P3Primaries&&n===Rec709Primaries?o="LinearDisplayP3ToLinearSRGB":e===Rec709Primaries&&n===P3Primaries&&(o="LinearSRGBToLinearDisplayP3"),t){case LinearSRGBColorSpace:case LinearDisplayP3ColorSpace:return[o,"LinearTransferOETF"];case SRGBColorSpace:case DisplayP3ColorSpace:return[o,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[o,"LinearTransferOETF"]}}function getShaderErrors(t,e,n){const o=t.getShaderParameter(e,t.COMPILE_STATUS),l=t.getShaderInfoLog(e).trim();if(o&&l==="")return"";const u=/ERROR: 0:(\d+)/.exec(l);if(u){const h=parseInt(u[1]);return n.toUpperCase()+`

`+l+`

`+handleSource(t.getShaderSource(e),h)}else return l}function getTexelEncodingFunction(t,e){const n=getEncodingComponents(e);return`vec4 ${t}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function getToneMappingFunction(t,e){let n;switch(e){case LinearToneMapping:n="Linear";break;case ReinhardToneMapping:n="Reinhard";break;case CineonToneMapping:n="OptimizedCineon";break;case ACESFilmicToneMapping:n="ACESFilmic";break;case AgXToneMapping:n="AgX";break;case NeutralToneMapping:n="Neutral";break;case CustomToneMapping:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function generateExtensions(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||t.alphaToCoverage||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(filterEmptyLine).join(`
`)}function generateVertexExtensions(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(filterEmptyLine).join(`
`)}function generateDefines(t){const e=[];for(const n in t){const o=t[n];o!==!1&&e.push("#define "+n+" "+o)}return e.join(`
`)}function fetchAttributeLocations(t,e){const n={},o=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let l=0;l<o;l++){const u=t.getActiveAttrib(e,l),h=u.name;let f=1;u.type===t.FLOAT_MAT2&&(f=2),u.type===t.FLOAT_MAT3&&(f=3),u.type===t.FLOAT_MAT4&&(f=4),n[h]={type:u.type,location:t.getAttribLocation(e,h),locationSize:f}}return n}function filterEmptyLine(t){return t!==""}function replaceLightNums(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function replaceClippingPlaneNums(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const includePattern=/^[ \t]*#include +<([\w\d./]+)>/gm;function resolveIncludes(t){return t.replace(includePattern,includeReplacer)}const shaderChunkMap=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function includeReplacer(t,e){let n=ShaderChunk[e];if(n===void 0){const o=shaderChunkMap.get(e);if(o!==void 0)n=ShaderChunk[o],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,o);else throw new Error("Can not resolve #include <"+e+">")}return resolveIncludes(n)}const unrollLoopPattern=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function unrollLoops(t){return t.replace(unrollLoopPattern,loopReplacer)}function loopReplacer(t,e,n,o){let l="";for(let u=parseInt(e);u<parseInt(n);u++)l+=o.replace(/\[\s*i\s*\]/g,"[ "+u+" ]").replace(/UNROLLED_LOOP_INDEX/g,u);return l}function generatePrecision(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	`;return t.isWebGL2&&(e+=`precision ${t.precision} sampler3D;
		precision ${t.precision} sampler2DArray;
		precision ${t.precision} sampler2DShadow;
		precision ${t.precision} samplerCubeShadow;
		precision ${t.precision} sampler2DArrayShadow;
		precision ${t.precision} isampler2D;
		precision ${t.precision} isampler3D;
		precision ${t.precision} isamplerCube;
		precision ${t.precision} isampler2DArray;
		precision ${t.precision} usampler2D;
		precision ${t.precision} usampler3D;
		precision ${t.precision} usamplerCube;
		precision ${t.precision} usampler2DArray;
		`),t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function generateShadowMapTypeDefine(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===PCFShadowMap?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===PCFSoftShadowMap?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===VSMShadowMap&&(e="SHADOWMAP_TYPE_VSM"),e}function generateEnvMapTypeDefine(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case CubeReflectionMapping:case CubeRefractionMapping:e="ENVMAP_TYPE_CUBE";break;case CubeUVReflectionMapping:e="ENVMAP_TYPE_CUBE_UV";break}return e}function generateEnvMapModeDefine(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case CubeRefractionMapping:e="ENVMAP_MODE_REFRACTION";break}return e}function generateEnvMapBlendingDefine(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case MultiplyOperation:e="ENVMAP_BLENDING_MULTIPLY";break;case MixOperation:e="ENVMAP_BLENDING_MIX";break;case AddOperation:e="ENVMAP_BLENDING_ADD";break}return e}function generateCubeUVSize(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,o=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:o,maxMip:n}}function WebGLProgram(t,e,n,o){const l=t.getContext(),u=n.defines;let h=n.vertexShader,f=n.fragmentShader;const d=generateShadowMapTypeDefine(n),p=generateEnvMapTypeDefine(n),m=generateEnvMapModeDefine(n),v=generateEnvMapBlendingDefine(n),b=generateCubeUVSize(n),S=n.isWebGL2?"":generateExtensions(n),T=generateVertexExtensions(n),C=generateDefines(u),w=l.createProgram();let R,L,N=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(R=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,C].filter(filterEmptyLine).join(`
`),R.length>0&&(R+=`
`),L=[S,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,C].filter(filterEmptyLine).join(`
`),L.length>0&&(L+=`
`)):(R=[generatePrecision(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,C,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+m:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+d:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(filterEmptyLine).join(`
`),L=[S,generatePrecision(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,C,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+p:"",n.envMap?"#define "+m:"",n.envMap?"#define "+v:"",b?"#define CUBEUV_TEXEL_WIDTH "+b.texelWidth:"",b?"#define CUBEUV_TEXEL_HEIGHT "+b.texelHeight:"",b?"#define CUBEUV_MAX_MIP "+b.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+d:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==NoToneMapping?"#define TONE_MAPPING":"",n.toneMapping!==NoToneMapping?ShaderChunk.tonemapping_pars_fragment:"",n.toneMapping!==NoToneMapping?getToneMappingFunction("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",ShaderChunk.colorspace_pars_fragment,getTexelEncodingFunction("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(filterEmptyLine).join(`
`)),h=resolveIncludes(h),h=replaceLightNums(h,n),h=replaceClippingPlaneNums(h,n),f=resolveIncludes(f),f=replaceLightNums(f,n),f=replaceClippingPlaneNums(f,n),h=unrollLoops(h),f=unrollLoops(f),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(N=`#version 300 es
`,R=[T,"precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+R,L=["precision mediump sampler2DArray;","#define varying in",n.glslVersion===GLSL3?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===GLSL3?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+L);const F=N+R+h,B=N+L+f,U=WebGLShader(l,l.VERTEX_SHADER,F),z=WebGLShader(l,l.FRAGMENT_SHADER,B);l.attachShader(w,U),l.attachShader(w,z),n.index0AttributeName!==void 0?l.bindAttribLocation(w,0,n.index0AttributeName):n.morphTargets===!0&&l.bindAttribLocation(w,0,"position"),l.linkProgram(w);function K(se){if(t.debug.checkShaderErrors){const le=l.getProgramInfoLog(w).trim(),ne=l.getShaderInfoLog(U).trim(),ce=l.getShaderInfoLog(z).trim();let fe=!0,ge=!0;if(l.getProgramParameter(w,l.LINK_STATUS)===!1)if(fe=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(l,w,U,z);else{const Z=getShaderErrors(l,U,"vertex"),ie=getShaderErrors(l,z,"fragment");console.error("THREE.WebGLProgram: Shader Error "+l.getError()+" - VALIDATE_STATUS "+l.getProgramParameter(w,l.VALIDATE_STATUS)+`

Material Name: `+se.name+`
Material Type: `+se.type+`

Program Info Log: `+le+`
`+Z+`
`+ie)}else le!==""?console.warn("THREE.WebGLProgram: Program Info Log:",le):(ne===""||ce==="")&&(ge=!1);ge&&(se.diagnostics={runnable:fe,programLog:le,vertexShader:{log:ne,prefix:R},fragmentShader:{log:ce,prefix:L}})}l.deleteShader(U),l.deleteShader(z),Q=new WebGLUniforms(l,w),q=fetchAttributeLocations(l,w)}let Q;this.getUniforms=function(){return Q===void 0&&K(this),Q};let q;this.getAttributes=function(){return q===void 0&&K(this),q};let H=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return H===!1&&(H=l.getProgramParameter(w,COMPLETION_STATUS_KHR)),H},this.destroy=function(){o.releaseStatesOfProgram(this),l.deleteProgram(w),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=programIdCount++,this.cacheKey=e,this.usedTimes=1,this.program=w,this.vertexShader=U,this.fragmentShader=z,this}let _id$1=0;class WebGLShaderCache{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,o=e.fragmentShader,l=this._getShaderStage(n),u=this._getShaderStage(o),h=this._getShaderCacheForMaterial(e);return h.has(l)===!1&&(h.add(l),l.usedTimes++),h.has(u)===!1&&(h.add(u),u.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const o of n)o.usedTimes--,o.usedTimes===0&&this.shaderCache.delete(o.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let o=n.get(e);return o===void 0&&(o=new Set,n.set(e,o)),o}_getShaderStage(e){const n=this.shaderCache;let o=n.get(e);return o===void 0&&(o=new WebGLShaderStage(e),n.set(e,o)),o}}class WebGLShaderStage{constructor(e){this.id=_id$1++,this.code=e,this.usedTimes=0}}function WebGLPrograms(t,e,n,o,l,u,h){const f=new Layers,d=new WebGLShaderCache,p=new Set,m=[],v=l.isWebGL2,b=l.logarithmicDepthBuffer,S=l.vertexTextures;let T=l.precision;const C={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function w(q){return p.add(q),q===0?"uv":`uv${q}`}function R(q,H,se,le,ne){const ce=le.fog,fe=ne.geometry,ge=q.isMeshStandardMaterial?le.environment:null,Z=(q.isMeshStandardMaterial?n:e).get(q.envMap||ge),ie=Z&&Z.mapping===CubeUVReflectionMapping?Z.image.height:null,oe=C[q.type];q.precision!==null&&(T=l.getMaxPrecision(q.precision),T!==q.precision&&console.warn("THREE.WebGLProgram.getParameters:",q.precision,"not supported, using",T,"instead."));const ae=fe.morphAttributes.position||fe.morphAttributes.normal||fe.morphAttributes.color,pe=ae!==void 0?ae.length:0;let we=0;fe.morphAttributes.position!==void 0&&(we=1),fe.morphAttributes.normal!==void 0&&(we=2),fe.morphAttributes.color!==void 0&&(we=3);let _e,Me,Oe,Ye;if(oe){const tn=ShaderLib[oe];_e=tn.vertexShader,Me=tn.fragmentShader}else _e=q.vertexShader,Me=q.fragmentShader,d.update(q),Oe=d.getVertexShaderID(q),Ye=d.getFragmentShaderID(q);const qe=t.getRenderTarget(),Re=ne.isInstancedMesh===!0,Je=ne.isBatchedMesh===!0,ke=!!q.map,de=!!q.matcap,Be=!!Z,Pe=!!q.aoMap,et=!!q.lightMap,He=!!q.bumpMap,rt=!!q.normalMap,ot=!!q.displacementMap,ht=!!q.emissiveMap,xt=!!q.metalnessMap,me=!!q.roughnessMap,he=q.anisotropy>0,Ne=q.clearcoat>0,Ve=q.iridescence>0,tt=q.sheen>0,nt=q.transmission>0,Pt=he&&!!q.anisotropyMap,Tt=Ne&&!!q.clearcoatMap,ut=Ne&&!!q.clearcoatNormalMap,ft=Ne&&!!q.clearcoatRoughnessMap,Ft=Ve&&!!q.iridescenceMap,dt=Ve&&!!q.iridescenceThicknessMap,yn=tt&&!!q.sheenColorMap,qt=tt&&!!q.sheenRoughnessMap,It=!!q.specularMap,Se=!!q.specularColorMap,Xe=!!q.specularIntensityMap,ve=nt&&!!q.transmissionMap,ze=nt&&!!q.thicknessMap,yt=!!q.gradientMap,Ee=!!q.alphaMap,it=q.alphaTest>0,je=!!q.alphaHash,at=!!q.extensions;let gt=NoToneMapping;q.toneMapped&&(qe===null||qe.isXRRenderTarget===!0)&&(gt=t.toneMapping);const Bt={isWebGL2:v,shaderID:oe,shaderType:q.type,shaderName:q.name,vertexShader:_e,fragmentShader:Me,defines:q.defines,customVertexShaderID:Oe,customFragmentShaderID:Ye,isRawShaderMaterial:q.isRawShaderMaterial===!0,glslVersion:q.glslVersion,precision:T,batching:Je,instancing:Re,instancingColor:Re&&ne.instanceColor!==null,instancingMorph:Re&&ne.morphTexture!==null,supportsVertexTextures:S,outputColorSpace:qe===null?t.outputColorSpace:qe.isXRRenderTarget===!0?qe.texture.colorSpace:LinearSRGBColorSpace,alphaToCoverage:!!q.alphaToCoverage,map:ke,matcap:de,envMap:Be,envMapMode:Be&&Z.mapping,envMapCubeUVHeight:ie,aoMap:Pe,lightMap:et,bumpMap:He,normalMap:rt,displacementMap:S&&ot,emissiveMap:ht,normalMapObjectSpace:rt&&q.normalMapType===ObjectSpaceNormalMap,normalMapTangentSpace:rt&&q.normalMapType===TangentSpaceNormalMap,metalnessMap:xt,roughnessMap:me,anisotropy:he,anisotropyMap:Pt,clearcoat:Ne,clearcoatMap:Tt,clearcoatNormalMap:ut,clearcoatRoughnessMap:ft,iridescence:Ve,iridescenceMap:Ft,iridescenceThicknessMap:dt,sheen:tt,sheenColorMap:yn,sheenRoughnessMap:qt,specularMap:It,specularColorMap:Se,specularIntensityMap:Xe,transmission:nt,transmissionMap:ve,thicknessMap:ze,gradientMap:yt,opaque:q.transparent===!1&&q.blending===NormalBlending&&q.alphaToCoverage===!1,alphaMap:Ee,alphaTest:it,alphaHash:je,combine:q.combine,mapUv:ke&&w(q.map.channel),aoMapUv:Pe&&w(q.aoMap.channel),lightMapUv:et&&w(q.lightMap.channel),bumpMapUv:He&&w(q.bumpMap.channel),normalMapUv:rt&&w(q.normalMap.channel),displacementMapUv:ot&&w(q.displacementMap.channel),emissiveMapUv:ht&&w(q.emissiveMap.channel),metalnessMapUv:xt&&w(q.metalnessMap.channel),roughnessMapUv:me&&w(q.roughnessMap.channel),anisotropyMapUv:Pt&&w(q.anisotropyMap.channel),clearcoatMapUv:Tt&&w(q.clearcoatMap.channel),clearcoatNormalMapUv:ut&&w(q.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ft&&w(q.clearcoatRoughnessMap.channel),iridescenceMapUv:Ft&&w(q.iridescenceMap.channel),iridescenceThicknessMapUv:dt&&w(q.iridescenceThicknessMap.channel),sheenColorMapUv:yn&&w(q.sheenColorMap.channel),sheenRoughnessMapUv:qt&&w(q.sheenRoughnessMap.channel),specularMapUv:It&&w(q.specularMap.channel),specularColorMapUv:Se&&w(q.specularColorMap.channel),specularIntensityMapUv:Xe&&w(q.specularIntensityMap.channel),transmissionMapUv:ve&&w(q.transmissionMap.channel),thicknessMapUv:ze&&w(q.thicknessMap.channel),alphaMapUv:Ee&&w(q.alphaMap.channel),vertexTangents:!!fe.attributes.tangent&&(rt||he),vertexColors:q.vertexColors,vertexAlphas:q.vertexColors===!0&&!!fe.attributes.color&&fe.attributes.color.itemSize===4,pointsUvs:ne.isPoints===!0&&!!fe.attributes.uv&&(ke||Ee),fog:!!ce,useFog:q.fog===!0,fogExp2:!!ce&&ce.isFogExp2,flatShading:q.flatShading===!0,sizeAttenuation:q.sizeAttenuation===!0,logarithmicDepthBuffer:b,skinning:ne.isSkinnedMesh===!0,morphTargets:fe.morphAttributes.position!==void 0,morphNormals:fe.morphAttributes.normal!==void 0,morphColors:fe.morphAttributes.color!==void 0,morphTargetsCount:pe,morphTextureStride:we,numDirLights:H.directional.length,numPointLights:H.point.length,numSpotLights:H.spot.length,numSpotLightMaps:H.spotLightMap.length,numRectAreaLights:H.rectArea.length,numHemiLights:H.hemi.length,numDirLightShadows:H.directionalShadowMap.length,numPointLightShadows:H.pointShadowMap.length,numSpotLightShadows:H.spotShadowMap.length,numSpotLightShadowsWithMaps:H.numSpotLightShadowsWithMaps,numLightProbes:H.numLightProbes,numClippingPlanes:h.numPlanes,numClipIntersection:h.numIntersection,dithering:q.dithering,shadowMapEnabled:t.shadowMap.enabled&&se.length>0,shadowMapType:t.shadowMap.type,toneMapping:gt,useLegacyLights:t._useLegacyLights,decodeVideoTexture:ke&&q.map.isVideoTexture===!0&&ColorManagement.getTransfer(q.map.colorSpace)===SRGBTransfer,premultipliedAlpha:q.premultipliedAlpha,doubleSided:q.side===DoubleSide,flipSided:q.side===BackSide,useDepthPacking:q.depthPacking>=0,depthPacking:q.depthPacking||0,index0AttributeName:q.index0AttributeName,extensionDerivatives:at&&q.extensions.derivatives===!0,extensionFragDepth:at&&q.extensions.fragDepth===!0,extensionDrawBuffers:at&&q.extensions.drawBuffers===!0,extensionShaderTextureLOD:at&&q.extensions.shaderTextureLOD===!0,extensionClipCullDistance:at&&q.extensions.clipCullDistance===!0&&o.has("WEBGL_clip_cull_distance"),extensionMultiDraw:at&&q.extensions.multiDraw===!0&&o.has("WEBGL_multi_draw"),rendererExtensionFragDepth:v||o.has("EXT_frag_depth"),rendererExtensionDrawBuffers:v||o.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:v||o.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:o.has("KHR_parallel_shader_compile"),customProgramCacheKey:q.customProgramCacheKey()};return Bt.vertexUv1s=p.has(1),Bt.vertexUv2s=p.has(2),Bt.vertexUv3s=p.has(3),p.clear(),Bt}function L(q){const H=[];if(q.shaderID?H.push(q.shaderID):(H.push(q.customVertexShaderID),H.push(q.customFragmentShaderID)),q.defines!==void 0)for(const se in q.defines)H.push(se),H.push(q.defines[se]);return q.isRawShaderMaterial===!1&&(N(H,q),F(H,q),H.push(t.outputColorSpace)),H.push(q.customProgramCacheKey),H.join()}function N(q,H){q.push(H.precision),q.push(H.outputColorSpace),q.push(H.envMapMode),q.push(H.envMapCubeUVHeight),q.push(H.mapUv),q.push(H.alphaMapUv),q.push(H.lightMapUv),q.push(H.aoMapUv),q.push(H.bumpMapUv),q.push(H.normalMapUv),q.push(H.displacementMapUv),q.push(H.emissiveMapUv),q.push(H.metalnessMapUv),q.push(H.roughnessMapUv),q.push(H.anisotropyMapUv),q.push(H.clearcoatMapUv),q.push(H.clearcoatNormalMapUv),q.push(H.clearcoatRoughnessMapUv),q.push(H.iridescenceMapUv),q.push(H.iridescenceThicknessMapUv),q.push(H.sheenColorMapUv),q.push(H.sheenRoughnessMapUv),q.push(H.specularMapUv),q.push(H.specularColorMapUv),q.push(H.specularIntensityMapUv),q.push(H.transmissionMapUv),q.push(H.thicknessMapUv),q.push(H.combine),q.push(H.fogExp2),q.push(H.sizeAttenuation),q.push(H.morphTargetsCount),q.push(H.morphAttributeCount),q.push(H.numDirLights),q.push(H.numPointLights),q.push(H.numSpotLights),q.push(H.numSpotLightMaps),q.push(H.numHemiLights),q.push(H.numRectAreaLights),q.push(H.numDirLightShadows),q.push(H.numPointLightShadows),q.push(H.numSpotLightShadows),q.push(H.numSpotLightShadowsWithMaps),q.push(H.numLightProbes),q.push(H.shadowMapType),q.push(H.toneMapping),q.push(H.numClippingPlanes),q.push(H.numClipIntersection),q.push(H.depthPacking)}function F(q,H){f.disableAll(),H.isWebGL2&&f.enable(0),H.supportsVertexTextures&&f.enable(1),H.instancing&&f.enable(2),H.instancingColor&&f.enable(3),H.instancingMorph&&f.enable(4),H.matcap&&f.enable(5),H.envMap&&f.enable(6),H.normalMapObjectSpace&&f.enable(7),H.normalMapTangentSpace&&f.enable(8),H.clearcoat&&f.enable(9),H.iridescence&&f.enable(10),H.alphaTest&&f.enable(11),H.vertexColors&&f.enable(12),H.vertexAlphas&&f.enable(13),H.vertexUv1s&&f.enable(14),H.vertexUv2s&&f.enable(15),H.vertexUv3s&&f.enable(16),H.vertexTangents&&f.enable(17),H.anisotropy&&f.enable(18),H.alphaHash&&f.enable(19),H.batching&&f.enable(20),q.push(f.mask),f.disableAll(),H.fog&&f.enable(0),H.useFog&&f.enable(1),H.flatShading&&f.enable(2),H.logarithmicDepthBuffer&&f.enable(3),H.skinning&&f.enable(4),H.morphTargets&&f.enable(5),H.morphNormals&&f.enable(6),H.morphColors&&f.enable(7),H.premultipliedAlpha&&f.enable(8),H.shadowMapEnabled&&f.enable(9),H.useLegacyLights&&f.enable(10),H.doubleSided&&f.enable(11),H.flipSided&&f.enable(12),H.useDepthPacking&&f.enable(13),H.dithering&&f.enable(14),H.transmission&&f.enable(15),H.sheen&&f.enable(16),H.opaque&&f.enable(17),H.pointsUvs&&f.enable(18),H.decodeVideoTexture&&f.enable(19),H.alphaToCoverage&&f.enable(20),q.push(f.mask)}function B(q){const H=C[q.type];let se;if(H){const le=ShaderLib[H];se=UniformsUtils.clone(le.uniforms)}else se=q.uniforms;return se}function U(q,H){let se;for(let le=0,ne=m.length;le<ne;le++){const ce=m[le];if(ce.cacheKey===H){se=ce,++se.usedTimes;break}}return se===void 0&&(se=new WebGLProgram(t,H,q,u),m.push(se)),se}function z(q){if(--q.usedTimes===0){const H=m.indexOf(q);m[H]=m[m.length-1],m.pop(),q.destroy()}}function K(q){d.remove(q)}function Q(){d.dispose()}return{getParameters:R,getProgramCacheKey:L,getUniforms:B,acquireProgram:U,releaseProgram:z,releaseShaderCache:K,programs:m,dispose:Q}}function WebGLProperties(){let t=new WeakMap;function e(u){let h=t.get(u);return h===void 0&&(h={},t.set(u,h)),h}function n(u){t.delete(u)}function o(u,h,f){t.get(u)[h]=f}function l(){t=new WeakMap}return{get:e,remove:n,update:o,dispose:l}}function painterSortStable(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function reversePainterSortStable(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function WebGLRenderList(){const t=[];let e=0;const n=[],o=[],l=[];function u(){e=0,n.length=0,o.length=0,l.length=0}function h(v,b,S,T,C,w){let R=t[e];return R===void 0?(R={id:v.id,object:v,geometry:b,material:S,groupOrder:T,renderOrder:v.renderOrder,z:C,group:w},t[e]=R):(R.id=v.id,R.object=v,R.geometry=b,R.material=S,R.groupOrder=T,R.renderOrder=v.renderOrder,R.z=C,R.group=w),e++,R}function f(v,b,S,T,C,w){const R=h(v,b,S,T,C,w);S.transmission>0?o.push(R):S.transparent===!0?l.push(R):n.push(R)}function d(v,b,S,T,C,w){const R=h(v,b,S,T,C,w);S.transmission>0?o.unshift(R):S.transparent===!0?l.unshift(R):n.unshift(R)}function p(v,b){n.length>1&&n.sort(v||painterSortStable),o.length>1&&o.sort(b||reversePainterSortStable),l.length>1&&l.sort(b||reversePainterSortStable)}function m(){for(let v=e,b=t.length;v<b;v++){const S=t[v];if(S.id===null)break;S.id=null,S.object=null,S.geometry=null,S.material=null,S.group=null}}return{opaque:n,transmissive:o,transparent:l,init:u,push:f,unshift:d,finish:m,sort:p}}function WebGLRenderLists(){let t=new WeakMap;function e(o,l){const u=t.get(o);let h;return u===void 0?(h=new WebGLRenderList,t.set(o,[h])):l>=u.length?(h=new WebGLRenderList,u.push(h)):h=u[l],h}function n(){t=new WeakMap}return{get:e,dispose:n}}function UniformsCache(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new Vector3,color:new Color$1};break;case"SpotLight":n={position:new Vector3,direction:new Vector3,color:new Color$1,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Vector3,color:new Color$1,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Vector3,skyColor:new Color$1,groundColor:new Color$1};break;case"RectAreaLight":n={color:new Color$1,position:new Vector3,halfWidth:new Vector3,halfHeight:new Vector3};break}return t[e.id]=n,n}}}function ShadowUniformsCache(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let nextVersion=0;function shadowCastingAndTexturingLightsFirst(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function WebGLLights(t,e){const n=new UniformsCache,o=ShadowUniformsCache(),l={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let m=0;m<9;m++)l.probe.push(new Vector3);const u=new Vector3,h=new Matrix4,f=new Matrix4;function d(m,v){let b=0,S=0,T=0;for(let se=0;se<9;se++)l.probe[se].set(0,0,0);let C=0,w=0,R=0,L=0,N=0,F=0,B=0,U=0,z=0,K=0,Q=0;m.sort(shadowCastingAndTexturingLightsFirst);const q=v===!0?Math.PI:1;for(let se=0,le=m.length;se<le;se++){const ne=m[se],ce=ne.color,fe=ne.intensity,ge=ne.distance,Z=ne.shadow&&ne.shadow.map?ne.shadow.map.texture:null;if(ne.isAmbientLight)b+=ce.r*fe*q,S+=ce.g*fe*q,T+=ce.b*fe*q;else if(ne.isLightProbe){for(let ie=0;ie<9;ie++)l.probe[ie].addScaledVector(ne.sh.coefficients[ie],fe);Q++}else if(ne.isDirectionalLight){const ie=n.get(ne);if(ie.color.copy(ne.color).multiplyScalar(ne.intensity*q),ne.castShadow){const oe=ne.shadow,ae=o.get(ne);ae.shadowBias=oe.bias,ae.shadowNormalBias=oe.normalBias,ae.shadowRadius=oe.radius,ae.shadowMapSize=oe.mapSize,l.directionalShadow[C]=ae,l.directionalShadowMap[C]=Z,l.directionalShadowMatrix[C]=ne.shadow.matrix,F++}l.directional[C]=ie,C++}else if(ne.isSpotLight){const ie=n.get(ne);ie.position.setFromMatrixPosition(ne.matrixWorld),ie.color.copy(ce).multiplyScalar(fe*q),ie.distance=ge,ie.coneCos=Math.cos(ne.angle),ie.penumbraCos=Math.cos(ne.angle*(1-ne.penumbra)),ie.decay=ne.decay,l.spot[R]=ie;const oe=ne.shadow;if(ne.map&&(l.spotLightMap[z]=ne.map,z++,oe.updateMatrices(ne),ne.castShadow&&K++),l.spotLightMatrix[R]=oe.matrix,ne.castShadow){const ae=o.get(ne);ae.shadowBias=oe.bias,ae.shadowNormalBias=oe.normalBias,ae.shadowRadius=oe.radius,ae.shadowMapSize=oe.mapSize,l.spotShadow[R]=ae,l.spotShadowMap[R]=Z,U++}R++}else if(ne.isRectAreaLight){const ie=n.get(ne);ie.color.copy(ce).multiplyScalar(fe),ie.halfWidth.set(ne.width*.5,0,0),ie.halfHeight.set(0,ne.height*.5,0),l.rectArea[L]=ie,L++}else if(ne.isPointLight){const ie=n.get(ne);if(ie.color.copy(ne.color).multiplyScalar(ne.intensity*q),ie.distance=ne.distance,ie.decay=ne.decay,ne.castShadow){const oe=ne.shadow,ae=o.get(ne);ae.shadowBias=oe.bias,ae.shadowNormalBias=oe.normalBias,ae.shadowRadius=oe.radius,ae.shadowMapSize=oe.mapSize,ae.shadowCameraNear=oe.camera.near,ae.shadowCameraFar=oe.camera.far,l.pointShadow[w]=ae,l.pointShadowMap[w]=Z,l.pointShadowMatrix[w]=ne.shadow.matrix,B++}l.point[w]=ie,w++}else if(ne.isHemisphereLight){const ie=n.get(ne);ie.skyColor.copy(ne.color).multiplyScalar(fe*q),ie.groundColor.copy(ne.groundColor).multiplyScalar(fe*q),l.hemi[N]=ie,N++}}L>0&&(e.isWebGL2?t.has("OES_texture_float_linear")===!0?(l.rectAreaLTC1=UniformsLib.LTC_FLOAT_1,l.rectAreaLTC2=UniformsLib.LTC_FLOAT_2):(l.rectAreaLTC1=UniformsLib.LTC_HALF_1,l.rectAreaLTC2=UniformsLib.LTC_HALF_2):t.has("OES_texture_float_linear")===!0?(l.rectAreaLTC1=UniformsLib.LTC_FLOAT_1,l.rectAreaLTC2=UniformsLib.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(l.rectAreaLTC1=UniformsLib.LTC_HALF_1,l.rectAreaLTC2=UniformsLib.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),l.ambient[0]=b,l.ambient[1]=S,l.ambient[2]=T;const H=l.hash;(H.directionalLength!==C||H.pointLength!==w||H.spotLength!==R||H.rectAreaLength!==L||H.hemiLength!==N||H.numDirectionalShadows!==F||H.numPointShadows!==B||H.numSpotShadows!==U||H.numSpotMaps!==z||H.numLightProbes!==Q)&&(l.directional.length=C,l.spot.length=R,l.rectArea.length=L,l.point.length=w,l.hemi.length=N,l.directionalShadow.length=F,l.directionalShadowMap.length=F,l.pointShadow.length=B,l.pointShadowMap.length=B,l.spotShadow.length=U,l.spotShadowMap.length=U,l.directionalShadowMatrix.length=F,l.pointShadowMatrix.length=B,l.spotLightMatrix.length=U+z-K,l.spotLightMap.length=z,l.numSpotLightShadowsWithMaps=K,l.numLightProbes=Q,H.directionalLength=C,H.pointLength=w,H.spotLength=R,H.rectAreaLength=L,H.hemiLength=N,H.numDirectionalShadows=F,H.numPointShadows=B,H.numSpotShadows=U,H.numSpotMaps=z,H.numLightProbes=Q,l.version=nextVersion++)}function p(m,v){let b=0,S=0,T=0,C=0,w=0;const R=v.matrixWorldInverse;for(let L=0,N=m.length;L<N;L++){const F=m[L];if(F.isDirectionalLight){const B=l.directional[b];B.direction.setFromMatrixPosition(F.matrixWorld),u.setFromMatrixPosition(F.target.matrixWorld),B.direction.sub(u),B.direction.transformDirection(R),b++}else if(F.isSpotLight){const B=l.spot[T];B.position.setFromMatrixPosition(F.matrixWorld),B.position.applyMatrix4(R),B.direction.setFromMatrixPosition(F.matrixWorld),u.setFromMatrixPosition(F.target.matrixWorld),B.direction.sub(u),B.direction.transformDirection(R),T++}else if(F.isRectAreaLight){const B=l.rectArea[C];B.position.setFromMatrixPosition(F.matrixWorld),B.position.applyMatrix4(R),f.identity(),h.copy(F.matrixWorld),h.premultiply(R),f.extractRotation(h),B.halfWidth.set(F.width*.5,0,0),B.halfHeight.set(0,F.height*.5,0),B.halfWidth.applyMatrix4(f),B.halfHeight.applyMatrix4(f),C++}else if(F.isPointLight){const B=l.point[S];B.position.setFromMatrixPosition(F.matrixWorld),B.position.applyMatrix4(R),S++}else if(F.isHemisphereLight){const B=l.hemi[w];B.direction.setFromMatrixPosition(F.matrixWorld),B.direction.transformDirection(R),w++}}}return{setup:d,setupView:p,state:l}}function WebGLRenderState(t,e){const n=new WebGLLights(t,e),o=[],l=[];function u(){o.length=0,l.length=0}function h(v){o.push(v)}function f(v){l.push(v)}function d(v){n.setup(o,v)}function p(v){n.setupView(o,v)}return{init:u,state:{lightsArray:o,shadowsArray:l,lights:n},setupLights:d,setupLightsView:p,pushLight:h,pushShadow:f}}function WebGLRenderStates(t,e){let n=new WeakMap;function o(u,h=0){const f=n.get(u);let d;return f===void 0?(d=new WebGLRenderState(t,e),n.set(u,[d])):h>=f.length?(d=new WebGLRenderState(t,e),f.push(d)):d=f[h],d}function l(){n=new WeakMap}return{get:o,dispose:l}}class MeshDepthMaterial extends Material{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=BasicDepthPacking,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class MeshDistanceMaterial extends Material{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const vertex=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,fragment=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function WebGLShadowMap(t,e,n){let o=new Frustum;const l=new Vector2,u=new Vector2,h=new Vector4,f=new MeshDepthMaterial({depthPacking:RGBADepthPacking}),d=new MeshDistanceMaterial,p={},m=n.maxTextureSize,v={[FrontSide]:BackSide,[BackSide]:FrontSide,[DoubleSide]:DoubleSide},b=new ShaderMaterial({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Vector2},radius:{value:4}},vertexShader:vertex,fragmentShader:fragment}),S=b.clone();S.defines.HORIZONTAL_PASS=1;const T=new BufferGeometry;T.setAttribute("position",new BufferAttribute(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const C=new Mesh(T,b),w=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=PCFShadowMap;let R=this.type;this.render=function(U,z,K){if(w.enabled===!1||w.autoUpdate===!1&&w.needsUpdate===!1||U.length===0)return;const Q=t.getRenderTarget(),q=t.getActiveCubeFace(),H=t.getActiveMipmapLevel(),se=t.state;se.setBlending(NoBlending),se.buffers.color.setClear(1,1,1,1),se.buffers.depth.setTest(!0),se.setScissorTest(!1);const le=R!==VSMShadowMap&&this.type===VSMShadowMap,ne=R===VSMShadowMap&&this.type!==VSMShadowMap;for(let ce=0,fe=U.length;ce<fe;ce++){const ge=U[ce],Z=ge.shadow;if(Z===void 0){console.warn("THREE.WebGLShadowMap:",ge,"has no shadow.");continue}if(Z.autoUpdate===!1&&Z.needsUpdate===!1)continue;l.copy(Z.mapSize);const ie=Z.getFrameExtents();if(l.multiply(ie),u.copy(Z.mapSize),(l.x>m||l.y>m)&&(l.x>m&&(u.x=Math.floor(m/ie.x),l.x=u.x*ie.x,Z.mapSize.x=u.x),l.y>m&&(u.y=Math.floor(m/ie.y),l.y=u.y*ie.y,Z.mapSize.y=u.y)),Z.map===null||le===!0||ne===!0){const ae=this.type!==VSMShadowMap?{minFilter:NearestFilter,magFilter:NearestFilter}:{};Z.map!==null&&Z.map.dispose(),Z.map=new WebGLRenderTarget(l.x,l.y,ae),Z.map.texture.name=ge.name+".shadowMap",Z.camera.updateProjectionMatrix()}t.setRenderTarget(Z.map),t.clear();const oe=Z.getViewportCount();for(let ae=0;ae<oe;ae++){const pe=Z.getViewport(ae);h.set(u.x*pe.x,u.y*pe.y,u.x*pe.z,u.y*pe.w),se.viewport(h),Z.updateMatrices(ge,ae),o=Z.getFrustum(),F(z,K,Z.camera,ge,this.type)}Z.isPointLightShadow!==!0&&this.type===VSMShadowMap&&L(Z,K),Z.needsUpdate=!1}R=this.type,w.needsUpdate=!1,t.setRenderTarget(Q,q,H)};function L(U,z){const K=e.update(C);b.defines.VSM_SAMPLES!==U.blurSamples&&(b.defines.VSM_SAMPLES=U.blurSamples,S.defines.VSM_SAMPLES=U.blurSamples,b.needsUpdate=!0,S.needsUpdate=!0),U.mapPass===null&&(U.mapPass=new WebGLRenderTarget(l.x,l.y)),b.uniforms.shadow_pass.value=U.map.texture,b.uniforms.resolution.value=U.mapSize,b.uniforms.radius.value=U.radius,t.setRenderTarget(U.mapPass),t.clear(),t.renderBufferDirect(z,null,K,b,C,null),S.uniforms.shadow_pass.value=U.mapPass.texture,S.uniforms.resolution.value=U.mapSize,S.uniforms.radius.value=U.radius,t.setRenderTarget(U.map),t.clear(),t.renderBufferDirect(z,null,K,S,C,null)}function N(U,z,K,Q){let q=null;const H=K.isPointLight===!0?U.customDistanceMaterial:U.customDepthMaterial;if(H!==void 0)q=H;else if(q=K.isPointLight===!0?d:f,t.localClippingEnabled&&z.clipShadows===!0&&Array.isArray(z.clippingPlanes)&&z.clippingPlanes.length!==0||z.displacementMap&&z.displacementScale!==0||z.alphaMap&&z.alphaTest>0||z.map&&z.alphaTest>0){const se=q.uuid,le=z.uuid;let ne=p[se];ne===void 0&&(ne={},p[se]=ne);let ce=ne[le];ce===void 0&&(ce=q.clone(),ne[le]=ce,z.addEventListener("dispose",B)),q=ce}if(q.visible=z.visible,q.wireframe=z.wireframe,Q===VSMShadowMap?q.side=z.shadowSide!==null?z.shadowSide:z.side:q.side=z.shadowSide!==null?z.shadowSide:v[z.side],q.alphaMap=z.alphaMap,q.alphaTest=z.alphaTest,q.map=z.map,q.clipShadows=z.clipShadows,q.clippingPlanes=z.clippingPlanes,q.clipIntersection=z.clipIntersection,q.displacementMap=z.displacementMap,q.displacementScale=z.displacementScale,q.displacementBias=z.displacementBias,q.wireframeLinewidth=z.wireframeLinewidth,q.linewidth=z.linewidth,K.isPointLight===!0&&q.isMeshDistanceMaterial===!0){const se=t.properties.get(q);se.light=K}return q}function F(U,z,K,Q,q){if(U.visible===!1)return;if(U.layers.test(z.layers)&&(U.isMesh||U.isLine||U.isPoints)&&(U.castShadow||U.receiveShadow&&q===VSMShadowMap)&&(!U.frustumCulled||o.intersectsObject(U))){U.modelViewMatrix.multiplyMatrices(K.matrixWorldInverse,U.matrixWorld);const le=e.update(U),ne=U.material;if(Array.isArray(ne)){const ce=le.groups;for(let fe=0,ge=ce.length;fe<ge;fe++){const Z=ce[fe],ie=ne[Z.materialIndex];if(ie&&ie.visible){const oe=N(U,ie,Q,q);U.onBeforeShadow(t,U,z,K,le,oe,Z),t.renderBufferDirect(K,null,le,oe,U,Z),U.onAfterShadow(t,U,z,K,le,oe,Z)}}}else if(ne.visible){const ce=N(U,ne,Q,q);U.onBeforeShadow(t,U,z,K,le,ce,null),t.renderBufferDirect(K,null,le,ce,U,null),U.onAfterShadow(t,U,z,K,le,ce,null)}}const se=U.children;for(let le=0,ne=se.length;le<ne;le++)F(se[le],z,K,Q,q)}function B(U){U.target.removeEventListener("dispose",B);for(const K in p){const Q=p[K],q=U.target.uuid;q in Q&&(Q[q].dispose(),delete Q[q])}}}function WebGLState(t,e,n){const o=n.isWebGL2;function l(){let Ee=!1;const it=new Vector4;let je=null;const at=new Vector4(0,0,0,0);return{setMask:function(gt){je!==gt&&!Ee&&(t.colorMask(gt,gt,gt,gt),je=gt)},setLocked:function(gt){Ee=gt},setClear:function(gt,Bt,tn,rn,cn){cn===!0&&(gt*=rn,Bt*=rn,tn*=rn),it.set(gt,Bt,tn,rn),at.equals(it)===!1&&(t.clearColor(gt,Bt,tn,rn),at.copy(it))},reset:function(){Ee=!1,je=null,at.set(-1,0,0,0)}}}function u(){let Ee=!1,it=null,je=null,at=null;return{setTest:function(gt){gt?Re(t.DEPTH_TEST):Je(t.DEPTH_TEST)},setMask:function(gt){it!==gt&&!Ee&&(t.depthMask(gt),it=gt)},setFunc:function(gt){if(je!==gt){switch(gt){case NeverDepth:t.depthFunc(t.NEVER);break;case AlwaysDepth:t.depthFunc(t.ALWAYS);break;case LessDepth:t.depthFunc(t.LESS);break;case LessEqualDepth:t.depthFunc(t.LEQUAL);break;case EqualDepth:t.depthFunc(t.EQUAL);break;case GreaterEqualDepth:t.depthFunc(t.GEQUAL);break;case GreaterDepth:t.depthFunc(t.GREATER);break;case NotEqualDepth:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}je=gt}},setLocked:function(gt){Ee=gt},setClear:function(gt){at!==gt&&(t.clearDepth(gt),at=gt)},reset:function(){Ee=!1,it=null,je=null,at=null}}}function h(){let Ee=!1,it=null,je=null,at=null,gt=null,Bt=null,tn=null,rn=null,cn=null;return{setTest:function(Yt){Ee||(Yt?Re(t.STENCIL_TEST):Je(t.STENCIL_TEST))},setMask:function(Yt){it!==Yt&&!Ee&&(t.stencilMask(Yt),it=Yt)},setFunc:function(Yt,pn,In){(je!==Yt||at!==pn||gt!==In)&&(t.stencilFunc(Yt,pn,In),je=Yt,at=pn,gt=In)},setOp:function(Yt,pn,In){(Bt!==Yt||tn!==pn||rn!==In)&&(t.stencilOp(Yt,pn,In),Bt=Yt,tn=pn,rn=In)},setLocked:function(Yt){Ee=Yt},setClear:function(Yt){cn!==Yt&&(t.clearStencil(Yt),cn=Yt)},reset:function(){Ee=!1,it=null,je=null,at=null,gt=null,Bt=null,tn=null,rn=null,cn=null}}}const f=new l,d=new u,p=new h,m=new WeakMap,v=new WeakMap;let b={},S={},T=new WeakMap,C=[],w=null,R=!1,L=null,N=null,F=null,B=null,U=null,z=null,K=null,Q=new Color$1(0,0,0),q=0,H=!1,se=null,le=null,ne=null,ce=null,fe=null;const ge=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let Z=!1,ie=0;const oe=t.getParameter(t.VERSION);oe.indexOf("WebGL")!==-1?(ie=parseFloat(/^WebGL (\d)/.exec(oe)[1]),Z=ie>=1):oe.indexOf("OpenGL ES")!==-1&&(ie=parseFloat(/^OpenGL ES (\d)/.exec(oe)[1]),Z=ie>=2);let ae=null,pe={};const we=t.getParameter(t.SCISSOR_BOX),_e=t.getParameter(t.VIEWPORT),Me=new Vector4().fromArray(we),Oe=new Vector4().fromArray(_e);function Ye(Ee,it,je,at){const gt=new Uint8Array(4),Bt=t.createTexture();t.bindTexture(Ee,Bt),t.texParameteri(Ee,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(Ee,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let tn=0;tn<je;tn++)o&&(Ee===t.TEXTURE_3D||Ee===t.TEXTURE_2D_ARRAY)?t.texImage3D(it,0,t.RGBA,1,1,at,0,t.RGBA,t.UNSIGNED_BYTE,gt):t.texImage2D(it+tn,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,gt);return Bt}const qe={};qe[t.TEXTURE_2D]=Ye(t.TEXTURE_2D,t.TEXTURE_2D,1),qe[t.TEXTURE_CUBE_MAP]=Ye(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),o&&(qe[t.TEXTURE_2D_ARRAY]=Ye(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),qe[t.TEXTURE_3D]=Ye(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),f.setClear(0,0,0,1),d.setClear(1),p.setClear(0),Re(t.DEPTH_TEST),d.setFunc(LessEqualDepth),ot(!1),ht(CullFaceBack),Re(t.CULL_FACE),He(NoBlending);function Re(Ee){b[Ee]!==!0&&(t.enable(Ee),b[Ee]=!0)}function Je(Ee){b[Ee]!==!1&&(t.disable(Ee),b[Ee]=!1)}function ke(Ee,it){return S[Ee]!==it?(t.bindFramebuffer(Ee,it),S[Ee]=it,o&&(Ee===t.DRAW_FRAMEBUFFER&&(S[t.FRAMEBUFFER]=it),Ee===t.FRAMEBUFFER&&(S[t.DRAW_FRAMEBUFFER]=it)),!0):!1}function de(Ee,it){let je=C,at=!1;if(Ee){je=T.get(it),je===void 0&&(je=[],T.set(it,je));const gt=Ee.textures;if(je.length!==gt.length||je[0]!==t.COLOR_ATTACHMENT0){for(let Bt=0,tn=gt.length;Bt<tn;Bt++)je[Bt]=t.COLOR_ATTACHMENT0+Bt;je.length=gt.length,at=!0}}else je[0]!==t.BACK&&(je[0]=t.BACK,at=!0);if(at)if(n.isWebGL2)t.drawBuffers(je);else if(e.has("WEBGL_draw_buffers")===!0)e.get("WEBGL_draw_buffers").drawBuffersWEBGL(je);else throw new Error("THREE.WebGLState: Usage of gl.drawBuffers() require WebGL2 or WEBGL_draw_buffers extension")}function Be(Ee){return w!==Ee?(t.useProgram(Ee),w=Ee,!0):!1}const Pe={[AddEquation]:t.FUNC_ADD,[SubtractEquation]:t.FUNC_SUBTRACT,[ReverseSubtractEquation]:t.FUNC_REVERSE_SUBTRACT};if(o)Pe[MinEquation]=t.MIN,Pe[MaxEquation]=t.MAX;else{const Ee=e.get("EXT_blend_minmax");Ee!==null&&(Pe[MinEquation]=Ee.MIN_EXT,Pe[MaxEquation]=Ee.MAX_EXT)}const et={[ZeroFactor]:t.ZERO,[OneFactor]:t.ONE,[SrcColorFactor]:t.SRC_COLOR,[SrcAlphaFactor]:t.SRC_ALPHA,[SrcAlphaSaturateFactor]:t.SRC_ALPHA_SATURATE,[DstColorFactor]:t.DST_COLOR,[DstAlphaFactor]:t.DST_ALPHA,[OneMinusSrcColorFactor]:t.ONE_MINUS_SRC_COLOR,[OneMinusSrcAlphaFactor]:t.ONE_MINUS_SRC_ALPHA,[OneMinusDstColorFactor]:t.ONE_MINUS_DST_COLOR,[OneMinusDstAlphaFactor]:t.ONE_MINUS_DST_ALPHA,[ConstantColorFactor]:t.CONSTANT_COLOR,[OneMinusConstantColorFactor]:t.ONE_MINUS_CONSTANT_COLOR,[ConstantAlphaFactor]:t.CONSTANT_ALPHA,[OneMinusConstantAlphaFactor]:t.ONE_MINUS_CONSTANT_ALPHA};function He(Ee,it,je,at,gt,Bt,tn,rn,cn,Yt){if(Ee===NoBlending){R===!0&&(Je(t.BLEND),R=!1);return}if(R===!1&&(Re(t.BLEND),R=!0),Ee!==CustomBlending){if(Ee!==L||Yt!==H){if((N!==AddEquation||U!==AddEquation)&&(t.blendEquation(t.FUNC_ADD),N=AddEquation,U=AddEquation),Yt)switch(Ee){case NormalBlending:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case AdditiveBlending:t.blendFunc(t.ONE,t.ONE);break;case SubtractiveBlending:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case MultiplyBlending:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ee);break}else switch(Ee){case NormalBlending:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case AdditiveBlending:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case SubtractiveBlending:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case MultiplyBlending:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ee);break}F=null,B=null,z=null,K=null,Q.set(0,0,0),q=0,L=Ee,H=Yt}return}gt=gt||it,Bt=Bt||je,tn=tn||at,(it!==N||gt!==U)&&(t.blendEquationSeparate(Pe[it],Pe[gt]),N=it,U=gt),(je!==F||at!==B||Bt!==z||tn!==K)&&(t.blendFuncSeparate(et[je],et[at],et[Bt],et[tn]),F=je,B=at,z=Bt,K=tn),(rn.equals(Q)===!1||cn!==q)&&(t.blendColor(rn.r,rn.g,rn.b,cn),Q.copy(rn),q=cn),L=Ee,H=!1}function rt(Ee,it){Ee.side===DoubleSide?Je(t.CULL_FACE):Re(t.CULL_FACE);let je=Ee.side===BackSide;it&&(je=!je),ot(je),Ee.blending===NormalBlending&&Ee.transparent===!1?He(NoBlending):He(Ee.blending,Ee.blendEquation,Ee.blendSrc,Ee.blendDst,Ee.blendEquationAlpha,Ee.blendSrcAlpha,Ee.blendDstAlpha,Ee.blendColor,Ee.blendAlpha,Ee.premultipliedAlpha),d.setFunc(Ee.depthFunc),d.setTest(Ee.depthTest),d.setMask(Ee.depthWrite),f.setMask(Ee.colorWrite);const at=Ee.stencilWrite;p.setTest(at),at&&(p.setMask(Ee.stencilWriteMask),p.setFunc(Ee.stencilFunc,Ee.stencilRef,Ee.stencilFuncMask),p.setOp(Ee.stencilFail,Ee.stencilZFail,Ee.stencilZPass)),me(Ee.polygonOffset,Ee.polygonOffsetFactor,Ee.polygonOffsetUnits),Ee.alphaToCoverage===!0?Re(t.SAMPLE_ALPHA_TO_COVERAGE):Je(t.SAMPLE_ALPHA_TO_COVERAGE)}function ot(Ee){se!==Ee&&(Ee?t.frontFace(t.CW):t.frontFace(t.CCW),se=Ee)}function ht(Ee){Ee!==CullFaceNone?(Re(t.CULL_FACE),Ee!==le&&(Ee===CullFaceBack?t.cullFace(t.BACK):Ee===CullFaceFront?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Je(t.CULL_FACE),le=Ee}function xt(Ee){Ee!==ne&&(Z&&t.lineWidth(Ee),ne=Ee)}function me(Ee,it,je){Ee?(Re(t.POLYGON_OFFSET_FILL),(ce!==it||fe!==je)&&(t.polygonOffset(it,je),ce=it,fe=je)):Je(t.POLYGON_OFFSET_FILL)}function he(Ee){Ee?Re(t.SCISSOR_TEST):Je(t.SCISSOR_TEST)}function Ne(Ee){Ee===void 0&&(Ee=t.TEXTURE0+ge-1),ae!==Ee&&(t.activeTexture(Ee),ae=Ee)}function Ve(Ee,it,je){je===void 0&&(ae===null?je=t.TEXTURE0+ge-1:je=ae);let at=pe[je];at===void 0&&(at={type:void 0,texture:void 0},pe[je]=at),(at.type!==Ee||at.texture!==it)&&(ae!==je&&(t.activeTexture(je),ae=je),t.bindTexture(Ee,it||qe[Ee]),at.type=Ee,at.texture=it)}function tt(){const Ee=pe[ae];Ee!==void 0&&Ee.type!==void 0&&(t.bindTexture(Ee.type,null),Ee.type=void 0,Ee.texture=void 0)}function nt(){try{t.compressedTexImage2D.apply(t,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}}function Pt(){try{t.compressedTexImage3D.apply(t,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}}function Tt(){try{t.texSubImage2D.apply(t,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}}function ut(){try{t.texSubImage3D.apply(t,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}}function ft(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}}function Ft(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}}function dt(){try{t.texStorage2D.apply(t,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}}function yn(){try{t.texStorage3D.apply(t,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}}function qt(){try{t.texImage2D.apply(t,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}}function It(){try{t.texImage3D.apply(t,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}}function Se(Ee){Me.equals(Ee)===!1&&(t.scissor(Ee.x,Ee.y,Ee.z,Ee.w),Me.copy(Ee))}function Xe(Ee){Oe.equals(Ee)===!1&&(t.viewport(Ee.x,Ee.y,Ee.z,Ee.w),Oe.copy(Ee))}function ve(Ee,it){let je=v.get(it);je===void 0&&(je=new WeakMap,v.set(it,je));let at=je.get(Ee);at===void 0&&(at=t.getUniformBlockIndex(it,Ee.name),je.set(Ee,at))}function ze(Ee,it){const at=v.get(it).get(Ee);m.get(it)!==at&&(t.uniformBlockBinding(it,at,Ee.__bindingPointIndex),m.set(it,at))}function yt(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),o===!0&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),b={},ae=null,pe={},S={},T=new WeakMap,C=[],w=null,R=!1,L=null,N=null,F=null,B=null,U=null,z=null,K=null,Q=new Color$1(0,0,0),q=0,H=!1,se=null,le=null,ne=null,ce=null,fe=null,Me.set(0,0,t.canvas.width,t.canvas.height),Oe.set(0,0,t.canvas.width,t.canvas.height),f.reset(),d.reset(),p.reset()}return{buffers:{color:f,depth:d,stencil:p},enable:Re,disable:Je,bindFramebuffer:ke,drawBuffers:de,useProgram:Be,setBlending:He,setMaterial:rt,setFlipSided:ot,setCullFace:ht,setLineWidth:xt,setPolygonOffset:me,setScissorTest:he,activeTexture:Ne,bindTexture:Ve,unbindTexture:tt,compressedTexImage2D:nt,compressedTexImage3D:Pt,texImage2D:qt,texImage3D:It,updateUBOMapping:ve,uniformBlockBinding:ze,texStorage2D:dt,texStorage3D:yn,texSubImage2D:Tt,texSubImage3D:ut,compressedTexSubImage2D:ft,compressedTexSubImage3D:Ft,scissor:Se,viewport:Xe,reset:yt}}function WebGLTextures(t,e,n,o,l,u,h){const f=l.isWebGL2,d=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,p=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),m=new Vector2,v=new WeakMap;let b;const S=new WeakMap;let T=!1;try{T=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function C(me,he){return T?new OffscreenCanvas(me,he):createElementNS("canvas")}function w(me,he,Ne,Ve){let tt=1;const nt=xt(me);if((nt.width>Ve||nt.height>Ve)&&(tt=Ve/Math.max(nt.width,nt.height)),tt<1||he===!0)if(typeof HTMLImageElement<"u"&&me instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&me instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&me instanceof ImageBitmap||typeof VideoFrame<"u"&&me instanceof VideoFrame){const Pt=he?floorPowerOfTwo:Math.floor,Tt=Pt(tt*nt.width),ut=Pt(tt*nt.height);b===void 0&&(b=C(Tt,ut));const ft=Ne?C(Tt,ut):b;return ft.width=Tt,ft.height=ut,ft.getContext("2d").drawImage(me,0,0,Tt,ut),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+nt.width+"x"+nt.height+") to ("+Tt+"x"+ut+")."),ft}else return"data"in me&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+nt.width+"x"+nt.height+")."),me;return me}function R(me){const he=xt(me);return isPowerOfTwo(he.width)&&isPowerOfTwo(he.height)}function L(me){return f?!1:me.wrapS!==ClampToEdgeWrapping||me.wrapT!==ClampToEdgeWrapping||me.minFilter!==NearestFilter&&me.minFilter!==LinearFilter}function N(me,he){return me.generateMipmaps&&he&&me.minFilter!==NearestFilter&&me.minFilter!==LinearFilter}function F(me){t.generateMipmap(me)}function B(me,he,Ne,Ve,tt=!1){if(f===!1)return he;if(me!==null){if(t[me]!==void 0)return t[me];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+me+"'")}let nt=he;if(he===t.RED&&(Ne===t.FLOAT&&(nt=t.R32F),Ne===t.HALF_FLOAT&&(nt=t.R16F),Ne===t.UNSIGNED_BYTE&&(nt=t.R8)),he===t.RED_INTEGER&&(Ne===t.UNSIGNED_BYTE&&(nt=t.R8UI),Ne===t.UNSIGNED_SHORT&&(nt=t.R16UI),Ne===t.UNSIGNED_INT&&(nt=t.R32UI),Ne===t.BYTE&&(nt=t.R8I),Ne===t.SHORT&&(nt=t.R16I),Ne===t.INT&&(nt=t.R32I)),he===t.RG&&(Ne===t.FLOAT&&(nt=t.RG32F),Ne===t.HALF_FLOAT&&(nt=t.RG16F),Ne===t.UNSIGNED_BYTE&&(nt=t.RG8)),he===t.RG_INTEGER&&(Ne===t.UNSIGNED_BYTE&&(nt=t.RG8UI),Ne===t.UNSIGNED_SHORT&&(nt=t.RG16UI),Ne===t.UNSIGNED_INT&&(nt=t.RG32UI),Ne===t.BYTE&&(nt=t.RG8I),Ne===t.SHORT&&(nt=t.RG16I),Ne===t.INT&&(nt=t.RG32I)),he===t.RGBA){const Pt=tt?LinearTransfer:ColorManagement.getTransfer(Ve);Ne===t.FLOAT&&(nt=t.RGBA32F),Ne===t.HALF_FLOAT&&(nt=t.RGBA16F),Ne===t.UNSIGNED_BYTE&&(nt=Pt===SRGBTransfer?t.SRGB8_ALPHA8:t.RGBA8),Ne===t.UNSIGNED_SHORT_4_4_4_4&&(nt=t.RGBA4),Ne===t.UNSIGNED_SHORT_5_5_5_1&&(nt=t.RGB5_A1)}return(nt===t.R16F||nt===t.R32F||nt===t.RG16F||nt===t.RG32F||nt===t.RGBA16F||nt===t.RGBA32F)&&e.get("EXT_color_buffer_float"),nt}function U(me,he,Ne){return N(me,Ne)===!0||me.isFramebufferTexture&&me.minFilter!==NearestFilter&&me.minFilter!==LinearFilter?Math.log2(Math.max(he.width,he.height))+1:me.mipmaps!==void 0&&me.mipmaps.length>0?me.mipmaps.length:me.isCompressedTexture&&Array.isArray(me.image)?he.mipmaps.length:1}function z(me){return me===NearestFilter||me===NearestMipmapNearestFilter||me===NearestMipmapLinearFilter?t.NEAREST:t.LINEAR}function K(me){const he=me.target;he.removeEventListener("dispose",K),q(he),he.isVideoTexture&&v.delete(he)}function Q(me){const he=me.target;he.removeEventListener("dispose",Q),se(he)}function q(me){const he=o.get(me);if(he.__webglInit===void 0)return;const Ne=me.source,Ve=S.get(Ne);if(Ve){const tt=Ve[he.__cacheKey];tt.usedTimes--,tt.usedTimes===0&&H(me),Object.keys(Ve).length===0&&S.delete(Ne)}o.remove(me)}function H(me){const he=o.get(me);t.deleteTexture(he.__webglTexture);const Ne=me.source,Ve=S.get(Ne);delete Ve[he.__cacheKey],h.memory.textures--}function se(me){const he=o.get(me);if(me.depthTexture&&me.depthTexture.dispose(),me.isWebGLCubeRenderTarget)for(let Ve=0;Ve<6;Ve++){if(Array.isArray(he.__webglFramebuffer[Ve]))for(let tt=0;tt<he.__webglFramebuffer[Ve].length;tt++)t.deleteFramebuffer(he.__webglFramebuffer[Ve][tt]);else t.deleteFramebuffer(he.__webglFramebuffer[Ve]);he.__webglDepthbuffer&&t.deleteRenderbuffer(he.__webglDepthbuffer[Ve])}else{if(Array.isArray(he.__webglFramebuffer))for(let Ve=0;Ve<he.__webglFramebuffer.length;Ve++)t.deleteFramebuffer(he.__webglFramebuffer[Ve]);else t.deleteFramebuffer(he.__webglFramebuffer);if(he.__webglDepthbuffer&&t.deleteRenderbuffer(he.__webglDepthbuffer),he.__webglMultisampledFramebuffer&&t.deleteFramebuffer(he.__webglMultisampledFramebuffer),he.__webglColorRenderbuffer)for(let Ve=0;Ve<he.__webglColorRenderbuffer.length;Ve++)he.__webglColorRenderbuffer[Ve]&&t.deleteRenderbuffer(he.__webglColorRenderbuffer[Ve]);he.__webglDepthRenderbuffer&&t.deleteRenderbuffer(he.__webglDepthRenderbuffer)}const Ne=me.textures;for(let Ve=0,tt=Ne.length;Ve<tt;Ve++){const nt=o.get(Ne[Ve]);nt.__webglTexture&&(t.deleteTexture(nt.__webglTexture),h.memory.textures--),o.remove(Ne[Ve])}o.remove(me)}let le=0;function ne(){le=0}function ce(){const me=le;return me>=l.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+me+" texture units while this GPU supports only "+l.maxTextures),le+=1,me}function fe(me){const he=[];return he.push(me.wrapS),he.push(me.wrapT),he.push(me.wrapR||0),he.push(me.magFilter),he.push(me.minFilter),he.push(me.anisotropy),he.push(me.internalFormat),he.push(me.format),he.push(me.type),he.push(me.generateMipmaps),he.push(me.premultiplyAlpha),he.push(me.flipY),he.push(me.unpackAlignment),he.push(me.colorSpace),he.join()}function ge(me,he){const Ne=o.get(me);if(me.isVideoTexture&&ot(me),me.isRenderTargetTexture===!1&&me.version>0&&Ne.__version!==me.version){const Ve=me.image;if(Ve===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ve.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Oe(Ne,me,he);return}}n.bindTexture(t.TEXTURE_2D,Ne.__webglTexture,t.TEXTURE0+he)}function Z(me,he){const Ne=o.get(me);if(me.version>0&&Ne.__version!==me.version){Oe(Ne,me,he);return}n.bindTexture(t.TEXTURE_2D_ARRAY,Ne.__webglTexture,t.TEXTURE0+he)}function ie(me,he){const Ne=o.get(me);if(me.version>0&&Ne.__version!==me.version){Oe(Ne,me,he);return}n.bindTexture(t.TEXTURE_3D,Ne.__webglTexture,t.TEXTURE0+he)}function oe(me,he){const Ne=o.get(me);if(me.version>0&&Ne.__version!==me.version){Ye(Ne,me,he);return}n.bindTexture(t.TEXTURE_CUBE_MAP,Ne.__webglTexture,t.TEXTURE0+he)}const ae={[RepeatWrapping]:t.REPEAT,[ClampToEdgeWrapping]:t.CLAMP_TO_EDGE,[MirroredRepeatWrapping]:t.MIRRORED_REPEAT},pe={[NearestFilter]:t.NEAREST,[NearestMipmapNearestFilter]:t.NEAREST_MIPMAP_NEAREST,[NearestMipmapLinearFilter]:t.NEAREST_MIPMAP_LINEAR,[LinearFilter]:t.LINEAR,[LinearMipmapNearestFilter]:t.LINEAR_MIPMAP_NEAREST,[LinearMipmapLinearFilter]:t.LINEAR_MIPMAP_LINEAR},we={[NeverCompare]:t.NEVER,[AlwaysCompare]:t.ALWAYS,[LessCompare]:t.LESS,[LessEqualCompare]:t.LEQUAL,[EqualCompare]:t.EQUAL,[GreaterEqualCompare]:t.GEQUAL,[GreaterCompare]:t.GREATER,[NotEqualCompare]:t.NOTEQUAL};function _e(me,he,Ne){if(he.type===FloatType&&e.has("OES_texture_float_linear")===!1&&(he.magFilter===LinearFilter||he.magFilter===LinearMipmapNearestFilter||he.magFilter===NearestMipmapLinearFilter||he.magFilter===LinearMipmapLinearFilter||he.minFilter===LinearFilter||he.minFilter===LinearMipmapNearestFilter||he.minFilter===NearestMipmapLinearFilter||he.minFilter===LinearMipmapLinearFilter)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),Ne?(t.texParameteri(me,t.TEXTURE_WRAP_S,ae[he.wrapS]),t.texParameteri(me,t.TEXTURE_WRAP_T,ae[he.wrapT]),(me===t.TEXTURE_3D||me===t.TEXTURE_2D_ARRAY)&&t.texParameteri(me,t.TEXTURE_WRAP_R,ae[he.wrapR]),t.texParameteri(me,t.TEXTURE_MAG_FILTER,pe[he.magFilter]),t.texParameteri(me,t.TEXTURE_MIN_FILTER,pe[he.minFilter])):(t.texParameteri(me,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(me,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),(me===t.TEXTURE_3D||me===t.TEXTURE_2D_ARRAY)&&t.texParameteri(me,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),(he.wrapS!==ClampToEdgeWrapping||he.wrapT!==ClampToEdgeWrapping)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(me,t.TEXTURE_MAG_FILTER,z(he.magFilter)),t.texParameteri(me,t.TEXTURE_MIN_FILTER,z(he.minFilter)),he.minFilter!==NearestFilter&&he.minFilter!==LinearFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),he.compareFunction&&(t.texParameteri(me,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(me,t.TEXTURE_COMPARE_FUNC,we[he.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(he.magFilter===NearestFilter||he.minFilter!==NearestMipmapLinearFilter&&he.minFilter!==LinearMipmapLinearFilter||he.type===FloatType&&e.has("OES_texture_float_linear")===!1||f===!1&&he.type===HalfFloatType&&e.has("OES_texture_half_float_linear")===!1)return;if(he.anisotropy>1||o.get(he).__currentAnisotropy){const Ve=e.get("EXT_texture_filter_anisotropic");t.texParameterf(me,Ve.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(he.anisotropy,l.getMaxAnisotropy())),o.get(he).__currentAnisotropy=he.anisotropy}}}function Me(me,he){let Ne=!1;me.__webglInit===void 0&&(me.__webglInit=!0,he.addEventListener("dispose",K));const Ve=he.source;let tt=S.get(Ve);tt===void 0&&(tt={},S.set(Ve,tt));const nt=fe(he);if(nt!==me.__cacheKey){tt[nt]===void 0&&(tt[nt]={texture:t.createTexture(),usedTimes:0},h.memory.textures++,Ne=!0),tt[nt].usedTimes++;const Pt=tt[me.__cacheKey];Pt!==void 0&&(tt[me.__cacheKey].usedTimes--,Pt.usedTimes===0&&H(he)),me.__cacheKey=nt,me.__webglTexture=tt[nt].texture}return Ne}function Oe(me,he,Ne){let Ve=t.TEXTURE_2D;(he.isDataArrayTexture||he.isCompressedArrayTexture)&&(Ve=t.TEXTURE_2D_ARRAY),he.isData3DTexture&&(Ve=t.TEXTURE_3D);const tt=Me(me,he),nt=he.source;n.bindTexture(Ve,me.__webglTexture,t.TEXTURE0+Ne);const Pt=o.get(nt);if(nt.version!==Pt.__version||tt===!0){n.activeTexture(t.TEXTURE0+Ne);const Tt=ColorManagement.getPrimaries(ColorManagement.workingColorSpace),ut=he.colorSpace===NoColorSpace?null:ColorManagement.getPrimaries(he.colorSpace),ft=he.colorSpace===NoColorSpace||Tt===ut?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,he.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,he.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,he.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,ft);const Ft=L(he)&&R(he.image)===!1;let dt=w(he.image,Ft,!1,l.maxTextureSize);dt=ht(he,dt);const yn=R(dt)||f,qt=u.convert(he.format,he.colorSpace);let It=u.convert(he.type),Se=B(he.internalFormat,qt,It,he.colorSpace,he.isVideoTexture);_e(Ve,he,yn);let Xe;const ve=he.mipmaps,ze=f&&he.isVideoTexture!==!0&&Se!==RGB_ETC1_Format,yt=Pt.__version===void 0||tt===!0,Ee=nt.dataReady,it=U(he,dt,yn);if(he.isDepthTexture)Se=t.DEPTH_COMPONENT,f?he.type===FloatType?Se=t.DEPTH_COMPONENT32F:he.type===UnsignedIntType?Se=t.DEPTH_COMPONENT24:he.type===UnsignedInt248Type?Se=t.DEPTH24_STENCIL8:Se=t.DEPTH_COMPONENT16:he.type===FloatType&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),he.format===DepthFormat&&Se===t.DEPTH_COMPONENT&&he.type!==UnsignedShortType&&he.type!==UnsignedIntType&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),he.type=UnsignedIntType,It=u.convert(he.type)),he.format===DepthStencilFormat&&Se===t.DEPTH_COMPONENT&&(Se=t.DEPTH_STENCIL,he.type!==UnsignedInt248Type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),he.type=UnsignedInt248Type,It=u.convert(he.type))),yt&&(ze?n.texStorage2D(t.TEXTURE_2D,1,Se,dt.width,dt.height):n.texImage2D(t.TEXTURE_2D,0,Se,dt.width,dt.height,0,qt,It,null));else if(he.isDataTexture)if(ve.length>0&&yn){ze&&yt&&n.texStorage2D(t.TEXTURE_2D,it,Se,ve[0].width,ve[0].height);for(let je=0,at=ve.length;je<at;je++)Xe=ve[je],ze?Ee&&n.texSubImage2D(t.TEXTURE_2D,je,0,0,Xe.width,Xe.height,qt,It,Xe.data):n.texImage2D(t.TEXTURE_2D,je,Se,Xe.width,Xe.height,0,qt,It,Xe.data);he.generateMipmaps=!1}else ze?(yt&&n.texStorage2D(t.TEXTURE_2D,it,Se,dt.width,dt.height),Ee&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,dt.width,dt.height,qt,It,dt.data)):n.texImage2D(t.TEXTURE_2D,0,Se,dt.width,dt.height,0,qt,It,dt.data);else if(he.isCompressedTexture)if(he.isCompressedArrayTexture){ze&&yt&&n.texStorage3D(t.TEXTURE_2D_ARRAY,it,Se,ve[0].width,ve[0].height,dt.depth);for(let je=0,at=ve.length;je<at;je++)Xe=ve[je],he.format!==RGBAFormat?qt!==null?ze?Ee&&n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,je,0,0,0,Xe.width,Xe.height,dt.depth,qt,Xe.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,je,Se,Xe.width,Xe.height,dt.depth,0,Xe.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ze?Ee&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,je,0,0,0,Xe.width,Xe.height,dt.depth,qt,It,Xe.data):n.texImage3D(t.TEXTURE_2D_ARRAY,je,Se,Xe.width,Xe.height,dt.depth,0,qt,It,Xe.data)}else{ze&&yt&&n.texStorage2D(t.TEXTURE_2D,it,Se,ve[0].width,ve[0].height);for(let je=0,at=ve.length;je<at;je++)Xe=ve[je],he.format!==RGBAFormat?qt!==null?ze?Ee&&n.compressedTexSubImage2D(t.TEXTURE_2D,je,0,0,Xe.width,Xe.height,qt,Xe.data):n.compressedTexImage2D(t.TEXTURE_2D,je,Se,Xe.width,Xe.height,0,Xe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ze?Ee&&n.texSubImage2D(t.TEXTURE_2D,je,0,0,Xe.width,Xe.height,qt,It,Xe.data):n.texImage2D(t.TEXTURE_2D,je,Se,Xe.width,Xe.height,0,qt,It,Xe.data)}else if(he.isDataArrayTexture)ze?(yt&&n.texStorage3D(t.TEXTURE_2D_ARRAY,it,Se,dt.width,dt.height,dt.depth),Ee&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,dt.width,dt.height,dt.depth,qt,It,dt.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,Se,dt.width,dt.height,dt.depth,0,qt,It,dt.data);else if(he.isData3DTexture)ze?(yt&&n.texStorage3D(t.TEXTURE_3D,it,Se,dt.width,dt.height,dt.depth),Ee&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,dt.width,dt.height,dt.depth,qt,It,dt.data)):n.texImage3D(t.TEXTURE_3D,0,Se,dt.width,dt.height,dt.depth,0,qt,It,dt.data);else if(he.isFramebufferTexture){if(yt)if(ze)n.texStorage2D(t.TEXTURE_2D,it,Se,dt.width,dt.height);else{let je=dt.width,at=dt.height;for(let gt=0;gt<it;gt++)n.texImage2D(t.TEXTURE_2D,gt,Se,je,at,0,qt,It,null),je>>=1,at>>=1}}else if(ve.length>0&&yn){if(ze&&yt){const je=xt(ve[0]);n.texStorage2D(t.TEXTURE_2D,it,Se,je.width,je.height)}for(let je=0,at=ve.length;je<at;je++)Xe=ve[je],ze?Ee&&n.texSubImage2D(t.TEXTURE_2D,je,0,0,qt,It,Xe):n.texImage2D(t.TEXTURE_2D,je,Se,qt,It,Xe);he.generateMipmaps=!1}else if(ze){if(yt){const je=xt(dt);n.texStorage2D(t.TEXTURE_2D,it,Se,je.width,je.height)}Ee&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,qt,It,dt)}else n.texImage2D(t.TEXTURE_2D,0,Se,qt,It,dt);N(he,yn)&&F(Ve),Pt.__version=nt.version,he.onUpdate&&he.onUpdate(he)}me.__version=he.version}function Ye(me,he,Ne){if(he.image.length!==6)return;const Ve=Me(me,he),tt=he.source;n.bindTexture(t.TEXTURE_CUBE_MAP,me.__webglTexture,t.TEXTURE0+Ne);const nt=o.get(tt);if(tt.version!==nt.__version||Ve===!0){n.activeTexture(t.TEXTURE0+Ne);const Pt=ColorManagement.getPrimaries(ColorManagement.workingColorSpace),Tt=he.colorSpace===NoColorSpace?null:ColorManagement.getPrimaries(he.colorSpace),ut=he.colorSpace===NoColorSpace||Pt===Tt?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,he.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,he.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,he.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,ut);const ft=he.isCompressedTexture||he.image[0].isCompressedTexture,Ft=he.image[0]&&he.image[0].isDataTexture,dt=[];for(let je=0;je<6;je++)!ft&&!Ft?dt[je]=w(he.image[je],!1,!0,l.maxCubemapSize):dt[je]=Ft?he.image[je].image:he.image[je],dt[je]=ht(he,dt[je]);const yn=dt[0],qt=R(yn)||f,It=u.convert(he.format,he.colorSpace),Se=u.convert(he.type),Xe=B(he.internalFormat,It,Se,he.colorSpace),ve=f&&he.isVideoTexture!==!0,ze=nt.__version===void 0||Ve===!0,yt=tt.dataReady;let Ee=U(he,yn,qt);_e(t.TEXTURE_CUBE_MAP,he,qt);let it;if(ft){ve&&ze&&n.texStorage2D(t.TEXTURE_CUBE_MAP,Ee,Xe,yn.width,yn.height);for(let je=0;je<6;je++){it=dt[je].mipmaps;for(let at=0;at<it.length;at++){const gt=it[at];he.format!==RGBAFormat?It!==null?ve?yt&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+je,at,0,0,gt.width,gt.height,It,gt.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+je,at,Xe,gt.width,gt.height,0,gt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ve?yt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+je,at,0,0,gt.width,gt.height,It,Se,gt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+je,at,Xe,gt.width,gt.height,0,It,Se,gt.data)}}}else{if(it=he.mipmaps,ve&&ze){it.length>0&&Ee++;const je=xt(dt[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,Ee,Xe,je.width,je.height)}for(let je=0;je<6;je++)if(Ft){ve?yt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+je,0,0,0,dt[je].width,dt[je].height,It,Se,dt[je].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+je,0,Xe,dt[je].width,dt[je].height,0,It,Se,dt[je].data);for(let at=0;at<it.length;at++){const Bt=it[at].image[je].image;ve?yt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+je,at+1,0,0,Bt.width,Bt.height,It,Se,Bt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+je,at+1,Xe,Bt.width,Bt.height,0,It,Se,Bt.data)}}else{ve?yt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+je,0,0,0,It,Se,dt[je]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+je,0,Xe,It,Se,dt[je]);for(let at=0;at<it.length;at++){const gt=it[at];ve?yt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+je,at+1,0,0,It,Se,gt.image[je]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+je,at+1,Xe,It,Se,gt.image[je])}}}N(he,qt)&&F(t.TEXTURE_CUBE_MAP),nt.__version=tt.version,he.onUpdate&&he.onUpdate(he)}me.__version=he.version}function qe(me,he,Ne,Ve,tt,nt){const Pt=u.convert(Ne.format,Ne.colorSpace),Tt=u.convert(Ne.type),ut=B(Ne.internalFormat,Pt,Tt,Ne.colorSpace);if(!o.get(he).__hasExternalTextures){const Ft=Math.max(1,he.width>>nt),dt=Math.max(1,he.height>>nt);tt===t.TEXTURE_3D||tt===t.TEXTURE_2D_ARRAY?n.texImage3D(tt,nt,ut,Ft,dt,he.depth,0,Pt,Tt,null):n.texImage2D(tt,nt,ut,Ft,dt,0,Pt,Tt,null)}n.bindFramebuffer(t.FRAMEBUFFER,me),rt(he)?d.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Ve,tt,o.get(Ne).__webglTexture,0,He(he)):(tt===t.TEXTURE_2D||tt>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&tt<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,Ve,tt,o.get(Ne).__webglTexture,nt),n.bindFramebuffer(t.FRAMEBUFFER,null)}function Re(me,he,Ne){if(t.bindRenderbuffer(t.RENDERBUFFER,me),he.depthBuffer&&!he.stencilBuffer){let Ve=f===!0?t.DEPTH_COMPONENT24:t.DEPTH_COMPONENT16;if(Ne||rt(he)){const tt=he.depthTexture;tt&&tt.isDepthTexture&&(tt.type===FloatType?Ve=t.DEPTH_COMPONENT32F:tt.type===UnsignedIntType&&(Ve=t.DEPTH_COMPONENT24));const nt=He(he);rt(he)?d.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,nt,Ve,he.width,he.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,nt,Ve,he.width,he.height)}else t.renderbufferStorage(t.RENDERBUFFER,Ve,he.width,he.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,me)}else if(he.depthBuffer&&he.stencilBuffer){const Ve=He(he);Ne&&rt(he)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Ve,t.DEPTH24_STENCIL8,he.width,he.height):rt(he)?d.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Ve,t.DEPTH24_STENCIL8,he.width,he.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,he.width,he.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,me)}else{const Ve=he.textures;for(let tt=0;tt<Ve.length;tt++){const nt=Ve[tt],Pt=u.convert(nt.format,nt.colorSpace),Tt=u.convert(nt.type),ut=B(nt.internalFormat,Pt,Tt,nt.colorSpace),ft=He(he);Ne&&rt(he)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,ft,ut,he.width,he.height):rt(he)?d.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,ft,ut,he.width,he.height):t.renderbufferStorage(t.RENDERBUFFER,ut,he.width,he.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Je(me,he){if(he&&he.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,me),!(he.depthTexture&&he.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!o.get(he.depthTexture).__webglTexture||he.depthTexture.image.width!==he.width||he.depthTexture.image.height!==he.height)&&(he.depthTexture.image.width=he.width,he.depthTexture.image.height=he.height,he.depthTexture.needsUpdate=!0),ge(he.depthTexture,0);const Ve=o.get(he.depthTexture).__webglTexture,tt=He(he);if(he.depthTexture.format===DepthFormat)rt(he)?d.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Ve,0,tt):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Ve,0);else if(he.depthTexture.format===DepthStencilFormat)rt(he)?d.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Ve,0,tt):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Ve,0);else throw new Error("Unknown depthTexture format")}function ke(me){const he=o.get(me),Ne=me.isWebGLCubeRenderTarget===!0;if(me.depthTexture&&!he.__autoAllocateDepthBuffer){if(Ne)throw new Error("target.depthTexture not supported in Cube render targets");Je(he.__webglFramebuffer,me)}else if(Ne){he.__webglDepthbuffer=[];for(let Ve=0;Ve<6;Ve++)n.bindFramebuffer(t.FRAMEBUFFER,he.__webglFramebuffer[Ve]),he.__webglDepthbuffer[Ve]=t.createRenderbuffer(),Re(he.__webglDepthbuffer[Ve],me,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,he.__webglFramebuffer),he.__webglDepthbuffer=t.createRenderbuffer(),Re(he.__webglDepthbuffer,me,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function de(me,he,Ne){const Ve=o.get(me);he!==void 0&&qe(Ve.__webglFramebuffer,me,me.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),Ne!==void 0&&ke(me)}function Be(me){const he=me.texture,Ne=o.get(me),Ve=o.get(he);me.addEventListener("dispose",Q);const tt=me.textures,nt=me.isWebGLCubeRenderTarget===!0,Pt=tt.length>1,Tt=R(me)||f;if(Pt||(Ve.__webglTexture===void 0&&(Ve.__webglTexture=t.createTexture()),Ve.__version=he.version,h.memory.textures++),nt){Ne.__webglFramebuffer=[];for(let ut=0;ut<6;ut++)if(f&&he.mipmaps&&he.mipmaps.length>0){Ne.__webglFramebuffer[ut]=[];for(let ft=0;ft<he.mipmaps.length;ft++)Ne.__webglFramebuffer[ut][ft]=t.createFramebuffer()}else Ne.__webglFramebuffer[ut]=t.createFramebuffer()}else{if(f&&he.mipmaps&&he.mipmaps.length>0){Ne.__webglFramebuffer=[];for(let ut=0;ut<he.mipmaps.length;ut++)Ne.__webglFramebuffer[ut]=t.createFramebuffer()}else Ne.__webglFramebuffer=t.createFramebuffer();if(Pt)if(l.drawBuffers)for(let ut=0,ft=tt.length;ut<ft;ut++){const Ft=o.get(tt[ut]);Ft.__webglTexture===void 0&&(Ft.__webglTexture=t.createTexture(),h.memory.textures++)}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(f&&me.samples>0&&rt(me)===!1){Ne.__webglMultisampledFramebuffer=t.createFramebuffer(),Ne.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,Ne.__webglMultisampledFramebuffer);for(let ut=0;ut<tt.length;ut++){const ft=tt[ut];Ne.__webglColorRenderbuffer[ut]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,Ne.__webglColorRenderbuffer[ut]);const Ft=u.convert(ft.format,ft.colorSpace),dt=u.convert(ft.type),yn=B(ft.internalFormat,Ft,dt,ft.colorSpace,me.isXRRenderTarget===!0),qt=He(me);t.renderbufferStorageMultisample(t.RENDERBUFFER,qt,yn,me.width,me.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+ut,t.RENDERBUFFER,Ne.__webglColorRenderbuffer[ut])}t.bindRenderbuffer(t.RENDERBUFFER,null),me.depthBuffer&&(Ne.__webglDepthRenderbuffer=t.createRenderbuffer(),Re(Ne.__webglDepthRenderbuffer,me,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(nt){n.bindTexture(t.TEXTURE_CUBE_MAP,Ve.__webglTexture),_e(t.TEXTURE_CUBE_MAP,he,Tt);for(let ut=0;ut<6;ut++)if(f&&he.mipmaps&&he.mipmaps.length>0)for(let ft=0;ft<he.mipmaps.length;ft++)qe(Ne.__webglFramebuffer[ut][ft],me,he,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+ut,ft);else qe(Ne.__webglFramebuffer[ut],me,he,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+ut,0);N(he,Tt)&&F(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Pt){for(let ut=0,ft=tt.length;ut<ft;ut++){const Ft=tt[ut],dt=o.get(Ft);n.bindTexture(t.TEXTURE_2D,dt.__webglTexture),_e(t.TEXTURE_2D,Ft,Tt),qe(Ne.__webglFramebuffer,me,Ft,t.COLOR_ATTACHMENT0+ut,t.TEXTURE_2D,0),N(Ft,Tt)&&F(t.TEXTURE_2D)}n.unbindTexture()}else{let ut=t.TEXTURE_2D;if((me.isWebGL3DRenderTarget||me.isWebGLArrayRenderTarget)&&(f?ut=me.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(ut,Ve.__webglTexture),_e(ut,he,Tt),f&&he.mipmaps&&he.mipmaps.length>0)for(let ft=0;ft<he.mipmaps.length;ft++)qe(Ne.__webglFramebuffer[ft],me,he,t.COLOR_ATTACHMENT0,ut,ft);else qe(Ne.__webglFramebuffer,me,he,t.COLOR_ATTACHMENT0,ut,0);N(he,Tt)&&F(ut),n.unbindTexture()}me.depthBuffer&&ke(me)}function Pe(me){const he=R(me)||f,Ne=me.textures;for(let Ve=0,tt=Ne.length;Ve<tt;Ve++){const nt=Ne[Ve];if(N(nt,he)){const Pt=me.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,Tt=o.get(nt).__webglTexture;n.bindTexture(Pt,Tt),F(Pt),n.unbindTexture()}}}function et(me){if(f&&me.samples>0&&rt(me)===!1){const he=me.textures,Ne=me.width,Ve=me.height;let tt=t.COLOR_BUFFER_BIT;const nt=[],Pt=me.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Tt=o.get(me),ut=he.length>1;if(ut)for(let ft=0;ft<he.length;ft++)n.bindFramebuffer(t.FRAMEBUFFER,Tt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+ft,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,Tt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+ft,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,Tt.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Tt.__webglFramebuffer);for(let ft=0;ft<he.length;ft++){nt.push(t.COLOR_ATTACHMENT0+ft),me.depthBuffer&&nt.push(Pt);const Ft=Tt.__ignoreDepthValues!==void 0?Tt.__ignoreDepthValues:!1;if(Ft===!1&&(me.depthBuffer&&(tt|=t.DEPTH_BUFFER_BIT),me.stencilBuffer&&(tt|=t.STENCIL_BUFFER_BIT)),ut&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,Tt.__webglColorRenderbuffer[ft]),Ft===!0&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[Pt]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[Pt])),ut){const dt=o.get(he[ft]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,dt,0)}t.blitFramebuffer(0,0,Ne,Ve,0,0,Ne,Ve,tt,t.NEAREST),p&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,nt)}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),ut)for(let ft=0;ft<he.length;ft++){n.bindFramebuffer(t.FRAMEBUFFER,Tt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+ft,t.RENDERBUFFER,Tt.__webglColorRenderbuffer[ft]);const Ft=o.get(he[ft]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,Tt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+ft,t.TEXTURE_2D,Ft,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Tt.__webglMultisampledFramebuffer)}}function He(me){return Math.min(l.maxSamples,me.samples)}function rt(me){const he=o.get(me);return f&&me.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&he.__useRenderToTexture!==!1}function ot(me){const he=h.render.frame;v.get(me)!==he&&(v.set(me,he),me.update())}function ht(me,he){const Ne=me.colorSpace,Ve=me.format,tt=me.type;return me.isCompressedTexture===!0||me.isVideoTexture===!0||me.format===_SRGBAFormat||Ne!==LinearSRGBColorSpace&&Ne!==NoColorSpace&&(ColorManagement.getTransfer(Ne)===SRGBTransfer?f===!1?e.has("EXT_sRGB")===!0&&Ve===RGBAFormat?(me.format=_SRGBAFormat,me.minFilter=LinearFilter,me.generateMipmaps=!1):he=ImageUtils.sRGBToLinear(he):(Ve!==RGBAFormat||tt!==UnsignedByteType)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Ne)),he}function xt(me){return typeof HTMLImageElement<"u"&&me instanceof HTMLImageElement?(m.width=me.naturalWidth||me.width,m.height=me.naturalHeight||me.height):typeof VideoFrame<"u"&&me instanceof VideoFrame?(m.width=me.displayWidth,m.height=me.displayHeight):(m.width=me.width,m.height=me.height),m}this.allocateTextureUnit=ce,this.resetTextureUnits=ne,this.setTexture2D=ge,this.setTexture2DArray=Z,this.setTexture3D=ie,this.setTextureCube=oe,this.rebindTextures=de,this.setupRenderTarget=Be,this.updateRenderTargetMipmap=Pe,this.updateMultisampleRenderTarget=et,this.setupDepthRenderbuffer=ke,this.setupFrameBufferTexture=qe,this.useMultisampledRTT=rt}function WebGLUtils(t,e,n){const o=n.isWebGL2;function l(u,h=NoColorSpace){let f;const d=ColorManagement.getTransfer(h);if(u===UnsignedByteType)return t.UNSIGNED_BYTE;if(u===UnsignedShort4444Type)return t.UNSIGNED_SHORT_4_4_4_4;if(u===UnsignedShort5551Type)return t.UNSIGNED_SHORT_5_5_5_1;if(u===ByteType)return t.BYTE;if(u===ShortType)return t.SHORT;if(u===UnsignedShortType)return t.UNSIGNED_SHORT;if(u===IntType)return t.INT;if(u===UnsignedIntType)return t.UNSIGNED_INT;if(u===FloatType)return t.FLOAT;if(u===HalfFloatType)return o?t.HALF_FLOAT:(f=e.get("OES_texture_half_float"),f!==null?f.HALF_FLOAT_OES:null);if(u===AlphaFormat)return t.ALPHA;if(u===RGBAFormat)return t.RGBA;if(u===LuminanceFormat)return t.LUMINANCE;if(u===LuminanceAlphaFormat)return t.LUMINANCE_ALPHA;if(u===DepthFormat)return t.DEPTH_COMPONENT;if(u===DepthStencilFormat)return t.DEPTH_STENCIL;if(u===_SRGBAFormat)return f=e.get("EXT_sRGB"),f!==null?f.SRGB_ALPHA_EXT:null;if(u===RedFormat)return t.RED;if(u===RedIntegerFormat)return t.RED_INTEGER;if(u===RGFormat)return t.RG;if(u===RGIntegerFormat)return t.RG_INTEGER;if(u===RGBAIntegerFormat)return t.RGBA_INTEGER;if(u===RGB_S3TC_DXT1_Format||u===RGBA_S3TC_DXT1_Format||u===RGBA_S3TC_DXT3_Format||u===RGBA_S3TC_DXT5_Format)if(d===SRGBTransfer)if(f=e.get("WEBGL_compressed_texture_s3tc_srgb"),f!==null){if(u===RGB_S3TC_DXT1_Format)return f.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(u===RGBA_S3TC_DXT1_Format)return f.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(u===RGBA_S3TC_DXT3_Format)return f.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(u===RGBA_S3TC_DXT5_Format)return f.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(f=e.get("WEBGL_compressed_texture_s3tc"),f!==null){if(u===RGB_S3TC_DXT1_Format)return f.COMPRESSED_RGB_S3TC_DXT1_EXT;if(u===RGBA_S3TC_DXT1_Format)return f.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(u===RGBA_S3TC_DXT3_Format)return f.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(u===RGBA_S3TC_DXT5_Format)return f.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(u===RGB_PVRTC_4BPPV1_Format||u===RGB_PVRTC_2BPPV1_Format||u===RGBA_PVRTC_4BPPV1_Format||u===RGBA_PVRTC_2BPPV1_Format)if(f=e.get("WEBGL_compressed_texture_pvrtc"),f!==null){if(u===RGB_PVRTC_4BPPV1_Format)return f.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(u===RGB_PVRTC_2BPPV1_Format)return f.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(u===RGBA_PVRTC_4BPPV1_Format)return f.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(u===RGBA_PVRTC_2BPPV1_Format)return f.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(u===RGB_ETC1_Format)return f=e.get("WEBGL_compressed_texture_etc1"),f!==null?f.COMPRESSED_RGB_ETC1_WEBGL:null;if(u===RGB_ETC2_Format||u===RGBA_ETC2_EAC_Format)if(f=e.get("WEBGL_compressed_texture_etc"),f!==null){if(u===RGB_ETC2_Format)return d===SRGBTransfer?f.COMPRESSED_SRGB8_ETC2:f.COMPRESSED_RGB8_ETC2;if(u===RGBA_ETC2_EAC_Format)return d===SRGBTransfer?f.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:f.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(u===RGBA_ASTC_4x4_Format||u===RGBA_ASTC_5x4_Format||u===RGBA_ASTC_5x5_Format||u===RGBA_ASTC_6x5_Format||u===RGBA_ASTC_6x6_Format||u===RGBA_ASTC_8x5_Format||u===RGBA_ASTC_8x6_Format||u===RGBA_ASTC_8x8_Format||u===RGBA_ASTC_10x5_Format||u===RGBA_ASTC_10x6_Format||u===RGBA_ASTC_10x8_Format||u===RGBA_ASTC_10x10_Format||u===RGBA_ASTC_12x10_Format||u===RGBA_ASTC_12x12_Format)if(f=e.get("WEBGL_compressed_texture_astc"),f!==null){if(u===RGBA_ASTC_4x4_Format)return d===SRGBTransfer?f.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:f.COMPRESSED_RGBA_ASTC_4x4_KHR;if(u===RGBA_ASTC_5x4_Format)return d===SRGBTransfer?f.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:f.COMPRESSED_RGBA_ASTC_5x4_KHR;if(u===RGBA_ASTC_5x5_Format)return d===SRGBTransfer?f.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:f.COMPRESSED_RGBA_ASTC_5x5_KHR;if(u===RGBA_ASTC_6x5_Format)return d===SRGBTransfer?f.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:f.COMPRESSED_RGBA_ASTC_6x5_KHR;if(u===RGBA_ASTC_6x6_Format)return d===SRGBTransfer?f.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:f.COMPRESSED_RGBA_ASTC_6x6_KHR;if(u===RGBA_ASTC_8x5_Format)return d===SRGBTransfer?f.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:f.COMPRESSED_RGBA_ASTC_8x5_KHR;if(u===RGBA_ASTC_8x6_Format)return d===SRGBTransfer?f.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:f.COMPRESSED_RGBA_ASTC_8x6_KHR;if(u===RGBA_ASTC_8x8_Format)return d===SRGBTransfer?f.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:f.COMPRESSED_RGBA_ASTC_8x8_KHR;if(u===RGBA_ASTC_10x5_Format)return d===SRGBTransfer?f.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:f.COMPRESSED_RGBA_ASTC_10x5_KHR;if(u===RGBA_ASTC_10x6_Format)return d===SRGBTransfer?f.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:f.COMPRESSED_RGBA_ASTC_10x6_KHR;if(u===RGBA_ASTC_10x8_Format)return d===SRGBTransfer?f.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:f.COMPRESSED_RGBA_ASTC_10x8_KHR;if(u===RGBA_ASTC_10x10_Format)return d===SRGBTransfer?f.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:f.COMPRESSED_RGBA_ASTC_10x10_KHR;if(u===RGBA_ASTC_12x10_Format)return d===SRGBTransfer?f.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:f.COMPRESSED_RGBA_ASTC_12x10_KHR;if(u===RGBA_ASTC_12x12_Format)return d===SRGBTransfer?f.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:f.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(u===RGBA_BPTC_Format||u===RGB_BPTC_SIGNED_Format||u===RGB_BPTC_UNSIGNED_Format)if(f=e.get("EXT_texture_compression_bptc"),f!==null){if(u===RGBA_BPTC_Format)return d===SRGBTransfer?f.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:f.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(u===RGB_BPTC_SIGNED_Format)return f.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(u===RGB_BPTC_UNSIGNED_Format)return f.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(u===RED_RGTC1_Format||u===SIGNED_RED_RGTC1_Format||u===RED_GREEN_RGTC2_Format||u===SIGNED_RED_GREEN_RGTC2_Format)if(f=e.get("EXT_texture_compression_rgtc"),f!==null){if(u===RGBA_BPTC_Format)return f.COMPRESSED_RED_RGTC1_EXT;if(u===SIGNED_RED_RGTC1_Format)return f.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(u===RED_GREEN_RGTC2_Format)return f.COMPRESSED_RED_GREEN_RGTC2_EXT;if(u===SIGNED_RED_GREEN_RGTC2_Format)return f.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return u===UnsignedInt248Type?o?t.UNSIGNED_INT_24_8:(f=e.get("WEBGL_depth_texture"),f!==null?f.UNSIGNED_INT_24_8_WEBGL:null):t[u]!==void 0?t[u]:null}return{convert:l}}class ArrayCamera extends PerspectiveCamera{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Group extends Object3D{constructor(){super(),this.isGroup=!0,this.type="Group"}}const _moveEvent={type:"move"};class WebXRController{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Group,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Group,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Vector3,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Vector3),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Group,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Vector3,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Vector3),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const o of e.hand.values())this._getHandJoint(n,o)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,o){let l=null,u=null,h=null;const f=this._targetRay,d=this._grip,p=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(p&&e.hand){h=!0;for(const C of e.hand.values()){const w=n.getJointPose(C,o),R=this._getHandJoint(p,C);w!==null&&(R.matrix.fromArray(w.transform.matrix),R.matrix.decompose(R.position,R.rotation,R.scale),R.matrixWorldNeedsUpdate=!0,R.jointRadius=w.radius),R.visible=w!==null}const m=p.joints["index-finger-tip"],v=p.joints["thumb-tip"],b=m.position.distanceTo(v.position),S=.02,T=.005;p.inputState.pinching&&b>S+T?(p.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!p.inputState.pinching&&b<=S-T&&(p.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else d!==null&&e.gripSpace&&(u=n.getPose(e.gripSpace,o),u!==null&&(d.matrix.fromArray(u.transform.matrix),d.matrix.decompose(d.position,d.rotation,d.scale),d.matrixWorldNeedsUpdate=!0,u.linearVelocity?(d.hasLinearVelocity=!0,d.linearVelocity.copy(u.linearVelocity)):d.hasLinearVelocity=!1,u.angularVelocity?(d.hasAngularVelocity=!0,d.angularVelocity.copy(u.angularVelocity)):d.hasAngularVelocity=!1));f!==null&&(l=n.getPose(e.targetRaySpace,o),l===null&&u!==null&&(l=u),l!==null&&(f.matrix.fromArray(l.transform.matrix),f.matrix.decompose(f.position,f.rotation,f.scale),f.matrixWorldNeedsUpdate=!0,l.linearVelocity?(f.hasLinearVelocity=!0,f.linearVelocity.copy(l.linearVelocity)):f.hasLinearVelocity=!1,l.angularVelocity?(f.hasAngularVelocity=!0,f.angularVelocity.copy(l.angularVelocity)):f.hasAngularVelocity=!1,this.dispatchEvent(_moveEvent)))}return f!==null&&(f.visible=l!==null),d!==null&&(d.visible=u!==null),p!==null&&(p.visible=h!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const o=new Group;o.matrixAutoUpdate=!1,o.visible=!1,e.joints[n.jointName]=o,e.add(o)}return e.joints[n.jointName]}}const _occlusion_vertex=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,_occlusion_fragment=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepthEXT = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepthEXT = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class WebXRDepthSensing{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,o){if(this.texture===null){const l=new Texture,u=e.properties.get(l);u.__webglTexture=n.texture,(n.depthNear!=o.depthNear||n.depthFar!=o.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=l}}render(e,n){if(this.texture!==null){if(this.mesh===null){const o=n.cameras[0].viewport,l=new ShaderMaterial({extensions:{fragDepth:!0},vertexShader:_occlusion_vertex,fragmentShader:_occlusion_fragment,uniforms:{depthColor:{value:this.texture},depthWidth:{value:o.z},depthHeight:{value:o.w}}});this.mesh=new Mesh(new PlaneGeometry(20,20),l)}e.render(this.mesh,n)}}reset(){this.texture=null,this.mesh=null}}class WebXRManager extends EventDispatcher$1{constructor(e,n){super();const o=this;let l=null,u=1,h=null,f="local-floor",d=1,p=null,m=null,v=null,b=null,S=null,T=null;const C=new WebXRDepthSensing,w=n.getContextAttributes();let R=null,L=null;const N=[],F=[],B=new Vector2;let U=null;const z=new PerspectiveCamera;z.layers.enable(1),z.viewport=new Vector4;const K=new PerspectiveCamera;K.layers.enable(2),K.viewport=new Vector4;const Q=[z,K],q=new ArrayCamera;q.layers.enable(1),q.layers.enable(2);let H=null,se=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(_e){let Me=N[_e];return Me===void 0&&(Me=new WebXRController,N[_e]=Me),Me.getTargetRaySpace()},this.getControllerGrip=function(_e){let Me=N[_e];return Me===void 0&&(Me=new WebXRController,N[_e]=Me),Me.getGripSpace()},this.getHand=function(_e){let Me=N[_e];return Me===void 0&&(Me=new WebXRController,N[_e]=Me),Me.getHandSpace()};function le(_e){const Me=F.indexOf(_e.inputSource);if(Me===-1)return;const Oe=N[Me];Oe!==void 0&&(Oe.update(_e.inputSource,_e.frame,p||h),Oe.dispatchEvent({type:_e.type,data:_e.inputSource}))}function ne(){l.removeEventListener("select",le),l.removeEventListener("selectstart",le),l.removeEventListener("selectend",le),l.removeEventListener("squeeze",le),l.removeEventListener("squeezestart",le),l.removeEventListener("squeezeend",le),l.removeEventListener("end",ne),l.removeEventListener("inputsourceschange",ce);for(let _e=0;_e<N.length;_e++){const Me=F[_e];Me!==null&&(F[_e]=null,N[_e].disconnect(Me))}H=null,se=null,C.reset(),e.setRenderTarget(R),S=null,b=null,v=null,l=null,L=null,we.stop(),o.isPresenting=!1,e.setPixelRatio(U),e.setSize(B.width,B.height,!1),o.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(_e){u=_e,o.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(_e){f=_e,o.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return p||h},this.setReferenceSpace=function(_e){p=_e},this.getBaseLayer=function(){return b!==null?b:S},this.getBinding=function(){return v},this.getFrame=function(){return T},this.getSession=function(){return l},this.setSession=async function(_e){if(l=_e,l!==null){if(R=e.getRenderTarget(),l.addEventListener("select",le),l.addEventListener("selectstart",le),l.addEventListener("selectend",le),l.addEventListener("squeeze",le),l.addEventListener("squeezestart",le),l.addEventListener("squeezeend",le),l.addEventListener("end",ne),l.addEventListener("inputsourceschange",ce),w.xrCompatible!==!0&&await n.makeXRCompatible(),U=e.getPixelRatio(),e.getSize(B),l.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const Me={antialias:l.renderState.layers===void 0?w.antialias:!0,alpha:!0,depth:w.depth,stencil:w.stencil,framebufferScaleFactor:u};S=new XRWebGLLayer(l,n,Me),l.updateRenderState({baseLayer:S}),e.setPixelRatio(1),e.setSize(S.framebufferWidth,S.framebufferHeight,!1),L=new WebGLRenderTarget(S.framebufferWidth,S.framebufferHeight,{format:RGBAFormat,type:UnsignedByteType,colorSpace:e.outputColorSpace,stencilBuffer:w.stencil})}else{let Me=null,Oe=null,Ye=null;w.depth&&(Ye=w.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,Me=w.stencil?DepthStencilFormat:DepthFormat,Oe=w.stencil?UnsignedInt248Type:UnsignedIntType);const qe={colorFormat:n.RGBA8,depthFormat:Ye,scaleFactor:u};v=new XRWebGLBinding(l,n),b=v.createProjectionLayer(qe),l.updateRenderState({layers:[b]}),e.setPixelRatio(1),e.setSize(b.textureWidth,b.textureHeight,!1),L=new WebGLRenderTarget(b.textureWidth,b.textureHeight,{format:RGBAFormat,type:UnsignedByteType,depthTexture:new DepthTexture(b.textureWidth,b.textureHeight,Oe,void 0,void 0,void 0,void 0,void 0,void 0,Me),stencilBuffer:w.stencil,colorSpace:e.outputColorSpace,samples:w.antialias?4:0});const Re=e.properties.get(L);Re.__ignoreDepthValues=b.ignoreDepthValues}L.isXRRenderTarget=!0,this.setFoveation(d),p=null,h=await l.requestReferenceSpace(f),we.setContext(l),we.start(),o.isPresenting=!0,o.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(l!==null)return l.environmentBlendMode};function ce(_e){for(let Me=0;Me<_e.removed.length;Me++){const Oe=_e.removed[Me],Ye=F.indexOf(Oe);Ye>=0&&(F[Ye]=null,N[Ye].disconnect(Oe))}for(let Me=0;Me<_e.added.length;Me++){const Oe=_e.added[Me];let Ye=F.indexOf(Oe);if(Ye===-1){for(let Re=0;Re<N.length;Re++)if(Re>=F.length){F.push(Oe),Ye=Re;break}else if(F[Re]===null){F[Re]=Oe,Ye=Re;break}if(Ye===-1)break}const qe=N[Ye];qe&&qe.connect(Oe)}}const fe=new Vector3,ge=new Vector3;function Z(_e,Me,Oe){fe.setFromMatrixPosition(Me.matrixWorld),ge.setFromMatrixPosition(Oe.matrixWorld);const Ye=fe.distanceTo(ge),qe=Me.projectionMatrix.elements,Re=Oe.projectionMatrix.elements,Je=qe[14]/(qe[10]-1),ke=qe[14]/(qe[10]+1),de=(qe[9]+1)/qe[5],Be=(qe[9]-1)/qe[5],Pe=(qe[8]-1)/qe[0],et=(Re[8]+1)/Re[0],He=Je*Pe,rt=Je*et,ot=Ye/(-Pe+et),ht=ot*-Pe;Me.matrixWorld.decompose(_e.position,_e.quaternion,_e.scale),_e.translateX(ht),_e.translateZ(ot),_e.matrixWorld.compose(_e.position,_e.quaternion,_e.scale),_e.matrixWorldInverse.copy(_e.matrixWorld).invert();const xt=Je+ot,me=ke+ot,he=He-ht,Ne=rt+(Ye-ht),Ve=de*ke/me*xt,tt=Be*ke/me*xt;_e.projectionMatrix.makePerspective(he,Ne,Ve,tt,xt,me),_e.projectionMatrixInverse.copy(_e.projectionMatrix).invert()}function ie(_e,Me){Me===null?_e.matrixWorld.copy(_e.matrix):_e.matrixWorld.multiplyMatrices(Me.matrixWorld,_e.matrix),_e.matrixWorldInverse.copy(_e.matrixWorld).invert()}this.updateCamera=function(_e){if(l===null)return;C.texture!==null&&(_e.near=C.depthNear,_e.far=C.depthFar),q.near=K.near=z.near=_e.near,q.far=K.far=z.far=_e.far,(H!==q.near||se!==q.far)&&(l.updateRenderState({depthNear:q.near,depthFar:q.far}),H=q.near,se=q.far,z.near=H,z.far=se,K.near=H,K.far=se,z.updateProjectionMatrix(),K.updateProjectionMatrix(),_e.updateProjectionMatrix());const Me=_e.parent,Oe=q.cameras;ie(q,Me);for(let Ye=0;Ye<Oe.length;Ye++)ie(Oe[Ye],Me);Oe.length===2?Z(q,z,K):q.projectionMatrix.copy(z.projectionMatrix),oe(_e,q,Me)};function oe(_e,Me,Oe){Oe===null?_e.matrix.copy(Me.matrixWorld):(_e.matrix.copy(Oe.matrixWorld),_e.matrix.invert(),_e.matrix.multiply(Me.matrixWorld)),_e.matrix.decompose(_e.position,_e.quaternion,_e.scale),_e.updateMatrixWorld(!0),_e.projectionMatrix.copy(Me.projectionMatrix),_e.projectionMatrixInverse.copy(Me.projectionMatrixInverse),_e.isPerspectiveCamera&&(_e.fov=RAD2DEG*2*Math.atan(1/_e.projectionMatrix.elements[5]),_e.zoom=1)}this.getCamera=function(){return q},this.getFoveation=function(){if(!(b===null&&S===null))return d},this.setFoveation=function(_e){d=_e,b!==null&&(b.fixedFoveation=_e),S!==null&&S.fixedFoveation!==void 0&&(S.fixedFoveation=_e)},this.hasDepthSensing=function(){return C.texture!==null};let ae=null;function pe(_e,Me){if(m=Me.getViewerPose(p||h),T=Me,m!==null){const Oe=m.views;S!==null&&(e.setRenderTargetFramebuffer(L,S.framebuffer),e.setRenderTarget(L));let Ye=!1;Oe.length!==q.cameras.length&&(q.cameras.length=0,Ye=!0);for(let Re=0;Re<Oe.length;Re++){const Je=Oe[Re];let ke=null;if(S!==null)ke=S.getViewport(Je);else{const Be=v.getViewSubImage(b,Je);ke=Be.viewport,Re===0&&(e.setRenderTargetTextures(L,Be.colorTexture,b.ignoreDepthValues?void 0:Be.depthStencilTexture),e.setRenderTarget(L))}let de=Q[Re];de===void 0&&(de=new PerspectiveCamera,de.layers.enable(Re),de.viewport=new Vector4,Q[Re]=de),de.matrix.fromArray(Je.transform.matrix),de.matrix.decompose(de.position,de.quaternion,de.scale),de.projectionMatrix.fromArray(Je.projectionMatrix),de.projectionMatrixInverse.copy(de.projectionMatrix).invert(),de.viewport.set(ke.x,ke.y,ke.width,ke.height),Re===0&&(q.matrix.copy(de.matrix),q.matrix.decompose(q.position,q.quaternion,q.scale)),Ye===!0&&q.cameras.push(de)}const qe=l.enabledFeatures;if(qe&&qe.includes("depth-sensing")){const Re=v.getDepthInformation(Oe[0]);Re&&Re.isValid&&Re.texture&&C.init(e,Re,l.renderState)}}for(let Oe=0;Oe<N.length;Oe++){const Ye=F[Oe],qe=N[Oe];Ye!==null&&qe!==void 0&&qe.update(Ye,Me,p||h)}C.render(e,q),ae&&ae(_e,Me),Me.detectedPlanes&&o.dispatchEvent({type:"planesdetected",data:Me}),T=null}const we=new WebGLAnimation;we.setAnimationLoop(pe),this.setAnimationLoop=function(_e){ae=_e},this.dispose=function(){}}}const _e1=new Euler,_m1=new Matrix4;function WebGLMaterials(t,e){function n(w,R){w.matrixAutoUpdate===!0&&w.updateMatrix(),R.value.copy(w.matrix)}function o(w,R){R.color.getRGB(w.fogColor.value,getUnlitUniformColorSpace(t)),R.isFog?(w.fogNear.value=R.near,w.fogFar.value=R.far):R.isFogExp2&&(w.fogDensity.value=R.density)}function l(w,R,L,N,F){R.isMeshBasicMaterial||R.isMeshLambertMaterial?u(w,R):R.isMeshToonMaterial?(u(w,R),v(w,R)):R.isMeshPhongMaterial?(u(w,R),m(w,R)):R.isMeshStandardMaterial?(u(w,R),b(w,R),R.isMeshPhysicalMaterial&&S(w,R,F)):R.isMeshMatcapMaterial?(u(w,R),T(w,R)):R.isMeshDepthMaterial?u(w,R):R.isMeshDistanceMaterial?(u(w,R),C(w,R)):R.isMeshNormalMaterial?u(w,R):R.isLineBasicMaterial?(h(w,R),R.isLineDashedMaterial&&f(w,R)):R.isPointsMaterial?d(w,R,L,N):R.isSpriteMaterial?p(w,R):R.isShadowMaterial?(w.color.value.copy(R.color),w.opacity.value=R.opacity):R.isShaderMaterial&&(R.uniformsNeedUpdate=!1)}function u(w,R){w.opacity.value=R.opacity,R.color&&w.diffuse.value.copy(R.color),R.emissive&&w.emissive.value.copy(R.emissive).multiplyScalar(R.emissiveIntensity),R.map&&(w.map.value=R.map,n(R.map,w.mapTransform)),R.alphaMap&&(w.alphaMap.value=R.alphaMap,n(R.alphaMap,w.alphaMapTransform)),R.bumpMap&&(w.bumpMap.value=R.bumpMap,n(R.bumpMap,w.bumpMapTransform),w.bumpScale.value=R.bumpScale,R.side===BackSide&&(w.bumpScale.value*=-1)),R.normalMap&&(w.normalMap.value=R.normalMap,n(R.normalMap,w.normalMapTransform),w.normalScale.value.copy(R.normalScale),R.side===BackSide&&w.normalScale.value.negate()),R.displacementMap&&(w.displacementMap.value=R.displacementMap,n(R.displacementMap,w.displacementMapTransform),w.displacementScale.value=R.displacementScale,w.displacementBias.value=R.displacementBias),R.emissiveMap&&(w.emissiveMap.value=R.emissiveMap,n(R.emissiveMap,w.emissiveMapTransform)),R.specularMap&&(w.specularMap.value=R.specularMap,n(R.specularMap,w.specularMapTransform)),R.alphaTest>0&&(w.alphaTest.value=R.alphaTest);const L=e.get(R),N=L.envMap,F=L.envMapRotation;if(N&&(w.envMap.value=N,_e1.copy(F),_e1.x*=-1,_e1.y*=-1,_e1.z*=-1,N.isCubeTexture&&N.isRenderTargetTexture===!1&&(_e1.y*=-1,_e1.z*=-1),w.envMapRotation.value.setFromMatrix4(_m1.makeRotationFromEuler(_e1)),w.flipEnvMap.value=N.isCubeTexture&&N.isRenderTargetTexture===!1?-1:1,w.reflectivity.value=R.reflectivity,w.ior.value=R.ior,w.refractionRatio.value=R.refractionRatio),R.lightMap){w.lightMap.value=R.lightMap;const B=t._useLegacyLights===!0?Math.PI:1;w.lightMapIntensity.value=R.lightMapIntensity*B,n(R.lightMap,w.lightMapTransform)}R.aoMap&&(w.aoMap.value=R.aoMap,w.aoMapIntensity.value=R.aoMapIntensity,n(R.aoMap,w.aoMapTransform))}function h(w,R){w.diffuse.value.copy(R.color),w.opacity.value=R.opacity,R.map&&(w.map.value=R.map,n(R.map,w.mapTransform))}function f(w,R){w.dashSize.value=R.dashSize,w.totalSize.value=R.dashSize+R.gapSize,w.scale.value=R.scale}function d(w,R,L,N){w.diffuse.value.copy(R.color),w.opacity.value=R.opacity,w.size.value=R.size*L,w.scale.value=N*.5,R.map&&(w.map.value=R.map,n(R.map,w.uvTransform)),R.alphaMap&&(w.alphaMap.value=R.alphaMap,n(R.alphaMap,w.alphaMapTransform)),R.alphaTest>0&&(w.alphaTest.value=R.alphaTest)}function p(w,R){w.diffuse.value.copy(R.color),w.opacity.value=R.opacity,w.rotation.value=R.rotation,R.map&&(w.map.value=R.map,n(R.map,w.mapTransform)),R.alphaMap&&(w.alphaMap.value=R.alphaMap,n(R.alphaMap,w.alphaMapTransform)),R.alphaTest>0&&(w.alphaTest.value=R.alphaTest)}function m(w,R){w.specular.value.copy(R.specular),w.shininess.value=Math.max(R.shininess,1e-4)}function v(w,R){R.gradientMap&&(w.gradientMap.value=R.gradientMap)}function b(w,R){w.metalness.value=R.metalness,R.metalnessMap&&(w.metalnessMap.value=R.metalnessMap,n(R.metalnessMap,w.metalnessMapTransform)),w.roughness.value=R.roughness,R.roughnessMap&&(w.roughnessMap.value=R.roughnessMap,n(R.roughnessMap,w.roughnessMapTransform)),e.get(R).envMap&&(w.envMapIntensity.value=R.envMapIntensity)}function S(w,R,L){w.ior.value=R.ior,R.sheen>0&&(w.sheenColor.value.copy(R.sheenColor).multiplyScalar(R.sheen),w.sheenRoughness.value=R.sheenRoughness,R.sheenColorMap&&(w.sheenColorMap.value=R.sheenColorMap,n(R.sheenColorMap,w.sheenColorMapTransform)),R.sheenRoughnessMap&&(w.sheenRoughnessMap.value=R.sheenRoughnessMap,n(R.sheenRoughnessMap,w.sheenRoughnessMapTransform))),R.clearcoat>0&&(w.clearcoat.value=R.clearcoat,w.clearcoatRoughness.value=R.clearcoatRoughness,R.clearcoatMap&&(w.clearcoatMap.value=R.clearcoatMap,n(R.clearcoatMap,w.clearcoatMapTransform)),R.clearcoatRoughnessMap&&(w.clearcoatRoughnessMap.value=R.clearcoatRoughnessMap,n(R.clearcoatRoughnessMap,w.clearcoatRoughnessMapTransform)),R.clearcoatNormalMap&&(w.clearcoatNormalMap.value=R.clearcoatNormalMap,n(R.clearcoatNormalMap,w.clearcoatNormalMapTransform),w.clearcoatNormalScale.value.copy(R.clearcoatNormalScale),R.side===BackSide&&w.clearcoatNormalScale.value.negate())),R.iridescence>0&&(w.iridescence.value=R.iridescence,w.iridescenceIOR.value=R.iridescenceIOR,w.iridescenceThicknessMinimum.value=R.iridescenceThicknessRange[0],w.iridescenceThicknessMaximum.value=R.iridescenceThicknessRange[1],R.iridescenceMap&&(w.iridescenceMap.value=R.iridescenceMap,n(R.iridescenceMap,w.iridescenceMapTransform)),R.iridescenceThicknessMap&&(w.iridescenceThicknessMap.value=R.iridescenceThicknessMap,n(R.iridescenceThicknessMap,w.iridescenceThicknessMapTransform))),R.transmission>0&&(w.transmission.value=R.transmission,w.transmissionSamplerMap.value=L.texture,w.transmissionSamplerSize.value.set(L.width,L.height),R.transmissionMap&&(w.transmissionMap.value=R.transmissionMap,n(R.transmissionMap,w.transmissionMapTransform)),w.thickness.value=R.thickness,R.thicknessMap&&(w.thicknessMap.value=R.thicknessMap,n(R.thicknessMap,w.thicknessMapTransform)),w.attenuationDistance.value=R.attenuationDistance,w.attenuationColor.value.copy(R.attenuationColor)),R.anisotropy>0&&(w.anisotropyVector.value.set(R.anisotropy*Math.cos(R.anisotropyRotation),R.anisotropy*Math.sin(R.anisotropyRotation)),R.anisotropyMap&&(w.anisotropyMap.value=R.anisotropyMap,n(R.anisotropyMap,w.anisotropyMapTransform))),w.specularIntensity.value=R.specularIntensity,w.specularColor.value.copy(R.specularColor),R.specularColorMap&&(w.specularColorMap.value=R.specularColorMap,n(R.specularColorMap,w.specularColorMapTransform)),R.specularIntensityMap&&(w.specularIntensityMap.value=R.specularIntensityMap,n(R.specularIntensityMap,w.specularIntensityMapTransform))}function T(w,R){R.matcap&&(w.matcap.value=R.matcap)}function C(w,R){const L=e.get(R).light;w.referencePosition.value.setFromMatrixPosition(L.matrixWorld),w.nearDistance.value=L.shadow.camera.near,w.farDistance.value=L.shadow.camera.far}return{refreshFogUniforms:o,refreshMaterialUniforms:l}}function WebGLUniformsGroups(t,e,n,o){let l={},u={},h=[];const f=n.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function d(L,N){const F=N.program;o.uniformBlockBinding(L,F)}function p(L,N){let F=l[L.id];F===void 0&&(T(L),F=m(L),l[L.id]=F,L.addEventListener("dispose",w));const B=N.program;o.updateUBOMapping(L,B);const U=e.render.frame;u[L.id]!==U&&(b(L),u[L.id]=U)}function m(L){const N=v();L.__bindingPointIndex=N;const F=t.createBuffer(),B=L.__size,U=L.usage;return t.bindBuffer(t.UNIFORM_BUFFER,F),t.bufferData(t.UNIFORM_BUFFER,B,U),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,N,F),F}function v(){for(let L=0;L<f;L++)if(h.indexOf(L)===-1)return h.push(L),L;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function b(L){const N=l[L.id],F=L.uniforms,B=L.__cache;t.bindBuffer(t.UNIFORM_BUFFER,N);for(let U=0,z=F.length;U<z;U++){const K=Array.isArray(F[U])?F[U]:[F[U]];for(let Q=0,q=K.length;Q<q;Q++){const H=K[Q];if(S(H,U,Q,B)===!0){const se=H.__offset,le=Array.isArray(H.value)?H.value:[H.value];let ne=0;for(let ce=0;ce<le.length;ce++){const fe=le[ce],ge=C(fe);typeof fe=="number"||typeof fe=="boolean"?(H.__data[0]=fe,t.bufferSubData(t.UNIFORM_BUFFER,se+ne,H.__data)):fe.isMatrix3?(H.__data[0]=fe.elements[0],H.__data[1]=fe.elements[1],H.__data[2]=fe.elements[2],H.__data[3]=0,H.__data[4]=fe.elements[3],H.__data[5]=fe.elements[4],H.__data[6]=fe.elements[5],H.__data[7]=0,H.__data[8]=fe.elements[6],H.__data[9]=fe.elements[7],H.__data[10]=fe.elements[8],H.__data[11]=0):(fe.toArray(H.__data,ne),ne+=ge.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,se,H.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function S(L,N,F,B){const U=L.value,z=N+"_"+F;if(B[z]===void 0)return typeof U=="number"||typeof U=="boolean"?B[z]=U:B[z]=U.clone(),!0;{const K=B[z];if(typeof U=="number"||typeof U=="boolean"){if(K!==U)return B[z]=U,!0}else if(K.equals(U)===!1)return K.copy(U),!0}return!1}function T(L){const N=L.uniforms;let F=0;const B=16;for(let z=0,K=N.length;z<K;z++){const Q=Array.isArray(N[z])?N[z]:[N[z]];for(let q=0,H=Q.length;q<H;q++){const se=Q[q],le=Array.isArray(se.value)?se.value:[se.value];for(let ne=0,ce=le.length;ne<ce;ne++){const fe=le[ne],ge=C(fe),Z=F%B;Z!==0&&B-Z<ge.boundary&&(F+=B-Z),se.__data=new Float32Array(ge.storage/Float32Array.BYTES_PER_ELEMENT),se.__offset=F,F+=ge.storage}}}const U=F%B;return U>0&&(F+=B-U),L.__size=F,L.__cache={},this}function C(L){const N={boundary:0,storage:0};return typeof L=="number"||typeof L=="boolean"?(N.boundary=4,N.storage=4):L.isVector2?(N.boundary=8,N.storage=8):L.isVector3||L.isColor?(N.boundary=16,N.storage=12):L.isVector4?(N.boundary=16,N.storage=16):L.isMatrix3?(N.boundary=48,N.storage=48):L.isMatrix4?(N.boundary=64,N.storage=64):L.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",L),N}function w(L){const N=L.target;N.removeEventListener("dispose",w);const F=h.indexOf(N.__bindingPointIndex);h.splice(F,1),t.deleteBuffer(l[N.id]),delete l[N.id],delete u[N.id]}function R(){for(const L in l)t.deleteBuffer(l[L]);h=[],l={},u={}}return{bind:d,update:p,dispose:R}}class WebGLRenderer{constructor(e={}){const{canvas:n=createCanvasElement(),context:o=null,depth:l=!0,stencil:u=!0,alpha:h=!1,antialias:f=!1,premultipliedAlpha:d=!0,preserveDrawingBuffer:p=!1,powerPreference:m="default",failIfMajorPerformanceCaveat:v=!1}=e;this.isWebGLRenderer=!0;let b;o!==null?b=o.getContextAttributes().alpha:b=h;const S=new Uint32Array(4),T=new Int32Array(4);let C=null,w=null;const R=[],L=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=SRGBColorSpace,this._useLegacyLights=!1,this.toneMapping=NoToneMapping,this.toneMappingExposure=1;const N=this;let F=!1,B=0,U=0,z=null,K=-1,Q=null;const q=new Vector4,H=new Vector4;let se=null;const le=new Color$1(0);let ne=0,ce=n.width,fe=n.height,ge=1,Z=null,ie=null;const oe=new Vector4(0,0,ce,fe),ae=new Vector4(0,0,ce,fe);let pe=!1;const we=new Frustum;let _e=!1,Me=!1,Oe=null;const Ye=new Matrix4,qe=new Vector2,Re=new Vector3,Je={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ke(){return z===null?ge:1}let de=o;function Be(ye,De){for(let We=0;We<ye.length;We++){const Ke=ye[We],Ue=n.getContext(Ke,De);if(Ue!==null)return Ue}return null}try{const ye={alpha:!0,depth:l,stencil:u,antialias:f,premultipliedAlpha:d,preserveDrawingBuffer:p,powerPreference:m,failIfMajorPerformanceCaveat:v};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${REVISION}`),n.addEventListener("webglcontextlost",yt,!1),n.addEventListener("webglcontextrestored",Ee,!1),n.addEventListener("webglcontextcreationerror",it,!1),de===null){const De=["webgl2","webgl","experimental-webgl"];if(N.isWebGL1Renderer===!0&&De.shift(),de=Be(De,ye),de===null)throw Be(De)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&de instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),de.getShaderPrecisionFormat===void 0&&(de.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(ye){throw console.error("THREE.WebGLRenderer: "+ye.message),ye}let Pe,et,He,rt,ot,ht,xt,me,he,Ne,Ve,tt,nt,Pt,Tt,ut,ft,Ft,dt,yn,qt,It,Se,Xe;function ve(){Pe=new WebGLExtensions(de),et=new WebGLCapabilities(de,Pe,e),Pe.init(et),It=new WebGLUtils(de,Pe,et),He=new WebGLState(de,Pe,et),rt=new WebGLInfo(de),ot=new WebGLProperties,ht=new WebGLTextures(de,Pe,He,ot,et,It,rt),xt=new WebGLCubeMaps(N),me=new WebGLCubeUVMaps(N),he=new WebGLAttributes(de,et),Se=new WebGLBindingStates(de,Pe,he,et),Ne=new WebGLGeometries(de,he,rt,Se),Ve=new WebGLObjects(de,Ne,he,rt),dt=new WebGLMorphtargets(de,et,ht),ut=new WebGLClipping(ot),tt=new WebGLPrograms(N,xt,me,Pe,et,Se,ut),nt=new WebGLMaterials(N,ot),Pt=new WebGLRenderLists,Tt=new WebGLRenderStates(Pe,et),Ft=new WebGLBackground(N,xt,me,He,Ve,b,d),ft=new WebGLShadowMap(N,Ve,et),Xe=new WebGLUniformsGroups(de,rt,et,He),yn=new WebGLBufferRenderer(de,Pe,rt,et),qt=new WebGLIndexedBufferRenderer(de,Pe,rt,et),rt.programs=tt.programs,N.capabilities=et,N.extensions=Pe,N.properties=ot,N.renderLists=Pt,N.shadowMap=ft,N.state=He,N.info=rt}ve();const ze=new WebXRManager(N,de);this.xr=ze,this.getContext=function(){return de},this.getContextAttributes=function(){return de.getContextAttributes()},this.forceContextLoss=function(){const ye=Pe.get("WEBGL_lose_context");ye&&ye.loseContext()},this.forceContextRestore=function(){const ye=Pe.get("WEBGL_lose_context");ye&&ye.restoreContext()},this.getPixelRatio=function(){return ge},this.setPixelRatio=function(ye){ye!==void 0&&(ge=ye,this.setSize(ce,fe,!1))},this.getSize=function(ye){return ye.set(ce,fe)},this.setSize=function(ye,De,We=!0){if(ze.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}ce=ye,fe=De,n.width=Math.floor(ye*ge),n.height=Math.floor(De*ge),We===!0&&(n.style.width=ye+"px",n.style.height=De+"px"),this.setViewport(0,0,ye,De)},this.getDrawingBufferSize=function(ye){return ye.set(ce*ge,fe*ge).floor()},this.setDrawingBufferSize=function(ye,De,We){ce=ye,fe=De,ge=We,n.width=Math.floor(ye*We),n.height=Math.floor(De*We),this.setViewport(0,0,ye,De)},this.getCurrentViewport=function(ye){return ye.copy(q)},this.getViewport=function(ye){return ye.copy(oe)},this.setViewport=function(ye,De,We,Ke){ye.isVector4?oe.set(ye.x,ye.y,ye.z,ye.w):oe.set(ye,De,We,Ke),He.viewport(q.copy(oe).multiplyScalar(ge).round())},this.getScissor=function(ye){return ye.copy(ae)},this.setScissor=function(ye,De,We,Ke){ye.isVector4?ae.set(ye.x,ye.y,ye.z,ye.w):ae.set(ye,De,We,Ke),He.scissor(H.copy(ae).multiplyScalar(ge).round())},this.getScissorTest=function(){return pe},this.setScissorTest=function(ye){He.setScissorTest(pe=ye)},this.setOpaqueSort=function(ye){Z=ye},this.setTransparentSort=function(ye){ie=ye},this.getClearColor=function(ye){return ye.copy(Ft.getClearColor())},this.setClearColor=function(){Ft.setClearColor.apply(Ft,arguments)},this.getClearAlpha=function(){return Ft.getClearAlpha()},this.setClearAlpha=function(){Ft.setClearAlpha.apply(Ft,arguments)},this.clear=function(ye=!0,De=!0,We=!0){let Ke=0;if(ye){let Ue=!1;if(z!==null){const St=z.texture.format;Ue=St===RGBAIntegerFormat||St===RGIntegerFormat||St===RedIntegerFormat}if(Ue){const St=z.texture.type,Nt=St===UnsignedByteType||St===UnsignedIntType||St===UnsignedShortType||St===UnsignedInt248Type||St===UnsignedShort4444Type||St===UnsignedShort5551Type,$t=Ft.getClearColor(),Et=Ft.getClearAlpha(),Ht=$t.r,zt=$t.g,Gt=$t.b;Nt?(S[0]=Ht,S[1]=zt,S[2]=Gt,S[3]=Et,de.clearBufferuiv(de.COLOR,0,S)):(T[0]=Ht,T[1]=zt,T[2]=Gt,T[3]=Et,de.clearBufferiv(de.COLOR,0,T))}else Ke|=de.COLOR_BUFFER_BIT}De&&(Ke|=de.DEPTH_BUFFER_BIT),We&&(Ke|=de.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),de.clear(Ke)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",yt,!1),n.removeEventListener("webglcontextrestored",Ee,!1),n.removeEventListener("webglcontextcreationerror",it,!1),Pt.dispose(),Tt.dispose(),ot.dispose(),xt.dispose(),me.dispose(),Ve.dispose(),Se.dispose(),Xe.dispose(),tt.dispose(),ze.dispose(),ze.removeEventListener("sessionstart",cn),ze.removeEventListener("sessionend",Yt),Oe&&(Oe.dispose(),Oe=null),pn.stop()};function yt(ye){ye.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),F=!0}function Ee(){console.log("THREE.WebGLRenderer: Context Restored."),F=!1;const ye=rt.autoReset,De=ft.enabled,We=ft.autoUpdate,Ke=ft.needsUpdate,Ue=ft.type;ve(),rt.autoReset=ye,ft.enabled=De,ft.autoUpdate=We,ft.needsUpdate=Ke,ft.type=Ue}function it(ye){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",ye.statusMessage)}function je(ye){const De=ye.target;De.removeEventListener("dispose",je),at(De)}function at(ye){gt(ye),ot.remove(ye)}function gt(ye){const De=ot.get(ye).programs;De!==void 0&&(De.forEach(function(We){tt.releaseProgram(We)}),ye.isShaderMaterial&&tt.releaseShaderCache(ye))}this.renderBufferDirect=function(ye,De,We,Ke,Ue,St){De===null&&(De=Je);const Nt=Ue.isMesh&&Ue.matrixWorld.determinant()<0,$t=ml(ye,De,We,Ke,Ue);He.setMaterial(Ke,Nt);let Et=We.index,Ht=1;if(Ke.wireframe===!0){if(Et=Ne.getWireframeAttribute(We),Et===void 0)return;Ht=2}const zt=We.drawRange,Gt=We.attributes.position;let xn=zt.start*Ht,Qn=(zt.start+zt.count)*Ht;St!==null&&(xn=Math.max(xn,St.start*Ht),Qn=Math.min(Qn,(St.start+St.count)*Ht)),Et!==null?(xn=Math.max(xn,0),Qn=Math.min(Qn,Et.count)):Gt!=null&&(xn=Math.max(xn,0),Qn=Math.min(Qn,Gt.count));const _n=Qn-xn;if(_n<0||_n===1/0)return;Se.setup(Ue,Ke,$t,We,Et);let Fn,Lt=yn;if(Et!==null&&(Fn=he.get(Et),Lt=qt,Lt.setIndex(Fn)),Ue.isMesh)Ke.wireframe===!0?(He.setLineWidth(Ke.wireframeLinewidth*ke()),Lt.setMode(de.LINES)):Lt.setMode(de.TRIANGLES);else if(Ue.isLine){let Mt=Ke.linewidth;Mt===void 0&&(Mt=1),He.setLineWidth(Mt*ke()),Ue.isLineSegments?Lt.setMode(de.LINES):Ue.isLineLoop?Lt.setMode(de.LINE_LOOP):Lt.setMode(de.LINE_STRIP)}else Ue.isPoints?Lt.setMode(de.POINTS):Ue.isSprite&&Lt.setMode(de.TRIANGLES);if(Ue.isBatchedMesh)Lt.renderMultiDraw(Ue._multiDrawStarts,Ue._multiDrawCounts,Ue._multiDrawCount);else if(Ue.isInstancedMesh)Lt.renderInstances(xn,_n,Ue.count);else if(We.isInstancedBufferGeometry){const Mt=We._maxInstanceCount!==void 0?We._maxInstanceCount:1/0,On=Math.min(We.instanceCount,Mt);Lt.renderInstances(xn,_n,On)}else Lt.render(xn,_n)};function Bt(ye,De,We){ye.transparent===!0&&ye.side===DoubleSide&&ye.forceSinglePass===!1?(ye.side=BackSide,ye.needsUpdate=!0,Yi(ye,De,We),ye.side=FrontSide,ye.needsUpdate=!0,Yi(ye,De,We),ye.side=DoubleSide):Yi(ye,De,We)}this.compile=function(ye,De,We=null){We===null&&(We=ye),w=Tt.get(We),w.init(),L.push(w),We.traverseVisible(function(Ue){Ue.isLight&&Ue.layers.test(De.layers)&&(w.pushLight(Ue),Ue.castShadow&&w.pushShadow(Ue))}),ye!==We&&ye.traverseVisible(function(Ue){Ue.isLight&&Ue.layers.test(De.layers)&&(w.pushLight(Ue),Ue.castShadow&&w.pushShadow(Ue))}),w.setupLights(N._useLegacyLights);const Ke=new Set;return ye.traverse(function(Ue){const St=Ue.material;if(St)if(Array.isArray(St))for(let Nt=0;Nt<St.length;Nt++){const $t=St[Nt];Bt($t,We,Ue),Ke.add($t)}else Bt(St,We,Ue),Ke.add(St)}),L.pop(),w=null,Ke},this.compileAsync=function(ye,De,We=null){const Ke=this.compile(ye,De,We);return new Promise(Ue=>{function St(){if(Ke.forEach(function(Nt){ot.get(Nt).currentProgram.isReady()&&Ke.delete(Nt)}),Ke.size===0){Ue(ye);return}setTimeout(St,10)}Pe.get("KHR_parallel_shader_compile")!==null?St():setTimeout(St,10)})};let tn=null;function rn(ye){tn&&tn(ye)}function cn(){pn.stop()}function Yt(){pn.start()}const pn=new WebGLAnimation;pn.setAnimationLoop(rn),typeof self<"u"&&pn.setContext(self),this.setAnimationLoop=function(ye){tn=ye,ze.setAnimationLoop(ye),ye===null?pn.stop():pn.start()},ze.addEventListener("sessionstart",cn),ze.addEventListener("sessionend",Yt),this.render=function(ye,De){if(De!==void 0&&De.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(F===!0)return;ye.matrixWorldAutoUpdate===!0&&ye.updateMatrixWorld(),De.parent===null&&De.matrixWorldAutoUpdate===!0&&De.updateMatrixWorld(),ze.enabled===!0&&ze.isPresenting===!0&&(ze.cameraAutoUpdate===!0&&ze.updateCamera(De),De=ze.getCamera()),ye.isScene===!0&&ye.onBeforeRender(N,ye,De,z),w=Tt.get(ye,L.length),w.init(),L.push(w),Ye.multiplyMatrices(De.projectionMatrix,De.matrixWorldInverse),we.setFromProjectionMatrix(Ye),Me=this.localClippingEnabled,_e=ut.init(this.clippingPlanes,Me),C=Pt.get(ye,R.length),C.init(),R.push(C),In(ye,De,0,N.sortObjects),C.finish(),N.sortObjects===!0&&C.sort(Z,ie),this.info.render.frame++,_e===!0&&ut.beginShadows();const We=w.state.shadowsArray;if(ft.render(We,ye,De),_e===!0&&ut.endShadows(),this.info.autoReset===!0&&this.info.reset(),(ze.enabled===!1||ze.isPresenting===!1||ze.hasDepthSensing()===!1)&&Ft.render(C,ye),w.setupLights(N._useLegacyLights),De.isArrayCamera){const Ke=De.cameras;for(let Ue=0,St=Ke.length;Ue<St;Ue++){const Nt=Ke[Ue];fi(C,ye,Nt,Nt.viewport)}}else fi(C,ye,De);z!==null&&(ht.updateMultisampleRenderTarget(z),ht.updateRenderTargetMipmap(z)),ye.isScene===!0&&ye.onAfterRender(N,ye,De),Se.resetDefaultState(),K=-1,Q=null,L.pop(),L.length>0?w=L[L.length-1]:w=null,R.pop(),R.length>0?C=R[R.length-1]:C=null};function In(ye,De,We,Ke){if(ye.visible===!1)return;if(ye.layers.test(De.layers)){if(ye.isGroup)We=ye.renderOrder;else if(ye.isLOD)ye.autoUpdate===!0&&ye.update(De);else if(ye.isLight)w.pushLight(ye),ye.castShadow&&w.pushShadow(ye);else if(ye.isSprite){if(!ye.frustumCulled||we.intersectsSprite(ye)){Ke&&Re.setFromMatrixPosition(ye.matrixWorld).applyMatrix4(Ye);const Nt=Ve.update(ye),$t=ye.material;$t.visible&&C.push(ye,Nt,$t,We,Re.z,null)}}else if((ye.isMesh||ye.isLine||ye.isPoints)&&(!ye.frustumCulled||we.intersectsObject(ye))){const Nt=Ve.update(ye),$t=ye.material;if(Ke&&(ye.boundingSphere!==void 0?(ye.boundingSphere===null&&ye.computeBoundingSphere(),Re.copy(ye.boundingSphere.center)):(Nt.boundingSphere===null&&Nt.computeBoundingSphere(),Re.copy(Nt.boundingSphere.center)),Re.applyMatrix4(ye.matrixWorld).applyMatrix4(Ye)),Array.isArray($t)){const Et=Nt.groups;for(let Ht=0,zt=Et.length;Ht<zt;Ht++){const Gt=Et[Ht],xn=$t[Gt.materialIndex];xn&&xn.visible&&C.push(ye,Nt,xn,We,Re.z,Gt)}}else $t.visible&&C.push(ye,Nt,$t,We,Re.z,null)}}const St=ye.children;for(let Nt=0,$t=St.length;Nt<$t;Nt++)In(St[Nt],De,We,Ke)}function fi(ye,De,We,Ke){const Ue=ye.opaque,St=ye.transmissive,Nt=ye.transparent;w.setupLightsView(We),_e===!0&&ut.setGlobalState(N.clippingPlanes,We),St.length>0&&zr(Ue,St,De,We),Ke&&He.viewport(q.copy(Ke)),Ue.length>0&&Mi(Ue,De,We),St.length>0&&Mi(St,De,We),Nt.length>0&&Mi(Nt,De,We),He.buffers.depth.setTest(!0),He.buffers.depth.setMask(!0),He.buffers.color.setMask(!0),He.setPolygonOffset(!1)}function zr(ye,De,We,Ke){if((We.isScene===!0?We.overrideMaterial:null)!==null)return;const St=et.isWebGL2;Oe===null&&(Oe=new WebGLRenderTarget(1,1,{generateMipmaps:!0,type:Pe.has("EXT_color_buffer_half_float")?HalfFloatType:UnsignedByteType,minFilter:LinearMipmapLinearFilter,samples:St?4:0})),N.getDrawingBufferSize(qe),St?Oe.setSize(qe.x,qe.y):Oe.setSize(floorPowerOfTwo(qe.x),floorPowerOfTwo(qe.y));const Nt=N.getRenderTarget();N.setRenderTarget(Oe),N.getClearColor(le),ne=N.getClearAlpha(),ne<1&&N.setClearColor(16777215,.5),N.clear();const $t=N.toneMapping;N.toneMapping=NoToneMapping,Mi(ye,We,Ke),ht.updateMultisampleRenderTarget(Oe),ht.updateRenderTargetMipmap(Oe);let Et=!1;for(let Ht=0,zt=De.length;Ht<zt;Ht++){const Gt=De[Ht],xn=Gt.object,Qn=Gt.geometry,_n=Gt.material,Fn=Gt.group;if(_n.side===DoubleSide&&xn.layers.test(Ke.layers)){const Lt=_n.side;_n.side=BackSide,_n.needsUpdate=!0,ti(xn,We,Ke,Qn,_n,Fn),_n.side=Lt,_n.needsUpdate=!0,Et=!0}}Et===!0&&(ht.updateMultisampleRenderTarget(Oe),ht.updateRenderTargetMipmap(Oe)),N.setRenderTarget(Nt),N.setClearColor(le,ne),N.toneMapping=$t}function Mi(ye,De,We){const Ke=De.isScene===!0?De.overrideMaterial:null;for(let Ue=0,St=ye.length;Ue<St;Ue++){const Nt=ye[Ue],$t=Nt.object,Et=Nt.geometry,Ht=Ke===null?Nt.material:Ke,zt=Nt.group;$t.layers.test(We.layers)&&ti($t,De,We,Et,Ht,zt)}}function ti(ye,De,We,Ke,Ue,St){ye.onBeforeRender(N,De,We,Ke,Ue,St),ye.modelViewMatrix.multiplyMatrices(We.matrixWorldInverse,ye.matrixWorld),ye.normalMatrix.getNormalMatrix(ye.modelViewMatrix),Ue.onBeforeRender(N,De,We,Ke,ye,St),Ue.transparent===!0&&Ue.side===DoubleSide&&Ue.forceSinglePass===!1?(Ue.side=BackSide,Ue.needsUpdate=!0,N.renderBufferDirect(We,De,Ke,Ue,ye,St),Ue.side=FrontSide,Ue.needsUpdate=!0,N.renderBufferDirect(We,De,Ke,Ue,ye,St),Ue.side=DoubleSide):N.renderBufferDirect(We,De,Ke,Ue,ye,St),ye.onAfterRender(N,De,We,Ke,Ue,St)}function Yi(ye,De,We){De.isScene!==!0&&(De=Je);const Ke=ot.get(ye),Ue=w.state.lights,St=w.state.shadowsArray,Nt=Ue.state.version,$t=tt.getParameters(ye,Ue.state,St,De,We),Et=tt.getProgramCacheKey($t);let Ht=Ke.programs;Ke.environment=ye.isMeshStandardMaterial?De.environment:null,Ke.fog=De.fog,Ke.envMap=(ye.isMeshStandardMaterial?me:xt).get(ye.envMap||Ke.environment),Ke.envMapRotation=Ke.environment!==null&&ye.envMap===null?De.environmentRotation:ye.envMapRotation,Ht===void 0&&(ye.addEventListener("dispose",je),Ht=new Map,Ke.programs=Ht);let zt=Ht.get(Et);if(zt!==void 0){if(Ke.currentProgram===zt&&Ke.lightsStateVersion===Nt)return go(ye,$t),zt}else $t.uniforms=tt.getUniforms(ye),ye.onBuild(We,$t,N),ye.onBeforeCompile($t,N),zt=tt.acquireProgram($t,Et),Ht.set(Et,zt),Ke.uniforms=$t.uniforms;const Gt=Ke.uniforms;return(!ye.isShaderMaterial&&!ye.isRawShaderMaterial||ye.clipping===!0)&&(Gt.clippingPlanes=ut.uniform),go(ye,$t),Ke.needsLights=yo(ye),Ke.lightsStateVersion=Nt,Ke.needsLights&&(Gt.ambientLightColor.value=Ue.state.ambient,Gt.lightProbe.value=Ue.state.probe,Gt.directionalLights.value=Ue.state.directional,Gt.directionalLightShadows.value=Ue.state.directionalShadow,Gt.spotLights.value=Ue.state.spot,Gt.spotLightShadows.value=Ue.state.spotShadow,Gt.rectAreaLights.value=Ue.state.rectArea,Gt.ltc_1.value=Ue.state.rectAreaLTC1,Gt.ltc_2.value=Ue.state.rectAreaLTC2,Gt.pointLights.value=Ue.state.point,Gt.pointLightShadows.value=Ue.state.pointShadow,Gt.hemisphereLights.value=Ue.state.hemi,Gt.directionalShadowMap.value=Ue.state.directionalShadowMap,Gt.directionalShadowMatrix.value=Ue.state.directionalShadowMatrix,Gt.spotShadowMap.value=Ue.state.spotShadowMap,Gt.spotLightMatrix.value=Ue.state.spotLightMatrix,Gt.spotLightMap.value=Ue.state.spotLightMap,Gt.pointShadowMap.value=Ue.state.pointShadowMap,Gt.pointShadowMatrix.value=Ue.state.pointShadowMatrix),Ke.currentProgram=zt,Ke.uniformsList=null,zt}function mo(ye){if(ye.uniformsList===null){const De=ye.currentProgram.getUniforms();ye.uniformsList=WebGLUniforms.seqWithValue(De.seq,ye.uniforms)}return ye.uniformsList}function go(ye,De){const We=ot.get(ye);We.outputColorSpace=De.outputColorSpace,We.batching=De.batching,We.instancing=De.instancing,We.instancingColor=De.instancingColor,We.instancingMorph=De.instancingMorph,We.skinning=De.skinning,We.morphTargets=De.morphTargets,We.morphNormals=De.morphNormals,We.morphColors=De.morphColors,We.morphTargetsCount=De.morphTargetsCount,We.numClippingPlanes=De.numClippingPlanes,We.numIntersection=De.numClipIntersection,We.vertexAlphas=De.vertexAlphas,We.vertexTangents=De.vertexTangents,We.toneMapping=De.toneMapping}function ml(ye,De,We,Ke,Ue){De.isScene!==!0&&(De=Je),ht.resetTextureUnits();const St=De.fog,Nt=Ke.isMeshStandardMaterial?De.environment:null,$t=z===null?N.outputColorSpace:z.isXRRenderTarget===!0?z.texture.colorSpace:LinearSRGBColorSpace,Et=(Ke.isMeshStandardMaterial?me:xt).get(Ke.envMap||Nt),Ht=Ke.vertexColors===!0&&!!We.attributes.color&&We.attributes.color.itemSize===4,zt=!!We.attributes.tangent&&(!!Ke.normalMap||Ke.anisotropy>0),Gt=!!We.morphAttributes.position,xn=!!We.morphAttributes.normal,Qn=!!We.morphAttributes.color;let _n=NoToneMapping;Ke.toneMapped&&(z===null||z.isXRRenderTarget===!0)&&(_n=N.toneMapping);const Fn=We.morphAttributes.position||We.morphAttributes.normal||We.morphAttributes.color,Lt=Fn!==void 0?Fn.length:0,Mt=ot.get(Ke),On=w.state.lights;if(_e===!0&&(Me===!0||ye!==Q)){const er=ye===Q&&Ke.id===K;ut.setState(Ke,ye,er)}let Jt=!1;Ke.version===Mt.__version?(Mt.needsLights&&Mt.lightsStateVersion!==On.state.version||Mt.outputColorSpace!==$t||Ue.isBatchedMesh&&Mt.batching===!1||!Ue.isBatchedMesh&&Mt.batching===!0||Ue.isInstancedMesh&&Mt.instancing===!1||!Ue.isInstancedMesh&&Mt.instancing===!0||Ue.isSkinnedMesh&&Mt.skinning===!1||!Ue.isSkinnedMesh&&Mt.skinning===!0||Ue.isInstancedMesh&&Mt.instancingColor===!0&&Ue.instanceColor===null||Ue.isInstancedMesh&&Mt.instancingColor===!1&&Ue.instanceColor!==null||Ue.isInstancedMesh&&Mt.instancingMorph===!0&&Ue.morphTexture===null||Ue.isInstancedMesh&&Mt.instancingMorph===!1&&Ue.morphTexture!==null||Mt.envMap!==Et||Ke.fog===!0&&Mt.fog!==St||Mt.numClippingPlanes!==void 0&&(Mt.numClippingPlanes!==ut.numPlanes||Mt.numIntersection!==ut.numIntersection)||Mt.vertexAlphas!==Ht||Mt.vertexTangents!==zt||Mt.morphTargets!==Gt||Mt.morphNormals!==xn||Mt.morphColors!==Qn||Mt.toneMapping!==_n||et.isWebGL2===!0&&Mt.morphTargetsCount!==Lt)&&(Jt=!0):(Jt=!0,Mt.__version=Ke.version);let Dn=Mt.currentProgram;Jt===!0&&(Dn=Yi(Ke,De,Ue));let di=!1,dr=!1,jn=!1;const wn=Dn.getUniforms(),Ir=Mt.uniforms;if(He.useProgram(Dn.program)&&(di=!0,dr=!0,jn=!0),Ke.id!==K&&(K=Ke.id,dr=!0),di||Q!==ye){wn.setValue(de,"projectionMatrix",ye.projectionMatrix),wn.setValue(de,"viewMatrix",ye.matrixWorldInverse);const er=wn.map.cameraPosition;er!==void 0&&er.setValue(de,Re.setFromMatrixPosition(ye.matrixWorld)),et.logarithmicDepthBuffer&&wn.setValue(de,"logDepthBufFC",2/(Math.log(ye.far+1)/Math.LN2)),(Ke.isMeshPhongMaterial||Ke.isMeshToonMaterial||Ke.isMeshLambertMaterial||Ke.isMeshBasicMaterial||Ke.isMeshStandardMaterial||Ke.isShaderMaterial)&&wn.setValue(de,"isOrthographic",ye.isOrthographicCamera===!0),Q!==ye&&(Q=ye,dr=!0,jn=!0)}if(Ue.isSkinnedMesh){wn.setOptional(de,Ue,"bindMatrix"),wn.setOptional(de,Ue,"bindMatrixInverse");const er=Ue.skeleton;er&&(et.floatVertexTextures?(er.boneTexture===null&&er.computeBoneTexture(),wn.setValue(de,"boneTexture",er.boneTexture,ht)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}Ue.isBatchedMesh&&(wn.setOptional(de,Ue,"batchingTexture"),wn.setValue(de,"batchingTexture",Ue._matricesTexture,ht));const qa=We.morphAttributes;if((qa.position!==void 0||qa.normal!==void 0||qa.color!==void 0&&et.isWebGL2===!0)&&dt.update(Ue,We,Dn),(dr||Mt.receiveShadow!==Ue.receiveShadow)&&(Mt.receiveShadow=Ue.receiveShadow,wn.setValue(de,"receiveShadow",Ue.receiveShadow)),Ke.isMeshGouraudMaterial&&Ke.envMap!==null&&(Ir.envMap.value=Et,Ir.flipEnvMap.value=Et.isCubeTexture&&Et.isRenderTargetTexture===!1?-1:1),dr&&(wn.setValue(de,"toneMappingExposure",N.toneMappingExposure),Mt.needsLights&&Pi(Ir,jn),St&&Ke.fog===!0&&nt.refreshFogUniforms(Ir,St),nt.refreshMaterialUniforms(Ir,Ke,ge,fe,Oe),WebGLUniforms.upload(de,mo(Mt),Ir,ht)),Ke.isShaderMaterial&&Ke.uniformsNeedUpdate===!0&&(WebGLUniforms.upload(de,mo(Mt),Ir,ht),Ke.uniformsNeedUpdate=!1),Ke.isSpriteMaterial&&wn.setValue(de,"center",Ue.center),wn.setValue(de,"modelViewMatrix",Ue.modelViewMatrix),wn.setValue(de,"normalMatrix",Ue.normalMatrix),wn.setValue(de,"modelMatrix",Ue.matrixWorld),Ke.isShaderMaterial||Ke.isRawShaderMaterial){const er=Ke.uniformsGroups;for(let Zi=0,Er=er.length;Zi<Er;Zi++)if(et.isWebGL2){const Ha=er[Zi];Xe.update(Ha,Dn),Xe.bind(Ha,Dn)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Dn}function Pi(ye,De){ye.ambientLightColor.needsUpdate=De,ye.lightProbe.needsUpdate=De,ye.directionalLights.needsUpdate=De,ye.directionalLightShadows.needsUpdate=De,ye.pointLights.needsUpdate=De,ye.pointLightShadows.needsUpdate=De,ye.spotLights.needsUpdate=De,ye.spotLightShadows.needsUpdate=De,ye.rectAreaLights.needsUpdate=De,ye.hemisphereLights.needsUpdate=De}function yo(ye){return ye.isMeshLambertMaterial||ye.isMeshToonMaterial||ye.isMeshPhongMaterial||ye.isMeshStandardMaterial||ye.isShadowMaterial||ye.isShaderMaterial&&ye.lights===!0}this.getActiveCubeFace=function(){return B},this.getActiveMipmapLevel=function(){return U},this.getRenderTarget=function(){return z},this.setRenderTargetTextures=function(ye,De,We){ot.get(ye.texture).__webglTexture=De,ot.get(ye.depthTexture).__webglTexture=We;const Ke=ot.get(ye);Ke.__hasExternalTextures=!0,Ke.__autoAllocateDepthBuffer=We===void 0,Ke.__autoAllocateDepthBuffer||Pe.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Ke.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(ye,De){const We=ot.get(ye);We.__webglFramebuffer=De,We.__useDefaultFramebuffer=De===void 0},this.setRenderTarget=function(ye,De=0,We=0){z=ye,B=De,U=We;let Ke=!0,Ue=null,St=!1,Nt=!1;if(ye){const Et=ot.get(ye);Et.__useDefaultFramebuffer!==void 0?(He.bindFramebuffer(de.FRAMEBUFFER,null),Ke=!1):Et.__webglFramebuffer===void 0?ht.setupRenderTarget(ye):Et.__hasExternalTextures&&ht.rebindTextures(ye,ot.get(ye.texture).__webglTexture,ot.get(ye.depthTexture).__webglTexture);const Ht=ye.texture;(Ht.isData3DTexture||Ht.isDataArrayTexture||Ht.isCompressedArrayTexture)&&(Nt=!0);const zt=ot.get(ye).__webglFramebuffer;ye.isWebGLCubeRenderTarget?(Array.isArray(zt[De])?Ue=zt[De][We]:Ue=zt[De],St=!0):et.isWebGL2&&ye.samples>0&&ht.useMultisampledRTT(ye)===!1?Ue=ot.get(ye).__webglMultisampledFramebuffer:Array.isArray(zt)?Ue=zt[We]:Ue=zt,q.copy(ye.viewport),H.copy(ye.scissor),se=ye.scissorTest}else q.copy(oe).multiplyScalar(ge).floor(),H.copy(ae).multiplyScalar(ge).floor(),se=pe;if(He.bindFramebuffer(de.FRAMEBUFFER,Ue)&&et.drawBuffers&&Ke&&He.drawBuffers(ye,Ue),He.viewport(q),He.scissor(H),He.setScissorTest(se),St){const Et=ot.get(ye.texture);de.framebufferTexture2D(de.FRAMEBUFFER,de.COLOR_ATTACHMENT0,de.TEXTURE_CUBE_MAP_POSITIVE_X+De,Et.__webglTexture,We)}else if(Nt){const Et=ot.get(ye.texture),Ht=De||0;de.framebufferTextureLayer(de.FRAMEBUFFER,de.COLOR_ATTACHMENT0,Et.__webglTexture,We||0,Ht)}K=-1},this.readRenderTargetPixels=function(ye,De,We,Ke,Ue,St,Nt){if(!(ye&&ye.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let $t=ot.get(ye).__webglFramebuffer;if(ye.isWebGLCubeRenderTarget&&Nt!==void 0&&($t=$t[Nt]),$t){He.bindFramebuffer(de.FRAMEBUFFER,$t);try{const Et=ye.texture,Ht=Et.format,zt=Et.type;if(Ht!==RGBAFormat&&It.convert(Ht)!==de.getParameter(de.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Gt=zt===HalfFloatType&&(Pe.has("EXT_color_buffer_half_float")||et.isWebGL2&&Pe.has("EXT_color_buffer_float"));if(zt!==UnsignedByteType&&It.convert(zt)!==de.getParameter(de.IMPLEMENTATION_COLOR_READ_TYPE)&&!(zt===FloatType&&(et.isWebGL2||Pe.has("OES_texture_float")||Pe.has("WEBGL_color_buffer_float")))&&!Gt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}De>=0&&De<=ye.width-Ke&&We>=0&&We<=ye.height-Ue&&de.readPixels(De,We,Ke,Ue,It.convert(Ht),It.convert(zt),St)}finally{const Et=z!==null?ot.get(z).__webglFramebuffer:null;He.bindFramebuffer(de.FRAMEBUFFER,Et)}}},this.copyFramebufferToTexture=function(ye,De,We=0){const Ke=Math.pow(2,-We),Ue=Math.floor(De.image.width*Ke),St=Math.floor(De.image.height*Ke);ht.setTexture2D(De,0),de.copyTexSubImage2D(de.TEXTURE_2D,We,0,0,ye.x,ye.y,Ue,St),He.unbindTexture()},this.copyTextureToTexture=function(ye,De,We,Ke=0){const Ue=De.image.width,St=De.image.height,Nt=It.convert(We.format),$t=It.convert(We.type);ht.setTexture2D(We,0),de.pixelStorei(de.UNPACK_FLIP_Y_WEBGL,We.flipY),de.pixelStorei(de.UNPACK_PREMULTIPLY_ALPHA_WEBGL,We.premultiplyAlpha),de.pixelStorei(de.UNPACK_ALIGNMENT,We.unpackAlignment),De.isDataTexture?de.texSubImage2D(de.TEXTURE_2D,Ke,ye.x,ye.y,Ue,St,Nt,$t,De.image.data):De.isCompressedTexture?de.compressedTexSubImage2D(de.TEXTURE_2D,Ke,ye.x,ye.y,De.mipmaps[0].width,De.mipmaps[0].height,Nt,De.mipmaps[0].data):de.texSubImage2D(de.TEXTURE_2D,Ke,ye.x,ye.y,Nt,$t,De.image),Ke===0&&We.generateMipmaps&&de.generateMipmap(de.TEXTURE_2D),He.unbindTexture()},this.copyTextureToTexture3D=function(ye,De,We,Ke,Ue=0){if(N.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const St=Math.round(ye.max.x-ye.min.x),Nt=Math.round(ye.max.y-ye.min.y),$t=ye.max.z-ye.min.z+1,Et=It.convert(Ke.format),Ht=It.convert(Ke.type);let zt;if(Ke.isData3DTexture)ht.setTexture3D(Ke,0),zt=de.TEXTURE_3D;else if(Ke.isDataArrayTexture||Ke.isCompressedArrayTexture)ht.setTexture2DArray(Ke,0),zt=de.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}de.pixelStorei(de.UNPACK_FLIP_Y_WEBGL,Ke.flipY),de.pixelStorei(de.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ke.premultiplyAlpha),de.pixelStorei(de.UNPACK_ALIGNMENT,Ke.unpackAlignment);const Gt=de.getParameter(de.UNPACK_ROW_LENGTH),xn=de.getParameter(de.UNPACK_IMAGE_HEIGHT),Qn=de.getParameter(de.UNPACK_SKIP_PIXELS),_n=de.getParameter(de.UNPACK_SKIP_ROWS),Fn=de.getParameter(de.UNPACK_SKIP_IMAGES),Lt=We.isCompressedTexture?We.mipmaps[Ue]:We.image;de.pixelStorei(de.UNPACK_ROW_LENGTH,Lt.width),de.pixelStorei(de.UNPACK_IMAGE_HEIGHT,Lt.height),de.pixelStorei(de.UNPACK_SKIP_PIXELS,ye.min.x),de.pixelStorei(de.UNPACK_SKIP_ROWS,ye.min.y),de.pixelStorei(de.UNPACK_SKIP_IMAGES,ye.min.z),We.isDataTexture||We.isData3DTexture?de.texSubImage3D(zt,Ue,De.x,De.y,De.z,St,Nt,$t,Et,Ht,Lt.data):Ke.isCompressedArrayTexture?de.compressedTexSubImage3D(zt,Ue,De.x,De.y,De.z,St,Nt,$t,Et,Lt.data):de.texSubImage3D(zt,Ue,De.x,De.y,De.z,St,Nt,$t,Et,Ht,Lt),de.pixelStorei(de.UNPACK_ROW_LENGTH,Gt),de.pixelStorei(de.UNPACK_IMAGE_HEIGHT,xn),de.pixelStorei(de.UNPACK_SKIP_PIXELS,Qn),de.pixelStorei(de.UNPACK_SKIP_ROWS,_n),de.pixelStorei(de.UNPACK_SKIP_IMAGES,Fn),Ue===0&&Ke.generateMipmaps&&de.generateMipmap(zt),He.unbindTexture()},this.initTexture=function(ye){ye.isCubeTexture?ht.setTextureCube(ye,0):ye.isData3DTexture?ht.setTexture3D(ye,0):ye.isDataArrayTexture||ye.isCompressedArrayTexture?ht.setTexture2DArray(ye,0):ht.setTexture2D(ye,0),He.unbindTexture()},this.resetState=function(){B=0,U=0,z=null,He.reset(),Se.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return WebGLCoordinateSystem}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=e===DisplayP3ColorSpace?"display-p3":"srgb",n.unpackColorSpace=ColorManagement.workingColorSpace===LinearDisplayP3ColorSpace?"display-p3":"srgb"}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class WebGL1Renderer extends WebGLRenderer{}WebGL1Renderer.prototype.isWebGL1Renderer=!0;class FogExp2{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new Color$1(e),this.density=n}clone(){return new FogExp2(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Fog{constructor(e,n=1,o=1e3){this.isFog=!0,this.name="",this.color=new Color$1(e),this.near=n,this.far=o}clone(){return new Fog(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Scene extends Object3D{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Euler,this.environmentRotation=new Euler,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class InterleavedBuffer{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=StaticDrawUsage,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=generateUUID()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return warnOnce("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,o){e*=this.stride,o*=n.stride;for(let l=0,u=this.stride;l<u;l++)this.array[e+l]=n.array[o+l];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),o=new this.constructor(n,this.stride);return o.setUsage(this.usage),o}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const _vector$6=new Vector3;class InterleavedBufferAttribute{constructor(e,n,o,l=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=o,this.normalized=l}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,o=this.data.count;n<o;n++)_vector$6.fromBufferAttribute(this,n),_vector$6.applyMatrix4(e),this.setXYZ(n,_vector$6.x,_vector$6.y,_vector$6.z);return this}applyNormalMatrix(e){for(let n=0,o=this.count;n<o;n++)_vector$6.fromBufferAttribute(this,n),_vector$6.applyNormalMatrix(e),this.setXYZ(n,_vector$6.x,_vector$6.y,_vector$6.z);return this}transformDirection(e){for(let n=0,o=this.count;n<o;n++)_vector$6.fromBufferAttribute(this,n),_vector$6.transformDirection(e),this.setXYZ(n,_vector$6.x,_vector$6.y,_vector$6.z);return this}getComponent(e,n){let o=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(o=denormalize(o,this.array)),o}setComponent(e,n,o){return this.normalized&&(o=normalize$1(o,this.array)),this.data.array[e*this.data.stride+this.offset+n]=o,this}setX(e,n){return this.normalized&&(n=normalize$1(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=normalize$1(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=normalize$1(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=normalize$1(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=denormalize(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=denormalize(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=denormalize(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=denormalize(n,this.array)),n}setXY(e,n,o){return e=e*this.data.stride+this.offset,this.normalized&&(n=normalize$1(n,this.array),o=normalize$1(o,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=o,this}setXYZ(e,n,o,l){return e=e*this.data.stride+this.offset,this.normalized&&(n=normalize$1(n,this.array),o=normalize$1(o,this.array),l=normalize$1(l,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=o,this.data.array[e+2]=l,this}setXYZW(e,n,o,l,u){return e=e*this.data.stride+this.offset,this.normalized&&(n=normalize$1(n,this.array),o=normalize$1(o,this.array),l=normalize$1(l,this.array),u=normalize$1(u,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=o,this.data.array[e+2]=l,this.data.array[e+3]=u,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let o=0;o<this.count;o++){const l=o*this.data.stride+this.offset;for(let u=0;u<this.itemSize;u++)n.push(this.data.array[l+u])}return new BufferAttribute(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new InterleavedBufferAttribute(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let o=0;o<this.count;o++){const l=o*this.data.stride+this.offset;for(let u=0;u<this.itemSize;u++)n.push(this.data.array[l+u])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class SpriteMaterial extends Material{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Color$1(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let _geometry;const _intersectPoint=new Vector3,_worldScale=new Vector3,_mvPosition=new Vector3,_alignedPosition=new Vector2,_rotatedPosition=new Vector2,_viewWorldMatrix=new Matrix4,_vA=new Vector3,_vB=new Vector3,_vC=new Vector3,_uvA=new Vector2,_uvB=new Vector2,_uvC=new Vector2;class Sprite extends Object3D{constructor(e=new SpriteMaterial){if(super(),this.isSprite=!0,this.type="Sprite",_geometry===void 0){_geometry=new BufferGeometry;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),o=new InterleavedBuffer(n,5);_geometry.setIndex([0,1,2,0,2,3]),_geometry.setAttribute("position",new InterleavedBufferAttribute(o,3,0,!1)),_geometry.setAttribute("uv",new InterleavedBufferAttribute(o,2,3,!1))}this.geometry=_geometry,this.material=e,this.center=new Vector2(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),_worldScale.setFromMatrixScale(this.matrixWorld),_viewWorldMatrix.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),_mvPosition.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&_worldScale.multiplyScalar(-_mvPosition.z);const o=this.material.rotation;let l,u;o!==0&&(u=Math.cos(o),l=Math.sin(o));const h=this.center;transformVertex(_vA.set(-.5,-.5,0),_mvPosition,h,_worldScale,l,u),transformVertex(_vB.set(.5,-.5,0),_mvPosition,h,_worldScale,l,u),transformVertex(_vC.set(.5,.5,0),_mvPosition,h,_worldScale,l,u),_uvA.set(0,0),_uvB.set(1,0),_uvC.set(1,1);let f=e.ray.intersectTriangle(_vA,_vB,_vC,!1,_intersectPoint);if(f===null&&(transformVertex(_vB.set(-.5,.5,0),_mvPosition,h,_worldScale,l,u),_uvB.set(0,1),f=e.ray.intersectTriangle(_vA,_vC,_vB,!1,_intersectPoint),f===null))return;const d=e.ray.origin.distanceTo(_intersectPoint);d<e.near||d>e.far||n.push({distance:d,point:_intersectPoint.clone(),uv:Triangle.getInterpolation(_intersectPoint,_vA,_vB,_vC,_uvA,_uvB,_uvC,new Vector2),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function transformVertex(t,e,n,o,l,u){_alignedPosition.subVectors(t,n).addScalar(.5).multiply(o),l!==void 0?(_rotatedPosition.x=u*_alignedPosition.x-l*_alignedPosition.y,_rotatedPosition.y=l*_alignedPosition.x+u*_alignedPosition.y):_rotatedPosition.copy(_alignedPosition),t.copy(e),t.x+=_rotatedPosition.x,t.y+=_rotatedPosition.y,t.applyMatrix4(_viewWorldMatrix)}const _v1$2=new Vector3,_v2$1=new Vector3;class LOD extends Object3D{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let o=0,l=n.length;o<l;o++){const u=n[o];this.addLevel(u.object.clone(),u.distance,u.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,o=0){n=Math.abs(n);const l=this.levels;let u;for(u=0;u<l.length&&!(n<l[u].distance);u++);return l.splice(u,0,{distance:n,hysteresis:o,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let o,l;for(o=1,l=n.length;o<l;o++){let u=n[o].distance;if(n[o].object.visible&&(u-=u*n[o].hysteresis),e<u)break}return n[o-1].object}return null}raycast(e,n){if(this.levels.length>0){_v1$2.setFromMatrixPosition(this.matrixWorld);const l=e.ray.origin.distanceTo(_v1$2);this.getObjectForDistance(l).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){_v1$2.setFromMatrixPosition(e.matrixWorld),_v2$1.setFromMatrixPosition(this.matrixWorld);const o=_v1$2.distanceTo(_v2$1)/e.zoom;n[0].object.visible=!0;let l,u;for(l=1,u=n.length;l<u;l++){let h=n[l].distance;if(n[l].object.visible&&(h-=h*n[l].hysteresis),o>=h)n[l-1].object.visible=!1,n[l].object.visible=!0;else break}for(this._currentLevel=l-1;l<u;l++)n[l].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const o=this.levels;for(let l=0,u=o.length;l<u;l++){const h=o[l];n.object.levels.push({object:h.object.uuid,distance:h.distance,hysteresis:h.hysteresis})}return n}}const _basePosition=new Vector3,_skinIndex=new Vector4,_skinWeight=new Vector4,_vector3=new Vector3,_matrix4=new Matrix4,_vertex=new Vector3,_sphere$4=new Sphere,_inverseMatrix$2=new Matrix4,_ray$2=new Ray;class SkinnedMesh extends Mesh{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=AttachedBindMode,this.bindMatrix=new Matrix4,this.bindMatrixInverse=new Matrix4,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Box3),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let o=0;o<n.count;o++)this.getVertexPosition(o,_vertex),this.boundingBox.expandByPoint(_vertex)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Sphere),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let o=0;o<n.count;o++)this.getVertexPosition(o,_vertex),this.boundingSphere.expandByPoint(_vertex)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const o=this.material,l=this.matrixWorld;o!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),_sphere$4.copy(this.boundingSphere),_sphere$4.applyMatrix4(l),e.ray.intersectsSphere(_sphere$4)!==!1&&(_inverseMatrix$2.copy(l).invert(),_ray$2.copy(e.ray).applyMatrix4(_inverseMatrix$2),!(this.boundingBox!==null&&_ray$2.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,_ray$2)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Vector4,n=this.geometry.attributes.skinWeight;for(let o=0,l=n.count;o<l;o++){e.fromBufferAttribute(n,o);const u=1/e.manhattanLength();u!==1/0?e.multiplyScalar(u):e.set(1,0,0,0),n.setXYZW(o,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===AttachedBindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===DetachedBindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const o=this.skeleton,l=this.geometry;_skinIndex.fromBufferAttribute(l.attributes.skinIndex,e),_skinWeight.fromBufferAttribute(l.attributes.skinWeight,e),_basePosition.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let u=0;u<4;u++){const h=_skinWeight.getComponent(u);if(h!==0){const f=_skinIndex.getComponent(u);_matrix4.multiplyMatrices(o.bones[f].matrixWorld,o.boneInverses[f]),n.addScaledVector(_vector3.copy(_basePosition).applyMatrix4(_matrix4),h)}}return n.applyMatrix4(this.bindMatrixInverse)}}class Bone extends Object3D{constructor(){super(),this.isBone=!0,this.type="Bone"}}class DataTexture extends Texture{constructor(e=null,n=1,o=1,l,u,h,f,d,p=NearestFilter,m=NearestFilter,v,b){super(null,h,f,d,p,m,l,u,v,b),this.isDataTexture=!0,this.image={data:e,width:n,height:o},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const _offsetMatrix=new Matrix4,_identityMatrix$1=new Matrix4;class Skeleton{constructor(e=[],n=[]){this.uuid=generateUUID(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let o=0,l=this.bones.length;o<l;o++)this.boneInverses.push(new Matrix4)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const o=new Matrix4;this.bones[e]&&o.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(o)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const o=this.bones[e];o&&o.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const o=this.bones[e];o&&(o.parent&&o.parent.isBone?(o.matrix.copy(o.parent.matrixWorld).invert(),o.matrix.multiply(o.matrixWorld)):o.matrix.copy(o.matrixWorld),o.matrix.decompose(o.position,o.quaternion,o.scale))}}update(){const e=this.bones,n=this.boneInverses,o=this.boneMatrices,l=this.boneTexture;for(let u=0,h=e.length;u<h;u++){const f=e[u]?e[u].matrixWorld:_identityMatrix$1;_offsetMatrix.multiplyMatrices(f,n[u]),_offsetMatrix.toArray(o,u*16)}l!==null&&(l.needsUpdate=!0)}clone(){return new Skeleton(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const o=new DataTexture(n,e,e,RGBAFormat,FloatType);return o.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=o,this}getBoneByName(e){for(let n=0,o=this.bones.length;n<o;n++){const l=this.bones[n];if(l.name===e)return l}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let o=0,l=e.bones.length;o<l;o++){const u=e.bones[o];let h=n[u];h===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",u),h=new Bone),this.bones.push(h),this.boneInverses.push(new Matrix4().fromArray(e.boneInverses[o]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,o=this.boneInverses;for(let l=0,u=n.length;l<u;l++){const h=n[l];e.bones.push(h.uuid);const f=o[l];e.boneInverses.push(f.toArray())}return e}}class InstancedBufferAttribute extends BufferAttribute{constructor(e,n,o,l=1){super(e,n,o),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=l}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const _instanceLocalMatrix=new Matrix4,_instanceWorldMatrix=new Matrix4,_instanceIntersects=[],_box3=new Box3,_identity=new Matrix4,_mesh$1=new Mesh,_sphere$3=new Sphere;class InstancedMesh extends Mesh{constructor(e,n,o){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new InstancedBufferAttribute(new Float32Array(o*16),16),this.instanceColor=null,this.morphTexture=null,this.count=o,this.boundingBox=null,this.boundingSphere=null;for(let l=0;l<o;l++)this.setMatrixAt(l,_identity)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new Box3),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let o=0;o<n;o++)this.getMatrixAt(o,_instanceLocalMatrix),_box3.copy(e.boundingBox).applyMatrix4(_instanceLocalMatrix),this.boundingBox.union(_box3)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new Sphere),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let o=0;o<n;o++)this.getMatrixAt(o,_instanceLocalMatrix),_sphere$3.copy(e.boundingSphere).applyMatrix4(_instanceLocalMatrix),this.boundingSphere.union(_sphere$3)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const o=n.morphTargetInfluences,l=this.morphTexture.source.data.data,u=o.length+1,h=e*u+1;for(let f=0;f<o.length;f++)o[f]=l[h+f]}raycast(e,n){const o=this.matrixWorld,l=this.count;if(_mesh$1.geometry=this.geometry,_mesh$1.material=this.material,_mesh$1.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),_sphere$3.copy(this.boundingSphere),_sphere$3.applyMatrix4(o),e.ray.intersectsSphere(_sphere$3)!==!1))for(let u=0;u<l;u++){this.getMatrixAt(u,_instanceLocalMatrix),_instanceWorldMatrix.multiplyMatrices(o,_instanceLocalMatrix),_mesh$1.matrixWorld=_instanceWorldMatrix,_mesh$1.raycast(e,_instanceIntersects);for(let h=0,f=_instanceIntersects.length;h<f;h++){const d=_instanceIntersects[h];d.instanceId=u,d.object=this,n.push(d)}_instanceIntersects.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new InstancedBufferAttribute(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const o=n.morphTargetInfluences,l=o.length+1;this.morphTexture===null&&(this.morphTexture=new DataTexture(new Float32Array(l*this.count),l,this.count,RedFormat,FloatType));const u=this.morphTexture.source.data.data;let h=0;for(let p=0;p<o.length;p++)h+=o[p];const f=this.geometry.morphTargetsRelative?1:1-h,d=l*e;u[d]=f,u.set(o,d+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}function sortOpaque(t,e){return t.z-e.z}function sortTransparent(t,e){return e.z-t.z}class MultiDrawRenderList{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n){const o=this.pool,l=this.list;this.index>=o.length&&o.push({start:-1,count:-1,z:-1});const u=o[this.index];l.push(u),this.index++,u.start=e.start,u.count=e.count,u.z=n}reset(){this.list.length=0,this.index=0}}const ID_ATTR_NAME="batchId",_matrix$1=new Matrix4,_invMatrixWorld=new Matrix4,_identityMatrix=new Matrix4,_projScreenMatrix$2=new Matrix4,_frustum=new Frustum,_box$1=new Box3,_sphere$2=new Sphere,_vector$5=new Vector3,_renderList=new MultiDrawRenderList,_mesh=new Mesh,_batchIntersects=[];function copyAttributeData(t,e,n=0){const o=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const l=t.count;for(let u=0;u<l;u++)for(let h=0;h<o;h++)e.setComponent(u+n,h,t.getComponent(u,h))}else e.array.set(t.array,n*o);e.needsUpdate=!0}class BatchedMesh extends Mesh{get maxGeometryCount(){return this._maxGeometryCount}constructor(e,n,o=n*2,l){super(new BufferGeometry,l),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=e,this._maxVertexCount=n,this._maxIndexCount=o,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxGeometryCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),o=new DataTexture(n,e,e,RGBAFormat,FloatType);this._matricesTexture=o}_initializeGeometry(e){const n=this.geometry,o=this._maxVertexCount,l=this._maxGeometryCount,u=this._maxIndexCount;if(this._geometryInitialized===!1){for(const f in e.attributes){const d=e.getAttribute(f),{array:p,itemSize:m,normalized:v}=d,b=new p.constructor(o*m),S=new d.constructor(b,m,v);S.setUsage(d.usage),n.setAttribute(f,S)}if(e.getIndex()!==null){const f=o>65536?new Uint32Array(u):new Uint16Array(u);n.setIndex(new BufferAttribute(f,1))}const h=l>65536?new Uint32Array(o):new Uint16Array(o);n.setAttribute(ID_ATTR_NAME,new BufferAttribute(h,1)),this._geometryInitialized=!0}}_validateGeometry(e){if(e.getAttribute(ID_ATTR_NAME))throw new Error(`BatchedMesh: Geometry cannot use attribute "${ID_ATTR_NAME}"`);const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const o in n.attributes){if(o===ID_ATTR_NAME)continue;if(!e.hasAttribute(o))throw new Error(`BatchedMesh: Added geometry missing "${o}". All geometries must have consistent attributes.`);const l=e.getAttribute(o),u=n.getAttribute(o);if(l.itemSize!==u.itemSize||l.normalized!==u.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const e=this._geometryCount,n=this.boundingBox,o=this._active;n.makeEmpty();for(let l=0;l<e;l++)o[l]!==!1&&(this.getMatrixAt(l,_matrix$1),this.getBoundingBoxAt(l,_box$1).applyMatrix4(_matrix$1),n.union(_box$1))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere);const e=this._geometryCount,n=this.boundingSphere,o=this._active;n.makeEmpty();for(let l=0;l<e;l++)o[l]!==!1&&(this.getMatrixAt(l,_matrix$1),this.getBoundingSphereAt(l,_sphere$2).applyMatrix4(_matrix$1),n.union(_sphere$2))}addGeometry(e,n=-1,o=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const l={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let u=null;const h=this._reservedRanges,f=this._drawRanges,d=this._bounds;this._geometryCount!==0&&(u=h[h.length-1]),n===-1?l.vertexCount=e.getAttribute("position").count:l.vertexCount=n,u===null?l.vertexStart=0:l.vertexStart=u.vertexStart+u.vertexCount;const p=e.getIndex(),m=p!==null;if(m&&(o===-1?l.indexCount=p.count:l.indexCount=o,u===null?l.indexStart=0:l.indexStart=u.indexStart+u.indexCount),l.indexStart!==-1&&l.indexStart+l.indexCount>this._maxIndexCount||l.vertexStart+l.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const v=this._visibility,b=this._active,S=this._matricesTexture,T=this._matricesTexture.image.data;v.push(!0),b.push(!0);const C=this._geometryCount;this._geometryCount++,_identityMatrix.toArray(T,C*16),S.needsUpdate=!0,h.push(l),f.push({start:m?l.indexStart:l.vertexStart,count:-1}),d.push({boxInitialized:!1,box:new Box3,sphereInitialized:!1,sphere:new Sphere});const w=this.geometry.getAttribute(ID_ATTR_NAME);for(let R=0;R<l.vertexCount;R++)w.setX(l.vertexStart+R,C);return w.needsUpdate=!0,this.setGeometryAt(C,e),C}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const o=this.geometry,l=o.getIndex()!==null,u=o.getIndex(),h=n.getIndex(),f=this._reservedRanges[e];if(l&&h.count>f.indexCount||n.attributes.position.count>f.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const d=f.vertexStart,p=f.vertexCount;for(const S in o.attributes){if(S===ID_ATTR_NAME)continue;const T=n.getAttribute(S),C=o.getAttribute(S);copyAttributeData(T,C,d);const w=T.itemSize;for(let R=T.count,L=p;R<L;R++){const N=d+R;for(let F=0;F<w;F++)C.setComponent(N,F,0)}C.needsUpdate=!0}if(l){const S=f.indexStart;for(let T=0;T<h.count;T++)u.setX(S+T,d+h.getX(T));for(let T=h.count,C=f.indexCount;T<C;T++)u.setX(S+T,d);u.needsUpdate=!0}const m=this._bounds[e];n.boundingBox!==null?(m.box.copy(n.boundingBox),m.boxInitialized=!0):m.boxInitialized=!1,n.boundingSphere!==null?(m.sphere.copy(n.boundingSphere),m.sphereInitialized=!0):m.sphereInitialized=!1;const v=this._drawRanges[e],b=n.getAttribute("position");return v.count=l?h.count:b.count,this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._active;return e>=n.length||n[e]===!1?this:(n[e]=!1,this._visibilityChanged=!0,this)}getBoundingBoxAt(e,n){if(this._active[e]===!1)return null;const l=this._bounds[e],u=l.box,h=this.geometry;if(l.boxInitialized===!1){u.makeEmpty();const f=h.index,d=h.attributes.position,p=this._drawRanges[e];for(let m=p.start,v=p.start+p.count;m<v;m++){let b=m;f&&(b=f.getX(b)),u.expandByPoint(_vector$5.fromBufferAttribute(d,b))}l.boxInitialized=!0}return n.copy(u),n}getBoundingSphereAt(e,n){if(this._active[e]===!1)return null;const l=this._bounds[e],u=l.sphere,h=this.geometry;if(l.sphereInitialized===!1){u.makeEmpty(),this.getBoundingBoxAt(e,_box$1),_box$1.getCenter(u.center);const f=h.index,d=h.attributes.position,p=this._drawRanges[e];let m=0;for(let v=p.start,b=p.start+p.count;v<b;v++){let S=v;f&&(S=f.getX(S)),_vector$5.fromBufferAttribute(d,S),m=Math.max(m,u.center.distanceToSquared(_vector$5))}u.radius=Math.sqrt(m),l.sphereInitialized=!0}return n.copy(u),n}setMatrixAt(e,n){const o=this._active,l=this._matricesTexture,u=this._matricesTexture.image.data,h=this._geometryCount;return e>=h||o[e]===!1?this:(n.toArray(u,e*16),l.needsUpdate=!0,this)}getMatrixAt(e,n){const o=this._active,l=this._matricesTexture.image.data,u=this._geometryCount;return e>=u||o[e]===!1?null:n.fromArray(l,e*16)}setVisibleAt(e,n){const o=this._visibility,l=this._active,u=this._geometryCount;return e>=u||l[e]===!1||o[e]===n?this:(o[e]=n,this._visibilityChanged=!0,this)}getVisibleAt(e){const n=this._visibility,o=this._active,l=this._geometryCount;return e>=l||o[e]===!1?!1:n[e]}raycast(e,n){const o=this._visibility,l=this._active,u=this._drawRanges,h=this._geometryCount,f=this.matrixWorld,d=this.geometry;_mesh.material=this.material,_mesh.geometry.index=d.index,_mesh.geometry.attributes=d.attributes,_mesh.geometry.boundingBox===null&&(_mesh.geometry.boundingBox=new Box3),_mesh.geometry.boundingSphere===null&&(_mesh.geometry.boundingSphere=new Sphere);for(let p=0;p<h;p++){if(!o[p]||!l[p])continue;const m=u[p];_mesh.geometry.setDrawRange(m.start,m.count),this.getMatrixAt(p,_mesh.matrixWorld).premultiply(f),this.getBoundingBoxAt(p,_mesh.geometry.boundingBox),this.getBoundingSphereAt(p,_mesh.geometry.boundingSphere),_mesh.raycast(e,_batchIntersects);for(let v=0,b=_batchIntersects.length;v<b;v++){const S=_batchIntersects[v];S.object=this,S.batchId=p,n.push(S)}_batchIntersects.length=0}_mesh.material=null,_mesh.geometry.index=null,_mesh.geometry.attributes={},_mesh.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(n=>({...n})),this._reservedRanges=e._reservedRanges.map(n=>({...n})),this._visibility=e._visibility.slice(),this._active=e._active.slice(),this._bounds=e._bounds.map(n=>({boxInitialized:n.boxInitialized,box:n.box.clone(),sphereInitialized:n.sphereInitialized,sphere:n.sphere.clone()})),this._maxGeometryCount=e._maxGeometryCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this}onBeforeRender(e,n,o,l,u){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const h=l.getIndex(),f=h===null?1:h.array.BYTES_PER_ELEMENT,d=this._active,p=this._visibility,m=this._multiDrawStarts,v=this._multiDrawCounts,b=this._drawRanges,S=this.perObjectFrustumCulled;S&&(_projScreenMatrix$2.multiplyMatrices(o.projectionMatrix,o.matrixWorldInverse).multiply(this.matrixWorld),_frustum.setFromProjectionMatrix(_projScreenMatrix$2,e.coordinateSystem));let T=0;if(this.sortObjects){_invMatrixWorld.copy(this.matrixWorld).invert(),_vector$5.setFromMatrixPosition(o.matrixWorld).applyMatrix4(_invMatrixWorld);for(let R=0,L=p.length;R<L;R++)if(p[R]&&d[R]){this.getMatrixAt(R,_matrix$1),this.getBoundingSphereAt(R,_sphere$2).applyMatrix4(_matrix$1);let N=!1;if(S&&(N=!_frustum.intersectsSphere(_sphere$2)),!N){const F=_vector$5.distanceTo(_sphere$2.center);_renderList.push(b[R],F)}}const C=_renderList.list,w=this.customSort;w===null?C.sort(u.transparent?sortTransparent:sortOpaque):w.call(this,C,o);for(let R=0,L=C.length;R<L;R++){const N=C[R];m[T]=N.start*f,v[T]=N.count,T++}_renderList.reset()}else for(let C=0,w=p.length;C<w;C++)if(p[C]&&d[C]){let R=!1;if(S&&(this.getMatrixAt(C,_matrix$1),this.getBoundingSphereAt(C,_sphere$2).applyMatrix4(_matrix$1),R=!_frustum.intersectsSphere(_sphere$2)),!R){const L=b[C];m[T]=L.start*f,v[T]=L.count,T++}}this._multiDrawCount=T,this._visibilityChanged=!1}onBeforeShadow(e,n,o,l,u,h){this.onBeforeRender(e,null,l,u,h)}}class LineBasicMaterial extends Material{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Color$1(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const _start$1=new Vector3,_end$1=new Vector3,_inverseMatrix$1=new Matrix4,_ray$1$1=new Ray,_sphere$1=new Sphere;class Line extends Object3D{constructor(e=new BufferGeometry,n=new LineBasicMaterial){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,o=[0];for(let l=1,u=n.count;l<u;l++)_start$1.fromBufferAttribute(n,l-1),_end$1.fromBufferAttribute(n,l),o[l]=o[l-1],o[l]+=_start$1.distanceTo(_end$1);e.setAttribute("lineDistance",new Float32BufferAttribute(o,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const o=this.geometry,l=this.matrixWorld,u=e.params.Line.threshold,h=o.drawRange;if(o.boundingSphere===null&&o.computeBoundingSphere(),_sphere$1.copy(o.boundingSphere),_sphere$1.applyMatrix4(l),_sphere$1.radius+=u,e.ray.intersectsSphere(_sphere$1)===!1)return;_inverseMatrix$1.copy(l).invert(),_ray$1$1.copy(e.ray).applyMatrix4(_inverseMatrix$1);const f=u/((this.scale.x+this.scale.y+this.scale.z)/3),d=f*f,p=new Vector3,m=new Vector3,v=new Vector3,b=new Vector3,S=this.isLineSegments?2:1,T=o.index,w=o.attributes.position;if(T!==null){const R=Math.max(0,h.start),L=Math.min(T.count,h.start+h.count);for(let N=R,F=L-1;N<F;N+=S){const B=T.getX(N),U=T.getX(N+1);if(p.fromBufferAttribute(w,B),m.fromBufferAttribute(w,U),_ray$1$1.distanceSqToSegment(p,m,b,v)>d)continue;b.applyMatrix4(this.matrixWorld);const K=e.ray.origin.distanceTo(b);K<e.near||K>e.far||n.push({distance:K,point:v.clone().applyMatrix4(this.matrixWorld),index:N,face:null,faceIndex:null,object:this})}}else{const R=Math.max(0,h.start),L=Math.min(w.count,h.start+h.count);for(let N=R,F=L-1;N<F;N+=S){if(p.fromBufferAttribute(w,N),m.fromBufferAttribute(w,N+1),_ray$1$1.distanceSqToSegment(p,m,b,v)>d)continue;b.applyMatrix4(this.matrixWorld);const U=e.ray.origin.distanceTo(b);U<e.near||U>e.far||n.push({distance:U,point:v.clone().applyMatrix4(this.matrixWorld),index:N,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,o=Object.keys(n);if(o.length>0){const l=n[o[0]];if(l!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let u=0,h=l.length;u<h;u++){const f=l[u].name||String(u);this.morphTargetInfluences.push(0),this.morphTargetDictionary[f]=u}}}}}const _start=new Vector3,_end=new Vector3;class LineSegments extends Line{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,o=[];for(let l=0,u=n.count;l<u;l+=2)_start.fromBufferAttribute(n,l),_end.fromBufferAttribute(n,l+1),o[l]=l===0?0:o[l-1],o[l+1]=o[l]+_start.distanceTo(_end);e.setAttribute("lineDistance",new Float32BufferAttribute(o,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class LineLoop extends Line{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class PointsMaterial extends Material{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Color$1(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const _inverseMatrix=new Matrix4,_ray$4=new Ray,_sphere=new Sphere,_position$2=new Vector3;class Points extends Object3D{constructor(e=new BufferGeometry,n=new PointsMaterial){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const o=this.geometry,l=this.matrixWorld,u=e.params.Points.threshold,h=o.drawRange;if(o.boundingSphere===null&&o.computeBoundingSphere(),_sphere.copy(o.boundingSphere),_sphere.applyMatrix4(l),_sphere.radius+=u,e.ray.intersectsSphere(_sphere)===!1)return;_inverseMatrix.copy(l).invert(),_ray$4.copy(e.ray).applyMatrix4(_inverseMatrix);const f=u/((this.scale.x+this.scale.y+this.scale.z)/3),d=f*f,p=o.index,v=o.attributes.position;if(p!==null){const b=Math.max(0,h.start),S=Math.min(p.count,h.start+h.count);for(let T=b,C=S;T<C;T++){const w=p.getX(T);_position$2.fromBufferAttribute(v,w),testPoint(_position$2,w,d,l,e,n,this)}}else{const b=Math.max(0,h.start),S=Math.min(v.count,h.start+h.count);for(let T=b,C=S;T<C;T++)_position$2.fromBufferAttribute(v,T),testPoint(_position$2,T,d,l,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,o=Object.keys(n);if(o.length>0){const l=n[o[0]];if(l!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let u=0,h=l.length;u<h;u++){const f=l[u].name||String(u);this.morphTargetInfluences.push(0),this.morphTargetDictionary[f]=u}}}}}function testPoint(t,e,n,o,l,u,h){const f=_ray$4.distanceSqToPoint(t);if(f<n){const d=new Vector3;_ray$4.closestPointToPoint(t,d),d.applyMatrix4(o);const p=l.ray.origin.distanceTo(d);if(p<l.near||p>l.far)return;u.push({distance:p,distanceToRay:Math.sqrt(f),point:d,index:e,face:null,object:h})}}class VideoTexture extends Texture{constructor(e,n,o,l,u,h,f,d,p){super(e,n,o,l,u,h,f,d,p),this.isVideoTexture=!0,this.minFilter=h!==void 0?h:LinearFilter,this.magFilter=u!==void 0?u:LinearFilter,this.generateMipmaps=!1;const m=this;function v(){m.needsUpdate=!0,e.requestVideoFrameCallback(v)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(v)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class FramebufferTexture extends Texture{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.generateMipmaps=!1,this.needsUpdate=!0}}class CompressedTexture extends Texture{constructor(e,n,o,l,u,h,f,d,p,m,v,b){super(null,h,f,d,p,m,l,u,v,b),this.isCompressedTexture=!0,this.image={width:n,height:o},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class CompressedArrayTexture extends CompressedTexture{constructor(e,n,o,l,u,h){super(e,n,o,u,h),this.isCompressedArrayTexture=!0,this.image.depth=l,this.wrapR=ClampToEdgeWrapping}}class CompressedCubeTexture extends CompressedTexture{constructor(e,n,o){super(void 0,e[0].width,e[0].height,n,o,CubeReflectionMapping),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class CanvasTexture extends Texture{constructor(e,n,o,l,u,h,f,d,p){super(e,n,o,l,u,h,f,d,p),this.isCanvasTexture=!0,this.needsUpdate=!0}}let Curve$1=class{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const o=this.getUtoTmapping(e);return this.getPoint(o,n)}getPoints(e=5){const n=[];for(let o=0;o<=e;o++)n.push(this.getPoint(o/e));return n}getSpacedPoints(e=5){const n=[];for(let o=0;o<=e;o++)n.push(this.getPointAt(o/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let o,l=this.getPoint(0),u=0;n.push(0);for(let h=1;h<=e;h++)o=this.getPoint(h/e),u+=o.distanceTo(l),n.push(u),l=o;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const o=this.getLengths();let l=0;const u=o.length;let h;n?h=n:h=e*o[u-1];let f=0,d=u-1,p;for(;f<=d;)if(l=Math.floor(f+(d-f)/2),p=o[l]-h,p<0)f=l+1;else if(p>0)d=l-1;else{d=l;break}if(l=d,o[l]===h)return l/(u-1);const m=o[l],b=o[l+1]-m,S=(h-m)/b;return(l+S)/(u-1)}getTangent(e,n){let l=e-1e-4,u=e+1e-4;l<0&&(l=0),u>1&&(u=1);const h=this.getPoint(l),f=this.getPoint(u),d=n||(h.isVector2?new Vector2:new Vector3);return d.copy(f).sub(h).normalize(),d}getTangentAt(e,n){const o=this.getUtoTmapping(e);return this.getTangent(o,n)}computeFrenetFrames(e,n){const o=new Vector3,l=[],u=[],h=[],f=new Vector3,d=new Matrix4;for(let S=0;S<=e;S++){const T=S/e;l[S]=this.getTangentAt(T,new Vector3)}u[0]=new Vector3,h[0]=new Vector3;let p=Number.MAX_VALUE;const m=Math.abs(l[0].x),v=Math.abs(l[0].y),b=Math.abs(l[0].z);m<=p&&(p=m,o.set(1,0,0)),v<=p&&(p=v,o.set(0,1,0)),b<=p&&o.set(0,0,1),f.crossVectors(l[0],o).normalize(),u[0].crossVectors(l[0],f),h[0].crossVectors(l[0],u[0]);for(let S=1;S<=e;S++){if(u[S]=u[S-1].clone(),h[S]=h[S-1].clone(),f.crossVectors(l[S-1],l[S]),f.length()>Number.EPSILON){f.normalize();const T=Math.acos(clamp(l[S-1].dot(l[S]),-1,1));u[S].applyMatrix4(d.makeRotationAxis(f,T))}h[S].crossVectors(l[S],u[S])}if(n===!0){let S=Math.acos(clamp(u[0].dot(u[e]),-1,1));S/=e,l[0].dot(f.crossVectors(u[0],u[e]))>0&&(S=-S);for(let T=1;T<=e;T++)u[T].applyMatrix4(d.makeRotationAxis(l[T],S*T)),h[T].crossVectors(l[T],u[T])}return{tangents:l,normals:u,binormals:h}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}};class EllipseCurve extends Curve$1{constructor(e=0,n=0,o=1,l=1,u=0,h=Math.PI*2,f=!1,d=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=o,this.yRadius=l,this.aStartAngle=u,this.aEndAngle=h,this.aClockwise=f,this.aRotation=d}getPoint(e,n=new Vector2){const o=n,l=Math.PI*2;let u=this.aEndAngle-this.aStartAngle;const h=Math.abs(u)<Number.EPSILON;for(;u<0;)u+=l;for(;u>l;)u-=l;u<Number.EPSILON&&(h?u=0:u=l),this.aClockwise===!0&&!h&&(u===l?u=-l:u=u-l);const f=this.aStartAngle+e*u;let d=this.aX+this.xRadius*Math.cos(f),p=this.aY+this.yRadius*Math.sin(f);if(this.aRotation!==0){const m=Math.cos(this.aRotation),v=Math.sin(this.aRotation),b=d-this.aX,S=p-this.aY;d=b*m-S*v+this.aX,p=b*v+S*m+this.aY}return o.set(d,p)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class ArcCurve extends EllipseCurve{constructor(e,n,o,l,u,h){super(e,n,o,o,l,u,h),this.isArcCurve=!0,this.type="ArcCurve"}}function CubicPoly(){let t=0,e=0,n=0,o=0;function l(u,h,f,d){t=u,e=f,n=-3*u+3*h-2*f-d,o=2*u-2*h+f+d}return{initCatmullRom:function(u,h,f,d,p){l(h,f,p*(f-u),p*(d-h))},initNonuniformCatmullRom:function(u,h,f,d,p,m,v){let b=(h-u)/p-(f-u)/(p+m)+(f-h)/m,S=(f-h)/m-(d-h)/(m+v)+(d-f)/v;b*=m,S*=m,l(h,f,b,S)},calc:function(u){const h=u*u,f=h*u;return t+e*u+n*h+o*f}}}const tmp=new Vector3,px=new CubicPoly,py=new CubicPoly,pz=new CubicPoly;class CatmullRomCurve3 extends Curve$1{constructor(e=[],n=!1,o="centripetal",l=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=o,this.tension=l}getPoint(e,n=new Vector3){const o=n,l=this.points,u=l.length,h=(u-(this.closed?0:1))*e;let f=Math.floor(h),d=h-f;this.closed?f+=f>0?0:(Math.floor(Math.abs(f)/u)+1)*u:d===0&&f===u-1&&(f=u-2,d=1);let p,m;this.closed||f>0?p=l[(f-1)%u]:(tmp.subVectors(l[0],l[1]).add(l[0]),p=tmp);const v=l[f%u],b=l[(f+1)%u];if(this.closed||f+2<u?m=l[(f+2)%u]:(tmp.subVectors(l[u-1],l[u-2]).add(l[u-1]),m=tmp),this.curveType==="centripetal"||this.curveType==="chordal"){const S=this.curveType==="chordal"?.5:.25;let T=Math.pow(p.distanceToSquared(v),S),C=Math.pow(v.distanceToSquared(b),S),w=Math.pow(b.distanceToSquared(m),S);C<1e-4&&(C=1),T<1e-4&&(T=C),w<1e-4&&(w=C),px.initNonuniformCatmullRom(p.x,v.x,b.x,m.x,T,C,w),py.initNonuniformCatmullRom(p.y,v.y,b.y,m.y,T,C,w),pz.initNonuniformCatmullRom(p.z,v.z,b.z,m.z,T,C,w)}else this.curveType==="catmullrom"&&(px.initCatmullRom(p.x,v.x,b.x,m.x,this.tension),py.initCatmullRom(p.y,v.y,b.y,m.y,this.tension),pz.initCatmullRom(p.z,v.z,b.z,m.z,this.tension));return o.set(px.calc(d),py.calc(d),pz.calc(d)),o}copy(e){super.copy(e),this.points=[];for(let n=0,o=e.points.length;n<o;n++){const l=e.points[n];this.points.push(l.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,o=this.points.length;n<o;n++){const l=this.points[n];e.points.push(l.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,o=e.points.length;n<o;n++){const l=e.points[n];this.points.push(new Vector3().fromArray(l))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function CatmullRom(t,e,n,o,l){const u=(o-e)*.5,h=(l-n)*.5,f=t*t,d=t*f;return(2*n-2*o+u+h)*d+(-3*n+3*o-2*u-h)*f+u*t+n}function QuadraticBezierP0(t,e){const n=1-t;return n*n*e}function QuadraticBezierP1(t,e){return 2*(1-t)*t*e}function QuadraticBezierP2(t,e){return t*t*e}function QuadraticBezier(t,e,n,o){return QuadraticBezierP0(t,e)+QuadraticBezierP1(t,n)+QuadraticBezierP2(t,o)}function CubicBezierP0(t,e){const n=1-t;return n*n*n*e}function CubicBezierP1(t,e){const n=1-t;return 3*n*n*t*e}function CubicBezierP2(t,e){return 3*(1-t)*t*t*e}function CubicBezierP3(t,e){return t*t*t*e}function CubicBezier(t,e,n,o,l){return CubicBezierP0(t,e)+CubicBezierP1(t,n)+CubicBezierP2(t,o)+CubicBezierP3(t,l)}class CubicBezierCurve extends Curve$1{constructor(e=new Vector2,n=new Vector2,o=new Vector2,l=new Vector2){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=o,this.v3=l}getPoint(e,n=new Vector2){const o=n,l=this.v0,u=this.v1,h=this.v2,f=this.v3;return o.set(CubicBezier(e,l.x,u.x,h.x,f.x),CubicBezier(e,l.y,u.y,h.y,f.y)),o}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class CubicBezierCurve3 extends Curve$1{constructor(e=new Vector3,n=new Vector3,o=new Vector3,l=new Vector3){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=o,this.v3=l}getPoint(e,n=new Vector3){const o=n,l=this.v0,u=this.v1,h=this.v2,f=this.v3;return o.set(CubicBezier(e,l.x,u.x,h.x,f.x),CubicBezier(e,l.y,u.y,h.y,f.y),CubicBezier(e,l.z,u.z,h.z,f.z)),o}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class LineCurve extends Curve$1{constructor(e=new Vector2,n=new Vector2){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new Vector2){const o=n;return e===1?o.copy(this.v2):(o.copy(this.v2).sub(this.v1),o.multiplyScalar(e).add(this.v1)),o}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Vector2){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class LineCurve3 extends Curve$1{constructor(e=new Vector3,n=new Vector3){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new Vector3){const o=n;return e===1?o.copy(this.v2):(o.copy(this.v2).sub(this.v1),o.multiplyScalar(e).add(this.v1)),o}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Vector3){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class QuadraticBezierCurve extends Curve$1{constructor(e=new Vector2,n=new Vector2,o=new Vector2){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=o}getPoint(e,n=new Vector2){const o=n,l=this.v0,u=this.v1,h=this.v2;return o.set(QuadraticBezier(e,l.x,u.x,h.x),QuadraticBezier(e,l.y,u.y,h.y)),o}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class QuadraticBezierCurve3 extends Curve$1{constructor(e=new Vector3,n=new Vector3,o=new Vector3){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=o}getPoint(e,n=new Vector3){const o=n,l=this.v0,u=this.v1,h=this.v2;return o.set(QuadraticBezier(e,l.x,u.x,h.x),QuadraticBezier(e,l.y,u.y,h.y),QuadraticBezier(e,l.z,u.z,h.z)),o}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class SplineCurve extends Curve$1{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new Vector2){const o=n,l=this.points,u=(l.length-1)*e,h=Math.floor(u),f=u-h,d=l[h===0?h:h-1],p=l[h],m=l[h>l.length-2?l.length-1:h+1],v=l[h>l.length-3?l.length-1:h+2];return o.set(CatmullRom(f,d.x,p.x,m.x,v.x),CatmullRom(f,d.y,p.y,m.y,v.y)),o}copy(e){super.copy(e),this.points=[];for(let n=0,o=e.points.length;n<o;n++){const l=e.points[n];this.points.push(l.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,o=this.points.length;n<o;n++){const l=this.points[n];e.points.push(l.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,o=e.points.length;n<o;n++){const l=e.points[n];this.points.push(new Vector2().fromArray(l))}return this}}var Curves=Object.freeze({__proto__:null,ArcCurve,CatmullRomCurve3,CubicBezierCurve,CubicBezierCurve3,EllipseCurve,LineCurve,LineCurve3,QuadraticBezierCurve,QuadraticBezierCurve3,SplineCurve});class CurvePath extends Curve$1{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const o=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Curves[o](n,e))}return this}getPoint(e,n){const o=e*this.getLength(),l=this.getCurveLengths();let u=0;for(;u<l.length;){if(l[u]>=o){const h=l[u]-o,f=this.curves[u],d=f.getLength(),p=d===0?0:1-h/d;return f.getPointAt(p,n)}u++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let o=0,l=this.curves.length;o<l;o++)n+=this.curves[o].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let o=0;o<=e;o++)n.push(this.getPoint(o/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let o;for(let l=0,u=this.curves;l<u.length;l++){const h=u[l],f=h.isEllipseCurve?e*2:h.isLineCurve||h.isLineCurve3?1:h.isSplineCurve?e*h.points.length:e,d=h.getPoints(f);for(let p=0;p<d.length;p++){const m=d[p];o&&o.equals(m)||(n.push(m),o=m)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,o=e.curves.length;n<o;n++){const l=e.curves[n];this.curves.push(l.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,o=this.curves.length;n<o;n++){const l=this.curves[n];e.curves.push(l.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,o=e.curves.length;n<o;n++){const l=e.curves[n];this.curves.push(new Curves[l.type]().fromJSON(l))}return this}}let Path$1=class extends CurvePath{constructor(e){super(),this.type="Path",this.currentPoint=new Vector2,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,o=e.length;n<o;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const o=new LineCurve(this.currentPoint.clone(),new Vector2(e,n));return this.curves.push(o),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,o,l){const u=new QuadraticBezierCurve(this.currentPoint.clone(),new Vector2(e,n),new Vector2(o,l));return this.curves.push(u),this.currentPoint.set(o,l),this}bezierCurveTo(e,n,o,l,u,h){const f=new CubicBezierCurve(this.currentPoint.clone(),new Vector2(e,n),new Vector2(o,l),new Vector2(u,h));return this.curves.push(f),this.currentPoint.set(u,h),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),o=new SplineCurve(n);return this.curves.push(o),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,o,l,u,h){const f=this.currentPoint.x,d=this.currentPoint.y;return this.absarc(e+f,n+d,o,l,u,h),this}absarc(e,n,o,l,u,h){return this.absellipse(e,n,o,o,l,u,h),this}ellipse(e,n,o,l,u,h,f,d){const p=this.currentPoint.x,m=this.currentPoint.y;return this.absellipse(e+p,n+m,o,l,u,h,f,d),this}absellipse(e,n,o,l,u,h,f,d){const p=new EllipseCurve(e,n,o,l,u,h,f,d);if(this.curves.length>0){const v=p.getPoint(0);v.equals(this.currentPoint)||this.lineTo(v.x,v.y)}this.curves.push(p);const m=p.getPoint(1);return this.currentPoint.copy(m),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}};class LatheGeometry extends BufferGeometry{constructor(e=[new Vector2(0,-.5),new Vector2(.5,0),new Vector2(0,.5)],n=12,o=0,l=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:o,phiLength:l},n=Math.floor(n),l=clamp(l,0,Math.PI*2);const u=[],h=[],f=[],d=[],p=[],m=1/n,v=new Vector3,b=new Vector2,S=new Vector3,T=new Vector3,C=new Vector3;let w=0,R=0;for(let L=0;L<=e.length-1;L++)switch(L){case 0:w=e[L+1].x-e[L].x,R=e[L+1].y-e[L].y,S.x=R*1,S.y=-w,S.z=R*0,C.copy(S),S.normalize(),d.push(S.x,S.y,S.z);break;case e.length-1:d.push(C.x,C.y,C.z);break;default:w=e[L+1].x-e[L].x,R=e[L+1].y-e[L].y,S.x=R*1,S.y=-w,S.z=R*0,T.copy(S),S.x+=C.x,S.y+=C.y,S.z+=C.z,S.normalize(),d.push(S.x,S.y,S.z),C.copy(T)}for(let L=0;L<=n;L++){const N=o+L*m*l,F=Math.sin(N),B=Math.cos(N);for(let U=0;U<=e.length-1;U++){v.x=e[U].x*F,v.y=e[U].y,v.z=e[U].x*B,h.push(v.x,v.y,v.z),b.x=L/n,b.y=U/(e.length-1),f.push(b.x,b.y);const z=d[3*U+0]*F,K=d[3*U+1],Q=d[3*U+0]*B;p.push(z,K,Q)}}for(let L=0;L<n;L++)for(let N=0;N<e.length-1;N++){const F=N+L*e.length,B=F,U=F+e.length,z=F+e.length+1,K=F+1;u.push(B,U,K),u.push(z,K,U)}this.setIndex(u),this.setAttribute("position",new Float32BufferAttribute(h,3)),this.setAttribute("uv",new Float32BufferAttribute(f,2)),this.setAttribute("normal",new Float32BufferAttribute(p,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new LatheGeometry(e.points,e.segments,e.phiStart,e.phiLength)}}class CapsuleGeometry extends LatheGeometry{constructor(e=1,n=1,o=4,l=8){const u=new Path$1;u.absarc(0,-n/2,e,Math.PI*1.5,0),u.absarc(0,n/2,e,0,Math.PI*.5),super(u.getPoints(o),l),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:o,radialSegments:l}}static fromJSON(e){return new CapsuleGeometry(e.radius,e.length,e.capSegments,e.radialSegments)}}class CircleGeometry extends BufferGeometry{constructor(e=1,n=32,o=0,l=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:o,thetaLength:l},n=Math.max(3,n);const u=[],h=[],f=[],d=[],p=new Vector3,m=new Vector2;h.push(0,0,0),f.push(0,0,1),d.push(.5,.5);for(let v=0,b=3;v<=n;v++,b+=3){const S=o+v/n*l;p.x=e*Math.cos(S),p.y=e*Math.sin(S),h.push(p.x,p.y,p.z),f.push(0,0,1),m.x=(h[b]/e+1)/2,m.y=(h[b+1]/e+1)/2,d.push(m.x,m.y)}for(let v=1;v<=n;v++)u.push(v,v+1,0);this.setIndex(u),this.setAttribute("position",new Float32BufferAttribute(h,3)),this.setAttribute("normal",new Float32BufferAttribute(f,3)),this.setAttribute("uv",new Float32BufferAttribute(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new CircleGeometry(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class CylinderGeometry extends BufferGeometry{constructor(e=1,n=1,o=1,l=32,u=1,h=!1,f=0,d=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:o,radialSegments:l,heightSegments:u,openEnded:h,thetaStart:f,thetaLength:d};const p=this;l=Math.floor(l),u=Math.floor(u);const m=[],v=[],b=[],S=[];let T=0;const C=[],w=o/2;let R=0;L(),h===!1&&(e>0&&N(!0),n>0&&N(!1)),this.setIndex(m),this.setAttribute("position",new Float32BufferAttribute(v,3)),this.setAttribute("normal",new Float32BufferAttribute(b,3)),this.setAttribute("uv",new Float32BufferAttribute(S,2));function L(){const F=new Vector3,B=new Vector3;let U=0;const z=(n-e)/o;for(let K=0;K<=u;K++){const Q=[],q=K/u,H=q*(n-e)+e;for(let se=0;se<=l;se++){const le=se/l,ne=le*d+f,ce=Math.sin(ne),fe=Math.cos(ne);B.x=H*ce,B.y=-q*o+w,B.z=H*fe,v.push(B.x,B.y,B.z),F.set(ce,z,fe).normalize(),b.push(F.x,F.y,F.z),S.push(le,1-q),Q.push(T++)}C.push(Q)}for(let K=0;K<l;K++)for(let Q=0;Q<u;Q++){const q=C[Q][K],H=C[Q+1][K],se=C[Q+1][K+1],le=C[Q][K+1];m.push(q,H,le),m.push(H,se,le),U+=6}p.addGroup(R,U,0),R+=U}function N(F){const B=T,U=new Vector2,z=new Vector3;let K=0;const Q=F===!0?e:n,q=F===!0?1:-1;for(let se=1;se<=l;se++)v.push(0,w*q,0),b.push(0,q,0),S.push(.5,.5),T++;const H=T;for(let se=0;se<=l;se++){const ne=se/l*d+f,ce=Math.cos(ne),fe=Math.sin(ne);z.x=Q*fe,z.y=w*q,z.z=Q*ce,v.push(z.x,z.y,z.z),b.push(0,q,0),U.x=ce*.5+.5,U.y=fe*.5*q+.5,S.push(U.x,U.y),T++}for(let se=0;se<l;se++){const le=B+se,ne=H+se;F===!0?m.push(ne,ne+1,le):m.push(ne+1,ne,le),K+=3}p.addGroup(R,K,F===!0?1:2),R+=K}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new CylinderGeometry(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ConeGeometry extends CylinderGeometry{constructor(e=1,n=1,o=32,l=1,u=!1,h=0,f=Math.PI*2){super(0,e,n,o,l,u,h,f),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:o,heightSegments:l,openEnded:u,thetaStart:h,thetaLength:f}}static fromJSON(e){return new ConeGeometry(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class PolyhedronGeometry extends BufferGeometry{constructor(e=[],n=[],o=1,l=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:o,detail:l};const u=[],h=[];f(l),p(o),m(),this.setAttribute("position",new Float32BufferAttribute(u,3)),this.setAttribute("normal",new Float32BufferAttribute(u.slice(),3)),this.setAttribute("uv",new Float32BufferAttribute(h,2)),l===0?this.computeVertexNormals():this.normalizeNormals();function f(L){const N=new Vector3,F=new Vector3,B=new Vector3;for(let U=0;U<n.length;U+=3)S(n[U+0],N),S(n[U+1],F),S(n[U+2],B),d(N,F,B,L)}function d(L,N,F,B){const U=B+1,z=[];for(let K=0;K<=U;K++){z[K]=[];const Q=L.clone().lerp(F,K/U),q=N.clone().lerp(F,K/U),H=U-K;for(let se=0;se<=H;se++)se===0&&K===U?z[K][se]=Q:z[K][se]=Q.clone().lerp(q,se/H)}for(let K=0;K<U;K++)for(let Q=0;Q<2*(U-K)-1;Q++){const q=Math.floor(Q/2);Q%2===0?(b(z[K][q+1]),b(z[K+1][q]),b(z[K][q])):(b(z[K][q+1]),b(z[K+1][q+1]),b(z[K+1][q]))}}function p(L){const N=new Vector3;for(let F=0;F<u.length;F+=3)N.x=u[F+0],N.y=u[F+1],N.z=u[F+2],N.normalize().multiplyScalar(L),u[F+0]=N.x,u[F+1]=N.y,u[F+2]=N.z}function m(){const L=new Vector3;for(let N=0;N<u.length;N+=3){L.x=u[N+0],L.y=u[N+1],L.z=u[N+2];const F=w(L)/2/Math.PI+.5,B=R(L)/Math.PI+.5;h.push(F,1-B)}T(),v()}function v(){for(let L=0;L<h.length;L+=6){const N=h[L+0],F=h[L+2],B=h[L+4],U=Math.max(N,F,B),z=Math.min(N,F,B);U>.9&&z<.1&&(N<.2&&(h[L+0]+=1),F<.2&&(h[L+2]+=1),B<.2&&(h[L+4]+=1))}}function b(L){u.push(L.x,L.y,L.z)}function S(L,N){const F=L*3;N.x=e[F+0],N.y=e[F+1],N.z=e[F+2]}function T(){const L=new Vector3,N=new Vector3,F=new Vector3,B=new Vector3,U=new Vector2,z=new Vector2,K=new Vector2;for(let Q=0,q=0;Q<u.length;Q+=9,q+=6){L.set(u[Q+0],u[Q+1],u[Q+2]),N.set(u[Q+3],u[Q+4],u[Q+5]),F.set(u[Q+6],u[Q+7],u[Q+8]),U.set(h[q+0],h[q+1]),z.set(h[q+2],h[q+3]),K.set(h[q+4],h[q+5]),B.copy(L).add(N).add(F).divideScalar(3);const H=w(B);C(U,q+0,L,H),C(z,q+2,N,H),C(K,q+4,F,H)}}function C(L,N,F,B){B<0&&L.x===1&&(h[N]=L.x-1),F.x===0&&F.z===0&&(h[N]=B/2/Math.PI+.5)}function w(L){return Math.atan2(L.z,-L.x)}function R(L){return Math.atan2(-L.y,Math.sqrt(L.x*L.x+L.z*L.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new PolyhedronGeometry(e.vertices,e.indices,e.radius,e.details)}}class DodecahedronGeometry extends PolyhedronGeometry{constructor(e=1,n=0){const o=(1+Math.sqrt(5))/2,l=1/o,u=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-l,-o,0,-l,o,0,l,-o,0,l,o,-l,-o,0,-l,o,0,l,-o,0,l,o,0,-o,0,-l,o,0,-l,-o,0,l,o,0,l],h=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(u,h,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new DodecahedronGeometry(e.radius,e.detail)}}const _v0=new Vector3,_v1$1=new Vector3,_normal=new Vector3,_triangle=new Triangle;class EdgesGeometry extends BufferGeometry{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const l=Math.pow(10,4),u=Math.cos(DEG2RAD*n),h=e.getIndex(),f=e.getAttribute("position"),d=h?h.count:f.count,p=[0,0,0],m=["a","b","c"],v=new Array(3),b={},S=[];for(let T=0;T<d;T+=3){h?(p[0]=h.getX(T),p[1]=h.getX(T+1),p[2]=h.getX(T+2)):(p[0]=T,p[1]=T+1,p[2]=T+2);const{a:C,b:w,c:R}=_triangle;if(C.fromBufferAttribute(f,p[0]),w.fromBufferAttribute(f,p[1]),R.fromBufferAttribute(f,p[2]),_triangle.getNormal(_normal),v[0]=`${Math.round(C.x*l)},${Math.round(C.y*l)},${Math.round(C.z*l)}`,v[1]=`${Math.round(w.x*l)},${Math.round(w.y*l)},${Math.round(w.z*l)}`,v[2]=`${Math.round(R.x*l)},${Math.round(R.y*l)},${Math.round(R.z*l)}`,!(v[0]===v[1]||v[1]===v[2]||v[2]===v[0]))for(let L=0;L<3;L++){const N=(L+1)%3,F=v[L],B=v[N],U=_triangle[m[L]],z=_triangle[m[N]],K=`${F}_${B}`,Q=`${B}_${F}`;Q in b&&b[Q]?(_normal.dot(b[Q].normal)<=u&&(S.push(U.x,U.y,U.z),S.push(z.x,z.y,z.z)),b[Q]=null):K in b||(b[K]={index0:p[L],index1:p[N],normal:_normal.clone()})}}for(const T in b)if(b[T]){const{index0:C,index1:w}=b[T];_v0.fromBufferAttribute(f,C),_v1$1.fromBufferAttribute(f,w),S.push(_v0.x,_v0.y,_v0.z),S.push(_v1$1.x,_v1$1.y,_v1$1.z)}this.setAttribute("position",new Float32BufferAttribute(S,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}let Shape$1=class extends Path$1{constructor(e){super(e),this.uuid=generateUUID(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let o=0,l=this.holes.length;o<l;o++)n[o]=this.holes[o].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,o=e.holes.length;n<o;n++){const l=e.holes[n];this.holes.push(l.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,o=this.holes.length;n<o;n++){const l=this.holes[n];e.holes.push(l.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,o=e.holes.length;n<o;n++){const l=e.holes[n];this.holes.push(new Path$1().fromJSON(l))}return this}};const Earcut={triangulate:function(t,e,n=2){const o=e&&e.length,l=o?e[0]*n:t.length;let u=linkedList(t,0,l,n,!0);const h=[];if(!u||u.next===u.prev)return h;let f,d,p,m,v,b,S;if(o&&(u=eliminateHoles(t,e,u,n)),t.length>80*n){f=p=t[0],d=m=t[1];for(let T=n;T<l;T+=n)v=t[T],b=t[T+1],v<f&&(f=v),b<d&&(d=b),v>p&&(p=v),b>m&&(m=b);S=Math.max(p-f,m-d),S=S!==0?32767/S:0}return earcutLinked(u,h,n,f,d,S,0),h}};function linkedList(t,e,n,o,l){let u,h;if(l===signedArea(t,e,n,o)>0)for(u=e;u<n;u+=o)h=insertNode(u,t[u],t[u+1],h);else for(u=n-o;u>=e;u-=o)h=insertNode(u,t[u],t[u+1],h);return h&&equals(h,h.next)&&(removeNode(h),h=h.next),h}function filterPoints(t,e){if(!t)return t;e||(e=t);let n=t,o;do if(o=!1,!n.steiner&&(equals(n,n.next)||area(n.prev,n,n.next)===0)){if(removeNode(n),n=e=n.prev,n===n.next)break;o=!0}else n=n.next;while(o||n!==e);return e}function earcutLinked(t,e,n,o,l,u,h){if(!t)return;!h&&u&&indexCurve(t,o,l,u);let f=t,d,p;for(;t.prev!==t.next;){if(d=t.prev,p=t.next,u?isEarHashed(t,o,l,u):isEar(t)){e.push(d.i/n|0),e.push(t.i/n|0),e.push(p.i/n|0),removeNode(t),t=p.next,f=p.next;continue}if(t=p,t===f){h?h===1?(t=cureLocalIntersections(filterPoints(t),e,n),earcutLinked(t,e,n,o,l,u,2)):h===2&&splitEarcut(t,e,n,o,l,u):earcutLinked(filterPoints(t),e,n,o,l,u,1);break}}}function isEar(t){const e=t.prev,n=t,o=t.next;if(area(e,n,o)>=0)return!1;const l=e.x,u=n.x,h=o.x,f=e.y,d=n.y,p=o.y,m=l<u?l<h?l:h:u<h?u:h,v=f<d?f<p?f:p:d<p?d:p,b=l>u?l>h?l:h:u>h?u:h,S=f>d?f>p?f:p:d>p?d:p;let T=o.next;for(;T!==e;){if(T.x>=m&&T.x<=b&&T.y>=v&&T.y<=S&&pointInTriangle(l,f,u,d,h,p,T.x,T.y)&&area(T.prev,T,T.next)>=0)return!1;T=T.next}return!0}function isEarHashed(t,e,n,o){const l=t.prev,u=t,h=t.next;if(area(l,u,h)>=0)return!1;const f=l.x,d=u.x,p=h.x,m=l.y,v=u.y,b=h.y,S=f<d?f<p?f:p:d<p?d:p,T=m<v?m<b?m:b:v<b?v:b,C=f>d?f>p?f:p:d>p?d:p,w=m>v?m>b?m:b:v>b?v:b,R=zOrder(S,T,e,n,o),L=zOrder(C,w,e,n,o);let N=t.prevZ,F=t.nextZ;for(;N&&N.z>=R&&F&&F.z<=L;){if(N.x>=S&&N.x<=C&&N.y>=T&&N.y<=w&&N!==l&&N!==h&&pointInTriangle(f,m,d,v,p,b,N.x,N.y)&&area(N.prev,N,N.next)>=0||(N=N.prevZ,F.x>=S&&F.x<=C&&F.y>=T&&F.y<=w&&F!==l&&F!==h&&pointInTriangle(f,m,d,v,p,b,F.x,F.y)&&area(F.prev,F,F.next)>=0))return!1;F=F.nextZ}for(;N&&N.z>=R;){if(N.x>=S&&N.x<=C&&N.y>=T&&N.y<=w&&N!==l&&N!==h&&pointInTriangle(f,m,d,v,p,b,N.x,N.y)&&area(N.prev,N,N.next)>=0)return!1;N=N.prevZ}for(;F&&F.z<=L;){if(F.x>=S&&F.x<=C&&F.y>=T&&F.y<=w&&F!==l&&F!==h&&pointInTriangle(f,m,d,v,p,b,F.x,F.y)&&area(F.prev,F,F.next)>=0)return!1;F=F.nextZ}return!0}function cureLocalIntersections(t,e,n){let o=t;do{const l=o.prev,u=o.next.next;!equals(l,u)&&intersects(l,o,o.next,u)&&locallyInside(l,u)&&locallyInside(u,l)&&(e.push(l.i/n|0),e.push(o.i/n|0),e.push(u.i/n|0),removeNode(o),removeNode(o.next),o=t=u),o=o.next}while(o!==t);return filterPoints(o)}function splitEarcut(t,e,n,o,l,u){let h=t;do{let f=h.next.next;for(;f!==h.prev;){if(h.i!==f.i&&isValidDiagonal(h,f)){let d=splitPolygon(h,f);h=filterPoints(h,h.next),d=filterPoints(d,d.next),earcutLinked(h,e,n,o,l,u,0),earcutLinked(d,e,n,o,l,u,0);return}f=f.next}h=h.next}while(h!==t)}function eliminateHoles(t,e,n,o){const l=[];let u,h,f,d,p;for(u=0,h=e.length;u<h;u++)f=e[u]*o,d=u<h-1?e[u+1]*o:t.length,p=linkedList(t,f,d,o,!1),p===p.next&&(p.steiner=!0),l.push(getLeftmost(p));for(l.sort(compareX),u=0;u<l.length;u++)n=eliminateHole(l[u],n);return n}function compareX(t,e){return t.x-e.x}function eliminateHole(t,e){const n=findHoleBridge(t,e);if(!n)return e;const o=splitPolygon(n,t);return filterPoints(o,o.next),filterPoints(n,n.next)}function findHoleBridge(t,e){let n=e,o=-1/0,l;const u=t.x,h=t.y;do{if(h<=n.y&&h>=n.next.y&&n.next.y!==n.y){const b=n.x+(h-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(b<=u&&b>o&&(o=b,l=n.x<n.next.x?n:n.next,b===u))return l}n=n.next}while(n!==e);if(!l)return null;const f=l,d=l.x,p=l.y;let m=1/0,v;n=l;do u>=n.x&&n.x>=d&&u!==n.x&&pointInTriangle(h<p?u:o,h,d,p,h<p?o:u,h,n.x,n.y)&&(v=Math.abs(h-n.y)/(u-n.x),locallyInside(n,t)&&(v<m||v===m&&(n.x>l.x||n.x===l.x&&sectorContainsSector(l,n)))&&(l=n,m=v)),n=n.next;while(n!==f);return l}function sectorContainsSector(t,e){return area(t.prev,t,e.prev)<0&&area(e.next,t,t.next)<0}function indexCurve(t,e,n,o){let l=t;do l.z===0&&(l.z=zOrder(l.x,l.y,e,n,o)),l.prevZ=l.prev,l.nextZ=l.next,l=l.next;while(l!==t);l.prevZ.nextZ=null,l.prevZ=null,sortLinked(l)}function sortLinked(t){let e,n,o,l,u,h,f,d,p=1;do{for(n=t,t=null,u=null,h=0;n;){for(h++,o=n,f=0,e=0;e<p&&(f++,o=o.nextZ,!!o);e++);for(d=p;f>0||d>0&&o;)f!==0&&(d===0||!o||n.z<=o.z)?(l=n,n=n.nextZ,f--):(l=o,o=o.nextZ,d--),u?u.nextZ=l:t=l,l.prevZ=u,u=l;n=o}u.nextZ=null,p*=2}while(h>1);return t}function zOrder(t,e,n,o,l){return t=(t-n)*l|0,e=(e-o)*l|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function getLeftmost(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function pointInTriangle(t,e,n,o,l,u,h,f){return(l-h)*(e-f)>=(t-h)*(u-f)&&(t-h)*(o-f)>=(n-h)*(e-f)&&(n-h)*(u-f)>=(l-h)*(o-f)}function isValidDiagonal(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!intersectsPolygon(t,e)&&(locallyInside(t,e)&&locallyInside(e,t)&&middleInside(t,e)&&(area(t.prev,t,e.prev)||area(t,e.prev,e))||equals(t,e)&&area(t.prev,t,t.next)>0&&area(e.prev,e,e.next)>0)}function area(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function equals(t,e){return t.x===e.x&&t.y===e.y}function intersects(t,e,n,o){const l=sign$1(area(t,e,n)),u=sign$1(area(t,e,o)),h=sign$1(area(n,o,t)),f=sign$1(area(n,o,e));return!!(l!==u&&h!==f||l===0&&onSegment(t,n,e)||u===0&&onSegment(t,o,e)||h===0&&onSegment(n,t,o)||f===0&&onSegment(n,e,o))}function onSegment(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function sign$1(t){return t>0?1:t<0?-1:0}function intersectsPolygon(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&intersects(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function locallyInside(t,e){return area(t.prev,t,t.next)<0?area(t,e,t.next)>=0&&area(t,t.prev,e)>=0:area(t,e,t.prev)<0||area(t,t.next,e)<0}function middleInside(t,e){let n=t,o=!1;const l=(t.x+e.x)/2,u=(t.y+e.y)/2;do n.y>u!=n.next.y>u&&n.next.y!==n.y&&l<(n.next.x-n.x)*(u-n.y)/(n.next.y-n.y)+n.x&&(o=!o),n=n.next;while(n!==t);return o}function splitPolygon(t,e){const n=new Node(t.i,t.x,t.y),o=new Node(e.i,e.x,e.y),l=t.next,u=e.prev;return t.next=e,e.prev=t,n.next=l,l.prev=n,o.next=n,n.prev=o,u.next=o,o.prev=u,o}function insertNode(t,e,n,o){const l=new Node(t,e,n);return o?(l.next=o.next,l.prev=o,o.next.prev=l,o.next=l):(l.prev=l,l.next=l),l}function removeNode(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Node(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function signedArea(t,e,n,o){let l=0;for(let u=e,h=n-o;u<n;u+=o)l+=(t[h]-t[u])*(t[u+1]+t[h+1]),h=u;return l}class ShapeUtils{static area(e){const n=e.length;let o=0;for(let l=n-1,u=0;u<n;l=u++)o+=e[l].x*e[u].y-e[u].x*e[l].y;return o*.5}static isClockWise(e){return ShapeUtils.area(e)<0}static triangulateShape(e,n){const o=[],l=[],u=[];removeDupEndPts(e),addContour(o,e);let h=e.length;n.forEach(removeDupEndPts);for(let d=0;d<n.length;d++)l.push(h),h+=n[d].length,addContour(o,n[d]);const f=Earcut.triangulate(o,l);for(let d=0;d<f.length;d+=3)u.push(f.slice(d,d+3));return u}}function removeDupEndPts(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function addContour(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class ExtrudeGeometry extends BufferGeometry{constructor(e=new Shape$1([new Vector2(.5,.5),new Vector2(-.5,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const o=this,l=[],u=[];for(let f=0,d=e.length;f<d;f++){const p=e[f];h(p)}this.setAttribute("position",new Float32BufferAttribute(l,3)),this.setAttribute("uv",new Float32BufferAttribute(u,2)),this.computeVertexNormals();function h(f){const d=[],p=n.curveSegments!==void 0?n.curveSegments:12,m=n.steps!==void 0?n.steps:1,v=n.depth!==void 0?n.depth:1;let b=n.bevelEnabled!==void 0?n.bevelEnabled:!0,S=n.bevelThickness!==void 0?n.bevelThickness:.2,T=n.bevelSize!==void 0?n.bevelSize:S-.1,C=n.bevelOffset!==void 0?n.bevelOffset:0,w=n.bevelSegments!==void 0?n.bevelSegments:3;const R=n.extrudePath,L=n.UVGenerator!==void 0?n.UVGenerator:WorldUVGenerator;let N,F=!1,B,U,z,K;R&&(N=R.getSpacedPoints(m),F=!0,b=!1,B=R.computeFrenetFrames(m,!1),U=new Vector3,z=new Vector3,K=new Vector3),b||(w=0,S=0,T=0,C=0);const Q=f.extractPoints(p);let q=Q.shape;const H=Q.holes;if(!ShapeUtils.isClockWise(q)){q=q.reverse();for(let de=0,Be=H.length;de<Be;de++){const Pe=H[de];ShapeUtils.isClockWise(Pe)&&(H[de]=Pe.reverse())}}const le=ShapeUtils.triangulateShape(q,H),ne=q;for(let de=0,Be=H.length;de<Be;de++){const Pe=H[de];q=q.concat(Pe)}function ce(de,Be,Pe){return Be||console.error("THREE.ExtrudeGeometry: vec does not exist"),de.clone().addScaledVector(Be,Pe)}const fe=q.length,ge=le.length;function Z(de,Be,Pe){let et,He,rt;const ot=de.x-Be.x,ht=de.y-Be.y,xt=Pe.x-de.x,me=Pe.y-de.y,he=ot*ot+ht*ht,Ne=ot*me-ht*xt;if(Math.abs(Ne)>Number.EPSILON){const Ve=Math.sqrt(he),tt=Math.sqrt(xt*xt+me*me),nt=Be.x-ht/Ve,Pt=Be.y+ot/Ve,Tt=Pe.x-me/tt,ut=Pe.y+xt/tt,ft=((Tt-nt)*me-(ut-Pt)*xt)/(ot*me-ht*xt);et=nt+ot*ft-de.x,He=Pt+ht*ft-de.y;const Ft=et*et+He*He;if(Ft<=2)return new Vector2(et,He);rt=Math.sqrt(Ft/2)}else{let Ve=!1;ot>Number.EPSILON?xt>Number.EPSILON&&(Ve=!0):ot<-Number.EPSILON?xt<-Number.EPSILON&&(Ve=!0):Math.sign(ht)===Math.sign(me)&&(Ve=!0),Ve?(et=-ht,He=ot,rt=Math.sqrt(he)):(et=ot,He=ht,rt=Math.sqrt(he/2))}return new Vector2(et/rt,He/rt)}const ie=[];for(let de=0,Be=ne.length,Pe=Be-1,et=de+1;de<Be;de++,Pe++,et++)Pe===Be&&(Pe=0),et===Be&&(et=0),ie[de]=Z(ne[de],ne[Pe],ne[et]);const oe=[];let ae,pe=ie.concat();for(let de=0,Be=H.length;de<Be;de++){const Pe=H[de];ae=[];for(let et=0,He=Pe.length,rt=He-1,ot=et+1;et<He;et++,rt++,ot++)rt===He&&(rt=0),ot===He&&(ot=0),ae[et]=Z(Pe[et],Pe[rt],Pe[ot]);oe.push(ae),pe=pe.concat(ae)}for(let de=0;de<w;de++){const Be=de/w,Pe=S*Math.cos(Be*Math.PI/2),et=T*Math.sin(Be*Math.PI/2)+C;for(let He=0,rt=ne.length;He<rt;He++){const ot=ce(ne[He],ie[He],et);Ye(ot.x,ot.y,-Pe)}for(let He=0,rt=H.length;He<rt;He++){const ot=H[He];ae=oe[He];for(let ht=0,xt=ot.length;ht<xt;ht++){const me=ce(ot[ht],ae[ht],et);Ye(me.x,me.y,-Pe)}}}const we=T+C;for(let de=0;de<fe;de++){const Be=b?ce(q[de],pe[de],we):q[de];F?(z.copy(B.normals[0]).multiplyScalar(Be.x),U.copy(B.binormals[0]).multiplyScalar(Be.y),K.copy(N[0]).add(z).add(U),Ye(K.x,K.y,K.z)):Ye(Be.x,Be.y,0)}for(let de=1;de<=m;de++)for(let Be=0;Be<fe;Be++){const Pe=b?ce(q[Be],pe[Be],we):q[Be];F?(z.copy(B.normals[de]).multiplyScalar(Pe.x),U.copy(B.binormals[de]).multiplyScalar(Pe.y),K.copy(N[de]).add(z).add(U),Ye(K.x,K.y,K.z)):Ye(Pe.x,Pe.y,v/m*de)}for(let de=w-1;de>=0;de--){const Be=de/w,Pe=S*Math.cos(Be*Math.PI/2),et=T*Math.sin(Be*Math.PI/2)+C;for(let He=0,rt=ne.length;He<rt;He++){const ot=ce(ne[He],ie[He],et);Ye(ot.x,ot.y,v+Pe)}for(let He=0,rt=H.length;He<rt;He++){const ot=H[He];ae=oe[He];for(let ht=0,xt=ot.length;ht<xt;ht++){const me=ce(ot[ht],ae[ht],et);F?Ye(me.x,me.y+N[m-1].y,N[m-1].x+Pe):Ye(me.x,me.y,v+Pe)}}}_e(),Me();function _e(){const de=l.length/3;if(b){let Be=0,Pe=fe*Be;for(let et=0;et<ge;et++){const He=le[et];qe(He[2]+Pe,He[1]+Pe,He[0]+Pe)}Be=m+w*2,Pe=fe*Be;for(let et=0;et<ge;et++){const He=le[et];qe(He[0]+Pe,He[1]+Pe,He[2]+Pe)}}else{for(let Be=0;Be<ge;Be++){const Pe=le[Be];qe(Pe[2],Pe[1],Pe[0])}for(let Be=0;Be<ge;Be++){const Pe=le[Be];qe(Pe[0]+fe*m,Pe[1]+fe*m,Pe[2]+fe*m)}}o.addGroup(de,l.length/3-de,0)}function Me(){const de=l.length/3;let Be=0;Oe(ne,Be),Be+=ne.length;for(let Pe=0,et=H.length;Pe<et;Pe++){const He=H[Pe];Oe(He,Be),Be+=He.length}o.addGroup(de,l.length/3-de,1)}function Oe(de,Be){let Pe=de.length;for(;--Pe>=0;){const et=Pe;let He=Pe-1;He<0&&(He=de.length-1);for(let rt=0,ot=m+w*2;rt<ot;rt++){const ht=fe*rt,xt=fe*(rt+1),me=Be+et+ht,he=Be+He+ht,Ne=Be+He+xt,Ve=Be+et+xt;Re(me,he,Ne,Ve)}}}function Ye(de,Be,Pe){d.push(de),d.push(Be),d.push(Pe)}function qe(de,Be,Pe){Je(de),Je(Be),Je(Pe);const et=l.length/3,He=L.generateTopUV(o,l,et-3,et-2,et-1);ke(He[0]),ke(He[1]),ke(He[2])}function Re(de,Be,Pe,et){Je(de),Je(Be),Je(et),Je(Be),Je(Pe),Je(et);const He=l.length/3,rt=L.generateSideWallUV(o,l,He-6,He-3,He-2,He-1);ke(rt[0]),ke(rt[1]),ke(rt[3]),ke(rt[1]),ke(rt[2]),ke(rt[3])}function Je(de){l.push(d[de*3+0]),l.push(d[de*3+1]),l.push(d[de*3+2])}function ke(de){u.push(de.x),u.push(de.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,o=this.parameters.options;return toJSON$1(n,o,e)}static fromJSON(e,n){const o=[];for(let u=0,h=e.shapes.length;u<h;u++){const f=n[e.shapes[u]];o.push(f)}const l=e.options.extrudePath;return l!==void 0&&(e.options.extrudePath=new Curves[l.type]().fromJSON(l)),new ExtrudeGeometry(o,e.options)}}const WorldUVGenerator={generateTopUV:function(t,e,n,o,l){const u=e[n*3],h=e[n*3+1],f=e[o*3],d=e[o*3+1],p=e[l*3],m=e[l*3+1];return[new Vector2(u,h),new Vector2(f,d),new Vector2(p,m)]},generateSideWallUV:function(t,e,n,o,l,u){const h=e[n*3],f=e[n*3+1],d=e[n*3+2],p=e[o*3],m=e[o*3+1],v=e[o*3+2],b=e[l*3],S=e[l*3+1],T=e[l*3+2],C=e[u*3],w=e[u*3+1],R=e[u*3+2];return Math.abs(f-m)<Math.abs(h-p)?[new Vector2(h,1-d),new Vector2(p,1-v),new Vector2(b,1-T),new Vector2(C,1-R)]:[new Vector2(f,1-d),new Vector2(m,1-v),new Vector2(S,1-T),new Vector2(w,1-R)]}};function toJSON$1(t,e,n){if(n.shapes=[],Array.isArray(t))for(let o=0,l=t.length;o<l;o++){const u=t[o];n.shapes.push(u.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class IcosahedronGeometry extends PolyhedronGeometry{constructor(e=1,n=0){const o=(1+Math.sqrt(5))/2,l=[-1,o,0,1,o,0,-1,-o,0,1,-o,0,0,-1,o,0,1,o,0,-1,-o,0,1,-o,o,0,-1,o,0,1,-o,0,-1,-o,0,1],u=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(l,u,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new IcosahedronGeometry(e.radius,e.detail)}}class OctahedronGeometry extends PolyhedronGeometry{constructor(e=1,n=0){const o=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],l=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(o,l,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new OctahedronGeometry(e.radius,e.detail)}}class RingGeometry extends BufferGeometry{constructor(e=.5,n=1,o=32,l=1,u=0,h=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:o,phiSegments:l,thetaStart:u,thetaLength:h},o=Math.max(3,o),l=Math.max(1,l);const f=[],d=[],p=[],m=[];let v=e;const b=(n-e)/l,S=new Vector3,T=new Vector2;for(let C=0;C<=l;C++){for(let w=0;w<=o;w++){const R=u+w/o*h;S.x=v*Math.cos(R),S.y=v*Math.sin(R),d.push(S.x,S.y,S.z),p.push(0,0,1),T.x=(S.x/n+1)/2,T.y=(S.y/n+1)/2,m.push(T.x,T.y)}v+=b}for(let C=0;C<l;C++){const w=C*(o+1);for(let R=0;R<o;R++){const L=R+w,N=L,F=L+o+1,B=L+o+2,U=L+1;f.push(N,F,U),f.push(F,B,U)}}this.setIndex(f),this.setAttribute("position",new Float32BufferAttribute(d,3)),this.setAttribute("normal",new Float32BufferAttribute(p,3)),this.setAttribute("uv",new Float32BufferAttribute(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new RingGeometry(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class ShapeGeometry extends BufferGeometry{constructor(e=new Shape$1([new Vector2(0,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const o=[],l=[],u=[],h=[];let f=0,d=0;if(Array.isArray(e)===!1)p(e);else for(let m=0;m<e.length;m++)p(e[m]),this.addGroup(f,d,m),f+=d,d=0;this.setIndex(o),this.setAttribute("position",new Float32BufferAttribute(l,3)),this.setAttribute("normal",new Float32BufferAttribute(u,3)),this.setAttribute("uv",new Float32BufferAttribute(h,2));function p(m){const v=l.length/3,b=m.extractPoints(n);let S=b.shape;const T=b.holes;ShapeUtils.isClockWise(S)===!1&&(S=S.reverse());for(let w=0,R=T.length;w<R;w++){const L=T[w];ShapeUtils.isClockWise(L)===!0&&(T[w]=L.reverse())}const C=ShapeUtils.triangulateShape(S,T);for(let w=0,R=T.length;w<R;w++){const L=T[w];S=S.concat(L)}for(let w=0,R=S.length;w<R;w++){const L=S[w];l.push(L.x,L.y,0),u.push(0,0,1),h.push(L.x,L.y)}for(let w=0,R=C.length;w<R;w++){const L=C[w],N=L[0]+v,F=L[1]+v,B=L[2]+v;o.push(N,F,B),d+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return toJSON(n,e)}static fromJSON(e,n){const o=[];for(let l=0,u=e.shapes.length;l<u;l++){const h=n[e.shapes[l]];o.push(h)}return new ShapeGeometry(o,e.curveSegments)}}function toJSON(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,o=t.length;n<o;n++){const l=t[n];e.shapes.push(l.uuid)}else e.shapes.push(t.uuid);return e}class SphereGeometry extends BufferGeometry{constructor(e=1,n=32,o=16,l=0,u=Math.PI*2,h=0,f=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:o,phiStart:l,phiLength:u,thetaStart:h,thetaLength:f},n=Math.max(3,Math.floor(n)),o=Math.max(2,Math.floor(o));const d=Math.min(h+f,Math.PI);let p=0;const m=[],v=new Vector3,b=new Vector3,S=[],T=[],C=[],w=[];for(let R=0;R<=o;R++){const L=[],N=R/o;let F=0;R===0&&h===0?F=.5/n:R===o&&d===Math.PI&&(F=-.5/n);for(let B=0;B<=n;B++){const U=B/n;v.x=-e*Math.cos(l+U*u)*Math.sin(h+N*f),v.y=e*Math.cos(h+N*f),v.z=e*Math.sin(l+U*u)*Math.sin(h+N*f),T.push(v.x,v.y,v.z),b.copy(v).normalize(),C.push(b.x,b.y,b.z),w.push(U+F,1-N),L.push(p++)}m.push(L)}for(let R=0;R<o;R++)for(let L=0;L<n;L++){const N=m[R][L+1],F=m[R][L],B=m[R+1][L],U=m[R+1][L+1];(R!==0||h>0)&&S.push(N,F,U),(R!==o-1||d<Math.PI)&&S.push(F,B,U)}this.setIndex(S),this.setAttribute("position",new Float32BufferAttribute(T,3)),this.setAttribute("normal",new Float32BufferAttribute(C,3)),this.setAttribute("uv",new Float32BufferAttribute(w,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new SphereGeometry(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class TetrahedronGeometry extends PolyhedronGeometry{constructor(e=1,n=0){const o=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],l=[2,1,0,0,3,2,1,3,0,2,3,1];super(o,l,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new TetrahedronGeometry(e.radius,e.detail)}}class TorusGeometry extends BufferGeometry{constructor(e=1,n=.4,o=12,l=48,u=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:o,tubularSegments:l,arc:u},o=Math.floor(o),l=Math.floor(l);const h=[],f=[],d=[],p=[],m=new Vector3,v=new Vector3,b=new Vector3;for(let S=0;S<=o;S++)for(let T=0;T<=l;T++){const C=T/l*u,w=S/o*Math.PI*2;v.x=(e+n*Math.cos(w))*Math.cos(C),v.y=(e+n*Math.cos(w))*Math.sin(C),v.z=n*Math.sin(w),f.push(v.x,v.y,v.z),m.x=e*Math.cos(C),m.y=e*Math.sin(C),b.subVectors(v,m).normalize(),d.push(b.x,b.y,b.z),p.push(T/l),p.push(S/o)}for(let S=1;S<=o;S++)for(let T=1;T<=l;T++){const C=(l+1)*S+T-1,w=(l+1)*(S-1)+T-1,R=(l+1)*(S-1)+T,L=(l+1)*S+T;h.push(C,w,L),h.push(w,R,L)}this.setIndex(h),this.setAttribute("position",new Float32BufferAttribute(f,3)),this.setAttribute("normal",new Float32BufferAttribute(d,3)),this.setAttribute("uv",new Float32BufferAttribute(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new TorusGeometry(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class TorusKnotGeometry extends BufferGeometry{constructor(e=1,n=.4,o=64,l=8,u=2,h=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:o,radialSegments:l,p:u,q:h},o=Math.floor(o),l=Math.floor(l);const f=[],d=[],p=[],m=[],v=new Vector3,b=new Vector3,S=new Vector3,T=new Vector3,C=new Vector3,w=new Vector3,R=new Vector3;for(let N=0;N<=o;++N){const F=N/o*u*Math.PI*2;L(F,u,h,e,S),L(F+.01,u,h,e,T),w.subVectors(T,S),R.addVectors(T,S),C.crossVectors(w,R),R.crossVectors(C,w),C.normalize(),R.normalize();for(let B=0;B<=l;++B){const U=B/l*Math.PI*2,z=-n*Math.cos(U),K=n*Math.sin(U);v.x=S.x+(z*R.x+K*C.x),v.y=S.y+(z*R.y+K*C.y),v.z=S.z+(z*R.z+K*C.z),d.push(v.x,v.y,v.z),b.subVectors(v,S).normalize(),p.push(b.x,b.y,b.z),m.push(N/o),m.push(B/l)}}for(let N=1;N<=o;N++)for(let F=1;F<=l;F++){const B=(l+1)*(N-1)+(F-1),U=(l+1)*N+(F-1),z=(l+1)*N+F,K=(l+1)*(N-1)+F;f.push(B,U,K),f.push(U,z,K)}this.setIndex(f),this.setAttribute("position",new Float32BufferAttribute(d,3)),this.setAttribute("normal",new Float32BufferAttribute(p,3)),this.setAttribute("uv",new Float32BufferAttribute(m,2));function L(N,F,B,U,z){const K=Math.cos(N),Q=Math.sin(N),q=B/F*N,H=Math.cos(q);z.x=U*(2+H)*.5*K,z.y=U*(2+H)*Q*.5,z.z=U*Math.sin(q)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new TorusKnotGeometry(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class TubeGeometry extends BufferGeometry{constructor(e=new QuadraticBezierCurve3(new Vector3(-1,-1,0),new Vector3(-1,1,0),new Vector3(1,1,0)),n=64,o=1,l=8,u=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:o,radialSegments:l,closed:u};const h=e.computeFrenetFrames(n,u);this.tangents=h.tangents,this.normals=h.normals,this.binormals=h.binormals;const f=new Vector3,d=new Vector3,p=new Vector2;let m=new Vector3;const v=[],b=[],S=[],T=[];C(),this.setIndex(T),this.setAttribute("position",new Float32BufferAttribute(v,3)),this.setAttribute("normal",new Float32BufferAttribute(b,3)),this.setAttribute("uv",new Float32BufferAttribute(S,2));function C(){for(let N=0;N<n;N++)w(N);w(u===!1?n:0),L(),R()}function w(N){m=e.getPointAt(N/n,m);const F=h.normals[N],B=h.binormals[N];for(let U=0;U<=l;U++){const z=U/l*Math.PI*2,K=Math.sin(z),Q=-Math.cos(z);d.x=Q*F.x+K*B.x,d.y=Q*F.y+K*B.y,d.z=Q*F.z+K*B.z,d.normalize(),b.push(d.x,d.y,d.z),f.x=m.x+o*d.x,f.y=m.y+o*d.y,f.z=m.z+o*d.z,v.push(f.x,f.y,f.z)}}function R(){for(let N=1;N<=n;N++)for(let F=1;F<=l;F++){const B=(l+1)*(N-1)+(F-1),U=(l+1)*N+(F-1),z=(l+1)*N+F,K=(l+1)*(N-1)+F;T.push(B,U,K),T.push(U,z,K)}}function L(){for(let N=0;N<=n;N++)for(let F=0;F<=l;F++)p.x=N/n,p.y=F/l,S.push(p.x,p.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new TubeGeometry(new Curves[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class WireframeGeometry extends BufferGeometry{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],o=new Set,l=new Vector3,u=new Vector3;if(e.index!==null){const h=e.attributes.position,f=e.index;let d=e.groups;d.length===0&&(d=[{start:0,count:f.count,materialIndex:0}]);for(let p=0,m=d.length;p<m;++p){const v=d[p],b=v.start,S=v.count;for(let T=b,C=b+S;T<C;T+=3)for(let w=0;w<3;w++){const R=f.getX(T+w),L=f.getX(T+(w+1)%3);l.fromBufferAttribute(h,R),u.fromBufferAttribute(h,L),isUniqueEdge(l,u,o)===!0&&(n.push(l.x,l.y,l.z),n.push(u.x,u.y,u.z))}}}else{const h=e.attributes.position;for(let f=0,d=h.count/3;f<d;f++)for(let p=0;p<3;p++){const m=3*f+p,v=3*f+(p+1)%3;l.fromBufferAttribute(h,m),u.fromBufferAttribute(h,v),isUniqueEdge(l,u,o)===!0&&(n.push(l.x,l.y,l.z),n.push(u.x,u.y,u.z))}}this.setAttribute("position",new Float32BufferAttribute(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function isUniqueEdge(t,e,n){const o=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,l=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(o)===!0||n.has(l)===!0?!1:(n.add(o),n.add(l),!0)}var Geometries=Object.freeze({__proto__:null,BoxGeometry,CapsuleGeometry,CircleGeometry,ConeGeometry,CylinderGeometry,DodecahedronGeometry,EdgesGeometry,ExtrudeGeometry,IcosahedronGeometry,LatheGeometry,OctahedronGeometry,PlaneGeometry,PolyhedronGeometry,RingGeometry,ShapeGeometry,SphereGeometry,TetrahedronGeometry,TorusGeometry,TorusKnotGeometry,TubeGeometry,WireframeGeometry});class ShadowMaterial extends Material{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Color$1(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class RawShaderMaterial extends ShaderMaterial{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class MeshStandardMaterial extends Material{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Color$1(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color$1(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class MeshPhysicalMaterial extends MeshStandardMaterial{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Vector2(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return clamp(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Color$1(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Color$1(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Color$1(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class MeshPhongMaterial extends Material{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Color$1(16777215),this.specular=new Color$1(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color$1(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class MeshToonMaterial extends Material{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Color$1(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color$1(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class MeshNormalMaterial extends Material{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class MeshLambertMaterial extends Material{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Color$1(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color$1(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class MeshMatcapMaterial extends Material{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Color$1(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class LineDashedMaterial extends LineBasicMaterial{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function convertArray(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function isTypedArray$1(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function getKeyframeOrder(t){function e(l,u){return t[l]-t[u]}const n=t.length,o=new Array(n);for(let l=0;l!==n;++l)o[l]=l;return o.sort(e),o}function sortedArray(t,e,n){const o=t.length,l=new t.constructor(o);for(let u=0,h=0;h!==o;++u){const f=n[u]*e;for(let d=0;d!==e;++d)l[h++]=t[f+d]}return l}function flattenJSON(t,e,n,o){let l=1,u=t[0];for(;u!==void 0&&u[o]===void 0;)u=t[l++];if(u===void 0)return;let h=u[o];if(h!==void 0)if(Array.isArray(h))do h=u[o],h!==void 0&&(e.push(u.time),n.push.apply(n,h)),u=t[l++];while(u!==void 0);else if(h.toArray!==void 0)do h=u[o],h!==void 0&&(e.push(u.time),h.toArray(n,n.length)),u=t[l++];while(u!==void 0);else do h=u[o],h!==void 0&&(e.push(u.time),n.push(h)),u=t[l++];while(u!==void 0)}function subclip(t,e,n,o,l=30){const u=t.clone();u.name=e;const h=[];for(let d=0;d<u.tracks.length;++d){const p=u.tracks[d],m=p.getValueSize(),v=[],b=[];for(let S=0;S<p.times.length;++S){const T=p.times[S]*l;if(!(T<n||T>=o)){v.push(p.times[S]);for(let C=0;C<m;++C)b.push(p.values[S*m+C])}}v.length!==0&&(p.times=convertArray(v,p.times.constructor),p.values=convertArray(b,p.values.constructor),h.push(p))}u.tracks=h;let f=1/0;for(let d=0;d<u.tracks.length;++d)f>u.tracks[d].times[0]&&(f=u.tracks[d].times[0]);for(let d=0;d<u.tracks.length;++d)u.tracks[d].shift(-1*f);return u.resetDuration(),u}function makeClipAdditive(t,e=0,n=t,o=30){o<=0&&(o=30);const l=n.tracks.length,u=e/o;for(let h=0;h<l;++h){const f=n.tracks[h],d=f.ValueTypeName;if(d==="bool"||d==="string")continue;const p=t.tracks.find(function(R){return R.name===f.name&&R.ValueTypeName===d});if(p===void 0)continue;let m=0;const v=f.getValueSize();f.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=v/3);let b=0;const S=p.getValueSize();p.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(b=S/3);const T=f.times.length-1;let C;if(u<=f.times[0]){const R=m,L=v-m;C=f.values.slice(R,L)}else if(u>=f.times[T]){const R=T*v+m,L=R+v-m;C=f.values.slice(R,L)}else{const R=f.createInterpolant(),L=m,N=v-m;R.evaluate(u),C=R.resultBuffer.slice(L,N)}d==="quaternion"&&new Quaternion().fromArray(C).normalize().conjugate().toArray(C);const w=p.times.length;for(let R=0;R<w;++R){const L=R*S+b;if(d==="quaternion")Quaternion.multiplyQuaternionsFlat(p.values,L,C,0,p.values,L);else{const N=S-b*2;for(let F=0;F<N;++F)p.values[L+F]-=C[F]}}}return t.blendMode=AdditiveAnimationBlendMode,t}const AnimationUtils={convertArray,isTypedArray:isTypedArray$1,getKeyframeOrder,sortedArray,flattenJSON,subclip,makeClipAdditive};class Interpolant{constructor(e,n,o,l){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=l!==void 0?l:new n.constructor(o),this.sampleValues=n,this.valueSize=o,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let o=this._cachedIndex,l=n[o],u=n[o-1];e:{t:{let h;n:{r:if(!(e<l)){for(let f=o+2;;){if(l===void 0){if(e<u)break r;return o=n.length,this._cachedIndex=o,this.copySampleValue_(o-1)}if(o===f)break;if(u=l,l=n[++o],e<l)break t}h=n.length;break n}if(!(e>=u)){const f=n[1];e<f&&(o=2,u=f);for(let d=o-2;;){if(u===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(o===d)break;if(l=u,u=n[--o-1],e>=u)break t}h=o,o=0;break n}break e}for(;o<h;){const f=o+h>>>1;e<n[f]?h=f:o=f+1}if(l=n[o],u=n[o-1],u===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(l===void 0)return o=n.length,this._cachedIndex=o,this.copySampleValue_(o-1)}this._cachedIndex=o,this.intervalChanged_(o,u,l)}return this.interpolate_(o,u,e,l)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,o=this.sampleValues,l=this.valueSize,u=e*l;for(let h=0;h!==l;++h)n[h]=o[u+h];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class CubicInterpolant extends Interpolant{constructor(e,n,o,l){super(e,n,o,l),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding}}intervalChanged_(e,n,o){const l=this.parameterPositions;let u=e-2,h=e+1,f=l[u],d=l[h];if(f===void 0)switch(this.getSettings_().endingStart){case ZeroSlopeEnding:u=e,f=2*n-o;break;case WrapAroundEnding:u=l.length-2,f=n+l[u]-l[u+1];break;default:u=e,f=o}if(d===void 0)switch(this.getSettings_().endingEnd){case ZeroSlopeEnding:h=e,d=2*o-n;break;case WrapAroundEnding:h=1,d=o+l[1]-l[0];break;default:h=e-1,d=n}const p=(o-n)*.5,m=this.valueSize;this._weightPrev=p/(n-f),this._weightNext=p/(d-o),this._offsetPrev=u*m,this._offsetNext=h*m}interpolate_(e,n,o,l){const u=this.resultBuffer,h=this.sampleValues,f=this.valueSize,d=e*f,p=d-f,m=this._offsetPrev,v=this._offsetNext,b=this._weightPrev,S=this._weightNext,T=(o-n)/(l-n),C=T*T,w=C*T,R=-b*w+2*b*C-b*T,L=(1+b)*w+(-1.5-2*b)*C+(-.5+b)*T+1,N=(-1-S)*w+(1.5+S)*C+.5*T,F=S*w-S*C;for(let B=0;B!==f;++B)u[B]=R*h[m+B]+L*h[p+B]+N*h[d+B]+F*h[v+B];return u}}class LinearInterpolant extends Interpolant{constructor(e,n,o,l){super(e,n,o,l)}interpolate_(e,n,o,l){const u=this.resultBuffer,h=this.sampleValues,f=this.valueSize,d=e*f,p=d-f,m=(o-n)/(l-n),v=1-m;for(let b=0;b!==f;++b)u[b]=h[p+b]*v+h[d+b]*m;return u}}class DiscreteInterpolant extends Interpolant{constructor(e,n,o,l){super(e,n,o,l)}interpolate_(e){return this.copySampleValue_(e-1)}}class KeyframeTrack{constructor(e,n,o,l){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=convertArray(n,this.TimeBufferType),this.values=convertArray(o,this.ValueBufferType),this.setInterpolation(l||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let o;if(n.toJSON!==this.toJSON)o=n.toJSON(e);else{o={name:e.name,times:convertArray(e.times,Array),values:convertArray(e.values,Array)};const l=e.getInterpolation();l!==e.DefaultInterpolation&&(o.interpolation=l)}return o.type=e.ValueTypeName,o}InterpolantFactoryMethodDiscrete(e){return new DiscreteInterpolant(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new LinearInterpolant(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new CubicInterpolant(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case InterpolateDiscrete:n=this.InterpolantFactoryMethodDiscrete;break;case InterpolateLinear:n=this.InterpolantFactoryMethodLinear;break;case InterpolateSmooth:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const o="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(o);return console.warn("THREE.KeyframeTrack:",o),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return InterpolateDiscrete;case this.InterpolantFactoryMethodLinear:return InterpolateLinear;case this.InterpolantFactoryMethodSmooth:return InterpolateSmooth}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let o=0,l=n.length;o!==l;++o)n[o]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let o=0,l=n.length;o!==l;++o)n[o]*=e}return this}trim(e,n){const o=this.times,l=o.length;let u=0,h=l-1;for(;u!==l&&o[u]<e;)++u;for(;h!==-1&&o[h]>n;)--h;if(++h,u!==0||h!==l){u>=h&&(h=Math.max(h,1),u=h-1);const f=this.getValueSize();this.times=o.slice(u,h),this.values=this.values.slice(u*f,h*f)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const o=this.times,l=this.values,u=o.length;u===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let h=null;for(let f=0;f!==u;f++){const d=o[f];if(typeof d=="number"&&isNaN(d)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,f,d),e=!1;break}if(h!==null&&h>d){console.error("THREE.KeyframeTrack: Out of order keys.",this,f,d,h),e=!1;break}h=d}if(l!==void 0&&isTypedArray$1(l))for(let f=0,d=l.length;f!==d;++f){const p=l[f];if(isNaN(p)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,f,p),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),o=this.getValueSize(),l=this.getInterpolation()===InterpolateSmooth,u=e.length-1;let h=1;for(let f=1;f<u;++f){let d=!1;const p=e[f],m=e[f+1];if(p!==m&&(f!==1||p!==e[0]))if(l)d=!0;else{const v=f*o,b=v-o,S=v+o;for(let T=0;T!==o;++T){const C=n[v+T];if(C!==n[b+T]||C!==n[S+T]){d=!0;break}}}if(d){if(f!==h){e[h]=e[f];const v=f*o,b=h*o;for(let S=0;S!==o;++S)n[b+S]=n[v+S]}++h}}if(u>0){e[h]=e[u];for(let f=u*o,d=h*o,p=0;p!==o;++p)n[d+p]=n[f+p];++h}return h!==e.length?(this.times=e.slice(0,h),this.values=n.slice(0,h*o)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),o=this.constructor,l=new o(this.name,e,n);return l.createInterpolant=this.createInterpolant,l}}KeyframeTrack.prototype.TimeBufferType=Float32Array;KeyframeTrack.prototype.ValueBufferType=Float32Array;KeyframeTrack.prototype.DefaultInterpolation=InterpolateLinear;class BooleanKeyframeTrack extends KeyframeTrack{}BooleanKeyframeTrack.prototype.ValueTypeName="bool";BooleanKeyframeTrack.prototype.ValueBufferType=Array;BooleanKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class ColorKeyframeTrack extends KeyframeTrack{}ColorKeyframeTrack.prototype.ValueTypeName="color";class NumberKeyframeTrack extends KeyframeTrack{}NumberKeyframeTrack.prototype.ValueTypeName="number";class QuaternionLinearInterpolant extends Interpolant{constructor(e,n,o,l){super(e,n,o,l)}interpolate_(e,n,o,l){const u=this.resultBuffer,h=this.sampleValues,f=this.valueSize,d=(o-n)/(l-n);let p=e*f;for(let m=p+f;p!==m;p+=4)Quaternion.slerpFlat(u,0,h,p-f,h,p,d);return u}}class QuaternionKeyframeTrack extends KeyframeTrack{InterpolantFactoryMethodLinear(e){return new QuaternionLinearInterpolant(this.times,this.values,this.getValueSize(),e)}}QuaternionKeyframeTrack.prototype.ValueTypeName="quaternion";QuaternionKeyframeTrack.prototype.DefaultInterpolation=InterpolateLinear;QuaternionKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class StringKeyframeTrack extends KeyframeTrack{}StringKeyframeTrack.prototype.ValueTypeName="string";StringKeyframeTrack.prototype.ValueBufferType=Array;StringKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;StringKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;StringKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class VectorKeyframeTrack extends KeyframeTrack{}VectorKeyframeTrack.prototype.ValueTypeName="vector";class AnimationClip{constructor(e,n=-1,o,l=NormalAnimationBlendMode){this.name=e,this.tracks=o,this.duration=n,this.blendMode=l,this.uuid=generateUUID(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],o=e.tracks,l=1/(e.fps||1);for(let h=0,f=o.length;h!==f;++h)n.push(parseKeyframeTrack(o[h]).scale(l));const u=new this(e.name,e.duration,n,e.blendMode);return u.uuid=e.uuid,u}static toJSON(e){const n=[],o=e.tracks,l={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let u=0,h=o.length;u!==h;++u)n.push(KeyframeTrack.toJSON(o[u]));return l}static CreateFromMorphTargetSequence(e,n,o,l){const u=n.length,h=[];for(let f=0;f<u;f++){let d=[],p=[];d.push((f+u-1)%u,f,(f+1)%u),p.push(0,1,0);const m=getKeyframeOrder(d);d=sortedArray(d,1,m),p=sortedArray(p,1,m),!l&&d[0]===0&&(d.push(u),p.push(p[0])),h.push(new NumberKeyframeTrack(".morphTargetInfluences["+n[f].name+"]",d,p).scale(1/o))}return new this(e,-1,h)}static findByName(e,n){let o=e;if(!Array.isArray(e)){const l=e;o=l.geometry&&l.geometry.animations||l.animations}for(let l=0;l<o.length;l++)if(o[l].name===n)return o[l];return null}static CreateClipsFromMorphTargetSequences(e,n,o){const l={},u=/^([\w-]*?)([\d]+)$/;for(let f=0,d=e.length;f<d;f++){const p=e[f],m=p.name.match(u);if(m&&m.length>1){const v=m[1];let b=l[v];b||(l[v]=b=[]),b.push(p)}}const h=[];for(const f in l)h.push(this.CreateFromMorphTargetSequence(f,l[f],n,o));return h}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const o=function(v,b,S,T,C){if(S.length!==0){const w=[],R=[];flattenJSON(S,w,R,T),w.length!==0&&C.push(new v(b,w,R))}},l=[],u=e.name||"default",h=e.fps||30,f=e.blendMode;let d=e.length||-1;const p=e.hierarchy||[];for(let v=0;v<p.length;v++){const b=p[v].keys;if(!(!b||b.length===0))if(b[0].morphTargets){const S={};let T;for(T=0;T<b.length;T++)if(b[T].morphTargets)for(let C=0;C<b[T].morphTargets.length;C++)S[b[T].morphTargets[C]]=-1;for(const C in S){const w=[],R=[];for(let L=0;L!==b[T].morphTargets.length;++L){const N=b[T];w.push(N.time),R.push(N.morphTarget===C?1:0)}l.push(new NumberKeyframeTrack(".morphTargetInfluence["+C+"]",w,R))}d=S.length*h}else{const S=".bones["+n[v].name+"]";o(VectorKeyframeTrack,S+".position",b,"pos",l),o(QuaternionKeyframeTrack,S+".quaternion",b,"rot",l),o(VectorKeyframeTrack,S+".scale",b,"scl",l)}}return l.length===0?null:new this(u,d,l,f)}resetDuration(){const e=this.tracks;let n=0;for(let o=0,l=e.length;o!==l;++o){const u=this.tracks[o];n=Math.max(n,u.times[u.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function getTrackTypeForValueTypeName(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return NumberKeyframeTrack;case"vector":case"vector2":case"vector3":case"vector4":return VectorKeyframeTrack;case"color":return ColorKeyframeTrack;case"quaternion":return QuaternionKeyframeTrack;case"bool":case"boolean":return BooleanKeyframeTrack;case"string":return StringKeyframeTrack}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function parseKeyframeTrack(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=getTrackTypeForValueTypeName(t.type);if(t.times===void 0){const n=[],o=[];flattenJSON(t.keys,n,o,"value"),t.times=n,t.values=o}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Cache={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class LoadingManager{constructor(e,n,o){const l=this;let u=!1,h=0,f=0,d;const p=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=o,this.itemStart=function(m){f++,u===!1&&l.onStart!==void 0&&l.onStart(m,h,f),u=!0},this.itemEnd=function(m){h++,l.onProgress!==void 0&&l.onProgress(m,h,f),h===f&&(u=!1,l.onLoad!==void 0&&l.onLoad())},this.itemError=function(m){l.onError!==void 0&&l.onError(m)},this.resolveURL=function(m){return d?d(m):m},this.setURLModifier=function(m){return d=m,this},this.addHandler=function(m,v){return p.push(m,v),this},this.removeHandler=function(m){const v=p.indexOf(m);return v!==-1&&p.splice(v,2),this},this.getHandler=function(m){for(let v=0,b=p.length;v<b;v+=2){const S=p[v],T=p[v+1];if(S.global&&(S.lastIndex=0),S.test(m))return T}return null}}}const DefaultLoadingManager=new LoadingManager;class Loader{constructor(e){this.manager=e!==void 0?e:DefaultLoadingManager,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const o=this;return new Promise(function(l,u){o.load(e,l,n,u)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Loader.DEFAULT_MATERIAL_NAME="__DEFAULT";const loading={};class HttpError extends Error{constructor(e,n){super(e),this.response=n}}class FileLoader extends Loader{constructor(e){super(e)}load(e,n,o,l){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const u=Cache.get(e);if(u!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(u),this.manager.itemEnd(e)},0),u;if(loading[e]!==void 0){loading[e].push({onLoad:n,onProgress:o,onError:l});return}loading[e]=[],loading[e].push({onLoad:n,onProgress:o,onError:l});const h=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),f=this.mimeType,d=this.responseType;fetch(h).then(p=>{if(p.status===200||p.status===0){if(p.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||p.body===void 0||p.body.getReader===void 0)return p;const m=loading[e],v=p.body.getReader(),b=p.headers.get("Content-Length")||p.headers.get("X-File-Size"),S=b?parseInt(b):0,T=S!==0;let C=0;const w=new ReadableStream({start(R){L();function L(){v.read().then(({done:N,value:F})=>{if(N)R.close();else{C+=F.byteLength;const B=new ProgressEvent("progress",{lengthComputable:T,loaded:C,total:S});for(let U=0,z=m.length;U<z;U++){const K=m[U];K.onProgress&&K.onProgress(B)}R.enqueue(F),L()}})}}});return new Response(w)}else throw new HttpError(`fetch for "${p.url}" responded with ${p.status}: ${p.statusText}`,p)}).then(p=>{switch(d){case"arraybuffer":return p.arrayBuffer();case"blob":return p.blob();case"document":return p.text().then(m=>new DOMParser().parseFromString(m,f));case"json":return p.json();default:if(f===void 0)return p.text();{const v=/charset="?([^;"\s]*)"?/i.exec(f),b=v&&v[1]?v[1].toLowerCase():void 0,S=new TextDecoder(b);return p.arrayBuffer().then(T=>S.decode(T))}}}).then(p=>{Cache.add(e,p);const m=loading[e];delete loading[e];for(let v=0,b=m.length;v<b;v++){const S=m[v];S.onLoad&&S.onLoad(p)}}).catch(p=>{const m=loading[e];if(m===void 0)throw this.manager.itemError(e),p;delete loading[e];for(let v=0,b=m.length;v<b;v++){const S=m[v];S.onError&&S.onError(p)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class AnimationLoader extends Loader{constructor(e){super(e)}load(e,n,o,l){const u=this,h=new FileLoader(this.manager);h.setPath(this.path),h.setRequestHeader(this.requestHeader),h.setWithCredentials(this.withCredentials),h.load(e,function(f){try{n(u.parse(JSON.parse(f)))}catch(d){l?l(d):console.error(d),u.manager.itemError(e)}},o,l)}parse(e){const n=[];for(let o=0;o<e.length;o++){const l=AnimationClip.parse(e[o]);n.push(l)}return n}}class CompressedTextureLoader extends Loader{constructor(e){super(e)}load(e,n,o,l){const u=this,h=[],f=new CompressedTexture,d=new FileLoader(this.manager);d.setPath(this.path),d.setResponseType("arraybuffer"),d.setRequestHeader(this.requestHeader),d.setWithCredentials(u.withCredentials);let p=0;function m(v){d.load(e[v],function(b){const S=u.parse(b,!0);h[v]={width:S.width,height:S.height,format:S.format,mipmaps:S.mipmaps},p+=1,p===6&&(S.mipmapCount===1&&(f.minFilter=LinearFilter),f.image=h,f.format=S.format,f.needsUpdate=!0,n&&n(f))},o,l)}if(Array.isArray(e))for(let v=0,b=e.length;v<b;++v)m(v);else d.load(e,function(v){const b=u.parse(v,!0);if(b.isCubemap){const S=b.mipmaps.length/b.mipmapCount;for(let T=0;T<S;T++){h[T]={mipmaps:[]};for(let C=0;C<b.mipmapCount;C++)h[T].mipmaps.push(b.mipmaps[T*b.mipmapCount+C]),h[T].format=b.format,h[T].width=b.width,h[T].height=b.height}f.image=h}else f.image.width=b.width,f.image.height=b.height,f.mipmaps=b.mipmaps;b.mipmapCount===1&&(f.minFilter=LinearFilter),f.format=b.format,f.needsUpdate=!0,n&&n(f)},o,l);return f}}class ImageLoader extends Loader{constructor(e){super(e)}load(e,n,o,l){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const u=this,h=Cache.get(e);if(h!==void 0)return u.manager.itemStart(e),setTimeout(function(){n&&n(h),u.manager.itemEnd(e)},0),h;const f=createElementNS("img");function d(){m(),Cache.add(e,this),n&&n(this),u.manager.itemEnd(e)}function p(v){m(),l&&l(v),u.manager.itemError(e),u.manager.itemEnd(e)}function m(){f.removeEventListener("load",d,!1),f.removeEventListener("error",p,!1)}return f.addEventListener("load",d,!1),f.addEventListener("error",p,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(f.crossOrigin=this.crossOrigin),u.manager.itemStart(e),f.src=e,f}}class CubeTextureLoader extends Loader{constructor(e){super(e)}load(e,n,o,l){const u=new CubeTexture;u.colorSpace=SRGBColorSpace;const h=new ImageLoader(this.manager);h.setCrossOrigin(this.crossOrigin),h.setPath(this.path);let f=0;function d(p){h.load(e[p],function(m){u.images[p]=m,f++,f===6&&(u.needsUpdate=!0,n&&n(u))},void 0,l)}for(let p=0;p<e.length;++p)d(p);return u}}class DataTextureLoader extends Loader{constructor(e){super(e)}load(e,n,o,l){const u=this,h=new DataTexture,f=new FileLoader(this.manager);return f.setResponseType("arraybuffer"),f.setRequestHeader(this.requestHeader),f.setPath(this.path),f.setWithCredentials(u.withCredentials),f.load(e,function(d){let p;try{p=u.parse(d)}catch(m){if(l!==void 0)l(m);else{console.error(m);return}}p.image!==void 0?h.image=p.image:p.data!==void 0&&(h.image.width=p.width,h.image.height=p.height,h.image.data=p.data),h.wrapS=p.wrapS!==void 0?p.wrapS:ClampToEdgeWrapping,h.wrapT=p.wrapT!==void 0?p.wrapT:ClampToEdgeWrapping,h.magFilter=p.magFilter!==void 0?p.magFilter:LinearFilter,h.minFilter=p.minFilter!==void 0?p.minFilter:LinearFilter,h.anisotropy=p.anisotropy!==void 0?p.anisotropy:1,p.colorSpace!==void 0&&(h.colorSpace=p.colorSpace),p.flipY!==void 0&&(h.flipY=p.flipY),p.format!==void 0&&(h.format=p.format),p.type!==void 0&&(h.type=p.type),p.mipmaps!==void 0&&(h.mipmaps=p.mipmaps,h.minFilter=LinearMipmapLinearFilter),p.mipmapCount===1&&(h.minFilter=LinearFilter),p.generateMipmaps!==void 0&&(h.generateMipmaps=p.generateMipmaps),h.needsUpdate=!0,n&&n(h,p)},o,l),h}}class TextureLoader extends Loader{constructor(e){super(e)}load(e,n,o,l){const u=new Texture,h=new ImageLoader(this.manager);return h.setCrossOrigin(this.crossOrigin),h.setPath(this.path),h.load(e,function(f){u.image=f,u.needsUpdate=!0,n!==void 0&&n(u)},o,l),u}}class Light extends Object3D{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Color$1(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class HemisphereLight extends Light{constructor(e,n,o){super(e,o),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Color$1(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const _projScreenMatrix$1=new Matrix4,_lightPositionWorld$1=new Vector3,_lookTarget$1=new Vector3;class LightShadow{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Vector2(512,512),this.map=null,this.mapPass=null,this.matrix=new Matrix4,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Frustum,this._frameExtents=new Vector2(1,1),this._viewportCount=1,this._viewports=[new Vector4(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,o=this.matrix;_lightPositionWorld$1.setFromMatrixPosition(e.matrixWorld),n.position.copy(_lightPositionWorld$1),_lookTarget$1.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(_lookTarget$1),n.updateMatrixWorld(),_projScreenMatrix$1.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix$1),o.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),o.multiply(_projScreenMatrix$1)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class SpotLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,o=RAD2DEG*2*e.angle*this.focus,l=this.mapSize.width/this.mapSize.height,u=e.distance||n.far;(o!==n.fov||l!==n.aspect||u!==n.far)&&(n.fov=o,n.aspect=l,n.far=u,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class SpotLight extends Light{constructor(e,n,o=0,l=Math.PI/3,u=0,h=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.target=new Object3D,this.distance=o,this.angle=l,this.penumbra=u,this.decay=h,this.map=null,this.shadow=new SpotLightShadow}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const _projScreenMatrix=new Matrix4,_lightPositionWorld=new Vector3,_lookTarget=new Vector3;class PointLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Vector2(4,2),this._viewportCount=6,this._viewports=[new Vector4(2,1,1,1),new Vector4(0,1,1,1),new Vector4(3,1,1,1),new Vector4(1,1,1,1),new Vector4(3,0,1,1),new Vector4(1,0,1,1)],this._cubeDirections=[new Vector3(1,0,0),new Vector3(-1,0,0),new Vector3(0,0,1),new Vector3(0,0,-1),new Vector3(0,1,0),new Vector3(0,-1,0)],this._cubeUps=[new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,0,1),new Vector3(0,0,-1)]}updateMatrices(e,n=0){const o=this.camera,l=this.matrix,u=e.distance||o.far;u!==o.far&&(o.far=u,o.updateProjectionMatrix()),_lightPositionWorld.setFromMatrixPosition(e.matrixWorld),o.position.copy(_lightPositionWorld),_lookTarget.copy(o.position),_lookTarget.add(this._cubeDirections[n]),o.up.copy(this._cubeUps[n]),o.lookAt(_lookTarget),o.updateMatrixWorld(),l.makeTranslation(-_lightPositionWorld.x,-_lightPositionWorld.y,-_lightPositionWorld.z),_projScreenMatrix.multiplyMatrices(o.projectionMatrix,o.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix)}}class PointLight extends Light{constructor(e,n,o=0,l=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=o,this.decay=l,this.shadow=new PointLightShadow}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class DirectionalLightShadow extends LightShadow{constructor(){super(new OrthographicCamera(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class DirectionalLight extends Light{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.target=new Object3D,this.shadow=new DirectionalLightShadow}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class AmbientLight extends Light{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class RectAreaLight extends Light{constructor(e,n,o=10,l=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=o,this.height=l}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class SphericalHarmonics3{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Vector3)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const o=e.x,l=e.y,u=e.z,h=this.coefficients;return n.copy(h[0]).multiplyScalar(.282095),n.addScaledVector(h[1],.488603*l),n.addScaledVector(h[2],.488603*u),n.addScaledVector(h[3],.488603*o),n.addScaledVector(h[4],1.092548*(o*l)),n.addScaledVector(h[5],1.092548*(l*u)),n.addScaledVector(h[6],.315392*(3*u*u-1)),n.addScaledVector(h[7],1.092548*(o*u)),n.addScaledVector(h[8],.546274*(o*o-l*l)),n}getIrradianceAt(e,n){const o=e.x,l=e.y,u=e.z,h=this.coefficients;return n.copy(h[0]).multiplyScalar(.886227),n.addScaledVector(h[1],2*.511664*l),n.addScaledVector(h[2],2*.511664*u),n.addScaledVector(h[3],2*.511664*o),n.addScaledVector(h[4],2*.429043*o*l),n.addScaledVector(h[5],2*.429043*l*u),n.addScaledVector(h[6],.743125*u*u-.247708),n.addScaledVector(h[7],2*.429043*o*u),n.addScaledVector(h[8],.429043*(o*o-l*l)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let o=0;o<9;o++)this.coefficients[o].addScaledVector(e.coefficients[o],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let o=0;o<9;o++)this.coefficients[o].lerp(e.coefficients[o],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const o=this.coefficients;for(let l=0;l<9;l++)o[l].fromArray(e,n+l*3);return this}toArray(e=[],n=0){const o=this.coefficients;for(let l=0;l<9;l++)o[l].toArray(e,n+l*3);return e}static getBasisAt(e,n){const o=e.x,l=e.y,u=e.z;n[0]=.282095,n[1]=.488603*l,n[2]=.488603*u,n[3]=.488603*o,n[4]=1.092548*o*l,n[5]=1.092548*l*u,n[6]=.315392*(3*u*u-1),n[7]=1.092548*o*u,n[8]=.546274*(o*o-l*l)}}class LightProbe extends Light{constructor(e=new SphericalHarmonics3,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class MaterialLoader extends Loader{constructor(e){super(e),this.textures={}}load(e,n,o,l){const u=this,h=new FileLoader(u.manager);h.setPath(u.path),h.setRequestHeader(u.requestHeader),h.setWithCredentials(u.withCredentials),h.load(e,function(f){try{n(u.parse(JSON.parse(f)))}catch(d){l?l(d):console.error(d),u.manager.itemError(e)}},o,l)}parse(e){const n=this.textures;function o(u){return n[u]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",u),n[u]}const l=MaterialLoader.createMaterialFromType(e.type);if(e.uuid!==void 0&&(l.uuid=e.uuid),e.name!==void 0&&(l.name=e.name),e.color!==void 0&&l.color!==void 0&&l.color.setHex(e.color),e.roughness!==void 0&&(l.roughness=e.roughness),e.metalness!==void 0&&(l.metalness=e.metalness),e.sheen!==void 0&&(l.sheen=e.sheen),e.sheenColor!==void 0&&(l.sheenColor=new Color$1().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(l.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&l.emissive!==void 0&&l.emissive.setHex(e.emissive),e.specular!==void 0&&l.specular!==void 0&&l.specular.setHex(e.specular),e.specularIntensity!==void 0&&(l.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&l.specularColor!==void 0&&l.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(l.shininess=e.shininess),e.clearcoat!==void 0&&(l.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(l.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(l.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(l.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(l.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(l.transmission=e.transmission),e.thickness!==void 0&&(l.thickness=e.thickness),e.attenuationDistance!==void 0&&(l.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&l.attenuationColor!==void 0&&l.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(l.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(l.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(l.fog=e.fog),e.flatShading!==void 0&&(l.flatShading=e.flatShading),e.blending!==void 0&&(l.blending=e.blending),e.combine!==void 0&&(l.combine=e.combine),e.side!==void 0&&(l.side=e.side),e.shadowSide!==void 0&&(l.shadowSide=e.shadowSide),e.opacity!==void 0&&(l.opacity=e.opacity),e.transparent!==void 0&&(l.transparent=e.transparent),e.alphaTest!==void 0&&(l.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(l.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(l.depthFunc=e.depthFunc),e.depthTest!==void 0&&(l.depthTest=e.depthTest),e.depthWrite!==void 0&&(l.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(l.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(l.blendSrc=e.blendSrc),e.blendDst!==void 0&&(l.blendDst=e.blendDst),e.blendEquation!==void 0&&(l.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(l.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(l.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(l.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&l.blendColor!==void 0&&l.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(l.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(l.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(l.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(l.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(l.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(l.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(l.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(l.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(l.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(l.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(l.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(l.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(l.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(l.rotation=e.rotation),e.linewidth!==void 0&&(l.linewidth=e.linewidth),e.dashSize!==void 0&&(l.dashSize=e.dashSize),e.gapSize!==void 0&&(l.gapSize=e.gapSize),e.scale!==void 0&&(l.scale=e.scale),e.polygonOffset!==void 0&&(l.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(l.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(l.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(l.dithering=e.dithering),e.alphaToCoverage!==void 0&&(l.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(l.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(l.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(l.visible=e.visible),e.toneMapped!==void 0&&(l.toneMapped=e.toneMapped),e.userData!==void 0&&(l.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?l.vertexColors=e.vertexColors>0:l.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const u in e.uniforms){const h=e.uniforms[u];switch(l.uniforms[u]={},h.type){case"t":l.uniforms[u].value=o(h.value);break;case"c":l.uniforms[u].value=new Color$1().setHex(h.value);break;case"v2":l.uniforms[u].value=new Vector2().fromArray(h.value);break;case"v3":l.uniforms[u].value=new Vector3().fromArray(h.value);break;case"v4":l.uniforms[u].value=new Vector4().fromArray(h.value);break;case"m3":l.uniforms[u].value=new Matrix3().fromArray(h.value);break;case"m4":l.uniforms[u].value=new Matrix4().fromArray(h.value);break;default:l.uniforms[u].value=h.value}}if(e.defines!==void 0&&(l.defines=e.defines),e.vertexShader!==void 0&&(l.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(l.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(l.glslVersion=e.glslVersion),e.extensions!==void 0)for(const u in e.extensions)l.extensions[u]=e.extensions[u];if(e.lights!==void 0&&(l.lights=e.lights),e.clipping!==void 0&&(l.clipping=e.clipping),e.size!==void 0&&(l.size=e.size),e.sizeAttenuation!==void 0&&(l.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(l.map=o(e.map)),e.matcap!==void 0&&(l.matcap=o(e.matcap)),e.alphaMap!==void 0&&(l.alphaMap=o(e.alphaMap)),e.bumpMap!==void 0&&(l.bumpMap=o(e.bumpMap)),e.bumpScale!==void 0&&(l.bumpScale=e.bumpScale),e.normalMap!==void 0&&(l.normalMap=o(e.normalMap)),e.normalMapType!==void 0&&(l.normalMapType=e.normalMapType),e.normalScale!==void 0){let u=e.normalScale;Array.isArray(u)===!1&&(u=[u,u]),l.normalScale=new Vector2().fromArray(u)}return e.displacementMap!==void 0&&(l.displacementMap=o(e.displacementMap)),e.displacementScale!==void 0&&(l.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(l.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(l.roughnessMap=o(e.roughnessMap)),e.metalnessMap!==void 0&&(l.metalnessMap=o(e.metalnessMap)),e.emissiveMap!==void 0&&(l.emissiveMap=o(e.emissiveMap)),e.emissiveIntensity!==void 0&&(l.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(l.specularMap=o(e.specularMap)),e.specularIntensityMap!==void 0&&(l.specularIntensityMap=o(e.specularIntensityMap)),e.specularColorMap!==void 0&&(l.specularColorMap=o(e.specularColorMap)),e.envMap!==void 0&&(l.envMap=o(e.envMap)),e.envMapRotation!==void 0&&l.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(l.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(l.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(l.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(l.lightMap=o(e.lightMap)),e.lightMapIntensity!==void 0&&(l.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(l.aoMap=o(e.aoMap)),e.aoMapIntensity!==void 0&&(l.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(l.gradientMap=o(e.gradientMap)),e.clearcoatMap!==void 0&&(l.clearcoatMap=o(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(l.clearcoatRoughnessMap=o(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(l.clearcoatNormalMap=o(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(l.clearcoatNormalScale=new Vector2().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(l.iridescenceMap=o(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(l.iridescenceThicknessMap=o(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(l.transmissionMap=o(e.transmissionMap)),e.thicknessMap!==void 0&&(l.thicknessMap=o(e.thicknessMap)),e.anisotropyMap!==void 0&&(l.anisotropyMap=o(e.anisotropyMap)),e.sheenColorMap!==void 0&&(l.sheenColorMap=o(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(l.sheenRoughnessMap=o(e.sheenRoughnessMap)),l}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial,SpriteMaterial,RawShaderMaterial,ShaderMaterial,PointsMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshPhongMaterial,MeshToonMaterial,MeshNormalMaterial,MeshLambertMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshBasicMaterial,MeshMatcapMaterial,LineDashedMaterial,LineBasicMaterial,Material};return new n[e]}}class LoaderUtils{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let o=0,l=e.length;o<l;o++)n+=String.fromCharCode(e[o]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class InstancedBufferGeometry extends BufferGeometry{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class BufferGeometryLoader extends Loader{constructor(e){super(e)}load(e,n,o,l){const u=this,h=new FileLoader(u.manager);h.setPath(u.path),h.setRequestHeader(u.requestHeader),h.setWithCredentials(u.withCredentials),h.load(e,function(f){try{n(u.parse(JSON.parse(f)))}catch(d){l?l(d):console.error(d),u.manager.itemError(e)}},o,l)}parse(e){const n={},o={};function l(S,T){if(n[T]!==void 0)return n[T];const w=S.interleavedBuffers[T],R=u(S,w.buffer),L=getTypedArray(w.type,R),N=new InterleavedBuffer(L,w.stride);return N.uuid=w.uuid,n[T]=N,N}function u(S,T){if(o[T]!==void 0)return o[T];const w=S.arrayBuffers[T],R=new Uint32Array(w).buffer;return o[T]=R,R}const h=e.isInstancedBufferGeometry?new InstancedBufferGeometry:new BufferGeometry,f=e.data.index;if(f!==void 0){const S=getTypedArray(f.type,f.array);h.setIndex(new BufferAttribute(S,1))}const d=e.data.attributes;for(const S in d){const T=d[S];let C;if(T.isInterleavedBufferAttribute){const w=l(e.data,T.data);C=new InterleavedBufferAttribute(w,T.itemSize,T.offset,T.normalized)}else{const w=getTypedArray(T.type,T.array),R=T.isInstancedBufferAttribute?InstancedBufferAttribute:BufferAttribute;C=new R(w,T.itemSize,T.normalized)}T.name!==void 0&&(C.name=T.name),T.usage!==void 0&&C.setUsage(T.usage),h.setAttribute(S,C)}const p=e.data.morphAttributes;if(p)for(const S in p){const T=p[S],C=[];for(let w=0,R=T.length;w<R;w++){const L=T[w];let N;if(L.isInterleavedBufferAttribute){const F=l(e.data,L.data);N=new InterleavedBufferAttribute(F,L.itemSize,L.offset,L.normalized)}else{const F=getTypedArray(L.type,L.array);N=new BufferAttribute(F,L.itemSize,L.normalized)}L.name!==void 0&&(N.name=L.name),C.push(N)}h.morphAttributes[S]=C}e.data.morphTargetsRelative&&(h.morphTargetsRelative=!0);const v=e.data.groups||e.data.drawcalls||e.data.offsets;if(v!==void 0)for(let S=0,T=v.length;S!==T;++S){const C=v[S];h.addGroup(C.start,C.count,C.materialIndex)}const b=e.data.boundingSphere;if(b!==void 0){const S=new Vector3;b.center!==void 0&&S.fromArray(b.center),h.boundingSphere=new Sphere(S,b.radius)}return e.name&&(h.name=e.name),e.userData&&(h.userData=e.userData),h}}class ObjectLoader extends Loader{constructor(e){super(e)}load(e,n,o,l){const u=this,h=this.path===""?LoaderUtils.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||h;const f=new FileLoader(this.manager);f.setPath(this.path),f.setRequestHeader(this.requestHeader),f.setWithCredentials(this.withCredentials),f.load(e,function(d){let p=null;try{p=JSON.parse(d)}catch(v){l!==void 0&&l(v),console.error("THREE:ObjectLoader: Can't parse "+e+".",v.message);return}const m=p.metadata;if(m===void 0||m.type===void 0||m.type.toLowerCase()==="geometry"){l!==void 0&&l(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}u.parse(p,n)},o,l)}async loadAsync(e,n){const o=this,l=this.path===""?LoaderUtils.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||l;const u=new FileLoader(this.manager);u.setPath(this.path),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials);const h=await u.loadAsync(e,n),f=JSON.parse(h),d=f.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await o.parseAsync(f)}parse(e,n){const o=this.parseAnimations(e.animations),l=this.parseShapes(e.shapes),u=this.parseGeometries(e.geometries,l),h=this.parseImages(e.images,function(){n!==void 0&&n(p)}),f=this.parseTextures(e.textures,h),d=this.parseMaterials(e.materials,f),p=this.parseObject(e.object,u,d,f,o),m=this.parseSkeletons(e.skeletons,p);if(this.bindSkeletons(p,m),n!==void 0){let v=!1;for(const b in h)if(h[b].data instanceof HTMLImageElement){v=!0;break}v===!1&&n(p)}return p}async parseAsync(e){const n=this.parseAnimations(e.animations),o=this.parseShapes(e.shapes),l=this.parseGeometries(e.geometries,o),u=await this.parseImagesAsync(e.images),h=this.parseTextures(e.textures,u),f=this.parseMaterials(e.materials,h),d=this.parseObject(e.object,l,f,h,n),p=this.parseSkeletons(e.skeletons,d);return this.bindSkeletons(d,p),d}parseShapes(e){const n={};if(e!==void 0)for(let o=0,l=e.length;o<l;o++){const u=new Shape$1().fromJSON(e[o]);n[u.uuid]=u}return n}parseSkeletons(e,n){const o={},l={};if(n.traverse(function(u){u.isBone&&(l[u.uuid]=u)}),e!==void 0)for(let u=0,h=e.length;u<h;u++){const f=new Skeleton().fromJSON(e[u],l);o[f.uuid]=f}return o}parseGeometries(e,n){const o={};if(e!==void 0){const l=new BufferGeometryLoader;for(let u=0,h=e.length;u<h;u++){let f;const d=e[u];switch(d.type){case"BufferGeometry":case"InstancedBufferGeometry":f=l.parse(d);break;default:d.type in Geometries?f=Geometries[d.type].fromJSON(d,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${d.type}"`)}f.uuid=d.uuid,d.name!==void 0&&(f.name=d.name),d.userData!==void 0&&(f.userData=d.userData),o[d.uuid]=f}}return o}parseMaterials(e,n){const o={},l={};if(e!==void 0){const u=new MaterialLoader;u.setTextures(n);for(let h=0,f=e.length;h<f;h++){const d=e[h];o[d.uuid]===void 0&&(o[d.uuid]=u.parse(d)),l[d.uuid]=o[d.uuid]}}return l}parseAnimations(e){const n={};if(e!==void 0)for(let o=0;o<e.length;o++){const l=e[o],u=AnimationClip.parse(l);n[u.uuid]=u}return n}parseImages(e,n){const o=this,l={};let u;function h(d){return o.manager.itemStart(d),u.load(d,function(){o.manager.itemEnd(d)},void 0,function(){o.manager.itemError(d),o.manager.itemEnd(d)})}function f(d){if(typeof d=="string"){const p=d,m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(p)?p:o.resourcePath+p;return h(m)}else return d.data?{data:getTypedArray(d.type,d.data),width:d.width,height:d.height}:null}if(e!==void 0&&e.length>0){const d=new LoadingManager(n);u=new ImageLoader(d),u.setCrossOrigin(this.crossOrigin);for(let p=0,m=e.length;p<m;p++){const v=e[p],b=v.url;if(Array.isArray(b)){const S=[];for(let T=0,C=b.length;T<C;T++){const w=b[T],R=f(w);R!==null&&(R instanceof HTMLImageElement?S.push(R):S.push(new DataTexture(R.data,R.width,R.height)))}l[v.uuid]=new Source(S)}else{const S=f(v.url);l[v.uuid]=new Source(S)}}}return l}async parseImagesAsync(e){const n=this,o={};let l;async function u(h){if(typeof h=="string"){const f=h,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(f)?f:n.resourcePath+f;return await l.loadAsync(d)}else return h.data?{data:getTypedArray(h.type,h.data),width:h.width,height:h.height}:null}if(e!==void 0&&e.length>0){l=new ImageLoader(this.manager),l.setCrossOrigin(this.crossOrigin);for(let h=0,f=e.length;h<f;h++){const d=e[h],p=d.url;if(Array.isArray(p)){const m=[];for(let v=0,b=p.length;v<b;v++){const S=p[v],T=await u(S);T!==null&&(T instanceof HTMLImageElement?m.push(T):m.push(new DataTexture(T.data,T.width,T.height)))}o[d.uuid]=new Source(m)}else{const m=await u(d.url);o[d.uuid]=new Source(m)}}}return o}parseTextures(e,n){function o(u,h){return typeof u=="number"?u:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",u),h[u])}const l={};if(e!==void 0)for(let u=0,h=e.length;u<h;u++){const f=e[u];f.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',f.uuid),n[f.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",f.image);const d=n[f.image],p=d.data;let m;Array.isArray(p)?(m=new CubeTexture,p.length===6&&(m.needsUpdate=!0)):(p&&p.data?m=new DataTexture:m=new Texture,p&&(m.needsUpdate=!0)),m.source=d,m.uuid=f.uuid,f.name!==void 0&&(m.name=f.name),f.mapping!==void 0&&(m.mapping=o(f.mapping,TEXTURE_MAPPING)),f.channel!==void 0&&(m.channel=f.channel),f.offset!==void 0&&m.offset.fromArray(f.offset),f.repeat!==void 0&&m.repeat.fromArray(f.repeat),f.center!==void 0&&m.center.fromArray(f.center),f.rotation!==void 0&&(m.rotation=f.rotation),f.wrap!==void 0&&(m.wrapS=o(f.wrap[0],TEXTURE_WRAPPING),m.wrapT=o(f.wrap[1],TEXTURE_WRAPPING)),f.format!==void 0&&(m.format=f.format),f.internalFormat!==void 0&&(m.internalFormat=f.internalFormat),f.type!==void 0&&(m.type=f.type),f.colorSpace!==void 0&&(m.colorSpace=f.colorSpace),f.minFilter!==void 0&&(m.minFilter=o(f.minFilter,TEXTURE_FILTER)),f.magFilter!==void 0&&(m.magFilter=o(f.magFilter,TEXTURE_FILTER)),f.anisotropy!==void 0&&(m.anisotropy=f.anisotropy),f.flipY!==void 0&&(m.flipY=f.flipY),f.generateMipmaps!==void 0&&(m.generateMipmaps=f.generateMipmaps),f.premultiplyAlpha!==void 0&&(m.premultiplyAlpha=f.premultiplyAlpha),f.unpackAlignment!==void 0&&(m.unpackAlignment=f.unpackAlignment),f.compareFunction!==void 0&&(m.compareFunction=f.compareFunction),f.userData!==void 0&&(m.userData=f.userData),l[f.uuid]=m}return l}parseObject(e,n,o,l,u){let h;function f(b){return n[b]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",b),n[b]}function d(b){if(b!==void 0){if(Array.isArray(b)){const S=[];for(let T=0,C=b.length;T<C;T++){const w=b[T];o[w]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",w),S.push(o[w])}return S}return o[b]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",b),o[b]}}function p(b){return l[b]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",b),l[b]}let m,v;switch(e.type){case"Scene":h=new Scene,e.background!==void 0&&(Number.isInteger(e.background)?h.background=new Color$1(e.background):h.background=p(e.background)),e.environment!==void 0&&(h.environment=p(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?h.fog=new Fog(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(h.fog=new FogExp2(e.fog.color,e.fog.density)),e.fog.name!==""&&(h.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(h.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(h.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&h.backgroundRotation.fromArray(e.backgroundRotation),e.environmentRotation!==void 0&&h.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":h=new PerspectiveCamera(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(h.focus=e.focus),e.zoom!==void 0&&(h.zoom=e.zoom),e.filmGauge!==void 0&&(h.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(h.filmOffset=e.filmOffset),e.view!==void 0&&(h.view=Object.assign({},e.view));break;case"OrthographicCamera":h=new OrthographicCamera(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(h.zoom=e.zoom),e.view!==void 0&&(h.view=Object.assign({},e.view));break;case"AmbientLight":h=new AmbientLight(e.color,e.intensity);break;case"DirectionalLight":h=new DirectionalLight(e.color,e.intensity);break;case"PointLight":h=new PointLight(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":h=new RectAreaLight(e.color,e.intensity,e.width,e.height);break;case"SpotLight":h=new SpotLight(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":h=new HemisphereLight(e.color,e.groundColor,e.intensity);break;case"LightProbe":h=new LightProbe().fromJSON(e);break;case"SkinnedMesh":m=f(e.geometry),v=d(e.material),h=new SkinnedMesh(m,v),e.bindMode!==void 0&&(h.bindMode=e.bindMode),e.bindMatrix!==void 0&&h.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(h.skeleton=e.skeleton);break;case"Mesh":m=f(e.geometry),v=d(e.material),h=new Mesh(m,v);break;case"InstancedMesh":m=f(e.geometry),v=d(e.material);const b=e.count,S=e.instanceMatrix,T=e.instanceColor;h=new InstancedMesh(m,v,b),h.instanceMatrix=new InstancedBufferAttribute(new Float32Array(S.array),16),T!==void 0&&(h.instanceColor=new InstancedBufferAttribute(new Float32Array(T.array),T.itemSize));break;case"BatchedMesh":m=f(e.geometry),v=d(e.material),h=new BatchedMesh(e.maxGeometryCount,e.maxVertexCount,e.maxIndexCount,v),h.geometry=m,h.perObjectFrustumCulled=e.perObjectFrustumCulled,h.sortObjects=e.sortObjects,h._drawRanges=e.drawRanges,h._reservedRanges=e.reservedRanges,h._visibility=e.visibility,h._active=e.active,h._bounds=e.bounds.map(C=>{const w=new Box3;w.min.fromArray(C.boxMin),w.max.fromArray(C.boxMax);const R=new Sphere;return R.radius=C.sphereRadius,R.center.fromArray(C.sphereCenter),{boxInitialized:C.boxInitialized,box:w,sphereInitialized:C.sphereInitialized,sphere:R}}),h._maxGeometryCount=e.maxGeometryCount,h._maxVertexCount=e.maxVertexCount,h._maxIndexCount=e.maxIndexCount,h._geometryInitialized=e.geometryInitialized,h._geometryCount=e.geometryCount,h._matricesTexture=p(e.matricesTexture.uuid);break;case"LOD":h=new LOD;break;case"Line":h=new Line(f(e.geometry),d(e.material));break;case"LineLoop":h=new LineLoop(f(e.geometry),d(e.material));break;case"LineSegments":h=new LineSegments(f(e.geometry),d(e.material));break;case"PointCloud":case"Points":h=new Points(f(e.geometry),d(e.material));break;case"Sprite":h=new Sprite(d(e.material));break;case"Group":h=new Group;break;case"Bone":h=new Bone;break;default:h=new Object3D}if(h.uuid=e.uuid,e.name!==void 0&&(h.name=e.name),e.matrix!==void 0?(h.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(h.matrixAutoUpdate=e.matrixAutoUpdate),h.matrixAutoUpdate&&h.matrix.decompose(h.position,h.quaternion,h.scale)):(e.position!==void 0&&h.position.fromArray(e.position),e.rotation!==void 0&&h.rotation.fromArray(e.rotation),e.quaternion!==void 0&&h.quaternion.fromArray(e.quaternion),e.scale!==void 0&&h.scale.fromArray(e.scale)),e.up!==void 0&&h.up.fromArray(e.up),e.castShadow!==void 0&&(h.castShadow=e.castShadow),e.receiveShadow!==void 0&&(h.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(h.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(h.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(h.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&h.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(h.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(h.visible=e.visible),e.frustumCulled!==void 0&&(h.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(h.renderOrder=e.renderOrder),e.userData!==void 0&&(h.userData=e.userData),e.layers!==void 0&&(h.layers.mask=e.layers),e.children!==void 0){const b=e.children;for(let S=0;S<b.length;S++)h.add(this.parseObject(b[S],n,o,l,u))}if(e.animations!==void 0){const b=e.animations;for(let S=0;S<b.length;S++){const T=b[S];h.animations.push(u[T])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(h.autoUpdate=e.autoUpdate);const b=e.levels;for(let S=0;S<b.length;S++){const T=b[S],C=h.getObjectByProperty("uuid",T.object);C!==void 0&&h.addLevel(C,T.distance,T.hysteresis)}}return h}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(o){if(o.isSkinnedMesh===!0&&o.skeleton!==void 0){const l=n[o.skeleton];l===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",o.skeleton):o.bind(l,o.bindMatrix)}})}}const TEXTURE_MAPPING={UVMapping,CubeReflectionMapping,CubeRefractionMapping,EquirectangularReflectionMapping,EquirectangularRefractionMapping,CubeUVReflectionMapping},TEXTURE_WRAPPING={RepeatWrapping,ClampToEdgeWrapping,MirroredRepeatWrapping},TEXTURE_FILTER={NearestFilter,NearestMipmapNearestFilter,NearestMipmapLinearFilter,LinearFilter,LinearMipmapNearestFilter,LinearMipmapLinearFilter};class ImageBitmapLoader extends Loader{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,o,l){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const u=this,h=Cache.get(e);if(h!==void 0){if(u.manager.itemStart(e),h.then){h.then(p=>{n&&n(p),u.manager.itemEnd(e)}).catch(p=>{l&&l(p)});return}return setTimeout(function(){n&&n(h),u.manager.itemEnd(e)},0),h}const f={};f.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",f.headers=this.requestHeader;const d=fetch(e,f).then(function(p){return p.blob()}).then(function(p){return createImageBitmap(p,Object.assign(u.options,{colorSpaceConversion:"none"}))}).then(function(p){return Cache.add(e,p),n&&n(p),u.manager.itemEnd(e),p}).catch(function(p){l&&l(p),Cache.remove(e),u.manager.itemError(e),u.manager.itemEnd(e)});Cache.add(e,d),u.manager.itemStart(e)}}let _context;class AudioContext{static getContext(){return _context===void 0&&(_context=new(window.AudioContext||window.webkitAudioContext)),_context}static setContext(e){_context=e}}class AudioLoader extends Loader{constructor(e){super(e)}load(e,n,o,l){const u=this,h=new FileLoader(this.manager);h.setResponseType("arraybuffer"),h.setPath(this.path),h.setRequestHeader(this.requestHeader),h.setWithCredentials(this.withCredentials),h.load(e,function(d){try{const p=d.slice(0);AudioContext.getContext().decodeAudioData(p,function(v){n(v)}).catch(f)}catch(p){f(p)}},o,l);function f(d){l?l(d):console.error(d),u.manager.itemError(e)}}}const _eyeRight=new Matrix4,_eyeLeft=new Matrix4,_projectionMatrix=new Matrix4;class StereoCamera{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new PerspectiveCamera,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new PerspectiveCamera,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,_projectionMatrix.copy(e.projectionMatrix);const l=n.eyeSep/2,u=l*n.near/n.focus,h=n.near*Math.tan(DEG2RAD*n.fov*.5)/n.zoom;let f,d;_eyeLeft.elements[12]=-l,_eyeRight.elements[12]=l,f=-h*n.aspect+u,d=h*n.aspect+u,_projectionMatrix.elements[0]=2*n.near/(d-f),_projectionMatrix.elements[8]=(d+f)/(d-f),this.cameraL.projectionMatrix.copy(_projectionMatrix),f=-h*n.aspect-u,d=h*n.aspect-u,_projectionMatrix.elements[0]=2*n.near/(d-f),_projectionMatrix.elements[8]=(d+f)/(d-f),this.cameraR.projectionMatrix.copy(_projectionMatrix)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(_eyeLeft),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(_eyeRight)}}class Clock{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=now();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function now(){return(typeof performance>"u"?Date:performance).now()}const _position$1=new Vector3,_quaternion$1=new Quaternion,_scale$1=new Vector3,_orientation$1=new Vector3;class AudioListener extends Object3D{constructor(){super(),this.type="AudioListener",this.context=AudioContext.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Clock}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,o=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(_position$1,_quaternion$1,_scale$1),_orientation$1.set(0,0,-1).applyQuaternion(_quaternion$1),n.positionX){const l=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(_position$1.x,l),n.positionY.linearRampToValueAtTime(_position$1.y,l),n.positionZ.linearRampToValueAtTime(_position$1.z,l),n.forwardX.linearRampToValueAtTime(_orientation$1.x,l),n.forwardY.linearRampToValueAtTime(_orientation$1.y,l),n.forwardZ.linearRampToValueAtTime(_orientation$1.z,l),n.upX.linearRampToValueAtTime(o.x,l),n.upY.linearRampToValueAtTime(o.y,l),n.upZ.linearRampToValueAtTime(o.z,l)}else n.setPosition(_position$1.x,_position$1.y,_position$1.z),n.setOrientation(_orientation$1.x,_orientation$1.y,_orientation$1.z,o.x,o.y,o.z)}}class Audio extends Object3D{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const _position=new Vector3,_quaternion=new Quaternion,_scale=new Vector3,_orientation=new Vector3;class PositionalAudio extends Audio{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,o){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=o,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(_position,_quaternion,_scale),_orientation.set(0,0,1).applyQuaternion(_quaternion);const n=this.panner;if(n.positionX){const o=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(_position.x,o),n.positionY.linearRampToValueAtTime(_position.y,o),n.positionZ.linearRampToValueAtTime(_position.z,o),n.orientationX.linearRampToValueAtTime(_orientation.x,o),n.orientationY.linearRampToValueAtTime(_orientation.y,o),n.orientationZ.linearRampToValueAtTime(_orientation.z,o)}else n.setPosition(_position.x,_position.y,_position.z),n.setOrientation(_orientation.x,_orientation.y,_orientation.z)}}class AudioAnalyser{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let o=0;o<n.length;o++)e+=n[o];return e/n.length}}class PropertyMixer{constructor(e,n,o){this.binding=e,this.valueSize=o;let l,u,h;switch(n){case"quaternion":l=this._slerp,u=this._slerpAdditive,h=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(o*6),this._workIndex=5;break;case"string":case"bool":l=this._select,u=this._select,h=this._setAdditiveIdentityOther,this.buffer=new Array(o*5);break;default:l=this._lerp,u=this._lerpAdditive,h=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(o*5)}this._mixBufferRegion=l,this._mixBufferRegionAdditive=u,this._setIdentity=h,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const o=this.buffer,l=this.valueSize,u=e*l+l;let h=this.cumulativeWeight;if(h===0){for(let f=0;f!==l;++f)o[u+f]=o[f];h=n}else{h+=n;const f=n/h;this._mixBufferRegion(o,u,0,f,l)}this.cumulativeWeight=h}accumulateAdditive(e){const n=this.buffer,o=this.valueSize,l=o*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,l,0,e,o),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,o=this.buffer,l=e*n+n,u=this.cumulativeWeight,h=this.cumulativeWeightAdditive,f=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,u<1){const d=n*this._origIndex;this._mixBufferRegion(o,l,d,1-u,n)}h>0&&this._mixBufferRegionAdditive(o,l,this._addIndex*n,1,n);for(let d=n,p=n+n;d!==p;++d)if(o[d]!==o[d+n]){f.setValue(o,l);break}}saveOriginalState(){const e=this.binding,n=this.buffer,o=this.valueSize,l=o*this._origIndex;e.getValue(n,l);for(let u=o,h=l;u!==h;++u)n[u]=n[l+u%o];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let o=e;o<n;o++)this.buffer[o]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let o=0;o<this.valueSize;o++)this.buffer[n+o]=this.buffer[e+o]}_select(e,n,o,l,u){if(l>=.5)for(let h=0;h!==u;++h)e[n+h]=e[o+h]}_slerp(e,n,o,l){Quaternion.slerpFlat(e,n,e,n,e,o,l)}_slerpAdditive(e,n,o,l,u){const h=this._workIndex*u;Quaternion.multiplyQuaternionsFlat(e,h,e,n,e,o),Quaternion.slerpFlat(e,n,e,n,e,h,l)}_lerp(e,n,o,l,u){const h=1-l;for(let f=0;f!==u;++f){const d=n+f;e[d]=e[d]*h+e[o+f]*l}}_lerpAdditive(e,n,o,l,u){for(let h=0;h!==u;++h){const f=n+h;e[f]=e[f]+e[o+h]*l}}}const _RESERVED_CHARS_RE="\\[\\]\\.:\\/",_reservedRe=new RegExp("["+_RESERVED_CHARS_RE+"]","g"),_wordChar="[^"+_RESERVED_CHARS_RE+"]",_wordCharOrDot="[^"+_RESERVED_CHARS_RE.replace("\\.","")+"]",_directoryRe=/((?:WC+[\/:])*)/.source.replace("WC",_wordChar),_nodeRe=/(WCOD+)?/.source.replace("WCOD",_wordCharOrDot),_objectRe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",_wordChar),_propertyRe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",_wordChar),_trackRe=new RegExp("^"+_directoryRe+_nodeRe+_objectRe+_propertyRe+"$"),_supportedObjectNames=["material","materials","bones","map"];class Composite{constructor(e,n,o){const l=o||PropertyBinding.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,l)}getValue(e,n){this.bind();const o=this._targetGroup.nCachedObjects_,l=this._bindings[o];l!==void 0&&l.getValue(e,n)}setValue(e,n){const o=this._bindings;for(let l=this._targetGroup.nCachedObjects_,u=o.length;l!==u;++l)o[l].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,o=e.length;n!==o;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,o=e.length;n!==o;++n)e[n].unbind()}}class PropertyBinding{constructor(e,n,o){this.path=n,this.parsedPath=o||PropertyBinding.parseTrackName(n),this.node=PropertyBinding.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,o){return e&&e.isAnimationObjectGroup?new PropertyBinding.Composite(e,n,o):new PropertyBinding(e,n,o)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(_reservedRe,"")}static parseTrackName(e){const n=_trackRe.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const o={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},l=o.nodeName&&o.nodeName.lastIndexOf(".");if(l!==void 0&&l!==-1){const u=o.nodeName.substring(l+1);_supportedObjectNames.indexOf(u)!==-1&&(o.nodeName=o.nodeName.substring(0,l),o.objectName=u)}if(o.propertyName===null||o.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return o}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const o=e.skeleton.getBoneByName(n);if(o!==void 0)return o}if(e.children){const o=function(u){for(let h=0;h<u.length;h++){const f=u[h];if(f.name===n||f.uuid===n)return f;const d=o(f.children);if(d)return d}return null},l=o(e.children);if(l)return l}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const o=this.resolvedProperty;for(let l=0,u=o.length;l!==u;++l)e[n++]=o[l]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const o=this.resolvedProperty;for(let l=0,u=o.length;l!==u;++l)o[l]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const o=this.resolvedProperty;for(let l=0,u=o.length;l!==u;++l)o[l]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const o=this.resolvedProperty;for(let l=0,u=o.length;l!==u;++l)o[l]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,o=n.objectName,l=n.propertyName;let u=n.propertyIndex;if(e||(e=PropertyBinding.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(o){let p=n.objectIndex;switch(o){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let m=0;m<e.length;m++)if(e[m].name===p){p=m;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[o]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[o]}if(p!==void 0){if(e[p]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[p]}}const h=e[l];if(h===void 0){const p=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+p+"."+l+" but it wasn't found.",e);return}let f=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?f=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(f=this.Versioning.MatrixWorldNeedsUpdate);let d=this.BindingType.Direct;if(u!==void 0){if(l==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[u]!==void 0&&(u=e.morphTargetDictionary[u])}d=this.BindingType.ArrayElement,this.resolvedProperty=h,this.propertyIndex=u}else h.fromArray!==void 0&&h.toArray!==void 0?(d=this.BindingType.HasFromToArray,this.resolvedProperty=h):Array.isArray(h)?(d=this.BindingType.EntireArray,this.resolvedProperty=h):this.propertyName=l;this.getValue=this.GetterByBindingType[d],this.setValue=this.SetterByBindingTypeAndVersioning[d][f]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}PropertyBinding.Composite=Composite;PropertyBinding.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};PropertyBinding.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};PropertyBinding.prototype.GetterByBindingType=[PropertyBinding.prototype._getValue_direct,PropertyBinding.prototype._getValue_array,PropertyBinding.prototype._getValue_arrayElement,PropertyBinding.prototype._getValue_toArray];PropertyBinding.prototype.SetterByBindingTypeAndVersioning=[[PropertyBinding.prototype._setValue_direct,PropertyBinding.prototype._setValue_direct_setNeedsUpdate,PropertyBinding.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_array,PropertyBinding.prototype._setValue_array_setNeedsUpdate,PropertyBinding.prototype._setValue_array_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_arrayElement,PropertyBinding.prototype._setValue_arrayElement_setNeedsUpdate,PropertyBinding.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_fromArray,PropertyBinding.prototype._setValue_fromArray_setNeedsUpdate,PropertyBinding.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class AnimationObjectGroup{constructor(){this.isAnimationObjectGroup=!0,this.uuid=generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let o=0,l=arguments.length;o!==l;++o)e[arguments[o].uuid]=o;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,o=this._paths,l=this._parsedPaths,u=this._bindings,h=u.length;let f,d=e.length,p=this.nCachedObjects_;for(let m=0,v=arguments.length;m!==v;++m){const b=arguments[m],S=b.uuid;let T=n[S];if(T===void 0){T=d++,n[S]=T,e.push(b);for(let C=0,w=h;C!==w;++C)u[C].push(new PropertyBinding(b,o[C],l[C]))}else if(T<p){f=e[T];const C=--p,w=e[C];n[w.uuid]=T,e[T]=w,n[S]=C,e[C]=b;for(let R=0,L=h;R!==L;++R){const N=u[R],F=N[C];let B=N[T];N[T]=F,B===void 0&&(B=new PropertyBinding(b,o[R],l[R])),N[C]=B}}else e[T]!==f&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=p}remove(){const e=this._objects,n=this._indicesByUUID,o=this._bindings,l=o.length;let u=this.nCachedObjects_;for(let h=0,f=arguments.length;h!==f;++h){const d=arguments[h],p=d.uuid,m=n[p];if(m!==void 0&&m>=u){const v=u++,b=e[v];n[b.uuid]=m,e[m]=b,n[p]=v,e[v]=d;for(let S=0,T=l;S!==T;++S){const C=o[S],w=C[v],R=C[m];C[m]=w,C[v]=R}}}this.nCachedObjects_=u}uncache(){const e=this._objects,n=this._indicesByUUID,o=this._bindings,l=o.length;let u=this.nCachedObjects_,h=e.length;for(let f=0,d=arguments.length;f!==d;++f){const p=arguments[f],m=p.uuid,v=n[m];if(v!==void 0)if(delete n[m],v<u){const b=--u,S=e[b],T=--h,C=e[T];n[S.uuid]=v,e[v]=S,n[C.uuid]=b,e[b]=C,e.pop();for(let w=0,R=l;w!==R;++w){const L=o[w],N=L[b],F=L[T];L[v]=N,L[b]=F,L.pop()}}else{const b=--h,S=e[b];b>0&&(n[S.uuid]=v),e[v]=S,e.pop();for(let T=0,C=l;T!==C;++T){const w=o[T];w[v]=w[b],w.pop()}}}this.nCachedObjects_=u}subscribe_(e,n){const o=this._bindingsIndicesByPath;let l=o[e];const u=this._bindings;if(l!==void 0)return u[l];const h=this._paths,f=this._parsedPaths,d=this._objects,p=d.length,m=this.nCachedObjects_,v=new Array(p);l=u.length,o[e]=l,h.push(e),f.push(n),u.push(v);for(let b=m,S=d.length;b!==S;++b){const T=d[b];v[b]=new PropertyBinding(T,e,n)}return v}unsubscribe_(e){const n=this._bindingsIndicesByPath,o=n[e];if(o!==void 0){const l=this._paths,u=this._parsedPaths,h=this._bindings,f=h.length-1,d=h[f],p=e[f];n[p]=o,h[o]=d,h.pop(),u[o]=u[f],u.pop(),l[o]=l[f],l.pop()}}}class AnimationAction{constructor(e,n,o=null,l=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=o,this.blendMode=l;const u=n.tracks,h=u.length,f=new Array(h),d={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding};for(let p=0;p!==h;++p){const m=u[p].createInterpolant(null);f[p]=m,m.settings=d}this._interpolantSettings=d,this._interpolants=f,this._propertyBindings=new Array(h),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=LoopRepeat,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,o){if(e.fadeOut(n),this.fadeIn(n),o){const l=this._clip.duration,u=e._clip.duration,h=u/l,f=l/u;e.warp(1,h,n),this.warp(f,1,n)}return this}crossFadeTo(e,n,o){return e.crossFadeFrom(this,n,o)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,o){const l=this._mixer,u=l.time,h=this.timeScale;let f=this._timeScaleInterpolant;f===null&&(f=l._lendControlInterpolant(),this._timeScaleInterpolant=f);const d=f.parameterPositions,p=f.sampleValues;return d[0]=u,d[1]=u+o,p[0]=e/h,p[1]=n/h,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,o,l){if(!this.enabled){this._updateWeight(e);return}const u=this._startTime;if(u!==null){const d=(e-u)*o;d<0||o===0?n=0:(this._startTime=null,n=o*d)}n*=this._updateTimeScale(e);const h=this._updateTime(n),f=this._updateWeight(e);if(f>0){const d=this._interpolants,p=this._propertyBindings;switch(this.blendMode){case AdditiveAnimationBlendMode:for(let m=0,v=d.length;m!==v;++m)d[m].evaluate(h),p[m].accumulateAdditive(f);break;case NormalAnimationBlendMode:default:for(let m=0,v=d.length;m!==v;++m)d[m].evaluate(h),p[m].accumulate(l,f)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const o=this._weightInterpolant;if(o!==null){const l=o.evaluate(e)[0];n*=l,e>o.parameterPositions[1]&&(this.stopFading(),l===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const o=this._timeScaleInterpolant;if(o!==null){const l=o.evaluate(e)[0];n*=l,e>o.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,o=this.loop;let l=this.time+e,u=this._loopCount;const h=o===LoopPingPong;if(e===0)return u===-1?l:h&&(u&1)===1?n-l:l;if(o===LoopOnce){u===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(l>=n)l=n;else if(l<0)l=0;else{this.time=l;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=l,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(u===-1&&(e>=0?(u=0,this._setEndings(!0,this.repetitions===0,h)):this._setEndings(this.repetitions===0,!0,h)),l>=n||l<0){const f=Math.floor(l/n);l-=n*f,u+=Math.abs(f);const d=this.repetitions-u;if(d<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,l=e>0?n:0,this.time=l,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(d===1){const p=e<0;this._setEndings(p,!p,h)}else this._setEndings(!1,!1,h);this._loopCount=u,this.time=l,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:f})}}else this.time=l;if(h&&(u&1)===1)return n-l}return l}_setEndings(e,n,o){const l=this._interpolantSettings;o?(l.endingStart=ZeroSlopeEnding,l.endingEnd=ZeroSlopeEnding):(e?l.endingStart=this.zeroSlopeAtStart?ZeroSlopeEnding:ZeroCurvatureEnding:l.endingStart=WrapAroundEnding,n?l.endingEnd=this.zeroSlopeAtEnd?ZeroSlopeEnding:ZeroCurvatureEnding:l.endingEnd=WrapAroundEnding)}_scheduleFading(e,n,o){const l=this._mixer,u=l.time;let h=this._weightInterpolant;h===null&&(h=l._lendControlInterpolant(),this._weightInterpolant=h);const f=h.parameterPositions,d=h.sampleValues;return f[0]=u,d[0]=n,f[1]=u+e,d[1]=o,this}}const _controlInterpolantsResultBuffer=new Float32Array(1);class AnimationMixer extends EventDispatcher$1{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const o=e._localRoot||this._root,l=e._clip.tracks,u=l.length,h=e._propertyBindings,f=e._interpolants,d=o.uuid,p=this._bindingsByRootAndName;let m=p[d];m===void 0&&(m={},p[d]=m);for(let v=0;v!==u;++v){const b=l[v],S=b.name;let T=m[S];if(T!==void 0)++T.referenceCount,h[v]=T;else{if(T=h[v],T!==void 0){T._cacheIndex===null&&(++T.referenceCount,this._addInactiveBinding(T,d,S));continue}const C=n&&n._propertyBindings[v].binding.parsedPath;T=new PropertyMixer(PropertyBinding.create(o,S,C),b.ValueTypeName,b.getValueSize()),++T.referenceCount,this._addInactiveBinding(T,d,S),h[v]=T}f[v].resultBuffer=T.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const o=(e._localRoot||this._root).uuid,l=e._clip.uuid,u=this._actionsByClip[l];this._bindAction(e,u&&u.knownActions[0]),this._addInactiveAction(e,l,o)}const n=e._propertyBindings;for(let o=0,l=n.length;o!==l;++o){const u=n[o];u.useCount++===0&&(this._lendBinding(u),u.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let o=0,l=n.length;o!==l;++o){const u=n[o];--u.useCount===0&&(u.restoreOriginalState(),this._takeBackBinding(u))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,o){const l=this._actions,u=this._actionsByClip;let h=u[n];if(h===void 0)h={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,u[n]=h;else{const f=h.knownActions;e._byClipCacheIndex=f.length,f.push(e)}e._cacheIndex=l.length,l.push(e),h.actionByRoot[o]=e}_removeInactiveAction(e){const n=this._actions,o=n[n.length-1],l=e._cacheIndex;o._cacheIndex=l,n[l]=o,n.pop(),e._cacheIndex=null;const u=e._clip.uuid,h=this._actionsByClip,f=h[u],d=f.knownActions,p=d[d.length-1],m=e._byClipCacheIndex;p._byClipCacheIndex=m,d[m]=p,d.pop(),e._byClipCacheIndex=null;const v=f.actionByRoot,b=(e._localRoot||this._root).uuid;delete v[b],d.length===0&&delete h[u],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let o=0,l=n.length;o!==l;++o){const u=n[o];--u.referenceCount===0&&this._removeInactiveBinding(u)}}_lendAction(e){const n=this._actions,o=e._cacheIndex,l=this._nActiveActions++,u=n[l];e._cacheIndex=l,n[l]=e,u._cacheIndex=o,n[o]=u}_takeBackAction(e){const n=this._actions,o=e._cacheIndex,l=--this._nActiveActions,u=n[l];e._cacheIndex=l,n[l]=e,u._cacheIndex=o,n[o]=u}_addInactiveBinding(e,n,o){const l=this._bindingsByRootAndName,u=this._bindings;let h=l[n];h===void 0&&(h={},l[n]=h),h[o]=e,e._cacheIndex=u.length,u.push(e)}_removeInactiveBinding(e){const n=this._bindings,o=e.binding,l=o.rootNode.uuid,u=o.path,h=this._bindingsByRootAndName,f=h[l],d=n[n.length-1],p=e._cacheIndex;d._cacheIndex=p,n[p]=d,n.pop(),delete f[u],Object.keys(f).length===0&&delete h[l]}_lendBinding(e){const n=this._bindings,o=e._cacheIndex,l=this._nActiveBindings++,u=n[l];e._cacheIndex=l,n[l]=e,u._cacheIndex=o,n[o]=u}_takeBackBinding(e){const n=this._bindings,o=e._cacheIndex,l=--this._nActiveBindings,u=n[l];e._cacheIndex=l,n[l]=e,u._cacheIndex=o,n[o]=u}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let o=e[n];return o===void 0&&(o=new LinearInterpolant(new Float32Array(2),new Float32Array(2),1,_controlInterpolantsResultBuffer),o.__cacheIndex=n,e[n]=o),o}_takeBackControlInterpolant(e){const n=this._controlInterpolants,o=e.__cacheIndex,l=--this._nActiveControlInterpolants,u=n[l];e.__cacheIndex=l,n[l]=e,u.__cacheIndex=o,n[o]=u}clipAction(e,n,o){const l=n||this._root,u=l.uuid;let h=typeof e=="string"?AnimationClip.findByName(l,e):e;const f=h!==null?h.uuid:e,d=this._actionsByClip[f];let p=null;if(o===void 0&&(h!==null?o=h.blendMode:o=NormalAnimationBlendMode),d!==void 0){const v=d.actionByRoot[u];if(v!==void 0&&v.blendMode===o)return v;p=d.knownActions[0],h===null&&(h=p._clip)}if(h===null)return null;const m=new AnimationAction(this,h,n,o);return this._bindAction(m,p),this._addInactiveAction(m,f,u),m}existingAction(e,n){const o=n||this._root,l=o.uuid,u=typeof e=="string"?AnimationClip.findByName(o,e):e,h=u?u.uuid:e,f=this._actionsByClip[h];return f!==void 0&&f.actionByRoot[l]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let o=n-1;o>=0;--o)e[o].stop();return this}update(e){e*=this.timeScale;const n=this._actions,o=this._nActiveActions,l=this.time+=e,u=Math.sign(e),h=this._accuIndex^=1;for(let p=0;p!==o;++p)n[p]._update(l,e,u,h);const f=this._bindings,d=this._nActiveBindings;for(let p=0;p!==d;++p)f[p].apply(h);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,o=e.uuid,l=this._actionsByClip,u=l[o];if(u!==void 0){const h=u.knownActions;for(let f=0,d=h.length;f!==d;++f){const p=h[f];this._deactivateAction(p);const m=p._cacheIndex,v=n[n.length-1];p._cacheIndex=null,p._byClipCacheIndex=null,v._cacheIndex=m,n[m]=v,n.pop(),this._removeInactiveBindingsForAction(p)}delete l[o]}}uncacheRoot(e){const n=e.uuid,o=this._actionsByClip;for(const h in o){const f=o[h].actionByRoot,d=f[n];d!==void 0&&(this._deactivateAction(d),this._removeInactiveAction(d))}const l=this._bindingsByRootAndName,u=l[n];if(u!==void 0)for(const h in u){const f=u[h];f.restoreOriginalState(),this._removeInactiveBinding(f)}}uncacheAction(e,n){const o=this.existingAction(e,n);o!==null&&(this._deactivateAction(o),this._removeInactiveAction(o))}}class Uniform{constructor(e){this.value=e}clone(){return new Uniform(this.value.clone===void 0?this.value:this.value.clone())}}let _id=0;class UniformsGroup extends EventDispatcher$1{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:_id++}),this.name="",this.usage=StaticDrawUsage,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let o=0,l=n.length;o<l;o++){const u=Array.isArray(n[o])?n[o]:[n[o]];for(let h=0;h<u.length;h++)this.uniforms.push(u[h].clone())}return this}clone(){return new this.constructor().copy(this)}}class InstancedInterleavedBuffer extends InterleavedBuffer{constructor(e,n,o=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=o}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class GLBufferAttribute{constructor(e,n,o,l,u){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=o,this.elementSize=l,this.count=u,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const _matrix=new Matrix4;class Raycaster{constructor(e,n,o=0,l=1/0){this.ray=new Ray(e,n),this.near=o,this.far=l,this.camera=null,this.layers=new Layers,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return _matrix.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(_matrix),this}intersectObject(e,n=!0,o=[]){return intersect(e,this,o,n),o.sort(ascSort),o}intersectObjects(e,n=!0,o=[]){for(let l=0,u=e.length;l<u;l++)intersect(e[l],this,o,n);return o.sort(ascSort),o}}function ascSort(t,e){return t.distance-e.distance}function intersect(t,e,n,o){if(t.layers.test(e.layers)&&t.raycast(e,n),o===!0){const l=t.children;for(let u=0,h=l.length;u<h;u++)intersect(l[u],e,n,!0)}}class Spherical{constructor(e=1,n=0,o=0){return this.radius=e,this.phi=n,this.theta=o,this}set(e,n,o){return this.radius=e,this.phi=n,this.theta=o,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,o){return this.radius=Math.sqrt(e*e+n*n+o*o),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,o),this.phi=Math.acos(clamp(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Cylindrical{constructor(e=1,n=0,o=0){return this.radius=e,this.theta=n,this.y=o,this}set(e,n,o){return this.radius=e,this.theta=n,this.y=o,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,o){return this.radius=Math.sqrt(e*e+o*o),this.theta=Math.atan2(e,o),this.y=n,this}clone(){return new this.constructor().copy(this)}}const _vector$4=new Vector2;class Box2{constructor(e=new Vector2(1/0,1/0),n=new Vector2(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,o=e.length;n<o;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const o=_vector$4.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(o),this.max.copy(e).add(o),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,_vector$4).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const _startP=new Vector3,_startEnd=new Vector3;class Line3{constructor(e=new Vector3,n=new Vector3){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){_startP.subVectors(e,this.start),_startEnd.subVectors(this.end,this.start);const o=_startEnd.dot(_startEnd);let u=_startEnd.dot(_startP)/o;return n&&(u=clamp(u,0,1)),u}closestPointToPoint(e,n,o){const l=this.closestPointToPointParameter(e,n);return this.delta(o).multiplyScalar(l).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const _vector$3=new Vector3;class SpotLightHelper extends Object3D{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const o=new BufferGeometry,l=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let h=0,f=1,d=32;h<d;h++,f++){const p=h/d*Math.PI*2,m=f/d*Math.PI*2;l.push(Math.cos(p),Math.sin(p),1,Math.cos(m),Math.sin(m),1)}o.setAttribute("position",new Float32BufferAttribute(l,3));const u=new LineBasicMaterial({fog:!1,toneMapped:!1});this.cone=new LineSegments(o,u),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),_vector$3.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(_vector$3),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const _vector$2=new Vector3,_boneMatrix=new Matrix4,_matrixWorldInv=new Matrix4;class SkeletonHelper extends LineSegments{constructor(e){const n=getBoneList(e),o=new BufferGeometry,l=[],u=[],h=new Color$1(0,0,1),f=new Color$1(0,1,0);for(let p=0;p<n.length;p++){const m=n[p];m.parent&&m.parent.isBone&&(l.push(0,0,0),l.push(0,0,0),u.push(h.r,h.g,h.b),u.push(f.r,f.g,f.b))}o.setAttribute("position",new Float32BufferAttribute(l,3)),o.setAttribute("color",new Float32BufferAttribute(u,3));const d=new LineBasicMaterial({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(o,d),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,o=this.geometry,l=o.getAttribute("position");_matrixWorldInv.copy(this.root.matrixWorld).invert();for(let u=0,h=0;u<n.length;u++){const f=n[u];f.parent&&f.parent.isBone&&(_boneMatrix.multiplyMatrices(_matrixWorldInv,f.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),l.setXYZ(h,_vector$2.x,_vector$2.y,_vector$2.z),_boneMatrix.multiplyMatrices(_matrixWorldInv,f.parent.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),l.setXYZ(h+1,_vector$2.x,_vector$2.y,_vector$2.z),h+=2)}o.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function getBoneList(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,getBoneList(t.children[n]));return e}class PointLightHelper extends Mesh{constructor(e,n,o){const l=new SphereGeometry(n,4,2),u=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1});super(l,u),this.light=e,this.color=o,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const _vector$1=new Vector3,_color1=new Color$1,_color2=new Color$1;class HemisphereLightHelper extends Object3D{constructor(e,n,o){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=o,this.type="HemisphereLightHelper";const l=new OctahedronGeometry(n);l.rotateY(Math.PI*.5),this.material=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const u=l.getAttribute("position"),h=new Float32Array(u.count*3);l.setAttribute("color",new BufferAttribute(h,3)),this.add(new Mesh(l,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");_color1.copy(this.light.color),_color2.copy(this.light.groundColor);for(let o=0,l=n.count;o<l;o++){const u=o<l/2?_color1:_color2;n.setXYZ(o,u.r,u.g,u.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(_vector$1.setFromMatrixPosition(this.light.matrixWorld).negate())}}class GridHelper extends LineSegments{constructor(e=10,n=10,o=4473924,l=8947848){o=new Color$1(o),l=new Color$1(l);const u=n/2,h=e/n,f=e/2,d=[],p=[];for(let b=0,S=0,T=-f;b<=n;b++,T+=h){d.push(-f,0,T,f,0,T),d.push(T,0,-f,T,0,f);const C=b===u?o:l;C.toArray(p,S),S+=3,C.toArray(p,S),S+=3,C.toArray(p,S),S+=3,C.toArray(p,S),S+=3}const m=new BufferGeometry;m.setAttribute("position",new Float32BufferAttribute(d,3)),m.setAttribute("color",new Float32BufferAttribute(p,3));const v=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(m,v),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class PolarGridHelper extends LineSegments{constructor(e=10,n=16,o=8,l=64,u=4473924,h=8947848){u=new Color$1(u),h=new Color$1(h);const f=[],d=[];if(n>1)for(let v=0;v<n;v++){const b=v/n*(Math.PI*2),S=Math.sin(b)*e,T=Math.cos(b)*e;f.push(0,0,0),f.push(S,0,T);const C=v&1?u:h;d.push(C.r,C.g,C.b),d.push(C.r,C.g,C.b)}for(let v=0;v<o;v++){const b=v&1?u:h,S=e-e/o*v;for(let T=0;T<l;T++){let C=T/l*(Math.PI*2),w=Math.sin(C)*S,R=Math.cos(C)*S;f.push(w,0,R),d.push(b.r,b.g,b.b),C=(T+1)/l*(Math.PI*2),w=Math.sin(C)*S,R=Math.cos(C)*S,f.push(w,0,R),d.push(b.r,b.g,b.b)}}const p=new BufferGeometry;p.setAttribute("position",new Float32BufferAttribute(f,3)),p.setAttribute("color",new Float32BufferAttribute(d,3));const m=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(p,m),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const _v1=new Vector3,_v2=new Vector3,_v3=new Vector3;class DirectionalLightHelper extends Object3D{constructor(e,n,o){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=o,this.type="DirectionalLightHelper",n===void 0&&(n=1);let l=new BufferGeometry;l.setAttribute("position",new Float32BufferAttribute([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const u=new LineBasicMaterial({fog:!1,toneMapped:!1});this.lightPlane=new Line(l,u),this.add(this.lightPlane),l=new BufferGeometry,l.setAttribute("position",new Float32BufferAttribute([0,0,0,0,0,1],3)),this.targetLine=new Line(l,u),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),_v1.setFromMatrixPosition(this.light.matrixWorld),_v2.setFromMatrixPosition(this.light.target.matrixWorld),_v3.subVectors(_v2,_v1),this.lightPlane.lookAt(_v2),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(_v2),this.targetLine.scale.z=_v3.length()}}const _vector=new Vector3,_camera=new Camera;class CameraHelper extends LineSegments{constructor(e){const n=new BufferGeometry,o=new LineBasicMaterial({color:16777215,vertexColors:!0,toneMapped:!1}),l=[],u=[],h={};f("n1","n2"),f("n2","n4"),f("n4","n3"),f("n3","n1"),f("f1","f2"),f("f2","f4"),f("f4","f3"),f("f3","f1"),f("n1","f1"),f("n2","f2"),f("n3","f3"),f("n4","f4"),f("p","n1"),f("p","n2"),f("p","n3"),f("p","n4"),f("u1","u2"),f("u2","u3"),f("u3","u1"),f("c","t"),f("p","c"),f("cn1","cn2"),f("cn3","cn4"),f("cf1","cf2"),f("cf3","cf4");function f(T,C){d(T),d(C)}function d(T){l.push(0,0,0),u.push(0,0,0),h[T]===void 0&&(h[T]=[]),h[T].push(l.length/3-1)}n.setAttribute("position",new Float32BufferAttribute(l,3)),n.setAttribute("color",new Float32BufferAttribute(u,3)),super(n,o),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=h,this.update();const p=new Color$1(16755200),m=new Color$1(16711680),v=new Color$1(43775),b=new Color$1(16777215),S=new Color$1(3355443);this.setColors(p,m,v,b,S)}setColors(e,n,o,l,u){const f=this.geometry.getAttribute("color");f.setXYZ(0,e.r,e.g,e.b),f.setXYZ(1,e.r,e.g,e.b),f.setXYZ(2,e.r,e.g,e.b),f.setXYZ(3,e.r,e.g,e.b),f.setXYZ(4,e.r,e.g,e.b),f.setXYZ(5,e.r,e.g,e.b),f.setXYZ(6,e.r,e.g,e.b),f.setXYZ(7,e.r,e.g,e.b),f.setXYZ(8,e.r,e.g,e.b),f.setXYZ(9,e.r,e.g,e.b),f.setXYZ(10,e.r,e.g,e.b),f.setXYZ(11,e.r,e.g,e.b),f.setXYZ(12,e.r,e.g,e.b),f.setXYZ(13,e.r,e.g,e.b),f.setXYZ(14,e.r,e.g,e.b),f.setXYZ(15,e.r,e.g,e.b),f.setXYZ(16,e.r,e.g,e.b),f.setXYZ(17,e.r,e.g,e.b),f.setXYZ(18,e.r,e.g,e.b),f.setXYZ(19,e.r,e.g,e.b),f.setXYZ(20,e.r,e.g,e.b),f.setXYZ(21,e.r,e.g,e.b),f.setXYZ(22,e.r,e.g,e.b),f.setXYZ(23,e.r,e.g,e.b),f.setXYZ(24,n.r,n.g,n.b),f.setXYZ(25,n.r,n.g,n.b),f.setXYZ(26,n.r,n.g,n.b),f.setXYZ(27,n.r,n.g,n.b),f.setXYZ(28,n.r,n.g,n.b),f.setXYZ(29,n.r,n.g,n.b),f.setXYZ(30,n.r,n.g,n.b),f.setXYZ(31,n.r,n.g,n.b),f.setXYZ(32,o.r,o.g,o.b),f.setXYZ(33,o.r,o.g,o.b),f.setXYZ(34,o.r,o.g,o.b),f.setXYZ(35,o.r,o.g,o.b),f.setXYZ(36,o.r,o.g,o.b),f.setXYZ(37,o.r,o.g,o.b),f.setXYZ(38,l.r,l.g,l.b),f.setXYZ(39,l.r,l.g,l.b),f.setXYZ(40,u.r,u.g,u.b),f.setXYZ(41,u.r,u.g,u.b),f.setXYZ(42,u.r,u.g,u.b),f.setXYZ(43,u.r,u.g,u.b),f.setXYZ(44,u.r,u.g,u.b),f.setXYZ(45,u.r,u.g,u.b),f.setXYZ(46,u.r,u.g,u.b),f.setXYZ(47,u.r,u.g,u.b),f.setXYZ(48,u.r,u.g,u.b),f.setXYZ(49,u.r,u.g,u.b),f.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,o=1,l=1;_camera.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),setPoint("c",n,e,_camera,0,0,-1),setPoint("t",n,e,_camera,0,0,1),setPoint("n1",n,e,_camera,-1,-1,-1),setPoint("n2",n,e,_camera,o,-1,-1),setPoint("n3",n,e,_camera,-1,l,-1),setPoint("n4",n,e,_camera,o,l,-1),setPoint("f1",n,e,_camera,-1,-1,1),setPoint("f2",n,e,_camera,o,-1,1),setPoint("f3",n,e,_camera,-1,l,1),setPoint("f4",n,e,_camera,o,l,1),setPoint("u1",n,e,_camera,o*.7,l*1.1,-1),setPoint("u2",n,e,_camera,-1*.7,l*1.1,-1),setPoint("u3",n,e,_camera,0,l*2,-1),setPoint("cf1",n,e,_camera,-1,0,1),setPoint("cf2",n,e,_camera,o,0,1),setPoint("cf3",n,e,_camera,0,-1,1),setPoint("cf4",n,e,_camera,0,l,1),setPoint("cn1",n,e,_camera,-1,0,-1),setPoint("cn2",n,e,_camera,o,0,-1),setPoint("cn3",n,e,_camera,0,-1,-1),setPoint("cn4",n,e,_camera,0,l,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function setPoint(t,e,n,o,l,u,h){_vector.set(l,u,h).unproject(o);const f=e[t];if(f!==void 0){const d=n.getAttribute("position");for(let p=0,m=f.length;p<m;p++)d.setXYZ(f[p],_vector.x,_vector.y,_vector.z)}}const _box=new Box3;class BoxHelper extends LineSegments{constructor(e,n=16776960){const o=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),l=new Float32Array(8*3),u=new BufferGeometry;u.setIndex(new BufferAttribute(o,1)),u.setAttribute("position",new BufferAttribute(l,3)),super(u,new LineBasicMaterial({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&_box.setFromObject(this.object),_box.isEmpty())return;const n=_box.min,o=_box.max,l=this.geometry.attributes.position,u=l.array;u[0]=o.x,u[1]=o.y,u[2]=o.z,u[3]=n.x,u[4]=o.y,u[5]=o.z,u[6]=n.x,u[7]=n.y,u[8]=o.z,u[9]=o.x,u[10]=n.y,u[11]=o.z,u[12]=o.x,u[13]=o.y,u[14]=n.z,u[15]=n.x,u[16]=o.y,u[17]=n.z,u[18]=n.x,u[19]=n.y,u[20]=n.z,u[21]=o.x,u[22]=n.y,u[23]=n.z,l.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Box3Helper extends LineSegments{constructor(e,n=16776960){const o=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),l=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],u=new BufferGeometry;u.setIndex(new BufferAttribute(o,1)),u.setAttribute("position",new Float32BufferAttribute(l,3)),super(u,new LineBasicMaterial({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class PlaneHelper extends Line{constructor(e,n=1,o=16776960){const l=o,u=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],h=new BufferGeometry;h.setAttribute("position",new Float32BufferAttribute(u,3)),h.computeBoundingSphere(),super(h,new LineBasicMaterial({color:l,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const f=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],d=new BufferGeometry;d.setAttribute("position",new Float32BufferAttribute(f,3)),d.computeBoundingSphere(),this.add(new Mesh(d,new MeshBasicMaterial({color:l,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const _axis=new Vector3;let _lineGeometry,_coneGeometry;class ArrowHelper extends Object3D{constructor(e=new Vector3(0,0,1),n=new Vector3(0,0,0),o=1,l=16776960,u=o*.2,h=u*.2){super(),this.type="ArrowHelper",_lineGeometry===void 0&&(_lineGeometry=new BufferGeometry,_lineGeometry.setAttribute("position",new Float32BufferAttribute([0,0,0,0,1,0],3)),_coneGeometry=new CylinderGeometry(0,.5,1,5,1),_coneGeometry.translate(0,-.5,0)),this.position.copy(n),this.line=new Line(_lineGeometry,new LineBasicMaterial({color:l,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Mesh(_coneGeometry,new MeshBasicMaterial({color:l,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(o,u,h)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{_axis.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(_axis,n)}}setLength(e,n=e*.2,o=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(o,n,o),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class AxesHelper extends LineSegments{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],o=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],l=new BufferGeometry;l.setAttribute("position",new Float32BufferAttribute(n,3)),l.setAttribute("color",new Float32BufferAttribute(o,3));const u=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(l,u),this.type="AxesHelper"}setColors(e,n,o){const l=new Color$1,u=this.geometry.attributes.color.array;return l.set(e),l.toArray(u,0),l.toArray(u,3),l.set(n),l.toArray(u,6),l.toArray(u,9),l.set(o),l.toArray(u,12),l.toArray(u,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class ShapePath{constructor(){this.type="ShapePath",this.color=new Color$1,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new Path$1,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,o,l){return this.currentPath.quadraticCurveTo(e,n,o,l),this}bezierCurveTo(e,n,o,l,u,h){return this.currentPath.bezierCurveTo(e,n,o,l,u,h),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(R){const L=[];for(let N=0,F=R.length;N<F;N++){const B=R[N],U=new Shape$1;U.curves=B.curves,L.push(U)}return L}function o(R,L){const N=L.length;let F=!1;for(let B=N-1,U=0;U<N;B=U++){let z=L[B],K=L[U],Q=K.x-z.x,q=K.y-z.y;if(Math.abs(q)>Number.EPSILON){if(q<0&&(z=L[U],Q=-Q,K=L[B],q=-q),R.y<z.y||R.y>K.y)continue;if(R.y===z.y){if(R.x===z.x)return!0}else{const H=q*(R.x-z.x)-Q*(R.y-z.y);if(H===0)return!0;if(H<0)continue;F=!F}}else{if(R.y!==z.y)continue;if(K.x<=R.x&&R.x<=z.x||z.x<=R.x&&R.x<=K.x)return!0}}return F}const l=ShapeUtils.isClockWise,u=this.subPaths;if(u.length===0)return[];let h,f,d;const p=[];if(u.length===1)return f=u[0],d=new Shape$1,d.curves=f.curves,p.push(d),p;let m=!l(u[0].getPoints());m=e?!m:m;const v=[],b=[];let S=[],T=0,C;b[T]=void 0,S[T]=[];for(let R=0,L=u.length;R<L;R++)f=u[R],C=f.getPoints(),h=l(C),h=e?!h:h,h?(!m&&b[T]&&T++,b[T]={s:new Shape$1,p:C},b[T].s.curves=f.curves,m&&T++,S[T]=[]):S[T].push({h:f,p:C[0]});if(!b[0])return n(u);if(b.length>1){let R=!1,L=0;for(let N=0,F=b.length;N<F;N++)v[N]=[];for(let N=0,F=b.length;N<F;N++){const B=S[N];for(let U=0;U<B.length;U++){const z=B[U];let K=!0;for(let Q=0;Q<b.length;Q++)o(z.p,b[Q].p)&&(N!==Q&&L++,K?(K=!1,v[Q].push(z)):R=!0);K&&v[N].push(z)}}L>0&&R===!1&&(S=v)}let w;for(let R=0,L=b.length;R<L;R++){d=b[R].s,p.push(d),w=S[R];for(let N=0,F=w.length;N<F;N++)d.holes.push(w[N].h)}return p}}class WebGLMultipleRenderTargets extends WebGLRenderTarget{constructor(e=1,n=1,o=1,l={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(e,n,{...l,count:o}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:REVISION}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=REVISION);const THREE=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping,AddEquation,AddOperation,AdditiveAnimationBlendMode,AdditiveBlending,AgXToneMapping,AlphaFormat,AlwaysCompare,AlwaysDepth,AlwaysStencilFunc,AmbientLight,AnimationAction,AnimationClip,AnimationLoader,AnimationMixer,AnimationObjectGroup,AnimationUtils,ArcCurve,ArrayCamera,ArrowHelper,AttachedBindMode,Audio,AudioAnalyser,AudioContext,AudioListener,AudioLoader,AxesHelper,BackSide,BasicDepthPacking,BasicShadowMap,BatchedMesh,Bone,BooleanKeyframeTrack,Box2,Box3,Box3Helper,BoxGeometry,BoxHelper,BufferAttribute,BufferGeometry,BufferGeometryLoader,ByteType,Cache,Camera,CameraHelper,CanvasTexture,CapsuleGeometry,CatmullRomCurve3,CineonToneMapping,CircleGeometry,ClampToEdgeWrapping,Clock,Color:Color$1,ColorKeyframeTrack,ColorManagement,CompressedArrayTexture,CompressedCubeTexture,CompressedTexture,CompressedTextureLoader,ConeGeometry,ConstantAlphaFactor,ConstantColorFactor,CubeCamera,CubeReflectionMapping,CubeRefractionMapping,CubeTexture,CubeTextureLoader,CubeUVReflectionMapping,CubicBezierCurve,CubicBezierCurve3,CubicInterpolant,CullFaceBack,CullFaceFront,CullFaceFrontBack,CullFaceNone,Curve:Curve$1,CurvePath,CustomBlending,CustomToneMapping,CylinderGeometry,Cylindrical,Data3DTexture,DataArrayTexture,DataTexture,DataTextureLoader,DataUtils,DecrementStencilOp,DecrementWrapStencilOp,DefaultLoadingManager,DepthFormat,DepthStencilFormat,DepthTexture,DetachedBindMode,DirectionalLight,DirectionalLightHelper,DiscreteInterpolant,DisplayP3ColorSpace,DodecahedronGeometry,DoubleSide,DstAlphaFactor,DstColorFactor,DynamicCopyUsage,DynamicDrawUsage,DynamicReadUsage,EdgesGeometry,EllipseCurve,EqualCompare,EqualDepth,EqualStencilFunc,EquirectangularReflectionMapping,EquirectangularRefractionMapping,Euler,EventDispatcher:EventDispatcher$1,ExtrudeGeometry,FileLoader,Float16BufferAttribute,Float32BufferAttribute,FloatType,Fog,FogExp2,FramebufferTexture,FrontSide,Frustum,GLBufferAttribute,GLSL1,GLSL3,GreaterCompare,GreaterDepth,GreaterEqualCompare,GreaterEqualDepth,GreaterEqualStencilFunc,GreaterStencilFunc,GridHelper,Group,HalfFloatType,HemisphereLight,HemisphereLightHelper,IcosahedronGeometry,ImageBitmapLoader,ImageLoader,ImageUtils,IncrementStencilOp,IncrementWrapStencilOp,InstancedBufferAttribute,InstancedBufferGeometry,InstancedInterleavedBuffer,InstancedMesh,Int16BufferAttribute,Int32BufferAttribute,Int8BufferAttribute,IntType,InterleavedBuffer,InterleavedBufferAttribute,Interpolant,InterpolateDiscrete,InterpolateLinear,InterpolateSmooth,InvertStencilOp,KeepStencilOp,KeyframeTrack,LOD,LatheGeometry,Layers,LessCompare,LessDepth,LessEqualCompare,LessEqualDepth,LessEqualStencilFunc,LessStencilFunc,Light,LightProbe,Line,Line3,LineBasicMaterial,LineCurve,LineCurve3,LineDashedMaterial,LineLoop,LineSegments,LinearDisplayP3ColorSpace,LinearFilter,LinearInterpolant,LinearMipMapLinearFilter,LinearMipMapNearestFilter,LinearMipmapLinearFilter,LinearMipmapNearestFilter,LinearSRGBColorSpace,LinearToneMapping,LinearTransfer,Loader,LoaderUtils,LoadingManager,LoopOnce,LoopPingPong,LoopRepeat,LuminanceAlphaFormat,LuminanceFormat,MOUSE,Material,MaterialLoader,MathUtils,Matrix3,Matrix4,MaxEquation,Mesh,MeshBasicMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshLambertMaterial,MeshMatcapMaterial,MeshNormalMaterial,MeshPhongMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshToonMaterial,MinEquation,MirroredRepeatWrapping,MixOperation,MultiplyBlending,MultiplyOperation,NearestFilter,NearestMipMapLinearFilter,NearestMipMapNearestFilter,NearestMipmapLinearFilter,NearestMipmapNearestFilter,NeutralToneMapping,NeverCompare,NeverDepth,NeverStencilFunc,NoBlending,NoColorSpace,NoToneMapping,NormalAnimationBlendMode,NormalBlending,NotEqualCompare,NotEqualDepth,NotEqualStencilFunc,NumberKeyframeTrack,Object3D,ObjectLoader,ObjectSpaceNormalMap,OctahedronGeometry,OneFactor,OneMinusConstantAlphaFactor,OneMinusConstantColorFactor,OneMinusDstAlphaFactor,OneMinusDstColorFactor,OneMinusSrcAlphaFactor,OneMinusSrcColorFactor,OrthographicCamera,P3Primaries,PCFShadowMap,PCFSoftShadowMap,PMREMGenerator,Path:Path$1,PerspectiveCamera,Plane,PlaneGeometry,PlaneHelper,PointLight,PointLightHelper,Points,PointsMaterial,PolarGridHelper,PolyhedronGeometry,PositionalAudio,PropertyBinding,PropertyMixer,QuadraticBezierCurve,QuadraticBezierCurve3,Quaternion,QuaternionKeyframeTrack,QuaternionLinearInterpolant,RED_GREEN_RGTC2_Format,RED_RGTC1_Format,REVISION,RGBADepthPacking,RGBAFormat,RGBAIntegerFormat,RGBA_ASTC_10x10_Format,RGBA_ASTC_10x5_Format,RGBA_ASTC_10x6_Format,RGBA_ASTC_10x8_Format,RGBA_ASTC_12x10_Format,RGBA_ASTC_12x12_Format,RGBA_ASTC_4x4_Format,RGBA_ASTC_5x4_Format,RGBA_ASTC_5x5_Format,RGBA_ASTC_6x5_Format,RGBA_ASTC_6x6_Format,RGBA_ASTC_8x5_Format,RGBA_ASTC_8x6_Format,RGBA_ASTC_8x8_Format,RGBA_BPTC_Format,RGBA_ETC2_EAC_Format,RGBA_PVRTC_2BPPV1_Format,RGBA_PVRTC_4BPPV1_Format,RGBA_S3TC_DXT1_Format,RGBA_S3TC_DXT3_Format,RGBA_S3TC_DXT5_Format,RGB_BPTC_SIGNED_Format,RGB_BPTC_UNSIGNED_Format,RGB_ETC1_Format,RGB_ETC2_Format,RGB_PVRTC_2BPPV1_Format,RGB_PVRTC_4BPPV1_Format,RGB_S3TC_DXT1_Format,RGFormat,RGIntegerFormat,RawShaderMaterial,Ray,Raycaster,Rec709Primaries,RectAreaLight,RedFormat,RedIntegerFormat,ReinhardToneMapping,RenderTarget,RepeatWrapping,ReplaceStencilOp,ReverseSubtractEquation,RingGeometry,SIGNED_RED_GREEN_RGTC2_Format,SIGNED_RED_RGTC1_Format,SRGBColorSpace,SRGBTransfer,Scene,ShaderChunk,ShaderLib,ShaderMaterial,ShadowMaterial,Shape:Shape$1,ShapeGeometry,ShapePath,ShapeUtils,ShortType,Skeleton,SkeletonHelper,SkinnedMesh,Source,Sphere,SphereGeometry,Spherical,SphericalHarmonics3,SplineCurve,SpotLight,SpotLightHelper,Sprite,SpriteMaterial,SrcAlphaFactor,SrcAlphaSaturateFactor,SrcColorFactor,StaticCopyUsage,StaticDrawUsage,StaticReadUsage,StereoCamera,StreamCopyUsage,StreamDrawUsage,StreamReadUsage,StringKeyframeTrack,SubtractEquation,SubtractiveBlending,TOUCH,TangentSpaceNormalMap,TetrahedronGeometry,Texture,TextureLoader,TorusGeometry,TorusKnotGeometry,Triangle,TriangleFanDrawMode,TriangleStripDrawMode,TrianglesDrawMode,TubeGeometry,UVMapping,Uint16BufferAttribute,Uint32BufferAttribute,Uint8BufferAttribute,Uint8ClampedBufferAttribute,Uniform,UniformsGroup,UniformsLib,UniformsUtils,UnsignedByteType,UnsignedInt248Type,UnsignedIntType,UnsignedShort4444Type,UnsignedShort5551Type,UnsignedShortType,VSMShadowMap,Vector2,Vector3,Vector4,VectorKeyframeTrack,VideoTexture,WebGL1Renderer,WebGL3DRenderTarget,WebGLArrayRenderTarget,WebGLCoordinateSystem,WebGLCubeRenderTarget,WebGLMultipleRenderTargets,WebGLRenderTarget,WebGLRenderer,WebGLUtils,WebGPUCoordinateSystem,WireframeGeometry,WrapAroundEnding,ZeroCurvatureEnding,ZeroFactor,ZeroSlopeEnding,ZeroStencilOp,_SRGBAFormat,createCanvasElement},Symbol.toStringTag,{value:"Module"}));var constants$1={exports:{}},reactReconcilerConstants_production_min={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactReconcilerConstants_production_min;function requireReactReconcilerConstants_production_min(){return hasRequiredReactReconcilerConstants_production_min||(hasRequiredReactReconcilerConstants_production_min=1,reactReconcilerConstants_production_min.ConcurrentRoot=1,reactReconcilerConstants_production_min.ContinuousEventPriority=4,reactReconcilerConstants_production_min.DefaultEventPriority=16,reactReconcilerConstants_production_min.DiscreteEventPriority=1,reactReconcilerConstants_production_min.IdleEventPriority=536870912,reactReconcilerConstants_production_min.LegacyRoot=0),reactReconcilerConstants_production_min}var hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,constants$1.exports=requireReactReconcilerConstants_production_min()),constants$1.exports}var constantsExports=requireConstants();function createStore$1(t){let e;const n=new Set,o=(p,m)=>{const v=typeof p=="function"?p(e):p;if(v!==e){const b=e;e=m?v:Object.assign({},e,v),n.forEach(S=>S(e,b))}},l=()=>e,u=(p,m=l,v=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let b=m(e);function S(){const T=m(e);if(!v(b,T)){const C=b;p(b=T,C)}}return n.add(S),()=>n.delete(S)},d={setState:o,getState:l,subscribe:(p,m,v)=>m||v?u(p,m,v):(n.add(p),()=>n.delete(p)),destroy:()=>n.clear()};return e=t(o,l,d),d}const isSSR=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),useIsomorphicLayoutEffect$1=isSSR?reactExports.useEffect:reactExports.useLayoutEffect;function create(t){const e=typeof t=="function"?createStore$1(t):t,n=(o=e.getState,l=Object.is)=>{const[,u]=reactExports.useReducer(w=>w+1,0),h=e.getState(),f=reactExports.useRef(h),d=reactExports.useRef(o),p=reactExports.useRef(l),m=reactExports.useRef(!1),v=reactExports.useRef();v.current===void 0&&(v.current=o(h));let b,S=!1;(f.current!==h||d.current!==o||p.current!==l||m.current)&&(b=o(h),S=!l(v.current,b)),useIsomorphicLayoutEffect$1(()=>{S&&(v.current=b),f.current=h,d.current=o,p.current=l,m.current=!1});const T=reactExports.useRef(h);useIsomorphicLayoutEffect$1(()=>{const w=()=>{try{const L=e.getState(),N=d.current(L);p.current(v.current,N)||(f.current=L,v.current=N,u())}catch{m.current=!0,u()}},R=e.subscribe(w);return e.getState()!==T.current&&w(),R},[]);const C=S?b:v.current;return reactExports.useDebugValue(C),C};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const o=[n,e];return{next(){const l=o.length<=0;return{value:o.shift(),done:l}}}},n}var reactReconciler={exports:{}},scheduler$1={exports:{}},scheduler_production_min$1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production_min$1;function requireScheduler_production_min$1(){return hasRequiredScheduler_production_min$1||(hasRequiredScheduler_production_min$1=1,function(t){function e(Z,ie){var oe=Z.length;Z.push(ie);e:for(;0<oe;){var ae=oe-1>>>1,pe=Z[ae];if(0<l(pe,ie))Z[ae]=ie,Z[oe]=pe,oe=ae;else break e}}function n(Z){return Z.length===0?null:Z[0]}function o(Z){if(Z.length===0)return null;var ie=Z[0],oe=Z.pop();if(oe!==ie){Z[0]=oe;e:for(var ae=0,pe=Z.length,we=pe>>>1;ae<we;){var _e=2*(ae+1)-1,Me=Z[_e],Oe=_e+1,Ye=Z[Oe];if(0>l(Me,oe))Oe<pe&&0>l(Ye,Me)?(Z[ae]=Ye,Z[Oe]=oe,ae=Oe):(Z[ae]=Me,Z[_e]=oe,ae=_e);else if(Oe<pe&&0>l(Ye,oe))Z[ae]=Ye,Z[Oe]=oe,ae=Oe;else break e}}return ie}function l(Z,ie){var oe=Z.sortIndex-ie.sortIndex;return oe!==0?oe:Z.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var h=Date,f=h.now();t.unstable_now=function(){return h.now()-f}}var d=[],p=[],m=1,v=null,b=3,S=!1,T=!1,C=!1,w=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(Z){for(var ie=n(p);ie!==null;){if(ie.callback===null)o(p);else if(ie.startTime<=Z)o(p),ie.sortIndex=ie.expirationTime,e(d,ie);else break;ie=n(p)}}function F(Z){if(C=!1,N(Z),!T)if(n(d)!==null)T=!0,fe(B);else{var ie=n(p);ie!==null&&ge(F,ie.startTime-Z)}}function B(Z,ie){T=!1,C&&(C=!1,R(K),K=-1),S=!0;var oe=b;try{for(N(ie),v=n(d);v!==null&&(!(v.expirationTime>ie)||Z&&!H());){var ae=v.callback;if(typeof ae=="function"){v.callback=null,b=v.priorityLevel;var pe=ae(v.expirationTime<=ie);ie=t.unstable_now(),typeof pe=="function"?v.callback=pe:v===n(d)&&o(d),N(ie)}else o(d);v=n(d)}if(v!==null)var we=!0;else{var _e=n(p);_e!==null&&ge(F,_e.startTime-ie),we=!1}return we}finally{v=null,b=oe,S=!1}}var U=!1,z=null,K=-1,Q=5,q=-1;function H(){return!(t.unstable_now()-q<Q)}function se(){if(z!==null){var Z=t.unstable_now();q=Z;var ie=!0;try{ie=z(!0,Z)}finally{ie?le():(U=!1,z=null)}}else U=!1}var le;if(typeof L=="function")le=function(){L(se)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,ce=ne.port2;ne.port1.onmessage=se,le=function(){ce.postMessage(null)}}else le=function(){w(se,0)};function fe(Z){z=Z,U||(U=!0,le())}function ge(Z,ie){K=w(function(){Z(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_continueExecution=function(){T||S||(T=!0,fe(B))},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(Z){switch(b){case 1:case 2:case 3:var ie=3;break;default:ie=b}var oe=b;b=ie;try{return Z()}finally{b=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Z,ie){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var oe=b;b=Z;try{return ie()}finally{b=oe}},t.unstable_scheduleCallback=function(Z,ie,oe){var ae=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?ae+oe:ae):oe=ae,Z){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=oe+pe,Z={id:m++,callback:ie,priorityLevel:Z,startTime:oe,expirationTime:pe,sortIndex:-1},oe>ae?(Z.sortIndex=oe,e(p,Z),n(d)===null&&Z===n(p)&&(C?(R(K),K=-1):C=!0,ge(F,oe-ae))):(Z.sortIndex=pe,e(d,Z),T||S||(T=!0,fe(B))),Z},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(Z){var ie=b;return function(){var oe=b;b=ie;try{return Z.apply(this,arguments)}finally{b=oe}}}}(scheduler_production_min$1)),scheduler_production_min$1}var hasRequiredScheduler$1;function requireScheduler$1(){return hasRequiredScheduler$1||(hasRequiredScheduler$1=1,scheduler$1.exports=requireScheduler_production_min$1()),scheduler$1.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var reactReconciler_production_min,hasRequiredReactReconciler_production_min;function requireReactReconciler_production_min(){return hasRequiredReactReconciler_production_min||(hasRequiredReactReconciler_production_min=1,reactReconciler_production_min=function(e){var n={},o=requireReact(),l=requireScheduler$1(),u=Object.assign;function h(A){for(var I="https://reactjs.org/docs/error-decoder.html?invariant="+A,$=1;$<arguments.length;$++)I+="&args[]="+encodeURIComponent(arguments[$]);return"Minified React error #"+A+"; visit "+I+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,d=Symbol.for("react.element"),p=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),F=Symbol.for("react.offscreen"),B=Symbol.iterator;function U(A){return A===null||typeof A!="object"?null:(A=B&&A[B]||A["@@iterator"],typeof A=="function"?A:null)}function z(A){if(A==null)return null;if(typeof A=="function")return A.displayName||A.name||null;if(typeof A=="string")return A;switch(A){case m:return"Fragment";case p:return"Portal";case b:return"Profiler";case v:return"StrictMode";case w:return"Suspense";case R:return"SuspenseList"}if(typeof A=="object")switch(A.$$typeof){case T:return(A.displayName||"Context")+".Consumer";case S:return(A._context.displayName||"Context")+".Provider";case C:var I=A.render;return A=A.displayName,A||(A=I.displayName||I.name||"",A=A!==""?"ForwardRef("+A+")":"ForwardRef"),A;case L:return I=A.displayName||null,I!==null?I:z(A.type)||"Memo";case N:I=A._payload,A=A._init;try{return z(A(I))}catch{}}return null}function K(A){var I=A.type;switch(A.tag){case 24:return"Cache";case 9:return(I.displayName||"Context")+".Consumer";case 10:return(I._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return A=I.render,A=A.displayName||A.name||"",I.displayName||(A!==""?"ForwardRef("+A+")":"ForwardRef");case 7:return"Fragment";case 5:return I;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(I);case 8:return I===v?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof I=="function")return I.displayName||I.name||null;if(typeof I=="string")return I}return null}function Q(A){var I=A,$=A;if(A.alternate)for(;I.return;)I=I.return;else{A=I;do I=A,(I.flags&4098)!==0&&($=I.return),A=I.return;while(A)}return I.tag===3?$:null}function q(A){if(Q(A)!==A)throw Error(h(188))}function H(A){var I=A.alternate;if(!I){if(I=Q(A),I===null)throw Error(h(188));return I!==A?null:A}for(var $=A,G=I;;){var J=$.return;if(J===null)break;var te=J.alternate;if(te===null){if(G=J.return,G!==null){$=G;continue}break}if(J.child===te.child){for(te=J.child;te;){if(te===$)return q(J),A;if(te===G)return q(J),I;te=te.sibling}throw Error(h(188))}if($.return!==G.return)$=J,G=te;else{for(var xe=!1,Ce=J.child;Ce;){if(Ce===$){xe=!0,$=J,G=te;break}if(Ce===G){xe=!0,G=J,$=te;break}Ce=Ce.sibling}if(!xe){for(Ce=te.child;Ce;){if(Ce===$){xe=!0,$=te,G=J;break}if(Ce===G){xe=!0,G=te,$=J;break}Ce=Ce.sibling}if(!xe)throw Error(h(189))}}if($.alternate!==G)throw Error(h(190))}if($.tag!==3)throw Error(h(188));return $.stateNode.current===$?A:I}function se(A){return A=H(A),A!==null?le(A):null}function le(A){if(A.tag===5||A.tag===6)return A;for(A=A.child;A!==null;){var I=le(A);if(I!==null)return I;A=A.sibling}return null}function ne(A){if(A.tag===5||A.tag===6)return A;for(A=A.child;A!==null;){if(A.tag!==4){var I=ne(A);if(I!==null)return I}A=A.sibling}return null}var ce=Array.isArray,fe=e.getPublicInstance,ge=e.getRootHostContext,Z=e.getChildHostContext,ie=e.prepareForCommit,oe=e.resetAfterCommit,ae=e.createInstance,pe=e.appendInitialChild,we=e.finalizeInitialChildren,_e=e.prepareUpdate,Me=e.shouldSetTextContent,Oe=e.createTextInstance,Ye=e.scheduleTimeout,qe=e.cancelTimeout,Re=e.noTimeout,Je=e.isPrimaryRenderer,ke=e.supportsMutation,de=e.supportsPersistence,Be=e.supportsHydration,Pe=e.getInstanceFromNode,et=e.preparePortalMount,He=e.getCurrentEventPriority,rt=e.detachDeletedInstance,ot=e.supportsMicrotasks,ht=e.scheduleMicrotask,xt=e.supportsTestSelectors,me=e.findFiberRoot,he=e.getBoundingRect,Ne=e.getTextContent,Ve=e.isHiddenSubtree,tt=e.matchAccessibilityRole,nt=e.setFocusIfFocusable,Pt=e.setupIntersectionObserver,Tt=e.appendChild,ut=e.appendChildToContainer,ft=e.commitTextUpdate,Ft=e.commitMount,dt=e.commitUpdate,yn=e.insertBefore,qt=e.insertInContainerBefore,It=e.removeChild,Se=e.removeChildFromContainer,Xe=e.resetTextContent,ve=e.hideInstance,ze=e.hideTextInstance,yt=e.unhideInstance,Ee=e.unhideTextInstance,it=e.clearContainer,je=e.cloneInstance,at=e.createContainerChildSet,gt=e.appendChildToContainerChildSet,Bt=e.finalizeContainerChildren,tn=e.replaceContainerChildren,rn=e.cloneHiddenInstance,cn=e.cloneHiddenTextInstance,Yt=e.canHydrateInstance,pn=e.canHydrateTextInstance,In=e.canHydrateSuspenseInstance,fi=e.isSuspenseInstancePending,zr=e.isSuspenseInstanceFallback,Mi=e.registerSuspenseInstanceRetry,ti=e.getNextHydratableSibling,Yi=e.getFirstHydratableChild,mo=e.getFirstHydratableChildWithinContainer,go=e.getFirstHydratableChildWithinSuspenseInstance,ml=e.hydrateInstance,Pi=e.hydrateTextInstance,yo=e.hydrateSuspenseInstance,ye=e.getNextHydratableInstanceAfterSuspenseInstance,De=e.commitHydratedContainer,We=e.commitHydratedSuspenseInstance,Ke=e.clearSuspenseBoundary,Ue=e.clearSuspenseBoundaryFromContainer,St=e.shouldDeleteUnhydratedTailInstances,Nt=e.didNotMatchHydratedContainerTextInstance,$t=e.didNotMatchHydratedTextInstance,Et;function Ht(A){if(Et===void 0)try{throw Error()}catch($){var I=$.stack.trim().match(/\n( *(at )?)/);Et=I&&I[1]||""}return`
`+Et+A}var zt=!1;function Gt(A,I){if(!A||zt)return"";zt=!0;var $=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(I)if(I=function(){throw Error()},Object.defineProperty(I.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(I,[])}catch(pt){var G=pt}Reflect.construct(A,[],I)}else{try{I.call()}catch(pt){G=pt}A.call(I.prototype)}else{try{throw Error()}catch(pt){G=pt}A()}}catch(pt){if(pt&&G&&typeof pt.stack=="string"){for(var J=pt.stack.split(`
`),te=G.stack.split(`
`),xe=J.length-1,Ce=te.length-1;1<=xe&&0<=Ce&&J[xe]!==te[Ce];)Ce--;for(;1<=xe&&0<=Ce;xe--,Ce--)if(J[xe]!==te[Ce]){if(xe!==1||Ce!==1)do if(xe--,Ce--,0>Ce||J[xe]!==te[Ce]){var Qe=`
`+J[xe].replace(" at new "," at ");return A.displayName&&Qe.includes("<anonymous>")&&(Qe=Qe.replace("<anonymous>",A.displayName)),Qe}while(1<=xe&&0<=Ce);break}}}finally{zt=!1,Error.prepareStackTrace=$}return(A=A?A.displayName||A.name:"")?Ht(A):""}var xn=Object.prototype.hasOwnProperty,Qn=[],_n=-1;function Fn(A){return{current:A}}function Lt(A){0>_n||(A.current=Qn[_n],Qn[_n]=null,_n--)}function Mt(A,I){_n++,Qn[_n]=A.current,A.current=I}var On={},Jt=Fn(On),Dn=Fn(!1),di=On;function dr(A,I){var $=A.type.contextTypes;if(!$)return On;var G=A.stateNode;if(G&&G.__reactInternalMemoizedUnmaskedChildContext===I)return G.__reactInternalMemoizedMaskedChildContext;var J={},te;for(te in $)J[te]=I[te];return G&&(A=A.stateNode,A.__reactInternalMemoizedUnmaskedChildContext=I,A.__reactInternalMemoizedMaskedChildContext=J),J}function jn(A){return A=A.childContextTypes,A!=null}function wn(){Lt(Dn),Lt(Jt)}function Ir(A,I,$){if(Jt.current!==On)throw Error(h(168));Mt(Jt,I),Mt(Dn,$)}function qa(A,I,$){var G=A.stateNode;if(I=I.childContextTypes,typeof G.getChildContext!="function")return $;G=G.getChildContext();for(var J in G)if(!(J in I))throw Error(h(108,K(A)||"Unknown",J));return u({},$,G)}function er(A){return A=(A=A.stateNode)&&A.__reactInternalMemoizedMergedChildContext||On,di=Jt.current,Mt(Jt,A),Mt(Dn,Dn.current),!0}function Zi(A,I,$){var G=A.stateNode;if(!G)throw Error(h(169));$?(A=qa(A,I,di),G.__reactInternalMemoizedMergedChildContext=A,Lt(Dn),Lt(Jt),Mt(Jt,A)):Lt(Dn),Mt(Dn,$)}var Er=Math.clz32?Math.clz32:ru,Ha=Math.log,Ts=Math.LN2;function ru(A){return A>>>=0,A===0?32:31-(Ha(A)/Ts|0)|0}var Wa=64,un=4194304;function Xa(A){switch(A&-A){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return A&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return A&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return A}}function As(A,I){var $=A.pendingLanes;if($===0)return 0;var G=0,J=A.suspendedLanes,te=A.pingedLanes,xe=$&268435455;if(xe!==0){var Ce=xe&~J;Ce!==0?G=Xa(Ce):(te&=xe,te!==0&&(G=Xa(te)))}else xe=$&~J,xe!==0?G=Xa(xe):te!==0&&(G=Xa(te));if(G===0)return 0;if(I!==0&&I!==G&&(I&J)===0&&(J=G&-G,te=I&-I,J>=te||J===16&&(te&4194240)!==0))return I;if((G&4)!==0&&(G|=$&16),I=A.entangledLanes,I!==0)for(A=A.entanglements,I&=G;0<I;)$=31-Er(I),J=1<<$,G|=A[$],I&=~J;return G}function gl(A,I){switch(A){case 1:case 2:case 4:return I+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return I+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uc(A,I){for(var $=A.suspendedLanes,G=A.pingedLanes,J=A.expirationTimes,te=A.pendingLanes;0<te;){var xe=31-Er(te),Ce=1<<xe,Qe=J[xe];Qe===-1?((Ce&$)===0||(Ce&G)!==0)&&(J[xe]=gl(Ce,I)):Qe<=I&&(A.expiredLanes|=Ce),te&=~Ce}}function vo(A){return A=A.pendingLanes&-1073741825,A!==0?A:A&1073741824?1073741824:0}function xo(A){for(var I=[],$=0;31>$;$++)I.push(A);return I}function ha(A,I,$){A.pendingLanes|=I,I!==536870912&&(A.suspendedLanes=0,A.pingedLanes=0),A=A.eventTimes,I=31-Er(I),A[I]=$}function _o(A,I){var $=A.pendingLanes&~I;A.pendingLanes=I,A.suspendedLanes=0,A.pingedLanes=0,A.expiredLanes&=I,A.mutableReadLanes&=I,A.entangledLanes&=I,I=A.entanglements;var G=A.eventTimes;for(A=A.expirationTimes;0<$;){var J=31-Er($),te=1<<J;I[J]=0,G[J]=-1,A[J]=-1,$&=~te}}function mi(A,I){var $=A.entangledLanes|=I;for(A=A.entanglements;$;){var G=31-Er($),J=1<<G;J&I|A[G]&I&&(A[G]|=I),$&=~J}}var nn=0;function Ti(A){return A&=-A,1<A?4<A?(A&268435455)!==0?16:536870912:4:1}var fa=l.unstable_scheduleCallback,Ka=l.unstable_cancelCallback,Ji=l.unstable_shouldYield,iu=l.unstable_requestPaint,Gn=l.unstable_now,da=l.unstable_ImmediatePriority,au=l.unstable_UserBlockingPriority,bo=l.unstable_NormalPriority,So=l.unstable_IdlePriority,Cs=null,gi=null;function Rs(A){if(gi&&typeof gi.onCommitFiberRoot=="function")try{gi.onCommitFiberRoot(Cs,A,void 0,(A.current.flags&128)===128)}catch{}}function Is(A,I){return A===I&&(A!==0||1/A===1/I)||A!==A&&I!==I}var pr=typeof Object.is=="function"?Object.is:Is,Gr=null,Eo=!1,yl=!1;function wo(A){Gr===null?Gr=[A]:Gr.push(A)}function Mo(A){Eo=!0,wo(A)}function qr(){if(!yl&&Gr!==null){yl=!0;var A=0,I=nn;try{var $=Gr;for(nn=1;A<$.length;A++){var G=$[A];do G=G(!0);while(G!==null)}Gr=null,Eo=!1}catch(J){throw Gr!==null&&(Gr=Gr.slice(A+1)),fa(da,qr),J}finally{nn=I,yl=!1}}return null}var hc=f.ReactCurrentBatchConfig;function ni(A,I){if(pr(A,I))return!0;if(typeof A!="object"||A===null||typeof I!="object"||I===null)return!1;var $=Object.keys(A),G=Object.keys(I);if($.length!==G.length)return!1;for(G=0;G<$.length;G++){var J=$[G];if(!xn.call(I,J)||!pr(A[J],I[J]))return!1}return!0}function vl(A){switch(A.tag){case 5:return Ht(A.type);case 16:return Ht("Lazy");case 13:return Ht("Suspense");case 19:return Ht("SuspenseList");case 0:case 2:case 15:return A=Gt(A.type,!1),A;case 11:return A=Gt(A.type.render,!1),A;case 1:return A=Gt(A.type,!0),A;default:return""}}function wr(A,I){if(A&&A.defaultProps){I=u({},I),A=A.defaultProps;for(var $ in A)I[$]===void 0&&(I[$]=A[$]);return I}return I}var Os=Fn(null),pa=null,Ai=null,Po=null;function mr(){Po=Ai=pa=null}function ma(A,I,$){Je?(Mt(Os,I._currentValue),I._currentValue=$):(Mt(Os,I._currentValue2),I._currentValue2=$)}function Ds(A){var I=Os.current;Lt(Os),Je?A._currentValue=I:A._currentValue2=I}function ga(A,I,$){for(;A!==null;){var G=A.alternate;if((A.childLanes&I)!==I?(A.childLanes|=I,G!==null&&(G.childLanes|=I)):G!==null&&(G.childLanes&I)!==I&&(G.childLanes|=I),A===$)break;A=A.return}}function Ya(A,I){pa=A,Po=Ai=null,A=A.dependencies,A!==null&&A.firstContext!==null&&((A.lanes&I)!==0&&(Yn=!0),A.firstContext=null)}function Mr(A){var I=Je?A._currentValue:A._currentValue2;if(Po!==A)if(A={context:A,memoizedValue:I,next:null},Ai===null){if(pa===null)throw Error(h(308));Ai=A,pa.dependencies={lanes:0,firstContext:A}}else Ai=Ai.next=A;return I}var Hr=null,Wr=!1;function Za(A){A.updateQueue={baseState:A.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xl(A,I){A=A.updateQueue,I.updateQueue===A&&(I.updateQueue={baseState:A.baseState,firstBaseUpdate:A.firstBaseUpdate,lastBaseUpdate:A.lastBaseUpdate,shared:A.shared,effects:A.effects})}function Ci(A,I){return{eventTime:A,lane:I,tag:0,payload:null,callback:null,next:null}}function Qi(A,I){var $=A.updateQueue;$!==null&&($=$.shared,$n!==null&&(A.mode&1)!==0&&(Qt&2)===0?(A=$.interleaved,A===null?(I.next=I,Hr===null?Hr=[$]:Hr.push($)):(I.next=A.next,A.next=I),$.interleaved=I):(A=$.pending,A===null?I.next=I:(I.next=A.next,A.next=I),$.pending=I))}function To(A,I,$){if(I=I.updateQueue,I!==null&&(I=I.shared,($&4194240)!==0)){var G=I.lanes;G&=A.pendingLanes,$|=G,I.lanes=$,mi(A,$)}}function Ao(A,I){var $=A.updateQueue,G=A.alternate;if(G!==null&&(G=G.updateQueue,$===G)){var J=null,te=null;if($=$.firstBaseUpdate,$!==null){do{var xe={eventTime:$.eventTime,lane:$.lane,tag:$.tag,payload:$.payload,callback:$.callback,next:null};te===null?J=te=xe:te=te.next=xe,$=$.next}while($!==null);te===null?J=te=I:te=te.next=I}else J=te=I;$={baseState:G.baseState,firstBaseUpdate:J,lastBaseUpdate:te,shared:G.shared,effects:G.effects},A.updateQueue=$;return}A=$.lastBaseUpdate,A===null?$.firstBaseUpdate=I:A.next=I,$.lastBaseUpdate=I}function Co(A,I,$,G){var J=A.updateQueue;Wr=!1;var te=J.firstBaseUpdate,xe=J.lastBaseUpdate,Ce=J.shared.pending;if(Ce!==null){J.shared.pending=null;var Qe=Ce,pt=Qe.next;Qe.next=null,xe===null?te=pt:xe.next=pt,xe=Qe;var At=A.alternate;At!==null&&(At=At.updateQueue,Ce=At.lastBaseUpdate,Ce!==xe&&(Ce===null?At.firstBaseUpdate=pt:Ce.next=pt,At.lastBaseUpdate=Qe))}if(te!==null){var Xt=J.baseState;xe=0,At=pt=Qe=null,Ce=te;do{var jt=Ce.lane,en=Ce.eventTime;if((G&jt)===jt){At!==null&&(At=At.next={eventTime:en,lane:0,tag:Ce.tag,payload:Ce.payload,callback:Ce.callback,next:null});e:{var bt=A,sr=Ce;switch(jt=I,en=$,sr.tag){case 1:if(bt=sr.payload,typeof bt=="function"){Xt=bt.call(en,Xt,jt);break e}Xt=bt;break e;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=sr.payload,jt=typeof bt=="function"?bt.call(en,Xt,jt):bt,jt==null)break e;Xt=u({},Xt,jt);break e;case 2:Wr=!0}}Ce.callback!==null&&Ce.lane!==0&&(A.flags|=64,jt=J.effects,jt===null?J.effects=[Ce]:jt.push(Ce))}else en={eventTime:en,lane:jt,tag:Ce.tag,payload:Ce.payload,callback:Ce.callback,next:null},At===null?(pt=At=en,Qe=Xt):At=At.next=en,xe|=jt;if(Ce=Ce.next,Ce===null){if(Ce=J.shared.pending,Ce===null)break;jt=Ce,Ce=jt.next,jt.next=null,J.lastBaseUpdate=jt,J.shared.pending=null}}while(!0);if(At===null&&(Qe=Xt),J.baseState=Qe,J.firstBaseUpdate=pt,J.lastBaseUpdate=At,I=J.shared.interleaved,I!==null){J=I;do xe|=J.lane,J=J.next;while(J!==I)}else te===null&&(J.shared.lanes=0);_i|=xe,A.lanes=xe,A.memoizedState=Xt}}function fc(A,I,$){if(A=I.effects,I.effects=null,A!==null)for(I=0;I<A.length;I++){var G=A[I],J=G.callback;if(J!==null){if(G.callback=null,G=$,typeof J!="function")throw Error(h(191,J));J.call(G)}}}var dc=new o.Component().refs;function _l(A,I,$,G){I=A.memoizedState,$=$(G,I),$=$==null?I:u({},I,$),A.memoizedState=$,A.lanes===0&&(A.updateQueue.baseState=$)}var Ro={isMounted:function(A){return(A=A._reactInternals)?Q(A)===A:!1},enqueueSetState:function(A,I,$){A=A._reactInternals;var G=hn(),J=ci(A),te=Ci(G,J);te.payload=I,$!=null&&(te.callback=$),Qi(A,te),I=ur(A,J,G),I!==null&&To(I,A,J)},enqueueReplaceState:function(A,I,$){A=A._reactInternals;var G=hn(),J=ci(A),te=Ci(G,J);te.tag=1,te.payload=I,$!=null&&(te.callback=$),Qi(A,te),I=ur(A,J,G),I!==null&&To(I,A,J)},enqueueForceUpdate:function(A,I){A=A._reactInternals;var $=hn(),G=ci(A),J=Ci($,G);J.tag=2,I!=null&&(J.callback=I),Qi(A,J),I=ur(A,G,$),I!==null&&To(I,A,G)}};function bl(A,I,$,G,J,te,xe){return A=A.stateNode,typeof A.shouldComponentUpdate=="function"?A.shouldComponentUpdate(G,te,xe):I.prototype&&I.prototype.isPureReactComponent?!ni($,G)||!ni(J,te):!0}function pc(A,I,$){var G=!1,J=On,te=I.contextType;return typeof te=="object"&&te!==null?te=Mr(te):(J=jn(I)?di:Jt.current,G=I.contextTypes,te=(G=G!=null)?dr(A,J):On),I=new I($,te),A.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,I.updater=Ro,A.stateNode=I,I._reactInternals=A,G&&(A=A.stateNode,A.__reactInternalMemoizedUnmaskedChildContext=J,A.__reactInternalMemoizedMaskedChildContext=te),I}function mc(A,I,$,G){A=I.state,typeof I.componentWillReceiveProps=="function"&&I.componentWillReceiveProps($,G),typeof I.UNSAFE_componentWillReceiveProps=="function"&&I.UNSAFE_componentWillReceiveProps($,G),I.state!==A&&Ro.enqueueReplaceState(I,I.state,null)}function Sl(A,I,$,G){var J=A.stateNode;J.props=$,J.state=A.memoizedState,J.refs=dc,Za(A);var te=I.contextType;typeof te=="object"&&te!==null?J.context=Mr(te):(te=jn(I)?di:Jt.current,J.context=dr(A,te)),J.state=A.memoizedState,te=I.getDerivedStateFromProps,typeof te=="function"&&(_l(A,I,te,$),J.state=A.memoizedState),typeof I.getDerivedStateFromProps=="function"||typeof J.getSnapshotBeforeUpdate=="function"||typeof J.UNSAFE_componentWillMount!="function"&&typeof J.componentWillMount!="function"||(I=J.state,typeof J.componentWillMount=="function"&&J.componentWillMount(),typeof J.UNSAFE_componentWillMount=="function"&&J.UNSAFE_componentWillMount(),I!==J.state&&Ro.enqueueReplaceState(J,J.state,null),Co(A,$,J,G),J.state=A.memoizedState),typeof J.componentDidMount=="function"&&(A.flags|=4194308)}var Ja=[],ea=0,Io=null,Oo=0,Xr=[],Or=0,ya=null,Ri=1,Ii="";function va(A,I){Ja[ea++]=Oo,Ja[ea++]=Io,Io=A,Oo=I}function gc(A,I,$){Xr[Or++]=Ri,Xr[Or++]=Ii,Xr[Or++]=ya,ya=A;var G=Ri;A=Ii;var J=32-Er(G)-1;G&=~(1<<J),$+=1;var te=32-Er(I)+J;if(30<te){var xe=J-J%5;te=(G&(1<<xe)-1).toString(32),G>>=xe,J-=xe,Ri=1<<32-Er(I)+J|$<<J|G,Ii=te+A}else Ri=1<<te|$<<J|G,Ii=A}function El(A){A.return!==null&&(va(A,1),gc(A,1,0))}function wl(A){for(;A===Io;)Io=Ja[--ea],Ja[ea]=null,Oo=Ja[--ea],Ja[ea]=null;for(;A===ya;)ya=Xr[--Or],Xr[Or]=null,Ii=Xr[--Or],Xr[Or]=null,Ri=Xr[--Or],Xr[Or]=null}var gr=null,tr=null,Tn=!1,Qa=!1,Kr=null;function Ml(A,I){var $=$r(5,null,null,0);$.elementType="DELETED",$.stateNode=I,$.return=A,I=A.deletions,I===null?(A.deletions=[$],A.flags|=16):I.push($)}function Pl(A,I){switch(A.tag){case 5:return I=Yt(I,A.type,A.pendingProps),I!==null?(A.stateNode=I,gr=A,tr=Yi(I),!0):!1;case 6:return I=pn(I,A.pendingProps),I!==null?(A.stateNode=I,gr=A,tr=null,!0):!1;case 13:if(I=In(I),I!==null){var $=ya!==null?{id:Ri,overflow:Ii}:null;return A.memoizedState={dehydrated:I,treeContext:$,retryLane:1073741824},$=$r(18,null,null,0),$.stateNode=I,$.return=A,A.child=$,gr=A,tr=null,!0}return!1;default:return!1}}function Do(A){return(A.mode&1)!==0&&(A.flags&128)===0}function ta(A){if(Tn){var I=tr;if(I){var $=I;if(!Pl(A,I)){if(Do(A))throw Error(h(418));I=ti($);var G=gr;I&&Pl(A,I)?Ml(G,$):(A.flags=A.flags&-4097|2,Tn=!1,gr=A)}}else{if(Do(A))throw Error(h(418));A.flags=A.flags&-4097|2,Tn=!1,gr=A}}}function yc(A){for(A=A.return;A!==null&&A.tag!==5&&A.tag!==3&&A.tag!==13;)A=A.return;gr=A}function Ls(A){if(!Be||A!==gr)return!1;if(!Tn)return yc(A),Tn=!0,!1;if(A.tag!==3&&(A.tag!==5||St(A.type)&&!Me(A.type,A.memoizedProps))){var I=tr;if(I){if(Do(A)){for(A=tr;A;)A=ti(A);throw Error(h(418))}for(;I;)Ml(A,I),I=ti(I)}}if(yc(A),A.tag===13){if(!Be)throw Error(h(316));if(A=A.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(h(317));tr=ye(A)}else tr=gr?ti(A.stateNode):null;return!0}function es(){Be&&(tr=gr=null,Qa=Tn=!1)}function Lo(A){Kr===null?Kr=[A]:Kr.push(A)}function ts(A,I,$){if(A=$.ref,A!==null&&typeof A!="function"&&typeof A!="object"){if($._owner){if($=$._owner,$){if($.tag!==1)throw Error(h(309));var G=$.stateNode}if(!G)throw Error(h(147,A));var J=G,te=""+A;return I!==null&&I.ref!==null&&typeof I.ref=="function"&&I.ref._stringRef===te?I.ref:(I=function(xe){var Ce=J.refs;Ce===dc&&(Ce=J.refs={}),xe===null?delete Ce[te]:Ce[te]=xe},I._stringRef=te,I)}if(typeof A!="string")throw Error(h(284));if(!$._owner)throw Error(h(290,A))}return A}function na(A,I){throw A=Object.prototype.toString.call(I),Error(h(31,A==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":A))}function ns(A){var I=A._init;return I(A._payload)}function vc(A){function I($e,Ie){if(A){var Ze=$e.deletions;Ze===null?($e.deletions=[Ie],$e.flags|=16):Ze.push(Ie)}}function $($e,Ie){if(!A)return null;for(;Ie!==null;)I($e,Ie),Ie=Ie.sibling;return null}function G($e,Ie){for($e=new Map;Ie!==null;)Ie.key!==null?$e.set(Ie.key,Ie):$e.set(Ie.index,Ie),Ie=Ie.sibling;return $e}function J($e,Ie){return $e=qi($e,Ie),$e.index=0,$e.sibling=null,$e}function te($e,Ie,Ze){return $e.index=Ze,A?(Ze=$e.alternate,Ze!==null?(Ze=Ze.index,Ze<Ie?($e.flags|=2,Ie):Ze):($e.flags|=2,Ie)):($e.flags|=1048576,Ie)}function xe($e){return A&&$e.alternate===null&&($e.flags|=2),$e}function Ce($e,Ie,Ze,_t){return Ie===null||Ie.tag!==6?(Ie=ol(Ze,$e.mode,_t),Ie.return=$e,Ie):(Ie=J(Ie,Ze),Ie.return=$e,Ie)}function Qe($e,Ie,Ze,_t){var Dt=Ze.type;return Dt===m?At($e,Ie,Ze.props.children,_t,Ze.key):Ie!==null&&(Ie.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===N&&ns(Dt)===Ie.type)?(_t=J(Ie,Ze.props),_t.ref=ts($e,Ie,Ze),_t.return=$e,_t):(_t=sl(Ze.type,Ze.key,Ze.props,null,$e.mode,_t),_t.ref=ts($e,Ie,Ze),_t.return=$e,_t)}function pt($e,Ie,Ze,_t){return Ie===null||Ie.tag!==4||Ie.stateNode.containerInfo!==Ze.containerInfo||Ie.stateNode.implementation!==Ze.implementation?(Ie=ll(Ze,$e.mode,_t),Ie.return=$e,Ie):(Ie=J(Ie,Ze.children||[]),Ie.return=$e,Ie)}function At($e,Ie,Ze,_t,Dt){return Ie===null||Ie.tag!==7?(Ie=Ua(Ze,$e.mode,_t,Dt),Ie.return=$e,Ie):(Ie=J(Ie,Ze),Ie.return=$e,Ie)}function Xt($e,Ie,Ze){if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number")return Ie=ol(""+Ie,$e.mode,Ze),Ie.return=$e,Ie;if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case d:return Ze=sl(Ie.type,Ie.key,Ie.props,null,$e.mode,Ze),Ze.ref=ts($e,null,Ie),Ze.return=$e,Ze;case p:return Ie=ll(Ie,$e.mode,Ze),Ie.return=$e,Ie;case N:var _t=Ie._init;return Xt($e,_t(Ie._payload),Ze)}if(ce(Ie)||U(Ie))return Ie=Ua(Ie,$e.mode,Ze,null),Ie.return=$e,Ie;na($e,Ie)}return null}function jt($e,Ie,Ze,_t){var Dt=Ie!==null?Ie.key:null;if(typeof Ze=="string"&&Ze!==""||typeof Ze=="number")return Dt!==null?null:Ce($e,Ie,""+Ze,_t);if(typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case d:return Ze.key===Dt?Qe($e,Ie,Ze,_t):null;case p:return Ze.key===Dt?pt($e,Ie,Ze,_t):null;case N:return Dt=Ze._init,jt($e,Ie,Dt(Ze._payload),_t)}if(ce(Ze)||U(Ze))return Dt!==null?null:At($e,Ie,Ze,_t,null);na($e,Ze)}return null}function en($e,Ie,Ze,_t,Dt){if(typeof _t=="string"&&_t!==""||typeof _t=="number")return $e=$e.get(Ze)||null,Ce(Ie,$e,""+_t,Dt);if(typeof _t=="object"&&_t!==null){switch(_t.$$typeof){case d:return $e=$e.get(_t.key===null?Ze:_t.key)||null,Qe(Ie,$e,_t,Dt);case p:return $e=$e.get(_t.key===null?Ze:_t.key)||null,pt(Ie,$e,_t,Dt);case N:var Zt=_t._init;return en($e,Ie,Ze,Zt(_t._payload),Dt)}if(ce(_t)||U(_t))return $e=$e.get(Ze)||null,At(Ie,$e,_t,Dt,null);na(Ie,_t)}return null}function bt($e,Ie,Ze,_t){for(var Dt=null,Zt=null,Kt=Ie,on=Ie=0,Un=null;Kt!==null&&on<Ze.length;on++){Kt.index>on?(Un=Kt,Kt=null):Un=Kt.sibling;var sn=jt($e,Kt,Ze[on],_t);if(sn===null){Kt===null&&(Kt=Un);break}A&&Kt&&sn.alternate===null&&I($e,Kt),Ie=te(sn,Ie,on),Zt===null?Dt=sn:Zt.sibling=sn,Zt=sn,Kt=Un}if(on===Ze.length)return $($e,Kt),Tn&&va($e,on),Dt;if(Kt===null){for(;on<Ze.length;on++)Kt=Xt($e,Ze[on],_t),Kt!==null&&(Ie=te(Kt,Ie,on),Zt===null?Dt=Kt:Zt.sibling=Kt,Zt=Kt);return Tn&&va($e,on),Dt}for(Kt=G($e,Kt);on<Ze.length;on++)Un=en(Kt,$e,on,Ze[on],_t),Un!==null&&(A&&Un.alternate!==null&&Kt.delete(Un.key===null?on:Un.key),Ie=te(Un,Ie,on),Zt===null?Dt=Un:Zt.sibling=Un,Zt=Un);return A&&Kt.forEach(function(Hi){return I($e,Hi)}),Tn&&va($e,on),Dt}function sr($e,Ie,Ze,_t){var Dt=U(Ze);if(typeof Dt!="function")throw Error(h(150));if(Ze=Dt.call(Ze),Ze==null)throw Error(h(151));for(var Zt=Dt=null,Kt=Ie,on=Ie=0,Un=null,sn=Ze.next();Kt!==null&&!sn.done;on++,sn=Ze.next()){Kt.index>on?(Un=Kt,Kt=null):Un=Kt.sibling;var Hi=jt($e,Kt,sn.value,_t);if(Hi===null){Kt===null&&(Kt=Un);break}A&&Kt&&Hi.alternate===null&&I($e,Kt),Ie=te(Hi,Ie,on),Zt===null?Dt=Hi:Zt.sibling=Hi,Zt=Hi,Kt=Un}if(sn.done)return $($e,Kt),Tn&&va($e,on),Dt;if(Kt===null){for(;!sn.done;on++,sn=Ze.next())sn=Xt($e,sn.value,_t),sn!==null&&(Ie=te(sn,Ie,on),Zt===null?Dt=sn:Zt.sibling=sn,Zt=sn);return Tn&&va($e,on),Dt}for(Kt=G($e,Kt);!sn.done;on++,sn=Ze.next())sn=en(Kt,$e,on,sn.value,_t),sn!==null&&(A&&sn.alternate!==null&&Kt.delete(sn.key===null?on:sn.key),Ie=te(sn,Ie,on),Zt===null?Dt=sn:Zt.sibling=sn,Zt=sn);return A&&Kt.forEach(function(rc){return I($e,rc)}),Tn&&va($e,on),Dt}function Vr($e,Ie,Ze,_t){if(typeof Ze=="object"&&Ze!==null&&Ze.type===m&&Ze.key===null&&(Ze=Ze.props.children),typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case d:e:{for(var Dt=Ze.key,Zt=Ie;Zt!==null;){if(Zt.key===Dt){if(Dt=Ze.type,Dt===m){if(Zt.tag===7){$($e,Zt.sibling),Ie=J(Zt,Ze.props.children),Ie.return=$e,$e=Ie;break e}}else if(Zt.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===N&&ns(Dt)===Zt.type){$($e,Zt.sibling),Ie=J(Zt,Ze.props),Ie.ref=ts($e,Zt,Ze),Ie.return=$e,$e=Ie;break e}$($e,Zt);break}else I($e,Zt);Zt=Zt.sibling}Ze.type===m?(Ie=Ua(Ze.props.children,$e.mode,_t,Ze.key),Ie.return=$e,$e=Ie):(_t=sl(Ze.type,Ze.key,Ze.props,null,$e.mode,_t),_t.ref=ts($e,Ie,Ze),_t.return=$e,$e=_t)}return xe($e);case p:e:{for(Zt=Ze.key;Ie!==null;){if(Ie.key===Zt)if(Ie.tag===4&&Ie.stateNode.containerInfo===Ze.containerInfo&&Ie.stateNode.implementation===Ze.implementation){$($e,Ie.sibling),Ie=J(Ie,Ze.children||[]),Ie.return=$e,$e=Ie;break e}else{$($e,Ie);break}else I($e,Ie);Ie=Ie.sibling}Ie=ll(Ze,$e.mode,_t),Ie.return=$e,$e=Ie}return xe($e);case N:return Zt=Ze._init,Vr($e,Ie,Zt(Ze._payload),_t)}if(ce(Ze))return bt($e,Ie,Ze,_t);if(U(Ze))return sr($e,Ie,Ze,_t);na($e,Ze)}return typeof Ze=="string"&&Ze!==""||typeof Ze=="number"?(Ze=""+Ze,Ie!==null&&Ie.tag===6?($($e,Ie.sibling),Ie=J(Ie,Ze),Ie.return=$e,$e=Ie):($($e,Ie),Ie=ol(Ze,$e.mode,_t),Ie.return=$e,$e=Ie),xe($e)):$($e,Ie)}return Vr}var Oi=vc(!0),xc=vc(!1),rs={},Pr=Fn(rs),xa=Fn(rs),ba=Fn(rs);function ri(A){if(A===rs)throw Error(h(174));return A}function ko(A,I){Mt(ba,I),Mt(xa,A),Mt(Pr,rs),A=ge(I),Lt(Pr),Mt(Pr,A)}function as(){Lt(Pr),Lt(xa),Lt(ba)}function _c(A){var I=ri(ba.current),$=ri(Pr.current);I=Z($,A.type,I),$!==I&&(Mt(xa,A),Mt(Pr,I))}function Tl(A){xa.current===A&&(Lt(Pr),Lt(xa))}var Cn=Fn(0);function No(A){for(var I=A;I!==null;){if(I.tag===13){var $=I.memoizedState;if($!==null&&($=$.dehydrated,$===null||fi($)||zr($)))return I}else if(I.tag===19&&I.memoizedProps.revealOrder!==void 0){if((I.flags&128)!==0)return I}else if(I.child!==null){I.child.return=I,I=I.child;continue}if(I===A)break;for(;I.sibling===null;){if(I.return===null||I.return===A)return null;I=I.return}I.sibling.return=I.return,I=I.sibling}return null}var Dr=[];function Sa(){for(var A=0;A<Dr.length;A++){var I=Dr[A];Je?I._workInProgressVersionPrimary=null:I._workInProgressVersionSecondary=null}Dr.length=0}var ks=f.ReactCurrentDispatcher,Lr=f.ReactCurrentBatchConfig,Ea=0,Rn=null,Wn=null,Xn=null,Fo=!1,yi=!1,wa=0,Ns=0;function Kn(){throw Error(h(321))}function jo(A,I){if(I===null)return!1;for(var $=0;$<I.length&&$<A.length;$++)if(!pr(A[$],I[$]))return!1;return!0}function ss(A,I,$,G,J,te){if(Ea=te,Rn=I,I.memoizedState=null,I.updateQueue=null,I.lanes=0,ks.current=A===null||A.memoizedState===null?Dl:Ll,A=$(G,J),yi){te=0;do{if(yi=!1,wa=0,25<=te)throw Error(h(301));te+=1,Xn=Wn=null,I.updateQueue=null,ks.current=kl,A=$(G,J)}while(yi)}if(ks.current=us,I=Wn!==null&&Wn.next!==null,Ea=0,Xn=Wn=Rn=null,Fo=!1,I)throw Error(h(300));return A}function ra(){var A=wa!==0;return wa=0,A}function ii(){var A={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xn===null?Rn.memoizedState=Xn=A:Xn=Xn.next=A,Xn}function ai(){if(Wn===null){var A=Rn.alternate;A=A!==null?A.memoizedState:null}else A=Wn.next;var I=Xn===null?Rn.memoizedState:Xn.next;if(I!==null)Xn=I,Wn=A;else{if(A===null)throw Error(h(310));Wn=A,A={memoizedState:Wn.memoizedState,baseState:Wn.baseState,baseQueue:Wn.baseQueue,queue:Wn.queue,next:null},Xn===null?Rn.memoizedState=Xn=A:Xn=Xn.next=A}return Xn}function vi(A,I){return typeof I=="function"?I(A):I}function Fs(A){var I=ai(),$=I.queue;if($===null)throw Error(h(311));$.lastRenderedReducer=A;var G=Wn,J=G.baseQueue,te=$.pending;if(te!==null){if(J!==null){var xe=J.next;J.next=te.next,te.next=xe}G.baseQueue=J=te,$.pending=null}if(J!==null){te=J.next,G=G.baseState;var Ce=xe=null,Qe=null,pt=te;do{var At=pt.lane;if((Ea&At)===At)Qe!==null&&(Qe=Qe.next={lane:0,action:pt.action,hasEagerState:pt.hasEagerState,eagerState:pt.eagerState,next:null}),G=pt.hasEagerState?pt.eagerState:A(G,pt.action);else{var Xt={lane:At,action:pt.action,hasEagerState:pt.hasEagerState,eagerState:pt.eagerState,next:null};Qe===null?(Ce=Qe=Xt,xe=G):Qe=Qe.next=Xt,Rn.lanes|=At,_i|=At}pt=pt.next}while(pt!==null&&pt!==te);Qe===null?xe=G:Qe.next=Ce,pr(G,I.memoizedState)||(Yn=!0),I.memoizedState=G,I.baseState=xe,I.baseQueue=Qe,$.lastRenderedState=G}if(A=$.interleaved,A!==null){J=A;do te=J.lane,Rn.lanes|=te,_i|=te,J=J.next;while(J!==A)}else J===null&&($.lanes=0);return[I.memoizedState,$.dispatch]}function js(A){var I=ai(),$=I.queue;if($===null)throw Error(h(311));$.lastRenderedReducer=A;var G=$.dispatch,J=$.pending,te=I.memoizedState;if(J!==null){$.pending=null;var xe=J=J.next;do te=A(te,xe.action),xe=xe.next;while(xe!==J);pr(te,I.memoizedState)||(Yn=!0),I.memoizedState=te,I.baseQueue===null&&(I.baseState=te),$.lastRenderedState=te}return[te,G]}function Al(){}function Cl(A,I){var $=Rn,G=ai(),J=I(),te=!pr(G.memoizedState,J);if(te&&(G.memoizedState=J,Yn=!0),G=G.queue,os(Di.bind(null,$,G,A),[A]),G.getSnapshot!==I||te||Xn!==null&&Xn.memoizedState.tag&1){if($.flags|=2048,$s(9,Il.bind(null,$,G,J,I),void 0,null),$n===null)throw Error(h(349));(Ea&30)!==0||Rl($,I,J)}return J}function Rl(A,I,$){A.flags|=16384,A={getSnapshot:I,value:$},I=Rn.updateQueue,I===null?(I={lastEffect:null,stores:null},Rn.updateQueue=I,I.stores=[A]):($=I.stores,$===null?I.stores=[A]:$.push(A))}function Il(A,I,$,G){I.value=$,I.getSnapshot=G,Bo(I)&&ur(A,1,-1)}function Di(A,I,$){return $(function(){Bo(I)&&ur(A,1,-1)})}function Bo(A){var I=A.getSnapshot;A=A.value;try{var $=I();return!pr(A,$)}catch{return!0}}function Bs(A){var I=ii();return typeof A=="function"&&(A=A()),I.memoizedState=I.baseState=A,A={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:A},I.queue=A,A=A.dispatch=su.bind(null,Rn,A),[I.memoizedState,A]}function $s(A,I,$,G){return A={tag:A,create:I,destroy:$,deps:G,next:null},I=Rn.updateQueue,I===null?(I={lastEffect:null,stores:null},Rn.updateQueue=I,I.lastEffect=A.next=A):($=I.lastEffect,$===null?I.lastEffect=A.next=A:(G=$.next,$.next=A,A.next=G,I.lastEffect=A)),A}function bc(){return ai().memoizedState}function ia(A,I,$,G){var J=ii();Rn.flags|=A,J.memoizedState=$s(1|I,$,void 0,G===void 0?null:G)}function $o(A,I,$,G){var J=ai();G=G===void 0?null:G;var te=void 0;if(Wn!==null){var xe=Wn.memoizedState;if(te=xe.destroy,G!==null&&jo(G,xe.deps)){J.memoizedState=$s(I,$,te,G);return}}Rn.flags|=A,J.memoizedState=$s(1|I,$,te,G)}function Vo(A,I){return ia(8390656,8,A,I)}function os(A,I){return $o(2048,8,A,I)}function bn(A,I){return $o(4,2,A,I)}function Uo(A,I){return $o(4,4,A,I)}function Vs(A,I){if(typeof I=="function")return A=A(),I(A),function(){I(null)};if(I!=null)return A=A(),I.current=A,function(){I.current=null}}function ls(A,I,$){return $=$!=null?$.concat([A]):null,$o(4,4,Vs.bind(null,I,A),$)}function zo(){}function Go(A,I){var $=ai();I=I===void 0?null:I;var G=$.memoizedState;return G!==null&&I!==null&&jo(I,G[1])?G[0]:($.memoizedState=[A,I],A)}function cs(A,I){var $=ai();I=I===void 0?null:I;var G=$.memoizedState;return G!==null&&I!==null&&jo(I,G[1])?G[0]:(A=A(),$.memoizedState=[A,I],A)}function qo(A,I){var $=nn;nn=$!==0&&4>$?$:4,A(!0);var G=Lr.transition;Lr.transition={};try{A(!1),I()}finally{nn=$,Lr.transition=G}}function Ma(){return ai().memoizedState}function Sc(A,I,$){var G=ci(A);$={lane:G,action:$,hasEagerState:!1,eagerState:null,next:null},Ec(A)?Ol(I,$):(Us(A,I,$),$=hn(),A=ur(A,G,$),A!==null&&zs(A,I,G))}function su(A,I,$){var G=ci(A),J={lane:G,action:$,hasEagerState:!1,eagerState:null,next:null};if(Ec(A))Ol(I,J);else{Us(A,I,J);var te=A.alternate;if(A.lanes===0&&(te===null||te.lanes===0)&&(te=I.lastRenderedReducer,te!==null))try{var xe=I.lastRenderedState,Ce=te(xe,$);if(J.hasEagerState=!0,J.eagerState=Ce,pr(Ce,xe))return}catch{}finally{}$=hn(),A=ur(A,G,$),A!==null&&zs(A,I,G)}}function Ec(A){var I=A.alternate;return A===Rn||I!==null&&I===Rn}function Ol(A,I){yi=Fo=!0;var $=A.pending;$===null?I.next=I:(I.next=$.next,$.next=I),A.pending=I}function Us(A,I,$){$n!==null&&(A.mode&1)!==0&&(Qt&2)===0?(A=I.interleaved,A===null?($.next=$,Hr===null?Hr=[I]:Hr.push(I)):($.next=A.next,A.next=$),I.interleaved=$):(A=I.pending,A===null?$.next=$:($.next=A.next,A.next=$),I.pending=$)}function zs(A,I,$){if(($&4194240)!==0){var G=I.lanes;G&=A.pendingLanes,$|=G,I.lanes=$,mi(A,$)}}var us={readContext:Mr,useCallback:Kn,useContext:Kn,useEffect:Kn,useImperativeHandle:Kn,useInsertionEffect:Kn,useLayoutEffect:Kn,useMemo:Kn,useReducer:Kn,useRef:Kn,useState:Kn,useDebugValue:Kn,useDeferredValue:Kn,useTransition:Kn,useMutableSource:Kn,useSyncExternalStore:Kn,useId:Kn,unstable_isNewReconciler:!1},Dl={readContext:Mr,useCallback:function(A,I){return ii().memoizedState=[A,I===void 0?null:I],A},useContext:Mr,useEffect:Vo,useImperativeHandle:function(A,I,$){return $=$!=null?$.concat([A]):null,ia(4194308,4,Vs.bind(null,I,A),$)},useLayoutEffect:function(A,I){return ia(4194308,4,A,I)},useInsertionEffect:function(A,I){return ia(4,2,A,I)},useMemo:function(A,I){var $=ii();return I=I===void 0?null:I,A=A(),$.memoizedState=[A,I],A},useReducer:function(A,I,$){var G=ii();return I=$!==void 0?$(I):I,G.memoizedState=G.baseState=I,A={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:A,lastRenderedState:I},G.queue=A,A=A.dispatch=Sc.bind(null,Rn,A),[G.memoizedState,A]},useRef:function(A){var I=ii();return A={current:A},I.memoizedState=A},useState:Bs,useDebugValue:zo,useDeferredValue:function(A){var I=Bs(A),$=I[0],G=I[1];return Vo(function(){var J=Lr.transition;Lr.transition={};try{G(A)}finally{Lr.transition=J}},[A]),$},useTransition:function(){var A=Bs(!1),I=A[0];return A=qo.bind(null,A[1]),ii().memoizedState=A,[I,A]},useMutableSource:function(){},useSyncExternalStore:function(A,I,$){var G=Rn,J=ii();if(Tn){if($===void 0)throw Error(h(407));$=$()}else{if($=I(),$n===null)throw Error(h(349));(Ea&30)!==0||Rl(G,I,$)}J.memoizedState=$;var te={value:$,getSnapshot:I};return J.queue=te,Vo(Di.bind(null,G,te,A),[A]),G.flags|=2048,$s(9,Il.bind(null,G,te,$,I),void 0,null),$},useId:function(){var A=ii(),I=$n.identifierPrefix;if(Tn){var $=Ii,G=Ri;$=(G&~(1<<32-Er(G)-1)).toString(32)+$,I=":"+I+"R"+$,$=wa++,0<$&&(I+="H"+$.toString(32)),I+=":"}else $=Ns++,I=":"+I+"r"+$.toString(32)+":";return A.memoizedState=I},unstable_isNewReconciler:!1},Ll={readContext:Mr,useCallback:Go,useContext:Mr,useEffect:os,useImperativeHandle:ls,useInsertionEffect:bn,useLayoutEffect:Uo,useMemo:cs,useReducer:Fs,useRef:bc,useState:function(){return Fs(vi)},useDebugValue:zo,useDeferredValue:function(A){var I=Fs(vi),$=I[0],G=I[1];return os(function(){var J=Lr.transition;Lr.transition={};try{G(A)}finally{Lr.transition=J}},[A]),$},useTransition:function(){var A=Fs(vi)[0],I=ai().memoizedState;return[A,I]},useMutableSource:Al,useSyncExternalStore:Cl,useId:Ma,unstable_isNewReconciler:!1},kl={readContext:Mr,useCallback:Go,useContext:Mr,useEffect:os,useImperativeHandle:ls,useInsertionEffect:bn,useLayoutEffect:Uo,useMemo:cs,useReducer:js,useRef:bc,useState:function(){return js(vi)},useDebugValue:zo,useDeferredValue:function(A){var I=js(vi),$=I[0],G=I[1];return os(function(){var J=Lr.transition;Lr.transition={};try{G(A)}finally{Lr.transition=J}},[A]),$},useTransition:function(){var A=js(vi)[0],I=ai().memoizedState;return[A,I]},useMutableSource:Al,useSyncExternalStore:Cl,useId:Ma,unstable_isNewReconciler:!1};function Nl(A,I){try{var $="",G=I;do $+=vl(G),G=G.return;while(G);var J=$}catch(te){J=`
Error generating stack: `+te.message+`
`+te.stack}return{value:A,source:I,stack:J}}function Ho(A,I){try{console.error(I.value)}catch($){setTimeout(function(){throw $})}}var ou=typeof WeakMap=="function"?WeakMap:Map;function wc(A,I,$){$=Ci(-1,$),$.tag=3,$.payload={element:null};var G=I.value;return $.callback=function(){gs||(gs=!0,Pn=G),Ho(A,I)},$}function Wo(A,I,$){$=Ci(-1,$),$.tag=3;var G=A.type.getDerivedStateFromError;if(typeof G=="function"){var J=I.value;$.payload=function(){return G(J)},$.callback=function(){Ho(A,I)}}var te=A.stateNode;return te!==null&&typeof te.componentDidCatch=="function"&&($.callback=function(){Ho(A,I),typeof G!="function"&&(li===null?li=new Set([this]):li.add(this));var xe=I.stack;this.componentDidCatch(I.value,{componentStack:xe!==null?xe:""})}),$}function Li(A,I,$){var G=A.pingCache;if(G===null){G=A.pingCache=new ou;var J=new Set;G.set(I,J)}else J=G.get(I),J===void 0&&(J=new Set,G.set(I,J));J.has($)||(J.add($),A=ec.bind(null,A,I,$),I.then(A,A))}function Fl(A){do{var I;if((I=A.tag===13)&&(I=A.memoizedState,I=I!==null?I.dehydrated!==null:!0),I)return A;A=A.return}while(A!==null);return null}function Pa(A,I,$,G,J){return(A.mode&1)===0?(A===I?A.flags|=65536:(A.flags|=128,$.flags|=131072,$.flags&=-52805,$.tag===1&&($.alternate===null?$.tag=17:(I=Ci(-1,1),I.tag=2,Qi($,I))),$.lanes|=1),A):(A.flags|=65536,A.lanes=J,A)}function qn(A){A.flags|=4}function hs(A,I){if(A!==null&&A.child===I.child)return!0;if((I.flags&16)!==0)return!1;for(A=I.child;A!==null;){if((A.flags&12854)!==0||(A.subtreeFlags&12854)!==0)return!1;A=A.sibling}return!0}var Nr,Ta,Xo,Ko;if(ke)Nr=function(A,I){for(var $=I.child;$!==null;){if($.tag===5||$.tag===6)pe(A,$.stateNode);else if($.tag!==4&&$.child!==null){$.child.return=$,$=$.child;continue}if($===I)break;for(;$.sibling===null;){if($.return===null||$.return===I)return;$=$.return}$.sibling.return=$.return,$=$.sibling}},Ta=function(){},Xo=function(A,I,$,G,J){if(A=A.memoizedProps,A!==G){var te=I.stateNode,xe=ri(Pr.current);$=_e(te,$,A,G,J,xe),(I.updateQueue=$)&&qn(I)}},Ko=function(A,I,$,G){$!==G&&qn(I)};else if(de){Nr=function(A,I,$,G){for(var J=I.child;J!==null;){if(J.tag===5){var te=J.stateNode;$&&G&&(te=rn(te,J.type,J.memoizedProps,J)),pe(A,te)}else if(J.tag===6)te=J.stateNode,$&&G&&(te=cn(te,J.memoizedProps,J)),pe(A,te);else if(J.tag!==4){if(J.tag===22&&J.memoizedState!==null)te=J.child,te!==null&&(te.return=J),Nr(A,J,!0,!0);else if(J.child!==null){J.child.return=J,J=J.child;continue}}if(J===I)break;for(;J.sibling===null;){if(J.return===null||J.return===I)return;J=J.return}J.sibling.return=J.return,J=J.sibling}};var aa=function(A,I,$,G){for(var J=I.child;J!==null;){if(J.tag===5){var te=J.stateNode;$&&G&&(te=rn(te,J.type,J.memoizedProps,J)),gt(A,te)}else if(J.tag===6)te=J.stateNode,$&&G&&(te=cn(te,J.memoizedProps,J)),gt(A,te);else if(J.tag!==4){if(J.tag===22&&J.memoizedState!==null)te=J.child,te!==null&&(te.return=J),aa(A,J,!0,!0);else if(J.child!==null){J.child.return=J,J=J.child;continue}}if(J===I)break;for(;J.sibling===null;){if(J.return===null||J.return===I)return;J=J.return}J.sibling.return=J.return,J=J.sibling}};Ta=function(A,I){var $=I.stateNode;if(!hs(A,I)){A=$.containerInfo;var G=at(A);aa(G,I,!1,!1),$.pendingChildren=G,qn(I),Bt(A,G)}},Xo=function(A,I,$,G,J){var te=A.stateNode,xe=A.memoizedProps;if((A=hs(A,I))&&xe===G)I.stateNode=te;else{var Ce=I.stateNode,Qe=ri(Pr.current),pt=null;xe!==G&&(pt=_e(Ce,$,xe,G,J,Qe)),A&&pt===null?I.stateNode=te:(te=je(te,pt,$,xe,G,I,A,Ce),we(te,$,G,J,Qe)&&qn(I),I.stateNode=te,A?qn(I):Nr(te,I,!1,!1))}},Ko=function(A,I,$,G){$!==G?(A=ri(ba.current),$=ri(Pr.current),I.stateNode=Oe(G,A,$,I),qn(I)):I.stateNode=A.stateNode}}else Ta=function(){},Xo=function(){},Ko=function(){};function ki(A,I){if(!Tn)switch(A.tailMode){case"hidden":I=A.tail;for(var $=null;I!==null;)I.alternate!==null&&($=I),I=I.sibling;$===null?A.tail=null:$.sibling=null;break;case"collapsed":$=A.tail;for(var G=null;$!==null;)$.alternate!==null&&(G=$),$=$.sibling;G===null?I||A.tail===null?A.tail=null:A.tail.sibling=null:G.sibling=null}}function Bn(A){var I=A.alternate!==null&&A.alternate.child===A.child,$=0,G=0;if(I)for(var J=A.child;J!==null;)$|=J.lanes|J.childLanes,G|=J.subtreeFlags&14680064,G|=J.flags&14680064,J.return=A,J=J.sibling;else for(J=A.child;J!==null;)$|=J.lanes|J.childLanes,G|=J.subtreeFlags,G|=J.flags,J.return=A,J=J.sibling;return A.subtreeFlags|=G,A.childLanes=$,I}function Yo(A,I,$){var G=I.pendingProps;switch(wl(I),I.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bn(I),null;case 1:return jn(I.type)&&wn(),Bn(I),null;case 3:return G=I.stateNode,as(),Lt(Dn),Lt(Jt),Sa(),G.pendingContext&&(G.context=G.pendingContext,G.pendingContext=null),(A===null||A.child===null)&&(Ls(I)?qn(I):A===null||A.memoizedState.isDehydrated&&(I.flags&256)===0||(I.flags|=1024,Kr!==null&&(ro(Kr),Kr=null))),Ta(A,I),Bn(I),null;case 5:Tl(I),$=ri(ba.current);var J=I.type;if(A!==null&&I.stateNode!=null)Xo(A,I,J,G,$),A.ref!==I.ref&&(I.flags|=512,I.flags|=2097152);else{if(!G){if(I.stateNode===null)throw Error(h(166));return Bn(I),null}if(A=ri(Pr.current),Ls(I)){if(!Be)throw Error(h(175));A=ml(I.stateNode,I.type,I.memoizedProps,$,A,I,!Qa),I.updateQueue=A,A!==null&&qn(I)}else{var te=ae(J,G,$,A,I);Nr(te,I,!1,!1),I.stateNode=te,we(te,J,G,$,A)&&qn(I)}I.ref!==null&&(I.flags|=512,I.flags|=2097152)}return Bn(I),null;case 6:if(A&&I.stateNode!=null)Ko(A,I,A.memoizedProps,G);else{if(typeof G!="string"&&I.stateNode===null)throw Error(h(166));if(A=ri(ba.current),$=ri(Pr.current),Ls(I)){if(!Be)throw Error(h(176));if(A=I.stateNode,G=I.memoizedProps,($=Pi(A,G,I,!Qa))&&(J=gr,J!==null))switch(te=(J.mode&1)!==0,J.tag){case 3:Nt(J.stateNode.containerInfo,A,G,te);break;case 5:$t(J.type,J.memoizedProps,J.stateNode,A,G,te)}$&&qn(I)}else I.stateNode=Oe(G,A,$,I)}return Bn(I),null;case 13:if(Lt(Cn),G=I.memoizedState,Tn&&tr!==null&&(I.mode&1)!==0&&(I.flags&128)===0){for(A=tr;A;)A=ti(A);return es(),I.flags|=98560,I}if(G!==null&&G.dehydrated!==null){if(G=Ls(I),A===null){if(!G)throw Error(h(318));if(!Be)throw Error(h(344));if(A=I.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(h(317));yo(A,I)}else es(),(I.flags&128)===0&&(I.memoizedState=null),I.flags|=4;return Bn(I),null}return Kr!==null&&(ro(Kr),Kr=null),(I.flags&128)!==0?(I.lanes=$,I):(G=G!==null,$=!1,A===null?Ls(I):$=A.memoizedState!==null,G&&!$&&(I.child.flags|=8192,(I.mode&1)!==0&&(A===null||(Cn.current&1)!==0?kn===0&&(kn=3):rl())),I.updateQueue!==null&&(I.flags|=4),Bn(I),null);case 4:return as(),Ta(A,I),A===null&&et(I.stateNode.containerInfo),Bn(I),null;case 10:return Ds(I.type._context),Bn(I),null;case 17:return jn(I.type)&&wn(),Bn(I),null;case 19:if(Lt(Cn),J=I.memoizedState,J===null)return Bn(I),null;if(G=(I.flags&128)!==0,te=J.rendering,te===null)if(G)ki(J,!1);else{if(kn!==0||A!==null&&(A.flags&128)!==0)for(A=I.child;A!==null;){if(te=No(A),te!==null){for(I.flags|=128,ki(J,!1),A=te.updateQueue,A!==null&&(I.updateQueue=A,I.flags|=4),I.subtreeFlags=0,A=$,G=I.child;G!==null;)$=G,J=A,$.flags&=14680066,te=$.alternate,te===null?($.childLanes=0,$.lanes=J,$.child=null,$.subtreeFlags=0,$.memoizedProps=null,$.memoizedState=null,$.updateQueue=null,$.dependencies=null,$.stateNode=null):($.childLanes=te.childLanes,$.lanes=te.lanes,$.child=te.child,$.subtreeFlags=0,$.deletions=null,$.memoizedProps=te.memoizedProps,$.memoizedState=te.memoizedState,$.updateQueue=te.updateQueue,$.type=te.type,J=te.dependencies,$.dependencies=J===null?null:{lanes:J.lanes,firstContext:J.firstContext}),G=G.sibling;return Mt(Cn,Cn.current&1|2),I.child}A=A.sibling}J.tail!==null&&Gn()>la&&(I.flags|=128,G=!0,ki(J,!1),I.lanes=4194304)}else{if(!G)if(A=No(te),A!==null){if(I.flags|=128,G=!0,A=A.updateQueue,A!==null&&(I.updateQueue=A,I.flags|=4),ki(J,!0),J.tail===null&&J.tailMode==="hidden"&&!te.alternate&&!Tn)return Bn(I),null}else 2*Gn()-J.renderingStartTime>la&&$!==1073741824&&(I.flags|=128,G=!0,ki(J,!1),I.lanes=4194304);J.isBackwards?(te.sibling=I.child,I.child=te):(A=J.last,A!==null?A.sibling=te:I.child=te,J.last=te)}return J.tail!==null?(I=J.tail,J.rendering=I,J.tail=I.sibling,J.renderingStartTime=Gn(),I.sibling=null,A=Cn.current,Mt(Cn,G?A&1|2:A&1),I):(Bn(I),null);case 22:case 23:return io(),G=I.memoizedState!==null,A!==null&&A.memoizedState!==null!==G&&(I.flags|=8192),G&&(I.mode&1)!==0?(cr&1073741824)!==0&&(Bn(I),ke&&I.subtreeFlags&6&&(I.flags|=8192)):Bn(I),null;case 24:return null;case 25:return null}throw Error(h(156,I.tag))}var jl=f.ReactCurrentOwner,Yn=!1;function Ln(A,I,$,G){I.child=A===null?xc(I,null,$,G):Oi(I,A.child,$,G)}function Sn(A,I,$,G,J){$=$.render;var te=I.ref;return Ya(I,J),G=ss(A,I,$,G,te,J),$=ra(),A!==null&&!Yn?(I.updateQueue=A.updateQueue,I.flags&=-2053,A.lanes&=~J,Tr(A,I,J)):(Tn&&$&&El(I),I.flags|=1,Ln(A,I,G,J),I.child)}function vn(A,I,$,G,J){if(A===null){var te=$.type;return typeof te=="function"&&!al(te)&&te.defaultProps===void 0&&$.compare===null&&$.defaultProps===void 0?(I.tag=15,I.type=te,Ni(A,I,te,G,J)):(A=sl($.type,null,G,I,I.mode,J),A.ref=I.ref,A.return=I,I.child=A)}if(te=A.child,(A.lanes&J)===0){var xe=te.memoizedProps;if($=$.compare,$=$!==null?$:ni,$(xe,G)&&A.ref===I.ref)return Tr(A,I,J)}return I.flags|=1,A=qi(te,G),A.ref=I.ref,A.return=I,I.child=A}function Ni(A,I,$,G,J){if(A!==null&&ni(A.memoizedProps,G)&&A.ref===I.ref)if(Yn=!1,(A.lanes&J)!==0)(A.flags&131072)!==0&&(Yn=!0);else return I.lanes=A.lanes,Tr(A,I,J);return Fi(A,I,$,G,J)}function nr(A,I,$){var G=I.pendingProps,J=G.children,te=A!==null?A.memoizedState:null;if(G.mode==="hidden")if((I.mode&1)===0)I.memoizedState={baseLanes:0,cachePool:null},Mt(Fa,cr),cr|=$;else if(($&1073741824)!==0)I.memoizedState={baseLanes:0,cachePool:null},G=te!==null?te.baseLanes:$,Mt(Fa,cr),cr|=G;else return A=te!==null?te.baseLanes|$:$,I.lanes=I.childLanes=1073741824,I.memoizedState={baseLanes:A,cachePool:null},I.updateQueue=null,Mt(Fa,cr),cr|=A,null;else te!==null?(G=te.baseLanes|$,I.memoizedState=null):G=$,Mt(Fa,cr),cr|=G;return Ln(A,I,J,$),I.child}function yr(A,I){var $=I.ref;(A===null&&$!==null||A!==null&&A.ref!==$)&&(I.flags|=512,I.flags|=2097152)}function Fi(A,I,$,G,J){var te=jn($)?di:Jt.current;return te=dr(I,te),Ya(I,J),$=ss(A,I,$,G,te,J),G=ra(),A!==null&&!Yn?(I.updateQueue=A.updateQueue,I.flags&=-2053,A.lanes&=~J,Tr(A,I,J)):(Tn&&G&&El(I),I.flags|=1,Ln(A,I,$,J),I.child)}function Aa(A,I,$,G,J){if(jn($)){var te=!0;er(I)}else te=!1;if(Ya(I,J),I.stateNode===null)A!==null&&(A.alternate=null,I.alternate=null,I.flags|=2),pc(I,$,G),Sl(I,$,G,J),G=!0;else if(A===null){var xe=I.stateNode,Ce=I.memoizedProps;xe.props=Ce;var Qe=xe.context,pt=$.contextType;typeof pt=="object"&&pt!==null?pt=Mr(pt):(pt=jn($)?di:Jt.current,pt=dr(I,pt));var At=$.getDerivedStateFromProps,Xt=typeof At=="function"||typeof xe.getSnapshotBeforeUpdate=="function";Xt||typeof xe.UNSAFE_componentWillReceiveProps!="function"&&typeof xe.componentWillReceiveProps!="function"||(Ce!==G||Qe!==pt)&&mc(I,xe,G,pt),Wr=!1;var jt=I.memoizedState;xe.state=jt,Co(I,G,xe,J),Qe=I.memoizedState,Ce!==G||jt!==Qe||Dn.current||Wr?(typeof At=="function"&&(_l(I,$,At,G),Qe=I.memoizedState),(Ce=Wr||bl(I,$,Ce,G,jt,Qe,pt))?(Xt||typeof xe.UNSAFE_componentWillMount!="function"&&typeof xe.componentWillMount!="function"||(typeof xe.componentWillMount=="function"&&xe.componentWillMount(),typeof xe.UNSAFE_componentWillMount=="function"&&xe.UNSAFE_componentWillMount()),typeof xe.componentDidMount=="function"&&(I.flags|=4194308)):(typeof xe.componentDidMount=="function"&&(I.flags|=4194308),I.memoizedProps=G,I.memoizedState=Qe),xe.props=G,xe.state=Qe,xe.context=pt,G=Ce):(typeof xe.componentDidMount=="function"&&(I.flags|=4194308),G=!1)}else{xe=I.stateNode,xl(A,I),Ce=I.memoizedProps,pt=I.type===I.elementType?Ce:wr(I.type,Ce),xe.props=pt,Xt=I.pendingProps,jt=xe.context,Qe=$.contextType,typeof Qe=="object"&&Qe!==null?Qe=Mr(Qe):(Qe=jn($)?di:Jt.current,Qe=dr(I,Qe));var en=$.getDerivedStateFromProps;(At=typeof en=="function"||typeof xe.getSnapshotBeforeUpdate=="function")||typeof xe.UNSAFE_componentWillReceiveProps!="function"&&typeof xe.componentWillReceiveProps!="function"||(Ce!==Xt||jt!==Qe)&&mc(I,xe,G,Qe),Wr=!1,jt=I.memoizedState,xe.state=jt,Co(I,G,xe,J);var bt=I.memoizedState;Ce!==Xt||jt!==bt||Dn.current||Wr?(typeof en=="function"&&(_l(I,$,en,G),bt=I.memoizedState),(pt=Wr||bl(I,$,pt,G,jt,bt,Qe)||!1)?(At||typeof xe.UNSAFE_componentWillUpdate!="function"&&typeof xe.componentWillUpdate!="function"||(typeof xe.componentWillUpdate=="function"&&xe.componentWillUpdate(G,bt,Qe),typeof xe.UNSAFE_componentWillUpdate=="function"&&xe.UNSAFE_componentWillUpdate(G,bt,Qe)),typeof xe.componentDidUpdate=="function"&&(I.flags|=4),typeof xe.getSnapshotBeforeUpdate=="function"&&(I.flags|=1024)):(typeof xe.componentDidUpdate!="function"||Ce===A.memoizedProps&&jt===A.memoizedState||(I.flags|=4),typeof xe.getSnapshotBeforeUpdate!="function"||Ce===A.memoizedProps&&jt===A.memoizedState||(I.flags|=1024),I.memoizedProps=G,I.memoizedState=bt),xe.props=G,xe.state=bt,xe.context=Qe,G=pt):(typeof xe.componentDidUpdate!="function"||Ce===A.memoizedProps&&jt===A.memoizedState||(I.flags|=4),typeof xe.getSnapshotBeforeUpdate!="function"||Ce===A.memoizedProps&&jt===A.memoizedState||(I.flags|=1024),G=!1)}return lr(A,I,$,G,te,J)}function lr(A,I,$,G,J,te){yr(A,I);var xe=(I.flags&128)!==0;if(!G&&!xe)return J&&Zi(I,$,!1),Tr(A,I,te);G=I.stateNode,jl.current=I;var Ce=xe&&typeof $.getDerivedStateFromError!="function"?null:G.render();return I.flags|=1,A!==null&&xe?(I.child=Oi(I,A.child,null,te),I.child=Oi(I,null,Ce,te)):Ln(A,I,Ce,te),I.memoizedState=G.state,J&&Zi(I,$,!0),I.child}function Gs(A){var I=A.stateNode;I.pendingContext?Ir(A,I.pendingContext,I.pendingContext!==I.context):I.context&&Ir(A,I.context,!1),ko(A,I.containerInfo)}function Bl(A,I,$,G,J){return es(),Lo(J),I.flags|=256,Ln(A,I,$,G),I.child}var qs={dehydrated:null,treeContext:null,retryLane:0};function Ca(A){return{baseLanes:A,cachePool:null}}function $l(A,I,$){var G=I.pendingProps,J=Cn.current,te=!1,xe=(I.flags&128)!==0,Ce;if((Ce=xe)||(Ce=A!==null&&A.memoizedState===null?!1:(J&2)!==0),Ce?(te=!0,I.flags&=-129):(A===null||A.memoizedState!==null)&&(J|=1),Mt(Cn,J&1),A===null)return ta(I),A=I.memoizedState,A!==null&&(A=A.dehydrated,A!==null)?((I.mode&1)===0?I.lanes=1:zr(A)?I.lanes=8:I.lanes=1073741824,null):(J=G.children,A=G.fallback,te?(G=I.mode,te=I.child,J={mode:"hidden",children:J},(G&1)===0&&te!==null?(te.childLanes=0,te.pendingProps=J):te=oo(J,G,0,null),A=Ua(A,G,$,null),te.return=I,A.return=I,te.sibling=A,I.child=te,I.child.memoizedState=Ca($),I.memoizedState=qs,A):si(I,J));if(J=A.memoizedState,J!==null){if(Ce=J.dehydrated,Ce!==null){if(xe)return I.flags&256?(I.flags&=-257,Ws(A,I,$,Error(h(422)))):I.memoizedState!==null?(I.child=A.child,I.flags|=128,null):(te=G.fallback,J=I.mode,G=oo({mode:"visible",children:G.children},J,0,null),te=Ua(te,J,$,null),te.flags|=2,G.return=I,te.return=I,G.sibling=te,I.child=G,(I.mode&1)!==0&&Oi(I,A.child,null,$),I.child.memoizedState=Ca($),I.memoizedState=qs,te);if((I.mode&1)===0)I=Ws(A,I,$,null);else if(zr(Ce))I=Ws(A,I,$,Error(h(419)));else if(G=($&A.childLanes)!==0,Yn||G){if(G=$n,G!==null){switch($&-$){case 4:te=2;break;case 16:te=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:te=32;break;case 536870912:te=268435456;break;default:te=0}G=(te&(G.suspendedLanes|$))!==0?0:te,G!==0&&G!==J.retryLane&&(J.retryLane=G,ur(A,G,-1))}rl(),I=Ws(A,I,$,Error(h(421)))}else fi(Ce)?(I.flags|=128,I.child=A.child,I=Cc.bind(null,A),Mi(Ce,I),I=null):($=J.treeContext,Be&&(tr=go(Ce),gr=I,Tn=!0,Kr=null,Qa=!1,$!==null&&(Xr[Or++]=Ri,Xr[Or++]=Ii,Xr[Or++]=ya,Ri=$.id,Ii=$.overflow,ya=I)),I=si(I,I.pendingProps.children),I.flags|=4096);return I}return te?(G=Zo(A,I,G.children,G.fallback,$),te=I.child,J=A.child.memoizedState,te.memoizedState=J===null?Ca($):{baseLanes:J.baseLanes|$,cachePool:null},te.childLanes=A.childLanes&~$,I.memoizedState=qs,G):($=Hs(A,I,G.children,$),I.memoizedState=null,$)}return te?(G=Zo(A,I,G.children,G.fallback,$),te=I.child,J=A.child.memoizedState,te.memoizedState=J===null?Ca($):{baseLanes:J.baseLanes|$,cachePool:null},te.childLanes=A.childLanes&~$,I.memoizedState=qs,G):($=Hs(A,I,G.children,$),I.memoizedState=null,$)}function si(A,I){return I=oo({mode:"visible",children:I},A.mode,0,null),I.return=A,A.child=I}function Hs(A,I,$,G){var J=A.child;return A=J.sibling,$=qi(J,{mode:"visible",children:$}),(I.mode&1)===0&&($.lanes=G),$.return=I,$.sibling=null,A!==null&&(G=I.deletions,G===null?(I.deletions=[A],I.flags|=16):G.push(A)),I.child=$}function Zo(A,I,$,G,J){var te=I.mode;A=A.child;var xe=A.sibling,Ce={mode:"hidden",children:$};return(te&1)===0&&I.child!==A?($=I.child,$.childLanes=0,$.pendingProps=Ce,I.deletions=null):($=qi(A,Ce),$.subtreeFlags=A.subtreeFlags&14680064),xe!==null?G=qi(xe,G):(G=Ua(G,te,J,null),G.flags|=2),G.return=I,$.return=I,$.sibling=G,I.child=$,G}function Ws(A,I,$,G){return G!==null&&Lo(G),Oi(I,A.child,null,$),A=si(I,I.pendingProps.children),A.flags|=2,I.memoizedState=null,A}function Mc(A,I,$){A.lanes|=I;var G=A.alternate;G!==null&&(G.lanes|=I),ga(A.return,I,$)}function xi(A,I,$,G,J){var te=A.memoizedState;te===null?A.memoizedState={isBackwards:I,rendering:null,renderingStartTime:0,last:G,tail:$,tailMode:J}:(te.isBackwards=I,te.rendering=null,te.renderingStartTime=0,te.last=G,te.tail=$,te.tailMode=J)}function Ra(A,I,$){var G=I.pendingProps,J=G.revealOrder,te=G.tail;if(Ln(A,I,G.children,$),G=Cn.current,(G&2)!==0)G=G&1|2,I.flags|=128;else{if(A!==null&&(A.flags&128)!==0)e:for(A=I.child;A!==null;){if(A.tag===13)A.memoizedState!==null&&Mc(A,$,I);else if(A.tag===19)Mc(A,$,I);else if(A.child!==null){A.child.return=A,A=A.child;continue}if(A===I)break e;for(;A.sibling===null;){if(A.return===null||A.return===I)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}G&=1}if(Mt(Cn,G),(I.mode&1)===0)I.memoizedState=null;else switch(J){case"forwards":for($=I.child,J=null;$!==null;)A=$.alternate,A!==null&&No(A)===null&&(J=$),$=$.sibling;$=J,$===null?(J=I.child,I.child=null):(J=$.sibling,$.sibling=null),xi(I,!1,J,$,te);break;case"backwards":for($=null,J=I.child,I.child=null;J!==null;){if(A=J.alternate,A!==null&&No(A)===null){I.child=J;break}A=J.sibling,J.sibling=$,$=J,J=A}xi(I,!0,$,null,te);break;case"together":xi(I,!1,null,null,void 0);break;default:I.memoizedState=null}return I.child}function Tr(A,I,$){if(A!==null&&(I.dependencies=A.dependencies),_i|=I.lanes,($&I.childLanes)===0)return null;if(A!==null&&I.child!==A.child)throw Error(h(153));if(I.child!==null){for(A=I.child,$=qi(A,A.pendingProps),I.child=$,$.return=I;A.sibling!==null;)A=A.sibling,$=$.sibling=qi(A,A.pendingProps),$.return=I;$.sibling=null}return I.child}function Jo(A,I,$){switch(I.tag){case 3:Gs(I),es();break;case 5:_c(I);break;case 1:jn(I.type)&&er(I);break;case 4:ko(I,I.stateNode.containerInfo);break;case 10:ma(I,I.type._context,I.memoizedProps.value);break;case 13:var G=I.memoizedState;if(G!==null)return G.dehydrated!==null?(Mt(Cn,Cn.current&1),I.flags|=128,null):($&I.child.childLanes)!==0?$l(A,I,$):(Mt(Cn,Cn.current&1),A=Tr(A,I,$),A!==null?A.sibling:null);Mt(Cn,Cn.current&1);break;case 19:if(G=($&I.childLanes)!==0,(A.flags&128)!==0){if(G)return Ra(A,I,$);I.flags|=128}var J=I.memoizedState;if(J!==null&&(J.rendering=null,J.tail=null,J.lastEffect=null),Mt(Cn,Cn.current),G)break;return null;case 22:case 23:return I.lanes=0,nr(A,I,$)}return Tr(A,I,$)}function Qo(A,I){switch(wl(I),I.tag){case 1:return jn(I.type)&&wn(),A=I.flags,A&65536?(I.flags=A&-65537|128,I):null;case 3:return as(),Lt(Dn),Lt(Jt),Sa(),A=I.flags,(A&65536)!==0&&(A&128)===0?(I.flags=A&-65537|128,I):null;case 5:return Tl(I),null;case 13:if(Lt(Cn),A=I.memoizedState,A!==null&&A.dehydrated!==null){if(I.alternate===null)throw Error(h(340));es()}return A=I.flags,A&65536?(I.flags=A&-65537|128,I):null;case 19:return Lt(Cn),null;case 4:return as(),null;case 10:return Ds(I.type._context),null;case 22:case 23:return io(),null;case 24:return null;default:return null}}var vr=!1,Zn=!1,Ia=typeof WeakSet=="function"?WeakSet:Set,vt=null;function Yr(A,I){var $=A.ref;if($!==null)if(typeof $=="function")try{$(null)}catch(G){_r(A,I,G)}else $.current=null}function ji(A,I,$){try{$()}catch(G){_r(A,I,G)}}var Vl=!1;function Ul(A,I){for(ie(A.containerInfo),vt=I;vt!==null;)if(A=vt,I=A.child,(A.subtreeFlags&1028)!==0&&I!==null)I.return=A,vt=I;else for(;vt!==null;){A=vt;try{var $=A.alternate;if((A.flags&1024)!==0)switch(A.tag){case 0:case 11:case 15:break;case 1:if($!==null){var G=$.memoizedProps,J=$.memoizedState,te=A.stateNode,xe=te.getSnapshotBeforeUpdate(A.elementType===A.type?G:wr(A.type,G),J);te.__reactInternalSnapshotBeforeUpdate=xe}break;case 3:ke&&it(A.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(h(163))}}catch(Ce){_r(A,A.return,Ce)}if(I=A.sibling,I!==null){I.return=A.return,vt=I;break}vt=A.return}return $=Vl,Vl=!1,$}function Bi(A,I,$){var G=I.updateQueue;if(G=G!==null?G.lastEffect:null,G!==null){var J=G=G.next;do{if((J.tag&A)===A){var te=J.destroy;J.destroy=void 0,te!==void 0&&ji(I,$,te)}J=J.next}while(J!==G)}}function rr(A,I){if(I=I.updateQueue,I=I!==null?I.lastEffect:null,I!==null){var $=I=I.next;do{if(($.tag&A)===A){var G=$.create;$.destroy=G()}$=$.next}while($!==I)}}function xr(A){var I=A.ref;if(I!==null){var $=A.stateNode;switch(A.tag){case 5:A=fe($);break;default:A=$}typeof I=="function"?I(A):I.current=A}}function Mn(A,I,$){if(gi&&typeof gi.onCommitFiberUnmount=="function")try{gi.onCommitFiberUnmount(Cs,I)}catch{}switch(I.tag){case 0:case 11:case 14:case 15:if(A=I.updateQueue,A!==null&&(A=A.lastEffect,A!==null)){var G=A=A.next;do{var J=G,te=J.destroy;J=J.tag,te!==void 0&&((J&2)!==0||(J&4)!==0)&&ji(I,$,te),G=G.next}while(G!==A)}break;case 1:if(Yr(I,$),A=I.stateNode,typeof A.componentWillUnmount=="function")try{A.props=I.memoizedProps,A.state=I.memoizedState,A.componentWillUnmount()}catch(xe){_r(I,$,xe)}break;case 5:Yr(I,$);break;case 4:ke?ql(A,I,$):de&&de&&(I=I.stateNode.containerInfo,$=at(I),tn(I,$))}}function Zr(A,I,$){for(var G=I;;)if(Mn(A,G,$),G.child===null||ke&&G.tag===4){if(G===I)break;for(;G.sibling===null;){if(G.return===null||G.return===I)return;G=G.return}G.sibling.return=G.return,G=G.sibling}else G.child.return=G,G=G.child}function zl(A){var I=A.alternate;I!==null&&(A.alternate=null,zl(I)),A.child=null,A.deletions=null,A.sibling=null,A.tag===5&&(I=A.stateNode,I!==null&&rt(I)),A.stateNode=null,A.return=null,A.dependencies=null,A.memoizedProps=null,A.memoizedState=null,A.pendingProps=null,A.stateNode=null,A.updateQueue=null}function Gl(A){return A.tag===5||A.tag===3||A.tag===4}function el(A){e:for(;;){for(;A.sibling===null;){if(A.return===null||Gl(A.return))return null;A=A.return}for(A.sibling.return=A.return,A=A.sibling;A.tag!==5&&A.tag!==6&&A.tag!==18;){if(A.flags&2||A.child===null||A.tag===4)continue e;A.child.return=A,A=A.child}if(!(A.flags&2))return A.stateNode}}function tl(A){if(ke){e:{for(var I=A.return;I!==null;){if(Gl(I))break e;I=I.return}throw Error(h(160))}var $=I;switch($.tag){case 5:I=$.stateNode,$.flags&32&&(Xe(I),$.flags&=-33),$=el(A),fs(A,$,I);break;case 3:case 4:I=$.stateNode.containerInfo,$=el(A),nl(A,$,I);break;default:throw Error(h(161))}}}function nl(A,I,$){var G=A.tag;if(G===5||G===6)A=A.stateNode,I?qt($,A,I):ut($,A);else if(G!==4&&(A=A.child,A!==null))for(nl(A,I,$),A=A.sibling;A!==null;)nl(A,I,$),A=A.sibling}function fs(A,I,$){var G=A.tag;if(G===5||G===6)A=A.stateNode,I?yn($,A,I):Tt($,A);else if(G!==4&&(A=A.child,A!==null))for(fs(A,I,$),A=A.sibling;A!==null;)fs(A,I,$),A=A.sibling}function ql(A,I,$){for(var G=I,J=!1,te,xe;;){if(!J){J=G.return;e:for(;;){if(J===null)throw Error(h(160));switch(te=J.stateNode,J.tag){case 5:xe=!1;break e;case 3:te=te.containerInfo,xe=!0;break e;case 4:te=te.containerInfo,xe=!0;break e}J=J.return}J=!0}if(G.tag===5||G.tag===6)Zr(A,G,$),xe?Se(te,G.stateNode):It(te,G.stateNode);else if(G.tag===18)xe?Ue(te,G.stateNode):Ke(te,G.stateNode);else if(G.tag===4){if(G.child!==null){te=G.stateNode.containerInfo,xe=!0,G.child.return=G,G=G.child;continue}}else if(Mn(A,G,$),G.child!==null){G.child.return=G,G=G.child;continue}if(G===I)break;for(;G.sibling===null;){if(G.return===null||G.return===I)return;G=G.return,G.tag===4&&(J=!1)}G.sibling.return=G.return,G=G.sibling}}function sa(A,I){if(ke){switch(I.tag){case 0:case 11:case 14:case 15:Bi(3,I,I.return),rr(3,I),Bi(5,I,I.return);return;case 1:return;case 5:var $=I.stateNode;if($!=null){var G=I.memoizedProps;A=A!==null?A.memoizedProps:G;var J=I.type,te=I.updateQueue;I.updateQueue=null,te!==null&&dt($,te,J,A,G,I)}return;case 6:if(I.stateNode===null)throw Error(h(162));$=I.memoizedProps,ft(I.stateNode,A!==null?A.memoizedProps:$,$);return;case 3:Be&&A!==null&&A.memoizedState.isDehydrated&&De(I.stateNode.containerInfo);return;case 12:return;case 13:ds(I);return;case 19:ds(I);return;case 17:return}throw Error(h(163))}switch(I.tag){case 0:case 11:case 14:case 15:Bi(3,I,I.return),rr(3,I),Bi(5,I,I.return);return;case 12:return;case 13:ds(I);return;case 19:ds(I);return;case 3:Be&&A!==null&&A.memoizedState.isDehydrated&&De(I.stateNode.containerInfo);break;case 22:case 23:return}e:if(de){switch(I.tag){case 1:case 5:case 6:break e;case 3:case 4:I=I.stateNode,tn(I.containerInfo,I.pendingChildren);break e}throw Error(h(163))}}function ds(A){var I=A.updateQueue;if(I!==null){A.updateQueue=null;var $=A.stateNode;$===null&&($=A.stateNode=new Ia),I.forEach(function(G){var J=Rc.bind(null,A,G);$.has(G)||($.add(G),G.then(J,J))})}}function lu(A,I){for(vt=I;vt!==null;){I=vt;var $=I.deletions;if($!==null)for(var G=0;G<$.length;G++){var J=$[G];try{var te=A;ke?ql(te,J,I):Zr(te,J,I);var xe=J.alternate;xe!==null&&(xe.return=null),J.return=null}catch(Dt){_r(J,I,Dt)}}if($=I.child,(I.subtreeFlags&12854)!==0&&$!==null)$.return=I,vt=$;else for(;vt!==null;){I=vt;try{var Ce=I.flags;if(Ce&32&&ke&&Xe(I.stateNode),Ce&512){var Qe=I.alternate;if(Qe!==null){var pt=Qe.ref;pt!==null&&(typeof pt=="function"?pt(null):pt.current=null)}}if(Ce&8192)switch(I.tag){case 13:if(I.memoizedState!==null){var At=I.alternate;(At===null||At.memoizedState===null)&&(eo=Gn())}break;case 22:var Xt=I.memoizedState!==null,jt=I.alternate,en=jt!==null&&jt.memoizedState!==null;if($=I,ke){e:if(G=$,J=Xt,te=null,ke)for(var bt=G;;){if(bt.tag===5){if(te===null){te=bt;var sr=bt.stateNode;J?ve(sr):yt(bt.stateNode,bt.memoizedProps)}}else if(bt.tag===6){if(te===null){var Vr=bt.stateNode;J?ze(Vr):Ee(Vr,bt.memoizedProps)}}else if((bt.tag!==22&&bt.tag!==23||bt.memoizedState===null||bt===G)&&bt.child!==null){bt.child.return=bt,bt=bt.child;continue}if(bt===G)break;for(;bt.sibling===null;){if(bt.return===null||bt.return===G)break e;te===bt&&(te=null),bt=bt.return}te===bt&&(te=null),bt.sibling.return=bt.return,bt=bt.sibling}}if(Xt&&!en&&($.mode&1)!==0){vt=$;for(var $e=$.child;$e!==null;){for($=vt=$e;vt!==null;){G=vt;var Ie=G.child;switch(G.tag){case 0:case 11:case 14:case 15:Bi(4,G,G.return);break;case 1:Yr(G,G.return);var Ze=G.stateNode;if(typeof Ze.componentWillUnmount=="function"){var _t=G.return;try{Ze.props=G.memoizedProps,Ze.state=G.memoizedState,Ze.componentWillUnmount()}catch(Dt){_r(G,_t,Dt)}}break;case 5:Yr(G,G.return);break;case 22:if(G.memoizedState!==null){Wl($);continue}}Ie!==null?(Ie.return=G,vt=Ie):Wl($)}$e=$e.sibling}}}switch(Ce&4102){case 2:tl(I),I.flags&=-3;break;case 6:tl(I),I.flags&=-3,sa(I.alternate,I);break;case 4096:I.flags&=-4097;break;case 4100:I.flags&=-4097,sa(I.alternate,I);break;case 4:sa(I.alternate,I)}}catch(Dt){_r(I,I.return,Dt)}if($=I.sibling,$!==null){$.return=I.return,vt=$;break}vt=I.return}}}function Xs(A,I,$){vt=A,Ks(A)}function Ks(A,I,$){for(var G=(A.mode&1)!==0;vt!==null;){var J=vt,te=J.child;if(J.tag===22&&G){var xe=J.memoizedState!==null||vr;if(!xe){var Ce=J.alternate,Qe=Ce!==null&&Ce.memoizedState!==null||Zn;Ce=vr;var pt=Zn;if(vr=xe,(Zn=Qe)&&!pt)for(vt=J;vt!==null;)xe=vt,Qe=xe.child,xe.tag===22&&xe.memoizedState!==null?Oa(J):Qe!==null?(Qe.return=xe,vt=Qe):Oa(J);for(;te!==null;)vt=te,Ks(te),te=te.sibling;vt=J,vr=Ce,Zn=pt}Hl(A)}else(J.subtreeFlags&8772)!==0&&te!==null?(te.return=J,vt=te):Hl(A)}}function Hl(A){for(;vt!==null;){var I=vt;if((I.flags&8772)!==0){var $=I.alternate;try{if((I.flags&8772)!==0)switch(I.tag){case 0:case 11:case 15:Zn||rr(5,I);break;case 1:var G=I.stateNode;if(I.flags&4&&!Zn)if($===null)G.componentDidMount();else{var J=I.elementType===I.type?$.memoizedProps:wr(I.type,$.memoizedProps);G.componentDidUpdate(J,$.memoizedState,G.__reactInternalSnapshotBeforeUpdate)}var te=I.updateQueue;te!==null&&fc(I,te,G);break;case 3:var xe=I.updateQueue;if(xe!==null){if($=null,I.child!==null)switch(I.child.tag){case 5:$=fe(I.child.stateNode);break;case 1:$=I.child.stateNode}fc(I,xe,$)}break;case 5:var Ce=I.stateNode;$===null&&I.flags&4&&Ft(Ce,I.type,I.memoizedProps,I);break;case 6:break;case 4:break;case 12:break;case 13:if(Be&&I.memoizedState===null){var Qe=I.alternate;if(Qe!==null){var pt=Qe.memoizedState;if(pt!==null){var At=pt.dehydrated;At!==null&&We(At)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(h(163))}Zn||I.flags&512&&xr(I)}catch(Xt){_r(I,I.return,Xt)}}if(I===A){vt=null;break}if($=I.sibling,$!==null){$.return=I.return,vt=$;break}vt=I.return}}function Wl(A){for(;vt!==null;){var I=vt;if(I===A){vt=null;break}var $=I.sibling;if($!==null){$.return=I.return,vt=$;break}vt=I.return}}function Oa(A){for(;vt!==null;){var I=vt;try{switch(I.tag){case 0:case 11:case 15:var $=I.return;try{rr(4,I)}catch(Qe){_r(I,$,Qe)}break;case 1:var G=I.stateNode;if(typeof G.componentDidMount=="function"){var J=I.return;try{G.componentDidMount()}catch(Qe){_r(I,J,Qe)}}var te=I.return;try{xr(I)}catch(Qe){_r(I,te,Qe)}break;case 5:var xe=I.return;try{xr(I)}catch(Qe){_r(I,xe,Qe)}}}catch(Qe){_r(I,I.return,Qe)}if(I===A){vt=null;break}var Ce=I.sibling;if(Ce!==null){Ce.return=I.return,vt=Ce;break}vt=I.return}}var Ys=0,Da=1,La=2,$i=3,ps=4;if(typeof Symbol=="function"&&Symbol.for){var Na=Symbol.for;Ys=Na("selector.component"),Da=Na("selector.has_pseudo_class"),La=Na("selector.role"),$i=Na("selector.test_id"),ps=Na("selector.text")}function Zs(A){var I=Pe(A);if(I!=null){if(typeof I.memoizedProps["data-testname"]!="string")throw Error(h(364));return I}if(A=me(A),A===null)throw Error(h(362));return A.stateNode.current}function Js(A,I){switch(I.$$typeof){case Ys:if(A.type===I.value)return!0;break;case Da:e:{I=I.value,A=[A,0];for(var $=0;$<A.length;){var G=A[$++],J=A[$++],te=I[J];if(G.tag!==5||!Ve(G)){for(;te!=null&&Js(G,te);)J++,te=I[J];if(J===I.length){I=!0;break e}else for(G=G.child;G!==null;)A.push(G,J),G=G.sibling}}I=!1}return I;case La:if(A.tag===5&&tt(A.stateNode,I.value))return!0;break;case ps:if((A.tag===5||A.tag===6)&&(A=Ne(A),A!==null&&0<=A.indexOf(I.value)))return!0;break;case $i:if(A.tag===5&&(A=A.memoizedProps["data-testname"],typeof A=="string"&&A.toLowerCase()===I.value.toLowerCase()))return!0;break;default:throw Error(h(365))}return!1}function oa(A){switch(A.$$typeof){case Ys:return"<"+(z(A.value)||"Unknown")+">";case Da:return":has("+(oa(A)||"")+")";case La:return'[role="'+A.value+'"]';case ps:return'"'+A.value+'"';case $i:return'[data-testname="'+A.value+'"]';default:throw Error(h(365))}}function Fr(A,I){var $=[];A=[A,0];for(var G=0;G<A.length;){var J=A[G++],te=A[G++],xe=I[te];if(J.tag!==5||!Ve(J)){for(;xe!=null&&Js(J,xe);)te++,xe=I[te];if(te===I.length)$.push(J);else for(J=J.child;J!==null;)A.push(J,te),J=J.sibling}}return $}function Vi(A,I){if(!xt)throw Error(h(363));A=Zs(A),A=Fr(A,I),I=[],A=Array.from(A);for(var $=0;$<A.length;){var G=A[$++];if(G.tag===5)Ve(G)||I.push(G.stateNode);else for(G=G.child;G!==null;)A.push(G),G=G.sibling}return I}var Xl=Math.ceil,Qs=f.ReactCurrentDispatcher,oi=f.ReactCurrentOwner,mn=f.ReactCurrentBatchConfig,Qt=0,$n=null,gn=null,An=0,cr=0,Fa=Fn(0),kn=0,ms=null,_i=0,jr=0,ja=0,Ui=null,Vn=null,eo=0,la=1/0;function Ba(){la=Gn()+500}var gs=!1,Pn=null,li=null,ys=!1,bi=null,$a=0,Va=0,zi=null,En=-1,Nn=0;function hn(){return(Qt&6)!==0?Gn():En!==-1?En:En=Gn()}function ci(A){return(A.mode&1)===0?1:(Qt&2)!==0&&An!==0?An&-An:hc.transition!==null?(Nn===0&&(A=Wa,Wa<<=1,(Wa&4194240)===0&&(Wa=64),Nn=A),Nn):(A=nn,A!==0?A:He())}function ur(A,I,$){if(50<Va)throw Va=0,zi=null,Error(h(185));var G=ca(A,I);return G===null?null:(ha(G,I,$),((Qt&2)===0||G!==$n)&&(G===$n&&((Qt&2)===0&&(jr|=I),kn===4&&ar(G,An)),Ar(G,$),I===1&&Qt===0&&(A.mode&1)===0&&(Ba(),Eo&&qr())),G)}function ca(A,I){A.lanes|=I;var $=A.alternate;for($!==null&&($.lanes|=I),$=A,A=A.return;A!==null;)A.childLanes|=I,$=A.alternate,$!==null&&($.childLanes|=I),$=A,A=A.return;return $.tag===3?$.stateNode:null}function Ar(A,I){var $=A.callbackNode;uc(A,I);var G=As(A,A===$n?An:0);if(G===0)$!==null&&Ka($),A.callbackNode=null,A.callbackPriority=0;else if(I=G&-G,A.callbackPriority!==I){if($!=null&&Ka($),I===1)A.tag===0?Mo(Br.bind(null,A)):wo(Br.bind(null,A)),ot?ht(function(){Qt===0&&qr()}):fa(da,qr),$=null;else{switch(Ti(G)){case 1:$=da;break;case 4:$=au;break;case 16:$=bo;break;case 536870912:$=So;break;default:$=bo}$=il($,ir.bind(null,A))}A.callbackPriority=I,A.callbackNode=$}}function ir(A,I){if(En=-1,Nn=0,(Qt&6)!==0)throw Error(h(327));var $=A.callbackNode;if(Si()&&A.callbackNode!==$)return null;var G=As(A,A===$n?An:0);if(G===0)return null;if((G&30)!==0||(G&A.expiredLanes)!==0||I)I=ao(A,G);else{I=G;var J=Qt;Qt|=2;var te=Zl();($n!==A||An!==I)&&(Ba(),Gi(A,I));do try{Tc();break}catch(Ce){Yl(A,Ce)}while(!0);mr(),Qs.current=te,Qt=J,gn!==null?I=0:($n=null,An=0,I=kn)}if(I!==0){if(I===2&&(J=vo(A),J!==0&&(G=J,I=no(A,J))),I===1)throw $=ms,Gi(A,0),ar(A,G),Ar(A,Gn()),$;if(I===6)ar(A,G);else{if(J=A.current.alternate,(G&30)===0&&!Kl(J)&&(I=ao(A,G),I===2&&(te=vo(A),te!==0&&(G=te,I=no(A,te))),I===1))throw $=ms,Gi(A,0),ar(A,G),Ar(A,Gn()),$;switch(A.finishedWork=J,A.finishedLanes=G,I){case 0:case 1:throw Error(h(345));case 2:ui(A,Vn);break;case 3:if(ar(A,G),(G&130023424)===G&&(I=eo+500-Gn(),10<I)){if(As(A,0)!==0)break;if(J=A.suspendedLanes,(J&G)!==G){hn(),A.pingedLanes|=A.suspendedLanes&J;break}A.timeoutHandle=Ye(ui.bind(null,A,Vn),I);break}ui(A,Vn);break;case 4:if(ar(A,G),(G&4194240)===G)break;for(I=A.eventTimes,J=-1;0<G;){var xe=31-Er(G);te=1<<xe,xe=I[xe],xe>J&&(J=xe),G&=~te}if(G=J,G=Gn()-G,G=(120>G?120:480>G?480:1080>G?1080:1920>G?1920:3e3>G?3e3:4320>G?4320:1960*Xl(G/1960))-G,10<G){A.timeoutHandle=Ye(ui.bind(null,A,Vn),G);break}ui(A,Vn);break;case 5:ui(A,Vn);break;default:throw Error(h(329))}}}return Ar(A,Gn()),A.callbackNode===$?ir.bind(null,A):null}function no(A,I){var $=Ui;return A.current.memoizedState.isDehydrated&&(Gi(A,I).flags|=256),A=ao(A,I),A!==2&&(I=Vn,Vn=$,I!==null&&ro(I)),A}function ro(A){Vn===null?Vn=A:Vn.push.apply(Vn,A)}function Kl(A){for(var I=A;;){if(I.flags&16384){var $=I.updateQueue;if($!==null&&($=$.stores,$!==null))for(var G=0;G<$.length;G++){var J=$[G],te=J.getSnapshot;J=J.value;try{if(!pr(te(),J))return!1}catch{return!1}}}if($=I.child,I.subtreeFlags&16384&&$!==null)$.return=I,I=$;else{if(I===A)break;for(;I.sibling===null;){if(I.return===null||I.return===A)return!0;I=I.return}I.sibling.return=I.return,I=I.sibling}}return!0}function ar(A,I){for(I&=~ja,I&=~jr,A.suspendedLanes|=I,A.pingedLanes&=~I,A=A.expirationTimes;0<I;){var $=31-Er(I),G=1<<$;A[$]=-1,I&=~G}}function Br(A){if((Qt&6)!==0)throw Error(h(327));Si();var I=As(A,0);if((I&1)===0)return Ar(A,Gn()),null;var $=ao(A,I);if(A.tag!==0&&$===2){var G=vo(A);G!==0&&(I=G,$=no(A,G))}if($===1)throw $=ms,Gi(A,0),ar(A,I),Ar(A,Gn()),$;if($===6)throw Error(h(345));return A.finishedWork=A.current.alternate,A.finishedLanes=I,ui(A,Vn),Ar(A,Gn()),null}function vs(A){bi!==null&&bi.tag===0&&(Qt&6)===0&&Si();var I=Qt;Qt|=1;var $=mn.transition,G=nn;try{if(mn.transition=null,nn=1,A)return A()}finally{nn=G,mn.transition=$,Qt=I,(Qt&6)===0&&qr()}}function io(){cr=Fa.current,Lt(Fa)}function Gi(A,I){A.finishedWork=null,A.finishedLanes=0;var $=A.timeoutHandle;if($!==Re&&(A.timeoutHandle=Re,qe($)),gn!==null)for($=gn.return;$!==null;){var G=$;switch(wl(G),G.tag){case 1:G=G.type.childContextTypes,G!=null&&wn();break;case 3:as(),Lt(Dn),Lt(Jt),Sa();break;case 5:Tl(G);break;case 4:as();break;case 13:Lt(Cn);break;case 19:Lt(Cn);break;case 10:Ds(G.type._context);break;case 22:case 23:io()}$=$.return}if($n=A,gn=A=qi(A.current,null),An=cr=I,kn=0,ms=null,ja=jr=_i=0,Vn=Ui=null,Hr!==null){for(I=0;I<Hr.length;I++)if($=Hr[I],G=$.interleaved,G!==null){$.interleaved=null;var J=G.next,te=$.pending;if(te!==null){var xe=te.next;te.next=J,G.next=xe}$.pending=G}Hr=null}return A}function Yl(A,I){do{var $=gn;try{if(mr(),ks.current=us,Fo){for(var G=Rn.memoizedState;G!==null;){var J=G.queue;J!==null&&(J.pending=null),G=G.next}Fo=!1}if(Ea=0,Xn=Wn=Rn=null,yi=!1,wa=0,oi.current=null,$===null||$.return===null){kn=1,ms=I,gn=null;break}e:{var te=A,xe=$.return,Ce=$,Qe=I;if(I=An,Ce.flags|=32768,Qe!==null&&typeof Qe=="object"&&typeof Qe.then=="function"){var pt=Qe,At=Ce,Xt=At.tag;if((At.mode&1)===0&&(Xt===0||Xt===11||Xt===15)){var jt=At.alternate;jt?(At.updateQueue=jt.updateQueue,At.memoizedState=jt.memoizedState,At.lanes=jt.lanes):(At.updateQueue=null,At.memoizedState=null)}var en=Fl(xe);if(en!==null){en.flags&=-257,Pa(en,xe,Ce,te,I),en.mode&1&&Li(te,pt,I),I=en,Qe=pt;var bt=I.updateQueue;if(bt===null){var sr=new Set;sr.add(Qe),I.updateQueue=sr}else bt.add(Qe);break e}else{if((I&1)===0){Li(te,pt,I),rl();break e}Qe=Error(h(426))}}else if(Tn&&Ce.mode&1){var Vr=Fl(xe);if(Vr!==null){(Vr.flags&65536)===0&&(Vr.flags|=256),Pa(Vr,xe,Ce,te,I),Lo(Qe);break e}}te=Qe,kn!==4&&(kn=2),Ui===null?Ui=[te]:Ui.push(te),Qe=Nl(Qe,Ce),Ce=xe;do{switch(Ce.tag){case 3:Ce.flags|=65536,I&=-I,Ce.lanes|=I;var $e=wc(Ce,Qe,I);Ao(Ce,$e);break e;case 1:te=Qe;var Ie=Ce.type,Ze=Ce.stateNode;if((Ce.flags&128)===0&&(typeof Ie.getDerivedStateFromError=="function"||Ze!==null&&typeof Ze.componentDidCatch=="function"&&(li===null||!li.has(Ze)))){Ce.flags|=65536,I&=-I,Ce.lanes|=I;var _t=Wo(Ce,te,I);Ao(Ce,_t);break e}}Ce=Ce.return}while(Ce!==null)}Ql($)}catch(Dt){I=Dt,gn===$&&$!==null&&(gn=$=$.return);continue}break}while(!0)}function Zl(){var A=Qs.current;return Qs.current=us,A===null?us:A}function rl(){(kn===0||kn===3||kn===2)&&(kn=4),$n===null||(_i&268435455)===0&&(jr&268435455)===0||ar($n,An)}function ao(A,I){var $=Qt;Qt|=2;var G=Zl();$n===A&&An===I||Gi(A,I);do try{Pc();break}catch(J){Yl(A,J)}while(!0);if(mr(),Qt=$,Qs.current=G,gn!==null)throw Error(h(261));return $n=null,An=0,kn}function Pc(){for(;gn!==null;)Jl(gn)}function Tc(){for(;gn!==null&&!Ji();)Jl(gn)}function Jl(A){var I=nc(A.alternate,A,cr);A.memoizedProps=A.pendingProps,I===null?Ql(A):gn=I,oi.current=null}function Ql(A){var I=A;do{var $=I.alternate;if(A=I.return,(I.flags&32768)===0){if($=Yo($,I,cr),$!==null){gn=$;return}}else{if($=Qo($,I),$!==null){$.flags&=32767,gn=$;return}if(A!==null)A.flags|=32768,A.subtreeFlags=0,A.deletions=null;else{kn=6,gn=null;return}}if(I=I.sibling,I!==null){gn=I;return}gn=I=A}while(I!==null);kn===0&&(kn=5)}function ui(A,I){var $=nn,G=mn.transition;try{mn.transition=null,nn=1,Ac(A,I,$)}finally{mn.transition=G,nn=$}return null}function Ac(A,I,$){do Si();while(bi!==null);if((Qt&6)!==0)throw Error(h(327));var G=A.finishedWork,J=A.finishedLanes;if(G===null)return null;if(A.finishedWork=null,A.finishedLanes=0,G===A.current)throw Error(h(177));A.callbackNode=null,A.callbackPriority=0;var te=G.lanes|G.childLanes;if(_o(A,te),A===$n&&(gn=$n=null,An=0),(G.subtreeFlags&2064)===0&&(G.flags&2064)===0||ys||(ys=!0,il(bo,function(){return Si(),null})),te=(G.flags&15990)!==0,(G.subtreeFlags&15990)!==0||te){te=mn.transition,mn.transition=null;var xe=nn;nn=1;var Ce=Qt;Qt|=4,oi.current=null,Ul(A,G),lu(A,G),oe(A.containerInfo),A.current=G,Xs(G),iu(),Qt=Ce,nn=xe,mn.transition=te}else A.current=G;if(ys&&(ys=!1,bi=A,$a=J),te=A.pendingLanes,te===0&&(li=null),Rs(G.stateNode),Ar(A,Gn()),I!==null)for($=A.onRecoverableError,G=0;G<I.length;G++)$(I[G]);if(gs)throw gs=!1,A=Pn,Pn=null,A;return($a&1)!==0&&A.tag!==0&&Si(),te=A.pendingLanes,(te&1)!==0?A===zi?Va++:(Va=0,zi=A):Va=0,qr(),null}function Si(){if(bi!==null){var A=Ti($a),I=mn.transition,$=nn;try{if(mn.transition=null,nn=16>A?16:A,bi===null)var G=!1;else{if(A=bi,bi=null,$a=0,(Qt&6)!==0)throw Error(h(331));var J=Qt;for(Qt|=4,vt=A.current;vt!==null;){var te=vt,xe=te.child;if((vt.flags&16)!==0){var Ce=te.deletions;if(Ce!==null){for(var Qe=0;Qe<Ce.length;Qe++){var pt=Ce[Qe];for(vt=pt;vt!==null;){var At=vt;switch(At.tag){case 0:case 11:case 15:Bi(8,At,te)}var Xt=At.child;if(Xt!==null)Xt.return=At,vt=Xt;else for(;vt!==null;){At=vt;var jt=At.sibling,en=At.return;if(zl(At),At===pt){vt=null;break}if(jt!==null){jt.return=en,vt=jt;break}vt=en}}}var bt=te.alternate;if(bt!==null){var sr=bt.child;if(sr!==null){bt.child=null;do{var Vr=sr.sibling;sr.sibling=null,sr=Vr}while(sr!==null)}}vt=te}}if((te.subtreeFlags&2064)!==0&&xe!==null)xe.return=te,vt=xe;else e:for(;vt!==null;){if(te=vt,(te.flags&2048)!==0)switch(te.tag){case 0:case 11:case 15:Bi(9,te,te.return)}var $e=te.sibling;if($e!==null){$e.return=te.return,vt=$e;break e}vt=te.return}}var Ie=A.current;for(vt=Ie;vt!==null;){xe=vt;var Ze=xe.child;if((xe.subtreeFlags&2064)!==0&&Ze!==null)Ze.return=xe,vt=Ze;else e:for(xe=Ie;vt!==null;){if(Ce=vt,(Ce.flags&2048)!==0)try{switch(Ce.tag){case 0:case 11:case 15:rr(9,Ce)}}catch(Dt){_r(Ce,Ce.return,Dt)}if(Ce===xe){vt=null;break e}var _t=Ce.sibling;if(_t!==null){_t.return=Ce.return,vt=_t;break e}vt=Ce.return}}if(Qt=J,qr(),gi&&typeof gi.onPostCommitFiberRoot=="function")try{gi.onPostCommitFiberRoot(Cs,A)}catch{}G=!0}return G}finally{nn=$,mn.transition=I}}return!1}function so(A,I,$){I=Nl($,I),I=wc(A,I,1),Qi(A,I),I=hn(),A=ca(A,1),A!==null&&(ha(A,1,I),Ar(A,I))}function _r(A,I,$){if(A.tag===3)so(A,A,$);else for(;I!==null;){if(I.tag===3){so(I,A,$);break}else if(I.tag===1){var G=I.stateNode;if(typeof I.type.getDerivedStateFromError=="function"||typeof G.componentDidCatch=="function"&&(li===null||!li.has(G))){A=Nl($,A),A=Wo(I,A,1),Qi(I,A),A=hn(),I=ca(I,1),I!==null&&(ha(I,1,A),Ar(I,A));break}}I=I.return}}function ec(A,I,$){var G=A.pingCache;G!==null&&G.delete(I),I=hn(),A.pingedLanes|=A.suspendedLanes&$,$n===A&&(An&$)===$&&(kn===4||kn===3&&(An&130023424)===An&&500>Gn()-eo?Gi(A,0):ja|=$),Ar(A,I)}function tc(A,I){I===0&&((A.mode&1)===0?I=1:(I=un,un<<=1,(un&130023424)===0&&(un=4194304)));var $=hn();A=ca(A,I),A!==null&&(ha(A,I,$),Ar(A,$))}function Cc(A){var I=A.memoizedState,$=0;I!==null&&($=I.retryLane),tc(A,$)}function Rc(A,I){var $=0;switch(A.tag){case 13:var G=A.stateNode,J=A.memoizedState;J!==null&&($=J.retryLane);break;case 19:G=A.stateNode;break;default:throw Error(h(314))}G!==null&&G.delete(I),tc(A,$)}var nc;nc=function(A,I,$){if(A!==null)if(A.memoizedProps!==I.pendingProps||Dn.current)Yn=!0;else{if((A.lanes&$)===0&&(I.flags&128)===0)return Yn=!1,Jo(A,I,$);Yn=(A.flags&131072)!==0}else Yn=!1,Tn&&(I.flags&1048576)!==0&&gc(I,Oo,I.index);switch(I.lanes=0,I.tag){case 2:var G=I.type;A!==null&&(A.alternate=null,I.alternate=null,I.flags|=2),A=I.pendingProps;var J=dr(I,Jt.current);Ya(I,$),J=ss(null,I,G,A,J,$);var te=ra();return I.flags|=1,typeof J=="object"&&J!==null&&typeof J.render=="function"&&J.$$typeof===void 0?(I.tag=1,I.memoizedState=null,I.updateQueue=null,jn(G)?(te=!0,er(I)):te=!1,I.memoizedState=J.state!==null&&J.state!==void 0?J.state:null,Za(I),J.updater=Ro,I.stateNode=J,J._reactInternals=I,Sl(I,G,A,$),I=lr(null,I,G,!0,te,$)):(I.tag=0,Tn&&te&&El(I),Ln(null,I,J,$),I=I.child),I;case 16:G=I.elementType;e:{switch(A!==null&&(A.alternate=null,I.alternate=null,I.flags|=2),A=I.pendingProps,J=G._init,G=J(G._payload),I.type=G,J=I.tag=cu(G),A=wr(G,A),J){case 0:I=Fi(null,I,G,A,$);break e;case 1:I=Aa(null,I,G,A,$);break e;case 11:I=Sn(null,I,G,A,$);break e;case 14:I=vn(null,I,G,wr(G.type,A),$);break e}throw Error(h(306,G,""))}return I;case 0:return G=I.type,J=I.pendingProps,J=I.elementType===G?J:wr(G,J),Fi(A,I,G,J,$);case 1:return G=I.type,J=I.pendingProps,J=I.elementType===G?J:wr(G,J),Aa(A,I,G,J,$);case 3:e:{if(Gs(I),A===null)throw Error(h(387));G=I.pendingProps,te=I.memoizedState,J=te.element,xl(A,I),Co(I,G,null,$);var xe=I.memoizedState;if(G=xe.element,Be&&te.isDehydrated)if(te={element:G,isDehydrated:!1,cache:xe.cache,transitions:xe.transitions},I.updateQueue.baseState=te,I.memoizedState=te,I.flags&256){J=Error(h(423)),I=Bl(A,I,G,$,J);break e}else if(G!==J){J=Error(h(424)),I=Bl(A,I,G,$,J);break e}else for(Be&&(tr=mo(I.stateNode.containerInfo),gr=I,Tn=!0,Kr=null,Qa=!1),$=xc(I,null,G,$),I.child=$;$;)$.flags=$.flags&-3|4096,$=$.sibling;else{if(es(),G===J){I=Tr(A,I,$);break e}Ln(A,I,G,$)}I=I.child}return I;case 5:return _c(I),A===null&&ta(I),G=I.type,J=I.pendingProps,te=A!==null?A.memoizedProps:null,xe=J.children,Me(G,J)?xe=null:te!==null&&Me(G,te)&&(I.flags|=32),yr(A,I),Ln(A,I,xe,$),I.child;case 6:return A===null&&ta(I),null;case 13:return $l(A,I,$);case 4:return ko(I,I.stateNode.containerInfo),G=I.pendingProps,A===null?I.child=Oi(I,null,G,$):Ln(A,I,G,$),I.child;case 11:return G=I.type,J=I.pendingProps,J=I.elementType===G?J:wr(G,J),Sn(A,I,G,J,$);case 7:return Ln(A,I,I.pendingProps,$),I.child;case 8:return Ln(A,I,I.pendingProps.children,$),I.child;case 12:return Ln(A,I,I.pendingProps.children,$),I.child;case 10:e:{if(G=I.type._context,J=I.pendingProps,te=I.memoizedProps,xe=J.value,ma(I,G,xe),te!==null)if(pr(te.value,xe)){if(te.children===J.children&&!Dn.current){I=Tr(A,I,$);break e}}else for(te=I.child,te!==null&&(te.return=I);te!==null;){var Ce=te.dependencies;if(Ce!==null){xe=te.child;for(var Qe=Ce.firstContext;Qe!==null;){if(Qe.context===G){if(te.tag===1){Qe=Ci(-1,$&-$),Qe.tag=2;var pt=te.updateQueue;if(pt!==null){pt=pt.shared;var At=pt.pending;At===null?Qe.next=Qe:(Qe.next=At.next,At.next=Qe),pt.pending=Qe}}te.lanes|=$,Qe=te.alternate,Qe!==null&&(Qe.lanes|=$),ga(te.return,$,I),Ce.lanes|=$;break}Qe=Qe.next}}else if(te.tag===10)xe=te.type===I.type?null:te.child;else if(te.tag===18){if(xe=te.return,xe===null)throw Error(h(341));xe.lanes|=$,Ce=xe.alternate,Ce!==null&&(Ce.lanes|=$),ga(xe,$,I),xe=te.sibling}else xe=te.child;if(xe!==null)xe.return=te;else for(xe=te;xe!==null;){if(xe===I){xe=null;break}if(te=xe.sibling,te!==null){te.return=xe.return,xe=te;break}xe=xe.return}te=xe}Ln(A,I,J.children,$),I=I.child}return I;case 9:return J=I.type,G=I.pendingProps.children,Ya(I,$),J=Mr(J),G=G(J),I.flags|=1,Ln(A,I,G,$),I.child;case 14:return G=I.type,J=wr(G,I.pendingProps),J=wr(G.type,J),vn(A,I,G,J,$);case 15:return Ni(A,I,I.type,I.pendingProps,$);case 17:return G=I.type,J=I.pendingProps,J=I.elementType===G?J:wr(G,J),A!==null&&(A.alternate=null,I.alternate=null,I.flags|=2),I.tag=1,jn(G)?(A=!0,er(I)):A=!1,Ya(I,$),pc(I,G,J),Sl(I,G,J,$),lr(null,I,G,!0,A,$);case 19:return Ra(A,I,$);case 22:return nr(A,I,$)}throw Error(h(156,I.tag))};function il(A,I){return fa(A,I)}function Ic(A,I,$,G){this.tag=A,this.key=$,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=I,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=G,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $r(A,I,$,G){return new Ic(A,I,$,G)}function al(A){return A=A.prototype,!(!A||!A.isReactComponent)}function cu(A){if(typeof A=="function")return al(A)?1:0;if(A!=null){if(A=A.$$typeof,A===C)return 11;if(A===L)return 14}return 2}function qi(A,I){var $=A.alternate;return $===null?($=$r(A.tag,I,A.key,A.mode),$.elementType=A.elementType,$.type=A.type,$.stateNode=A.stateNode,$.alternate=A,A.alternate=$):($.pendingProps=I,$.type=A.type,$.flags=0,$.subtreeFlags=0,$.deletions=null),$.flags=A.flags&14680064,$.childLanes=A.childLanes,$.lanes=A.lanes,$.child=A.child,$.memoizedProps=A.memoizedProps,$.memoizedState=A.memoizedState,$.updateQueue=A.updateQueue,I=A.dependencies,$.dependencies=I===null?null:{lanes:I.lanes,firstContext:I.firstContext},$.sibling=A.sibling,$.index=A.index,$.ref=A.ref,$}function sl(A,I,$,G,J,te){var xe=2;if(G=A,typeof A=="function")al(A)&&(xe=1);else if(typeof A=="string")xe=5;else e:switch(A){case m:return Ua($.children,J,te,I);case v:xe=8,J|=8;break;case b:return A=$r(12,$,I,J|2),A.elementType=b,A.lanes=te,A;case w:return A=$r(13,$,I,J),A.elementType=w,A.lanes=te,A;case R:return A=$r(19,$,I,J),A.elementType=R,A.lanes=te,A;case F:return oo($,J,te,I);default:if(typeof A=="object"&&A!==null)switch(A.$$typeof){case S:xe=10;break e;case T:xe=9;break e;case C:xe=11;break e;case L:xe=14;break e;case N:xe=16,G=null;break e}throw Error(h(130,A==null?A:typeof A,""))}return I=$r(xe,$,I,J),I.elementType=A,I.type=G,I.lanes=te,I}function Ua(A,I,$,G){return A=$r(7,A,G,I),A.lanes=$,A}function oo(A,I,$,G){return A=$r(22,A,G,I),A.elementType=F,A.lanes=$,A.stateNode={},A}function ol(A,I,$){return A=$r(6,A,null,I),A.lanes=$,A}function ll(A,I,$){return I=$r(4,A.children!==null?A.children:[],A.key,I),I.lanes=$,I.stateNode={containerInfo:A.containerInfo,pendingChildren:null,implementation:A.implementation},I}function cl(A,I,$,G,J){this.tag=I,this.containerInfo=A,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Re,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xo(0),this.expirationTimes=xo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xo(0),this.identifierPrefix=G,this.onRecoverableError=J,Be&&(this.mutableSourceEagerHydrationData=null)}function Oc(A,I,$,G,J,te,xe,Ce,Qe){return A=new cl(A,I,$,Ce,Qe),I===1?(I=1,te===!0&&(I|=8)):I=0,te=$r(3,null,null,I),A.current=te,te.stateNode=A,te.memoizedState={element:G,isDehydrated:$,cache:null,transitions:null},Za(te),A}function Dc(A){if(!A)return On;A=A._reactInternals;e:{if(Q(A)!==A||A.tag!==1)throw Error(h(170));var I=A;do{switch(I.tag){case 3:I=I.stateNode.context;break e;case 1:if(jn(I.type)){I=I.stateNode.__reactInternalMemoizedMergedChildContext;break e}}I=I.return}while(I!==null);throw Error(h(171))}if(A.tag===1){var $=A.type;if(jn($))return qa(A,$,I)}return I}function Lc(A){var I=A._reactInternals;if(I===void 0)throw typeof A.render=="function"?Error(h(188)):(A=Object.keys(A).join(","),Error(h(268,A)));return A=se(I),A===null?null:A.stateNode}function Jr(A,I){if(A=A.memoizedState,A!==null&&A.dehydrated!==null){var $=A.retryLane;A.retryLane=$!==0&&$<I?$:I}}function lo(A,I){Jr(A,I),(A=A.alternate)&&Jr(A,I)}function ul(A){return A=se(A),A===null?null:A.stateNode}function kc(){return null}return n.attemptContinuousHydration=function(A){if(A.tag===13){var I=hn();ur(A,134217728,I),lo(A,134217728)}},n.attemptHydrationAtCurrentPriority=function(A){if(A.tag===13){var I=hn(),$=ci(A);ur(A,$,I),lo(A,$)}},n.attemptSynchronousHydration=function(A){switch(A.tag){case 3:var I=A.stateNode;if(I.current.memoizedState.isDehydrated){var $=Xa(I.pendingLanes);$!==0&&(mi(I,$|1),Ar(I,Gn()),(Qt&6)===0&&(Ba(),qr()))}break;case 13:var G=hn();vs(function(){return ur(A,1,G)}),lo(A,1)}},n.batchedUpdates=function(A,I){var $=Qt;Qt|=1;try{return A(I)}finally{Qt=$,Qt===0&&(Ba(),Eo&&qr())}},n.createComponentSelector=function(A){return{$$typeof:Ys,value:A}},n.createContainer=function(A,I,$,G,J,te,xe){return Oc(A,I,!1,null,$,G,J,te,xe)},n.createHasPseudoClassSelector=function(A){return{$$typeof:Da,value:A}},n.createHydrationContainer=function(A,I,$,G,J,te,xe,Ce,Qe){return A=Oc($,G,!0,A,J,te,xe,Ce,Qe),A.context=Dc(null),$=A.current,G=hn(),J=ci($),te=Ci(G,J),te.callback=I??null,Qi($,te),A.current.lanes=J,ha(A,J,G),Ar(A,G),A},n.createPortal=function(A,I,$){var G=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:p,key:G==null?null:""+G,children:A,containerInfo:I,implementation:$}},n.createRoleSelector=function(A){return{$$typeof:La,value:A}},n.createTestNameSelector=function(A){return{$$typeof:$i,value:A}},n.createTextSelector=function(A){return{$$typeof:ps,value:A}},n.deferredUpdates=function(A){var I=nn,$=mn.transition;try{return mn.transition=null,nn=16,A()}finally{nn=I,mn.transition=$}},n.discreteUpdates=function(A,I,$,G,J){var te=nn,xe=mn.transition;try{return mn.transition=null,nn=1,A(I,$,G,J)}finally{nn=te,mn.transition=xe,Qt===0&&Ba()}},n.findAllNodes=Vi,n.findBoundingRects=function(A,I){if(!xt)throw Error(h(363));I=Vi(A,I),A=[];for(var $=0;$<I.length;$++)A.push(he(I[$]));for(I=A.length-1;0<I;I--){$=A[I];for(var G=$.x,J=G+$.width,te=$.y,xe=te+$.height,Ce=I-1;0<=Ce;Ce--)if(I!==Ce){var Qe=A[Ce],pt=Qe.x,At=pt+Qe.width,Xt=Qe.y,jt=Xt+Qe.height;if(G>=pt&&te>=Xt&&J<=At&&xe<=jt){A.splice(I,1);break}else if(G!==pt||$.width!==Qe.width||jt<te||Xt>xe){if(!(te!==Xt||$.height!==Qe.height||At<G||pt>J)){pt>G&&(Qe.width+=pt-G,Qe.x=G),At<J&&(Qe.width=J-pt),A.splice(I,1);break}}else{Xt>te&&(Qe.height+=Xt-te,Qe.y=te),jt<xe&&(Qe.height=xe-Xt),A.splice(I,1);break}}}return A},n.findHostInstance=Lc,n.findHostInstanceWithNoPortals=function(A){return A=H(A),A=A!==null?ne(A):null,A===null?null:A.stateNode},n.findHostInstanceWithWarning=function(A){return Lc(A)},n.flushControlled=function(A){var I=Qt;Qt|=1;var $=mn.transition,G=nn;try{mn.transition=null,nn=1,A()}finally{nn=G,mn.transition=$,Qt=I,Qt===0&&(Ba(),qr())}},n.flushPassiveEffects=Si,n.flushSync=vs,n.focusWithin=function(A,I){if(!xt)throw Error(h(363));for(A=Zs(A),I=Fr(A,I),I=Array.from(I),A=0;A<I.length;){var $=I[A++];if(!Ve($)){if($.tag===5&&nt($.stateNode))return!0;for($=$.child;$!==null;)I.push($),$=$.sibling}}return!1},n.getCurrentUpdatePriority=function(){return nn},n.getFindAllNodesFailureDescription=function(A,I){if(!xt)throw Error(h(363));var $=0,G=[];A=[Zs(A),0];for(var J=0;J<A.length;){var te=A[J++],xe=A[J++],Ce=I[xe];if((te.tag!==5||!Ve(te))&&(Js(te,Ce)&&(G.push(oa(Ce)),xe++,xe>$&&($=xe)),xe<I.length))for(te=te.child;te!==null;)A.push(te,xe),te=te.sibling}if($<I.length){for(A=[];$<I.length;$++)A.push(oa(I[$]));return`findAllNodes was able to match part of the selector:
  `+(G.join(" > ")+`

No matching component was found for:
  `)+A.join(" > ")}return null},n.getPublicRootInstance=function(A){if(A=A.current,!A.child)return null;switch(A.child.tag){case 5:return fe(A.child.stateNode);default:return A.child.stateNode}},n.injectIntoDevTools=function(A){if(A={bundleType:A.bundleType,version:A.version,rendererPackageName:A.rendererPackageName,rendererConfig:A.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:f.ReactCurrentDispatcher,findHostInstanceByFiber:ul,findFiberByHostInstance:A.findFiberByHostInstance||kc,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")A=!1;else{var I=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(I.isDisabled||!I.supportsFiber)A=!0;else{try{Cs=I.inject(A),gi=I}catch{}A=!!I.checkDCE}}return A},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(A,I,$,G){if(!xt)throw Error(h(363));A=Vi(A,I);var J=Pt(A,$,G).disconnect;return{disconnect:function(){J()}}},n.registerMutableSourceForHydration=function(A,I){var $=I._getVersion;$=$(I._source),A.mutableSourceEagerHydrationData==null?A.mutableSourceEagerHydrationData=[I,$]:A.mutableSourceEagerHydrationData.push(I,$)},n.runWithPriority=function(A,I){var $=nn;try{return nn=A,I()}finally{nn=$}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(A,I,$,G){var J=I.current,te=hn(),xe=ci(J);return $=Dc($),I.context===null?I.context=$:I.pendingContext=$,I=Ci(te,xe),I.payload={element:A},G=G===void 0?null:G,G!==null&&(I.callback=G),Qi(J,I),A=ur(J,xe,te),A!==null&&To(A,J,xe),xe},n}),reactReconciler_production_min}var hasRequiredReactReconciler;function requireReactReconciler(){return hasRequiredReactReconciler||(hasRequiredReactReconciler=1,reactReconciler.exports=requireReactReconciler_production_min()),reactReconciler.exports}var reactReconcilerExports=requireReactReconciler();const Reconciler=getDefaultExportFromCjs(reactReconcilerExports);var scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production_min;function requireScheduler_production_min(){return hasRequiredScheduler_production_min||(hasRequiredScheduler_production_min=1,function(t){function e(Z,ie){var oe=Z.length;Z.push(ie);e:for(;0<oe;){var ae=oe-1>>>1,pe=Z[ae];if(0<l(pe,ie))Z[ae]=ie,Z[oe]=pe,oe=ae;else break e}}function n(Z){return Z.length===0?null:Z[0]}function o(Z){if(Z.length===0)return null;var ie=Z[0],oe=Z.pop();if(oe!==ie){Z[0]=oe;e:for(var ae=0,pe=Z.length,we=pe>>>1;ae<we;){var _e=2*(ae+1)-1,Me=Z[_e],Oe=_e+1,Ye=Z[Oe];if(0>l(Me,oe))Oe<pe&&0>l(Ye,Me)?(Z[ae]=Ye,Z[Oe]=oe,ae=Oe):(Z[ae]=Me,Z[_e]=oe,ae=_e);else if(Oe<pe&&0>l(Ye,oe))Z[ae]=Ye,Z[Oe]=oe,ae=Oe;else break e}}return ie}function l(Z,ie){var oe=Z.sortIndex-ie.sortIndex;return oe!==0?oe:Z.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var h=Date,f=h.now();t.unstable_now=function(){return h.now()-f}}var d=[],p=[],m=1,v=null,b=3,S=!1,T=!1,C=!1,w=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(Z){for(var ie=n(p);ie!==null;){if(ie.callback===null)o(p);else if(ie.startTime<=Z)o(p),ie.sortIndex=ie.expirationTime,e(d,ie);else break;ie=n(p)}}function F(Z){if(C=!1,N(Z),!T)if(n(d)!==null)T=!0,fe(B);else{var ie=n(p);ie!==null&&ge(F,ie.startTime-Z)}}function B(Z,ie){T=!1,C&&(C=!1,R(K),K=-1),S=!0;var oe=b;try{for(N(ie),v=n(d);v!==null&&(!(v.expirationTime>ie)||Z&&!H());){var ae=v.callback;if(typeof ae=="function"){v.callback=null,b=v.priorityLevel;var pe=ae(v.expirationTime<=ie);ie=t.unstable_now(),typeof pe=="function"?v.callback=pe:v===n(d)&&o(d),N(ie)}else o(d);v=n(d)}if(v!==null)var we=!0;else{var _e=n(p);_e!==null&&ge(F,_e.startTime-ie),we=!1}return we}finally{v=null,b=oe,S=!1}}var U=!1,z=null,K=-1,Q=5,q=-1;function H(){return!(t.unstable_now()-q<Q)}function se(){if(z!==null){var Z=t.unstable_now();q=Z;var ie=!0;try{ie=z(!0,Z)}finally{ie?le():(U=!1,z=null)}}else U=!1}var le;if(typeof L=="function")le=function(){L(se)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,ce=ne.port2;ne.port1.onmessage=se,le=function(){ce.postMessage(null)}}else le=function(){w(se,0)};function fe(Z){z=Z,U||(U=!0,le())}function ge(Z,ie){K=w(function(){Z(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_continueExecution=function(){T||S||(T=!0,fe(B))},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(Z){switch(b){case 1:case 2:case 3:var ie=3;break;default:ie=b}var oe=b;b=ie;try{return Z()}finally{b=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Z,ie){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var oe=b;b=Z;try{return ie()}finally{b=oe}},t.unstable_scheduleCallback=function(Z,ie,oe){var ae=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?ae+oe:ae):oe=ae,Z){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=oe+pe,Z={id:m++,callback:ie,priorityLevel:Z,startTime:oe,expirationTime:pe,sortIndex:-1},oe>ae?(Z.sortIndex=oe,e(p,Z),n(d)===null&&Z===n(p)&&(C?(R(K),K=-1):C=!0,ge(F,oe-ae))):(Z.sortIndex=pe,e(d,Z),T||S||(T=!0,fe(B))),Z},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(Z){var ie=b;return function(){var oe=b;b=ie;try{return Z.apply(this,arguments)}finally{b=oe}}}}(scheduler_production_min)),scheduler_production_min}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production_min()),scheduler.exports}var schedulerExports=requireScheduler();const catalogue={},extend$1=t=>void Object.assign(catalogue,t);function createRenderer(t,e){function n(m,{args:v=[],attach:b,...S},T){let C=`${m[0].toUpperCase()}${m.slice(1)}`,w;if(m==="primitive"){if(S.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const R=S.object;w=prepare(R,{type:m,root:T,attach:b,primitive:!0})}else{const R=catalogue[C];if(!R)throw new Error(`R3F: ${C} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(v))throw new Error("R3F: The args prop must be an array!");w=prepare(new R(...v),{type:m,root:T,attach:b,memoizedProps:{args:v}})}return w.__r3f.attach===void 0&&(w.isBufferGeometry?w.__r3f.attach="geometry":w.isMaterial&&(w.__r3f.attach="material")),C!=="inject"&&applyProps$1(w,S),w}function o(m,v){let b=!1;if(v){var S,T;(S=v.__r3f)!=null&&S.attach?attach(m,v,v.__r3f.attach):v.isObject3D&&m.isObject3D&&(m.add(v),b=!0),b||(T=m.__r3f)==null||T.objects.push(v),v.__r3f||prepare(v,{}),v.__r3f.parent=m,updateInstance(v),invalidateInstance(v)}}function l(m,v,b){let S=!1;if(v){var T,C;if((T=v.__r3f)!=null&&T.attach)attach(m,v,v.__r3f.attach);else if(v.isObject3D&&m.isObject3D){v.parent=m,v.dispatchEvent({type:"added"}),m.dispatchEvent({type:"childadded",child:v});const w=m.children.filter(L=>L!==v),R=w.indexOf(b);m.children=[...w.slice(0,R),v,...w.slice(R)],S=!0}S||(C=m.__r3f)==null||C.objects.push(v),v.__r3f||prepare(v,{}),v.__r3f.parent=m,updateInstance(v),invalidateInstance(v)}}function u(m,v,b=!1){m&&[...m].forEach(S=>h(v,S,b))}function h(m,v,b){if(v){var S,T,C;if(v.__r3f&&(v.__r3f.parent=null),(S=m.__r3f)!=null&&S.objects&&(m.__r3f.objects=m.__r3f.objects.filter(F=>F!==v)),(T=v.__r3f)!=null&&T.attach)detach(m,v,v.__r3f.attach);else if(v.isObject3D&&m.isObject3D){var w;m.remove(v),(w=v.__r3f)!=null&&w.root&&removeInteractivity(findInitialRoot(v),v)}const L=(C=v.__r3f)==null?void 0:C.primitive,N=!L&&(b===void 0?v.dispose!==null:b);if(!L){var R;u((R=v.__r3f)==null?void 0:R.objects,v,N),u(v.children,v,N)}if(delete v.__r3f,N&&v.dispose&&v.type!=="Scene"){const F=()=>{try{v.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?schedulerExports.unstable_scheduleCallback(schedulerExports.unstable_IdlePriority,F):F()}invalidateInstance(m)}}function f(m,v,b,S){var T;const C=(T=m.__r3f)==null?void 0:T.parent;if(!C)return;const w=n(v,b,m.__r3f.root);if(m.children){for(const R of m.children)R.__r3f&&o(w,R);m.children=m.children.filter(R=>!R.__r3f)}m.__r3f.objects.forEach(R=>o(w,R)),m.__r3f.objects=[],m.__r3f.autoRemovedBeforeAppend||h(C,m),w.parent&&(w.__r3f.autoRemovedBeforeAppend=!0),o(C,w),w.raycast&&w.__r3f.eventCount&&findInitialRoot(w).getState().internal.interaction.push(w),[S,S.alternate].forEach(R=>{R!==null&&(R.stateNode=w,R.ref&&(typeof R.ref=="function"?R.ref(w):R.ref.current=w))})}const d=()=>{};return{reconciler:Reconciler({createInstance:n,removeChild:h,appendChild:o,appendInitialChild:o,insertBefore:l,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(m,v)=>{if(!v)return;const b=m.getState().scene;b.__r3f&&(b.__r3f.root=m,o(b,v))},removeChildFromContainer:(m,v)=>{v&&h(m.getState().scene,v)},insertInContainerBefore:(m,v,b)=>{if(!v||!b)return;const S=m.getState().scene;S.__r3f&&l(S,v,b)},getRootHostContext:()=>null,getChildHostContext:m=>m,finalizeInitialChildren(m){var v;return!!((v=m==null?void 0:m.__r3f)!=null?v:{}).handlers},prepareUpdate(m,v,b,S){var T;if(((T=m==null?void 0:m.__r3f)!=null?T:{}).primitive&&S.object&&S.object!==m)return[!0];{const{args:w=[],children:R,...L}=S,{args:N=[],children:F,...B}=b;if(!Array.isArray(w))throw new Error("R3F: the args prop must be an array!");if(w.some((z,K)=>z!==N[K]))return[!0];const U=diffProps(m,L,B,!0);return U.changes.length?[!1,U]:null}},commitUpdate(m,[v,b],S,T,C,w){v?f(m,S,C,w):applyProps$1(m,b)},commitMount(m,v,b,S){var T;const C=(T=m.__r3f)!=null?T:{};m.raycast&&C.handlers&&C.eventCount&&findInitialRoot(m).getState().internal.interaction.push(m)},getPublicInstance:m=>m,prepareForCommit:()=>null,preparePortalMount:m=>prepare(m.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(m){var v;const{attach:b,parent:S}=(v=m.__r3f)!=null?v:{};b&&S&&detach(S,m,b),m.isObject3D&&(m.visible=!1),invalidateInstance(m)},unhideInstance(m,v){var b;const{attach:S,parent:T}=(b=m.__r3f)!=null?b:{};S&&T&&attach(T,m,S),(m.isObject3D&&v.visible==null||v.visible)&&(m.visible=!0),invalidateInstance(m)},createTextInstance:d,hideTextInstance:d,unhideTextInstance:d,getCurrentEventPriority:()=>e?e():constantsExports.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&is.fun(performance.now)?performance.now:is.fun(Date.now)?Date.now:()=>0,scheduleTimeout:is.fun(setTimeout)?setTimeout:void 0,cancelTimeout:is.fun(clearTimeout)?clearTimeout:void 0}),applyProps:applyProps$1}}var _window$document,_window$navigator;const hasColorSpace=t=>"colorSpace"in t||"outputColorSpace"in t,getColorManagement=()=>{var t;return(t=catalogue.ColorManagement)!=null?t:null},isOrthographicCamera=t=>t&&t.isOrthographicCamera,isRef=t=>t&&t.hasOwnProperty("current"),useIsomorphicLayoutEffect=typeof window<"u"&&((_window$document=window.document)!=null&&_window$document.createElement||((_window$navigator=window.navigator)==null?void 0:_window$navigator.product)==="ReactNative")?reactExports.useLayoutEffect:reactExports.useEffect;function useMutableCallback(t){const e=reactExports.useRef(t);return useIsomorphicLayoutEffect(()=>void(e.current=t),[t]),e}function Block({set:t}){return useIsomorphicLayoutEffect(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class ErrorBoundary extends reactExports.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}ErrorBoundary.getDerivedStateFromError=()=>({error:!0});const DEFAULT="__default",DEFAULTS=new Map,isDiffSet=t=>t&&!!t.memoized&&!!t.changes;function calculateDpr(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const getRootState=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function findInitialRoot(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const is={obj:t=>t===Object(t)&&!is.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:o="reference",strict:l=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(is.str(t)||is.num(t)||is.boo(t))return t===e;const u=is.obj(t);if(u&&o==="reference")return t===e;const h=is.arr(t);if(h&&n==="reference")return t===e;if((h||u)&&t===e)return!0;let f;for(f in t)if(!(f in e))return!1;if(u&&n==="shallow"&&o==="shallow"){for(f in l?e:t)if(!is.equ(t[f],e[f],{strict:l,objects:"reference"}))return!1}else for(f in l?e:t)if(t[f]!==e[f])return!1;if(is.und(f)){if(h&&t.length===0&&e.length===0||u&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function dispose(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function prepare(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function resolve(t,e){let n=t;if(e.includes("-")){const o=e.split("-"),l=o.pop();return n=o.reduce((u,h)=>u[h],t),{target:n,key:l}}else return{target:n,key:e}}const INDEX_REGEX=/-\d+$/;function attach(t,e,n){if(is.str(n)){if(INDEX_REGEX.test(n)){const u=n.replace(INDEX_REGEX,""),{target:h,key:f}=resolve(t,u);Array.isArray(h[f])||(h[f]=[])}const{target:o,key:l}=resolve(t,n);e.__r3f.previousAttach=o[l],o[l]=e}else e.__r3f.previousAttach=n(t,e)}function detach(t,e,n){var o,l;if(is.str(n)){const{target:u,key:h}=resolve(t,n),f=e.__r3f.previousAttach;f===void 0?delete u[h]:u[h]=f}else(o=e.__r3f)==null||o.previousAttach==null||o.previousAttach(t,e);(l=e.__r3f)==null||delete l.previousAttach}function diffProps(t,{children:e,key:n,ref:o,...l},{children:u,key:h,ref:f,...d}={},p=!1){const m=t.__r3f,v=Object.entries(l),b=[];if(p){const T=Object.keys(d);for(let C=0;C<T.length;C++)l.hasOwnProperty(T[C])||v.unshift([T[C],DEFAULT+"remove"])}v.forEach(([T,C])=>{var w;if((w=t.__r3f)!=null&&w.primitive&&T==="object"||is.equ(C,d[T]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(T))return b.push([T,C,!0,[]]);let R=[];T.includes("-")&&(R=T.split("-")),b.push([T,C,!1,R]);for(const L in l){const N=l[L];L.startsWith(`${T}-`)&&b.push([L,N,!1,L.split("-")])}});const S={...l};return m!=null&&m.memoizedProps&&m!=null&&m.memoizedProps.args&&(S.args=m.memoizedProps.args),m!=null&&m.memoizedProps&&m!=null&&m.memoizedProps.attach&&(S.attach=m.memoizedProps.attach),{memoized:S,changes:b}}function applyProps$1(t,e){var n;const o=t.__r3f,l=o==null?void 0:o.root,u=l==null||l.getState==null?void 0:l.getState(),{memoized:h,changes:f}=isDiffSet(e)?e:diffProps(t,e),d=o==null?void 0:o.eventCount;t.__r3f&&(t.__r3f.memoizedProps=h);for(let b=0;b<f.length;b++){let[S,T,C,w]=f[b];if(hasColorSpace(t)){const F="srgb",B="srgb-linear";S==="encoding"?(S="colorSpace",T=T===3001?F:B):S==="outputEncoding"&&(S="outputColorSpace",T=T===3001?F:B)}let R=t,L=R[S];if(w.length&&(L=w.reduce((N,F)=>N[F],t),!(L&&L.set))){const[N,...F]=w.reverse();R=F.reverse().reduce((B,U)=>B[U],t),S=N}if(T===DEFAULT+"remove")if(R.constructor){let N=DEFAULTS.get(R.constructor);N||(N=new R.constructor,DEFAULTS.set(R.constructor,N)),T=N[S]}else T=0;if(C&&o)T?o.handlers[S]=T:delete o.handlers[S],o.eventCount=Object.keys(o.handlers).length;else if(L&&L.set&&(L.copy||L instanceof Layers)){if(Array.isArray(T))L.fromArray?L.fromArray(T):L.set(...T);else if(L.copy&&T&&T.constructor&&L.constructor===T.constructor)L.copy(T);else if(T!==void 0){var p;const N=(p=L)==null?void 0:p.isColor;!N&&L.setScalar?L.setScalar(T):L instanceof Layers&&T instanceof Layers?L.mask=T.mask:L.set(T),!getColorManagement()&&u&&!u.linear&&N&&L.convertSRGBToLinear()}}else{var m;if(R[S]=T,(m=R[S])!=null&&m.isTexture&&R[S].format===RGBAFormat&&R[S].type===UnsignedByteType&&u){const N=R[S];hasColorSpace(N)&&hasColorSpace(u.gl)?N.colorSpace=u.gl.outputColorSpace:N.encoding=u.gl.outputEncoding}}invalidateInstance(t)}if(o&&o.parent&&t.raycast&&d!==o.eventCount){const b=findInitialRoot(t).getState().internal,S=b.interaction.indexOf(t);S>-1&&b.interaction.splice(S,1),o.eventCount&&b.interaction.push(t)}return!(f.length===1&&f[0][0]==="onUpdate")&&f.length&&(n=t.__r3f)!=null&&n.parent&&updateInstance(t),t}function invalidateInstance(t){var e,n;const o=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();o&&o.internal.frames===0&&o.invalidate()}function updateInstance(t){t.onUpdate==null||t.onUpdate(t)}function updateCamera(t,e){t.manual||(isOrthographicCamera(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function makeId(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function getEventPriority(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return constantsExports.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return constantsExports.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return constantsExports.ContinuousEventPriority;default:return constantsExports.DefaultEventPriority}}function releaseInternalPointerCapture(t,e,n,o){const l=n.get(e);l&&(n.delete(e),n.size===0&&(t.delete(o),l.target.releasePointerCapture(o)))}function removeInteractivity(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(o=>o!==e),n.initialHits=n.initialHits.filter(o=>o!==e),n.hovered.forEach((o,l)=>{(o.eventObject===e||o.object===e)&&n.hovered.delete(l)}),n.capturedMap.forEach((o,l)=>{releaseInternalPointerCapture(n.capturedMap,e,o,l)})}function createEvents(t){function e(d){const{internal:p}=t.getState(),m=d.offsetX-p.initialClick[0],v=d.offsetY-p.initialClick[1];return Math.round(Math.sqrt(m*m+v*v))}function n(d){return d.filter(p=>["Move","Over","Enter","Out","Leave"].some(m=>{var v;return(v=p.__r3f)==null?void 0:v.handlers["onPointer"+m]}))}function o(d,p){const m=t.getState(),v=new Set,b=[],S=p?p(m.internal.interaction):m.internal.interaction;for(let R=0;R<S.length;R++){const L=getRootState(S[R]);L&&(L.raycaster.camera=void 0)}m.previousRoot||m.events.compute==null||m.events.compute(d,m);function T(R){const L=getRootState(R);if(!L||!L.events.enabled||L.raycaster.camera===null)return[];if(L.raycaster.camera===void 0){var N;L.events.compute==null||L.events.compute(d,L,(N=L.previousRoot)==null?void 0:N.getState()),L.raycaster.camera===void 0&&(L.raycaster.camera=null)}return L.raycaster.camera?L.raycaster.intersectObject(R,!0):[]}let C=S.flatMap(T).sort((R,L)=>{const N=getRootState(R.object),F=getRootState(L.object);return!N||!F?R.distance-L.distance:F.events.priority-N.events.priority||R.distance-L.distance}).filter(R=>{const L=makeId(R);return v.has(L)?!1:(v.add(L),!0)});m.events.filter&&(C=m.events.filter(C,m));for(const R of C){let L=R.object;for(;L;){var w;(w=L.__r3f)!=null&&w.eventCount&&b.push({...R,eventObject:L}),L=L.parent}}if("pointerId"in d&&m.internal.capturedMap.has(d.pointerId))for(let R of m.internal.capturedMap.get(d.pointerId).values())v.has(makeId(R.intersection))||b.push(R.intersection);return b}function l(d,p,m,v){const b=t.getState();if(d.length){const S={stopped:!1};for(const T of d){const C=getRootState(T.object)||b,{raycaster:w,pointer:R,camera:L,internal:N}=C,F=new Vector3(R.x,R.y,0).unproject(L),B=q=>{var H,se;return(H=(se=N.capturedMap.get(q))==null?void 0:se.has(T.eventObject))!=null?H:!1},U=q=>{const H={intersection:T,target:p.target};N.capturedMap.has(q)?N.capturedMap.get(q).set(T.eventObject,H):N.capturedMap.set(q,new Map([[T.eventObject,H]])),p.target.setPointerCapture(q)},z=q=>{const H=N.capturedMap.get(q);H&&releaseInternalPointerCapture(N.capturedMap,T.eventObject,H,q)};let K={};for(let q in p){let H=p[q];typeof H!="function"&&(K[q]=H)}let Q={...T,...K,pointer:R,intersections:d,stopped:S.stopped,delta:m,unprojectedPoint:F,ray:w.ray,camera:L,stopPropagation(){const q="pointerId"in p&&N.capturedMap.get(p.pointerId);if((!q||q.has(T.eventObject))&&(Q.stopped=S.stopped=!0,N.hovered.size&&Array.from(N.hovered.values()).find(H=>H.eventObject===T.eventObject))){const H=d.slice(0,d.indexOf(T));u([...H,T])}},target:{hasPointerCapture:B,setPointerCapture:U,releasePointerCapture:z},currentTarget:{hasPointerCapture:B,setPointerCapture:U,releasePointerCapture:z},nativeEvent:p};if(v(Q),S.stopped===!0)break}}return d}function u(d){const{internal:p}=t.getState();for(const m of p.hovered.values())if(!d.length||!d.find(v=>v.object===m.object&&v.index===m.index&&v.instanceId===m.instanceId)){const b=m.eventObject.__r3f,S=b==null?void 0:b.handlers;if(p.hovered.delete(makeId(m)),b!=null&&b.eventCount){const T={...m,intersections:d};S.onPointerOut==null||S.onPointerOut(T),S.onPointerLeave==null||S.onPointerLeave(T)}}}function h(d,p){for(let m=0;m<p.length;m++){const v=p[m].__r3f;v==null||v.handlers.onPointerMissed==null||v.handlers.onPointerMissed(d)}}function f(d){switch(d){case"onPointerLeave":case"onPointerCancel":return()=>u([]);case"onLostPointerCapture":return p=>{const{internal:m}=t.getState();"pointerId"in p&&m.capturedMap.has(p.pointerId)&&requestAnimationFrame(()=>{m.capturedMap.has(p.pointerId)&&(m.capturedMap.delete(p.pointerId),u([]))})}}return function(m){const{onPointerMissed:v,internal:b}=t.getState();b.lastEvent.current=m;const S=d==="onPointerMove",T=d==="onClick"||d==="onContextMenu"||d==="onDoubleClick",w=o(m,S?n:void 0),R=T?e(m):0;d==="onPointerDown"&&(b.initialClick=[m.offsetX,m.offsetY],b.initialHits=w.map(N=>N.eventObject)),T&&!w.length&&R<=2&&(h(m,b.interaction),v&&v(m)),S&&u(w);function L(N){const F=N.eventObject,B=F.__r3f,U=B==null?void 0:B.handlers;if(B!=null&&B.eventCount)if(S){if(U.onPointerOver||U.onPointerEnter||U.onPointerOut||U.onPointerLeave){const z=makeId(N),K=b.hovered.get(z);K?K.stopped&&N.stopPropagation():(b.hovered.set(z,N),U.onPointerOver==null||U.onPointerOver(N),U.onPointerEnter==null||U.onPointerEnter(N))}U.onPointerMove==null||U.onPointerMove(N)}else{const z=U[d];z?(!T||b.initialHits.includes(F))&&(h(m,b.interaction.filter(K=>!b.initialHits.includes(K))),z(N)):T&&b.initialHits.includes(F)&&h(m,b.interaction.filter(K=>!b.initialHits.includes(K)))}}l(w,m,R,L)}}return{handlePointer:f}}const isRenderer=t=>!!(t!=null&&t.render),context=reactExports.createContext(null),createStore=(t,e)=>{const n=create((f,d)=>{const p=new Vector3,m=new Vector3,v=new Vector3;function b(R=d().camera,L=m,N=d().size){const{width:F,height:B,top:U,left:z}=N,K=F/B;L.isVector3?v.copy(L):v.set(...L);const Q=R.getWorldPosition(p).distanceTo(v);if(isOrthographicCamera(R))return{width:F/R.zoom,height:B/R.zoom,top:U,left:z,factor:1,distance:Q,aspect:K};{const q=R.fov*Math.PI/180,H=2*Math.tan(q/2)*Q,se=H*(F/B);return{width:se,height:H,top:U,left:z,factor:F/se,distance:Q,aspect:K}}}let S;const T=R=>f(L=>({performance:{...L.performance,current:R}})),C=new Vector2;return{set:f,get:d,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(R=1)=>t(d(),R),advance:(R,L)=>e(R,L,d()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new Clock,pointer:C,mouse:C,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const R=d();S&&clearTimeout(S),R.performance.current!==R.performance.min&&T(R.performance.min),S=setTimeout(()=>T(d().performance.max),R.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:b},setEvents:R=>f(L=>({...L,events:{...L.events,...R}})),setSize:(R,L,N,F,B)=>{const U=d().camera,z={width:R,height:L,top:F||0,left:B||0,updateStyle:N};f(K=>({size:z,viewport:{...K.viewport,...b(U,m,z)}}))},setDpr:R=>f(L=>{const N=calculateDpr(R);return{viewport:{...L.viewport,dpr:N,initialDpr:L.viewport.initialDpr||N}}}),setFrameloop:(R="always")=>{const L=d().clock;L.stop(),L.elapsedTime=0,R!=="never"&&(L.start(),L.elapsedTime=0),f(()=>({frameloop:R}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:reactExports.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(R,L,N)=>{const F=d().internal;return F.priority=F.priority+(L>0?1:0),F.subscribers.push({ref:R,priority:L,store:N}),F.subscribers=F.subscribers.sort((B,U)=>B.priority-U.priority),()=>{const B=d().internal;B!=null&&B.subscribers&&(B.priority=B.priority-(L>0?1:0),B.subscribers=B.subscribers.filter(U=>U.ref!==R))}}}}}),o=n.getState();let l=o.size,u=o.viewport.dpr,h=o.camera;return n.subscribe(()=>{const{camera:f,size:d,viewport:p,gl:m,set:v}=n.getState();if(d.width!==l.width||d.height!==l.height||p.dpr!==u){var b;l=d,u=p.dpr,updateCamera(f,d),m.setPixelRatio(p.dpr);const S=(b=d.updateStyle)!=null?b:typeof HTMLCanvasElement<"u"&&m.domElement instanceof HTMLCanvasElement;m.setSize(d.width,d.height,S)}f!==h&&(h=f,v(S=>({viewport:{...S.viewport,...S.viewport.getCurrentViewport(f)}})))}),n.subscribe(f=>t(f)),n};let i,globalEffects=new Set,globalAfterEffects=new Set,globalTailEffects=new Set;function run(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function flushGlobalEffects(t,e){switch(t){case"before":return run(globalEffects,e);case"after":return run(globalAfterEffects,e);case"tail":return run(globalTailEffects,e)}}let subscribers,subscription;function render$1(t,e,n){let o=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(o=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),subscribers=e.internal.subscribers,i=0;i<subscribers.length;i++)subscription=subscribers[i],subscription.ref.current(subscription.store.getState(),o,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function createLoop(t){let e=!1,n=!1,o,l,u;function h(p){l=requestAnimationFrame(h),e=!0,o=0,flushGlobalEffects("before",p),n=!0;for(const v of t.values()){var m;u=v.store.getState(),u.internal.active&&(u.frameloop==="always"||u.internal.frames>0)&&!((m=u.gl.xr)!=null&&m.isPresenting)&&(o+=render$1(p,u))}if(n=!1,flushGlobalEffects("after",p),o===0)return flushGlobalEffects("tail",p),e=!1,cancelAnimationFrame(l)}function f(p,m=1){var v;if(!p)return t.forEach(b=>f(b.store.getState(),m));(v=p.gl.xr)!=null&&v.isPresenting||!p.internal.active||p.frameloop==="never"||(m>1?p.internal.frames=Math.min(60,p.internal.frames+m):n?p.internal.frames=2:p.internal.frames=1,e||(e=!0,requestAnimationFrame(h)))}function d(p,m=!0,v,b){if(m&&flushGlobalEffects("before",p),v)render$1(p,v,b);else for(const S of t.values())render$1(p,S.store.getState());m&&flushGlobalEffects("after",p)}return{loop:h,invalidate:f,advance:d}}function useStore(){const t=reactExports.useContext(context);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function useThree(t=n=>n,e){return useStore()(t,e)}function useFrame(t,e=0){const n=useStore(),o=n.getState().internal.subscribe,l=useMutableCallback(t);return useIsomorphicLayoutEffect(()=>o(l,e,n),[e,o,n]),null}const roots=new Map,{invalidate,advance}=createLoop(roots),{reconciler,applyProps}=createRenderer(roots,getEventPriority),shallowLoose={objects:"shallow",strict:!1},createRendererInstance=(t,e)=>{const n=typeof t=="function"?t(e):t;return isRenderer(n)?n:new WebGLRenderer({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function computeInitialSize(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:o,height:l,top:u,left:h,updateStyle:f=n}=e;return{width:o,height:l,top:u,left:h,updateStyle:f}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:o,height:l,top:u,left:h}=t.parentElement.getBoundingClientRect();return{width:o,height:l,top:u,left:h,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function createRoot(t){const e=roots.get(t),n=e==null?void 0:e.fiber,o=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const l=typeof reportError=="function"?reportError:console.error,u=o||createStore(invalidate,advance),h=n||reconciler.createContainer(u,constantsExports.ConcurrentRoot,null,!1,null,"",l,null);e||roots.set(t,{fiber:h,store:u});let f,d=!1,p;return{configure(m={}){let{gl:v,size:b,scene:S,events:T,onCreated:C,shadows:w=!1,linear:R=!1,flat:L=!1,legacy:N=!1,orthographic:F=!1,frameloop:B="always",dpr:U=[1,2],performance:z,raycaster:K,camera:Q,onPointerMissed:q}=m,H=u.getState(),se=H.gl;H.gl||H.set({gl:se=createRendererInstance(v,t)});let le=H.raycaster;le||H.set({raycaster:le=new Raycaster});const{params:ne,...ce}=K||{};if(is.equ(ce,le,shallowLoose)||applyProps(le,{...ce}),is.equ(ne,le.params,shallowLoose)||applyProps(le,{params:{...le.params,...ne}}),!H.camera||H.camera===p&&!is.equ(p,Q,shallowLoose)){p=Q;const oe=Q instanceof Camera,ae=oe?Q:F?new OrthographicCamera(0,0,0,0,.1,1e3):new PerspectiveCamera(75,0,.1,1e3);oe||(ae.position.z=5,Q&&(applyProps(ae,Q),("aspect"in Q||"left"in Q||"right"in Q||"bottom"in Q||"top"in Q)&&(ae.manual=!0,ae.updateProjectionMatrix())),!H.camera&&!(Q!=null&&Q.rotation)&&ae.lookAt(0,0,0)),H.set({camera:ae}),le.camera=ae}if(!H.scene){let oe;S!=null&&S.isScene?oe=S:(oe=new Scene,S&&applyProps(oe,S)),H.set({scene:prepare(oe)})}if(!H.xr){var fe;const oe=(we,_e)=>{const Me=u.getState();Me.frameloop!=="never"&&advance(we,!0,Me,_e)},ae=()=>{const we=u.getState();we.gl.xr.enabled=we.gl.xr.isPresenting,we.gl.xr.setAnimationLoop(we.gl.xr.isPresenting?oe:null),we.gl.xr.isPresenting||invalidate(we)},pe={connect(){const we=u.getState().gl;we.xr.addEventListener("sessionstart",ae),we.xr.addEventListener("sessionend",ae)},disconnect(){const we=u.getState().gl;we.xr.removeEventListener("sessionstart",ae),we.xr.removeEventListener("sessionend",ae)}};typeof((fe=se.xr)==null?void 0:fe.addEventListener)=="function"&&pe.connect(),H.set({xr:pe})}if(se.shadowMap){const oe=se.shadowMap.enabled,ae=se.shadowMap.type;if(se.shadowMap.enabled=!!w,is.boo(w))se.shadowMap.type=PCFSoftShadowMap;else if(is.str(w)){var ge;const pe={basic:BasicShadowMap,percentage:PCFShadowMap,soft:PCFSoftShadowMap,variance:VSMShadowMap};se.shadowMap.type=(ge=pe[w])!=null?ge:PCFSoftShadowMap}else is.obj(w)&&Object.assign(se.shadowMap,w);(oe!==se.shadowMap.enabled||ae!==se.shadowMap.type)&&(se.shadowMap.needsUpdate=!0)}const Z=getColorManagement();Z&&("enabled"in Z?Z.enabled=!N:"legacyMode"in Z&&(Z.legacyMode=N)),d||applyProps(se,{outputEncoding:R?3e3:3001,toneMapping:L?NoToneMapping:ACESFilmicToneMapping}),H.legacy!==N&&H.set(()=>({legacy:N})),H.linear!==R&&H.set(()=>({linear:R})),H.flat!==L&&H.set(()=>({flat:L})),v&&!is.fun(v)&&!isRenderer(v)&&!is.equ(v,se,shallowLoose)&&applyProps(se,v),T&&!H.events.handlers&&H.set({events:T(u)});const ie=computeInitialSize(t,b);return is.equ(ie,H.size,shallowLoose)||H.setSize(ie.width,ie.height,ie.updateStyle,ie.top,ie.left),U&&H.viewport.dpr!==calculateDpr(U)&&H.setDpr(U),H.frameloop!==B&&H.setFrameloop(B),H.onPointerMissed||H.set({onPointerMissed:q}),z&&!is.equ(z,H.performance,shallowLoose)&&H.set(oe=>({performance:{...oe.performance,...z}})),f=C,d=!0,this},render(m){return d||this.configure(),reconciler.updateContainer(jsxRuntimeExports.jsx(Provider,{store:u,children:m,onCreated:f,rootElement:t}),h,null,()=>{}),u},unmount(){unmountComponentAtNode(t)}}}function Provider({store:t,children:e,onCreated:n,rootElement:o}){return useIsomorphicLayoutEffect(()=>{const l=t.getState();l.set(u=>({internal:{...u.internal,active:!0}})),n&&n(l),t.getState().events.connected||l.events.connect==null||l.events.connect(o)},[]),jsxRuntimeExports.jsx(context.Provider,{value:t,children:e})}function unmountComponentAtNode(t,e){const n=roots.get(t),o=n==null?void 0:n.fiber;if(o){const l=n==null?void 0:n.store.getState();l&&(l.internal.active=!1),reconciler.updateContainer(null,o,null,()=>{l&&setTimeout(()=>{try{var u,h,f,d;l.events.disconnect==null||l.events.disconnect(),(u=l.gl)==null||(h=u.renderLists)==null||h.dispose==null||h.dispose(),(f=l.gl)==null||f.forceContextLoss==null||f.forceContextLoss(),(d=l.gl)!=null&&d.xr&&l.xr.disconnect(),dispose(l),roots.delete(t)}catch{}},500)})}}reconciler.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:reactExports.version});const DOM_EVENTS={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function createPointerEvents(t){const{handlePointer:e}=createEvents(t);return{priority:1,enabled:!0,compute(n,o,l){o.pointer.set(n.offsetX/o.size.width*2-1,-(n.offsetY/o.size.height)*2+1),o.raycaster.setFromCamera(o.pointer,o.camera)},connected:void 0,handlers:Object.keys(DOM_EVENTS).reduce((n,o)=>({...n,[o]:e(o)}),{}),update:()=>{var n;const{events:o,internal:l}=t.getState();(n=l.lastEvent)!=null&&n.current&&o.handlers&&o.handlers.onPointerMove(l.lastEvent.current)},connect:n=>{var o;const{set:l,events:u}=t.getState();u.disconnect==null||u.disconnect(),l(h=>({events:{...h.events,connected:n}})),Object.entries((o=u.handlers)!=null?o:[]).forEach(([h,f])=>{const[d,p]=DOM_EVENTS[h];n.addEventListener(d,f,{passive:p})})},disconnect:()=>{const{set:n,events:o}=t.getState();if(o.connected){var l;Object.entries((l=o.handlers)!=null?l:[]).forEach(([u,h])=>{if(o&&o.connected instanceof HTMLElement){const[f]=DOM_EVENTS[u];o.connected.removeEventListener(f,h)}}),n(u=>({events:{...u.events,connected:void 0}}))}}}}function g(t,e){let n;return(...o)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...o),e)}}function j({debounce:t,scroll:e,polyfill:n,offsetSize:o}={debounce:0,scroll:!1,offsetSize:!1}){const l=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!l)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[u,h]=reactExports.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),f=reactExports.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:u,orientationHandler:null}),d=t?typeof t=="number"?t:t.scroll:null,p=t?typeof t=="number"?t:t.resize:null,m=reactExports.useRef(!1);reactExports.useEffect(()=>(m.current=!0,()=>void(m.current=!1)));const[v,b,S]=reactExports.useMemo(()=>{const R=()=>{if(!f.current.element)return;const{left:L,top:N,width:F,height:B,bottom:U,right:z,x:K,y:Q}=f.current.element.getBoundingClientRect(),q={left:L,top:N,width:F,height:B,bottom:U,right:z,x:K,y:Q};f.current.element instanceof HTMLElement&&o&&(q.height=f.current.element.offsetHeight,q.width=f.current.element.offsetWidth),Object.freeze(q),m.current&&!D(f.current.lastBounds,q)&&h(f.current.lastBounds=q)};return[R,p?g(R,p):R,d?g(R,d):R]},[h,o,d,p]);function T(){f.current.scrollContainers&&(f.current.scrollContainers.forEach(R=>R.removeEventListener("scroll",S,!0)),f.current.scrollContainers=null),f.current.resizeObserver&&(f.current.resizeObserver.disconnect(),f.current.resizeObserver=null),f.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",f.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",f.current.orientationHandler))}function C(){f.current.element&&(f.current.resizeObserver=new l(S),f.current.resizeObserver.observe(f.current.element),e&&f.current.scrollContainers&&f.current.scrollContainers.forEach(R=>R.addEventListener("scroll",S,{capture:!0,passive:!0})),f.current.orientationHandler=()=>{S()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",f.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",f.current.orientationHandler))}const w=R=>{!R||R===f.current.element||(T(),f.current.element=R,f.current.scrollContainers=E(R),C())};return X(S,!!e),W(b),reactExports.useEffect(()=>{T(),C()},[e,S,b]),reactExports.useEffect(()=>T,[]),[w,u,v]}function W(t){reactExports.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function X(t,e){reactExports.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function E(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:o,overflowY:l}=window.getComputedStyle(t);return[n,o,l].some(u=>u==="auto"||u==="scroll")&&e.push(t),[...e,...E(t.parentElement)]}const k$1=["x","y","top","bottom","left","right","width","height"],D=(t,e)=>k$1.every(n=>t[n]===e[n]);var __defProp$2=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp$2=(t,e,n)=>e in t?__defProp$2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,__spreadValues=(t,e)=>{for(var n in e||(e={}))__hasOwnProp.call(e,n)&&__defNormalProp$2(t,n,e[n]);if(__getOwnPropSymbols)for(var n of __getOwnPropSymbols(e))__propIsEnum.call(e,n)&&__defNormalProp$2(t,n,e[n]);return t},__spreadProps=(t,e)=>__defProps(t,__getOwnPropDescs(e)),_a,_b;typeof window<"u"&&((_a=window.document)!=null&&_a.createElement||((_b=window.navigator)==null?void 0:_b.product)==="ReactNative")?reactExports.useLayoutEffect:reactExports.useEffect;function traverseFiber(t,e,n){if(!t)return;if(n(t)===!0)return t;let o=t.child;for(;o;){const l=traverseFiber(o,e,n);if(l)return l;o=o.sibling}}function wrapContext(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const error=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=error;return}return error.apply(this,arguments)};const FiberContext=wrapContext(reactExports.createContext(null));class FiberProvider extends reactExports.Component{render(){return reactExports.createElement(FiberContext.Provider,{value:this._reactInternals},this.props.children)}}function useFiber(){const t=reactExports.useContext(FiberContext);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=reactExports.useId();return reactExports.useMemo(()=>{for(const o of[t,t==null?void 0:t.alternate]){if(!o)continue;const l=traverseFiber(o,!1,u=>{let h=u.memoizedState;for(;h;){if(h.memoizedState===e)return!0;h=h.next}});if(l)return l}},[t,e])}function useContextMap(){const t=useFiber(),[e]=reactExports.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const l=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;l&&l!==FiberContext&&!e.has(l)&&e.set(l,reactExports.useContext(wrapContext(l)))}n=n.return}return e}function useContextBridge(){const t=useContextMap();return reactExports.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>o=>reactExports.createElement(e,null,reactExports.createElement(n.Provider,__spreadProps(__spreadValues({},o),{value:t.get(n)}))),e=>reactExports.createElement(FiberProvider,__spreadValues({},e))),[t])}const CanvasImpl=reactExports.forwardRef(function t({children:e,fallback:n,resize:o,style:l,gl:u,events:h=createPointerEvents,eventSource:f,eventPrefix:d,shadows:p,linear:m,flat:v,legacy:b,orthographic:S,frameloop:T,dpr:C,performance:w,raycaster:R,camera:L,scene:N,onPointerMissed:F,onCreated:B,...U},z){reactExports.useMemo(()=>extend$1(THREE),[]);const K=useContextBridge(),[Q,q]=j({scroll:!0,debounce:{scroll:50,resize:0},...o}),H=reactExports.useRef(null),se=reactExports.useRef(null);reactExports.useImperativeHandle(z,()=>H.current);const le=useMutableCallback(F),[ne,ce]=reactExports.useState(!1),[fe,ge]=reactExports.useState(!1);if(ne)throw ne;if(fe)throw fe;const Z=reactExports.useRef(null);useIsomorphicLayoutEffect(()=>{const oe=H.current;q.width>0&&q.height>0&&oe&&(Z.current||(Z.current=createRoot(oe)),Z.current.configure({gl:u,events:h,shadows:p,linear:m,flat:v,legacy:b,orthographic:S,frameloop:T,dpr:C,performance:w,raycaster:R,camera:L,scene:N,size:q,onPointerMissed:(...ae)=>le.current==null?void 0:le.current(...ae),onCreated:ae=>{ae.events.connect==null||ae.events.connect(f?isRef(f)?f.current:f:se.current),d&&ae.setEvents({compute:(pe,we)=>{const _e=pe[d+"X"],Me=pe[d+"Y"];we.pointer.set(_e/we.size.width*2-1,-(Me/we.size.height)*2+1),we.raycaster.setFromCamera(we.pointer,we.camera)}}),B==null||B(ae)}}),Z.current.render(jsxRuntimeExports.jsx(K,{children:jsxRuntimeExports.jsx(ErrorBoundary,{set:ge,children:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(Block,{set:ce}),children:e??null})})})))}),reactExports.useEffect(()=>{const oe=H.current;if(oe)return()=>unmountComponentAtNode(oe)},[]);const ie=f?"none":"auto";return jsxRuntimeExports.jsx("div",{ref:se,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:ie,...l},...U,children:jsxRuntimeExports.jsx("div",{ref:Q,style:{width:"100%",height:"100%"},children:jsxRuntimeExports.jsx("canvas",{ref:H,style:{display:"block"},children:n})})})}),Canvas=reactExports.forwardRef(function t(e,n){return jsxRuntimeExports.jsx(FiberProvider,{children:jsxRuntimeExports.jsx(CanvasImpl,{...e,ref:n})})});function _extends$p(){return _extends$p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)({}).hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$p.apply(null,arguments)}const v1=new Vector3,v2=new Vector3,v3=new Vector3,v4=new Vector2;function defaultCalculatePosition(t,e,n){const o=v1.setFromMatrixPosition(t.matrixWorld);o.project(e);const l=n.width/2,u=n.height/2;return[o.x*l+l,-(o.y*u)+u]}function isObjectBehindCamera(t,e){const n=v1.setFromMatrixPosition(t.matrixWorld),o=v2.setFromMatrixPosition(e.matrixWorld),l=n.sub(o),u=e.getWorldDirection(v3);return l.angleTo(u)>Math.PI/2}function isObjectVisible(t,e,n,o){const l=v1.setFromMatrixPosition(t.matrixWorld),u=l.clone();u.project(e),v4.set(u.x,u.y),n.setFromCamera(v4,e);const h=n.intersectObjects(o,!0);if(h.length){const f=h[0].distance;return l.distanceTo(n.ray.origin)<f}return!0}function objectScale(t,e){if(e instanceof OrthographicCamera)return e.zoom;if(e instanceof PerspectiveCamera){const n=v1.setFromMatrixPosition(t.matrixWorld),o=v2.setFromMatrixPosition(e.matrixWorld),l=e.fov*Math.PI/180,u=n.distanceTo(o);return 1/(2*Math.tan(l/2)*u)}else return 1}function objectZIndex(t,e,n){if(e instanceof PerspectiveCamera||e instanceof OrthographicCamera){const o=v1.setFromMatrixPosition(t.matrixWorld),l=v2.setFromMatrixPosition(e.matrixWorld),u=o.distanceTo(l),h=(n[1]-n[0])/(e.far-e.near),f=n[1]-h*e.far;return Math.round(h*u+f)}}const epsilon$1=t=>Math.abs(t)<1e-10?0:t;function getCSSMatrix(t,e,n=""){let o="matrix3d(";for(let l=0;l!==16;l++)o+=epsilon$1(e[l]*t.elements[l])+(l!==15?",":")");return n+o}const getCameraCSSMatrix=(t=>e=>getCSSMatrix(e,t))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),getObjectCSSMatrix=(t=>(e,n)=>getCSSMatrix(e,t(n),"translate(-50%,-50%)"))(t=>[1/t,1/t,1/t,1,-1/t,-1/t,-1/t,-1,1/t,1/t,1/t,1,1,1,1,1]);function isRefObject(t){return t&&typeof t=="object"&&"current"in t}const Html=reactExports.forwardRef(({children:t,eps:e=.001,style:n,className:o,prepend:l,center:u,fullscreen:h,portal:f,distanceFactor:d,sprite:p=!1,transform:m=!1,occlude:v,onOcclude:b,castShadow:S,receiveShadow:T,material:C,geometry:w,zIndexRange:R=[16777271,0],calculatePosition:L=defaultCalculatePosition,as:N="div",wrapperClass:F,pointerEvents:B="auto",...U},z)=>{const{gl:K,camera:Q,scene:q,size:H,raycaster:se,events:le,viewport:ne}=useThree(),[ce]=reactExports.useState(()=>document.createElement(N)),fe=reactExports.useRef(),ge=reactExports.useRef(null),Z=reactExports.useRef(0),ie=reactExports.useRef([0,0]),oe=reactExports.useRef(null),ae=reactExports.useRef(null),pe=(f==null?void 0:f.current)||le.connected||K.domElement.parentNode,we=reactExports.useRef(null),_e=reactExports.useRef(!1),Me=reactExports.useMemo(()=>v&&v!=="blending"||Array.isArray(v)&&v.length&&isRefObject(v[0]),[v]);reactExports.useLayoutEffect(()=>{const Je=K.domElement;v&&v==="blending"?(Je.style.zIndex=`${Math.floor(R[0]/2)}`,Je.style.position="absolute",Je.style.pointerEvents="none"):(Je.style.zIndex=null,Je.style.position=null,Je.style.pointerEvents=null)},[v]),reactExports.useLayoutEffect(()=>{if(ge.current){const Je=fe.current=clientExports.createRoot(ce);if(q.updateMatrixWorld(),m)ce.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const ke=L(ge.current,Q,H);ce.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${ke[0]}px,${ke[1]}px,0);transform-origin:0 0;`}return pe&&(l?pe.prepend(ce):pe.appendChild(ce)),()=>{pe&&pe.removeChild(ce),Je.unmount()}}},[pe,m]),reactExports.useLayoutEffect(()=>{F&&(ce.className=F)},[F]);const Oe=reactExports.useMemo(()=>m?{position:"absolute",top:0,left:0,width:H.width,height:H.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:u?"translate3d(-50%,-50%,0)":"none",...h&&{top:-H.height/2,left:-H.width/2,width:H.width,height:H.height},...n},[n,u,h,H,m]),Ye=reactExports.useMemo(()=>({position:"absolute",pointerEvents:B}),[B]);reactExports.useLayoutEffect(()=>{if(_e.current=!1,m){var Je;(Je=fe.current)==null||Je.render(reactExports.createElement("div",{ref:oe,style:Oe},reactExports.createElement("div",{ref:ae,style:Ye},reactExports.createElement("div",{ref:z,className:o,style:n,children:t}))))}else{var ke;(ke=fe.current)==null||ke.render(reactExports.createElement("div",{ref:z,style:Oe,className:o,children:t}))}});const qe=reactExports.useRef(!0);useFrame(Je=>{if(ge.current){Q.updateMatrixWorld(),ge.current.updateWorldMatrix(!0,!1);const ke=m?ie.current:L(ge.current,Q,H);if(m||Math.abs(Z.current-Q.zoom)>e||Math.abs(ie.current[0]-ke[0])>e||Math.abs(ie.current[1]-ke[1])>e){const de=isObjectBehindCamera(ge.current,Q);let Be=!1;Me&&(Array.isArray(v)?Be=v.map(rt=>rt.current):v!=="blending"&&(Be=[q]));const Pe=qe.current;if(Be){const rt=isObjectVisible(ge.current,Q,se,Be);qe.current=rt&&!de}else qe.current=!de;Pe!==qe.current&&(b?b(!qe.current):ce.style.display=qe.current?"block":"none");const et=Math.floor(R[0]/2),He=v?Me?[R[0],et]:[et-1,0]:R;if(ce.style.zIndex=`${objectZIndex(ge.current,Q,He)}`,m){const[rt,ot]=[H.width/2,H.height/2],ht=Q.projectionMatrix.elements[5]*ot,{isOrthographicCamera:xt,top:me,left:he,bottom:Ne,right:Ve}=Q,tt=getCameraCSSMatrix(Q.matrixWorldInverse),nt=xt?`scale(${ht})translate(${epsilon$1(-(Ve+he)/2)}px,${epsilon$1((me+Ne)/2)}px)`:`translateZ(${ht}px)`;let Pt=ge.current.matrixWorld;p&&(Pt=Q.matrixWorldInverse.clone().transpose().copyPosition(Pt).scale(ge.current.scale),Pt.elements[3]=Pt.elements[7]=Pt.elements[11]=0,Pt.elements[15]=1),ce.style.width=H.width+"px",ce.style.height=H.height+"px",ce.style.perspective=xt?"":`${ht}px`,oe.current&&ae.current&&(oe.current.style.transform=`${nt}${tt}translate(${rt}px,${ot}px)`,ae.current.style.transform=getObjectCSSMatrix(Pt,1/((d||10)/400)))}else{const rt=d===void 0?1:objectScale(ge.current,Q)*d;ce.style.transform=`translate3d(${ke[0]}px,${ke[1]}px,0) scale(${rt})`}ie.current=ke,Z.current=Q.zoom}}if(!Me&&we.current&&!_e.current)if(m){if(oe.current){const ke=oe.current.children[0];if(ke!=null&&ke.clientWidth&&ke!=null&&ke.clientHeight){const{isOrthographicCamera:de}=Q;if(de||w)U.scale&&(Array.isArray(U.scale)?U.scale instanceof Vector3?we.current.scale.copy(U.scale.clone().divideScalar(1)):we.current.scale.set(1/U.scale[0],1/U.scale[1],1/U.scale[2]):we.current.scale.setScalar(1/U.scale));else{const Be=(d||10)/400,Pe=ke.clientWidth*Be,et=ke.clientHeight*Be;we.current.scale.set(Pe,et,1)}_e.current=!0}}}else{const ke=ce.children[0];if(ke!=null&&ke.clientWidth&&ke!=null&&ke.clientHeight){const de=1/ne.factor,Be=ke.clientWidth*de,Pe=ke.clientHeight*de;we.current.scale.set(Be,Pe,1),_e.current=!0}we.current.lookAt(Je.camera.position)}});const Re=reactExports.useMemo(()=>({vertexShader:m?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[m]);return reactExports.createElement("group",_extends$p({},U,{ref:ge}),v&&!Me&&reactExports.createElement("mesh",{castShadow:S,receiveShadow:T,ref:we},w||reactExports.createElement("planeGeometry",null),C||reactExports.createElement("shaderMaterial",{side:DoubleSide,vertexShader:Re.vertexShader,fragmentShader:Re.fragmentShader})))});var __defProp$1=Object.defineProperty,__defNormalProp$1=(t,e,n)=>e in t?__defProp$1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,__publicField$1=(t,e,n)=>(__defNormalProp$1(t,e+"",n),n);class EventDispatcher{constructor(){__publicField$1(this,"_listeners")}addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const o=this._listeners;o[e]===void 0&&(o[e]=[]),o[e].indexOf(n)===-1&&o[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const o=this._listeners;return o[e]!==void 0&&o[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const l=this._listeners[e];if(l!==void 0){const u=l.indexOf(n);u!==-1&&l.splice(u,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const o=this._listeners[e.type];if(o!==void 0){e.target=this;const l=o.slice(0);for(let u=0,h=l.length;u<h;u++)l[u].call(this,e);e.target=null}}}var __defProp=Object.defineProperty,__defNormalProp=(t,e,n)=>e in t?__defProp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,__publicField=(t,e,n)=>(__defNormalProp(t,typeof e!="symbol"?e+"":e,n),n);const _ray$1=new Ray,_plane$1=new Plane,TILT_LIMIT$1=Math.cos(70*(Math.PI/180)),moduloWrapAround=(t,e)=>(t%e+e)%e;let OrbitControls$2=class extends EventDispatcher{constructor(e,n){super(),__publicField(this,"object"),__publicField(this,"domElement"),__publicField(this,"enabled",!0),__publicField(this,"target",new Vector3),__publicField(this,"minDistance",0),__publicField(this,"maxDistance",1/0),__publicField(this,"minZoom",0),__publicField(this,"maxZoom",1/0),__publicField(this,"minPolarAngle",0),__publicField(this,"maxPolarAngle",Math.PI),__publicField(this,"minAzimuthAngle",-1/0),__publicField(this,"maxAzimuthAngle",1/0),__publicField(this,"enableDamping",!1),__publicField(this,"dampingFactor",.05),__publicField(this,"enableZoom",!0),__publicField(this,"zoomSpeed",1),__publicField(this,"enableRotate",!0),__publicField(this,"rotateSpeed",1),__publicField(this,"enablePan",!0),__publicField(this,"panSpeed",1),__publicField(this,"screenSpacePanning",!0),__publicField(this,"keyPanSpeed",7),__publicField(this,"zoomToCursor",!1),__publicField(this,"autoRotate",!1),__publicField(this,"autoRotateSpeed",2),__publicField(this,"reverseOrbit",!1),__publicField(this,"reverseHorizontalOrbit",!1),__publicField(this,"reverseVerticalOrbit",!1),__publicField(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),__publicField(this,"mouseButtons",{LEFT:MOUSE.ROTATE,MIDDLE:MOUSE.DOLLY,RIGHT:MOUSE.PAN}),__publicField(this,"touches",{ONE:TOUCH.ROTATE,TWO:TOUCH.DOLLY_PAN}),__publicField(this,"target0"),__publicField(this,"position0"),__publicField(this,"zoom0"),__publicField(this,"_domElementKeyEvents",null),__publicField(this,"getPolarAngle"),__publicField(this,"getAzimuthalAngle"),__publicField(this,"setPolarAngle"),__publicField(this,"setAzimuthalAngle"),__publicField(this,"getDistance"),__publicField(this,"getZoomScale"),__publicField(this,"listenToKeyEvents"),__publicField(this,"stopListenToKeyEvents"),__publicField(this,"saveState"),__publicField(this,"reset"),__publicField(this,"update"),__publicField(this,"connect"),__publicField(this,"dispose"),__publicField(this,"dollyIn"),__publicField(this,"dollyOut"),__publicField(this,"getScale"),__publicField(this,"setScale"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>m.phi,this.getAzimuthalAngle=()=>m.theta,this.setPolarAngle=Se=>{let Xe=moduloWrapAround(Se,2*Math.PI),ve=m.phi;ve<0&&(ve+=2*Math.PI),Xe<0&&(Xe+=2*Math.PI);let ze=Math.abs(Xe-ve);2*Math.PI-ze<ze&&(Xe<ve?Xe+=2*Math.PI:ve+=2*Math.PI),v.phi=Xe-ve,o.update()},this.setAzimuthalAngle=Se=>{let Xe=moduloWrapAround(Se,2*Math.PI),ve=m.theta;ve<0&&(ve+=2*Math.PI),Xe<0&&(Xe+=2*Math.PI);let ze=Math.abs(Xe-ve);2*Math.PI-ze<ze&&(Xe<ve?Xe+=2*Math.PI:ve+=2*Math.PI),v.theta=Xe-ve,o.update()},this.getDistance=()=>o.object.position.distanceTo(o.target),this.listenToKeyEvents=Se=>{Se.addEventListener("keydown",Tt),this._domElementKeyEvents=Se},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Tt),this._domElementKeyEvents=null},this.saveState=()=>{o.target0.copy(o.target),o.position0.copy(o.object.position),o.zoom0=o.object.zoom},this.reset=()=>{o.target.copy(o.target0),o.object.position.copy(o.position0),o.object.zoom=o.zoom0,o.object.updateProjectionMatrix(),o.dispatchEvent(l),o.update(),d=f.NONE},this.update=(()=>{const Se=new Vector3,Xe=new Vector3(0,1,0),ve=new Quaternion().setFromUnitVectors(e.up,Xe),ze=ve.clone().invert(),yt=new Vector3,Ee=new Quaternion,it=2*Math.PI;return function(){const at=o.object.position;ve.setFromUnitVectors(e.up,Xe),ze.copy(ve).invert(),Se.copy(at).sub(o.target),Se.applyQuaternion(ve),m.setFromVector3(Se),o.autoRotate&&d===f.NONE&&ne(se()),o.enableDamping?(m.theta+=v.theta*o.dampingFactor,m.phi+=v.phi*o.dampingFactor):(m.theta+=v.theta,m.phi+=v.phi);let gt=o.minAzimuthAngle,Bt=o.maxAzimuthAngle;isFinite(gt)&&isFinite(Bt)&&(gt<-Math.PI?gt+=it:gt>Math.PI&&(gt-=it),Bt<-Math.PI?Bt+=it:Bt>Math.PI&&(Bt-=it),gt<=Bt?m.theta=Math.max(gt,Math.min(Bt,m.theta)):m.theta=m.theta>(gt+Bt)/2?Math.max(gt,m.theta):Math.min(Bt,m.theta)),m.phi=Math.max(o.minPolarAngle,Math.min(o.maxPolarAngle,m.phi)),m.makeSafe(),o.enableDamping===!0?o.target.addScaledVector(S,o.dampingFactor):o.target.add(S),o.zoomToCursor&&Q||o.object.isOrthographicCamera?m.radius=we(m.radius):m.radius=we(m.radius*b),Se.setFromSpherical(m),Se.applyQuaternion(ze),at.copy(o.target).add(Se),o.object.matrixAutoUpdate||o.object.updateMatrix(),o.object.lookAt(o.target),o.enableDamping===!0?(v.theta*=1-o.dampingFactor,v.phi*=1-o.dampingFactor,S.multiplyScalar(1-o.dampingFactor)):(v.set(0,0,0),S.set(0,0,0));let tn=!1;if(o.zoomToCursor&&Q){let rn=null;if(o.object instanceof PerspectiveCamera&&o.object.isPerspectiveCamera){const cn=Se.length();rn=we(cn*b);const Yt=cn-rn;o.object.position.addScaledVector(z,Yt),o.object.updateMatrixWorld()}else if(o.object.isOrthographicCamera){const cn=new Vector3(K.x,K.y,0);cn.unproject(o.object),o.object.zoom=Math.max(o.minZoom,Math.min(o.maxZoom,o.object.zoom/b)),o.object.updateProjectionMatrix(),tn=!0;const Yt=new Vector3(K.x,K.y,0);Yt.unproject(o.object),o.object.position.sub(Yt).add(cn),o.object.updateMatrixWorld(),rn=Se.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),o.zoomToCursor=!1;rn!==null&&(o.screenSpacePanning?o.target.set(0,0,-1).transformDirection(o.object.matrix).multiplyScalar(rn).add(o.object.position):(_ray$1.origin.copy(o.object.position),_ray$1.direction.set(0,0,-1).transformDirection(o.object.matrix),Math.abs(o.object.up.dot(_ray$1.direction))<TILT_LIMIT$1?e.lookAt(o.target):(_plane$1.setFromNormalAndCoplanarPoint(o.object.up,o.target),_ray$1.intersectPlane(_plane$1,o.target))))}else o.object instanceof OrthographicCamera&&o.object.isOrthographicCamera&&(tn=b!==1,tn&&(o.object.zoom=Math.max(o.minZoom,Math.min(o.maxZoom,o.object.zoom/b)),o.object.updateProjectionMatrix()));return b=1,Q=!1,tn||yt.distanceToSquared(o.object.position)>p||8*(1-Ee.dot(o.object.quaternion))>p?(o.dispatchEvent(l),yt.copy(o.object.position),Ee.copy(o.object.quaternion),tn=!1,!0):!1}})(),this.connect=Se=>{o.domElement=Se,o.domElement.style.touchAction="none",o.domElement.addEventListener("contextmenu",Ft),o.domElement.addEventListener("pointerdown",he),o.domElement.addEventListener("pointercancel",Ve),o.domElement.addEventListener("wheel",Pt)},this.dispose=()=>{var Se,Xe,ve,ze,yt,Ee;o.domElement&&(o.domElement.style.touchAction="auto"),(Se=o.domElement)==null||Se.removeEventListener("contextmenu",Ft),(Xe=o.domElement)==null||Xe.removeEventListener("pointerdown",he),(ve=o.domElement)==null||ve.removeEventListener("pointercancel",Ve),(ze=o.domElement)==null||ze.removeEventListener("wheel",Pt),(yt=o.domElement)==null||yt.ownerDocument.removeEventListener("pointermove",Ne),(Ee=o.domElement)==null||Ee.ownerDocument.removeEventListener("pointerup",Ve),o._domElementKeyEvents!==null&&o._domElementKeyEvents.removeEventListener("keydown",Tt)};const o=this,l={type:"change"},u={type:"start"},h={type:"end"},f={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let d=f.NONE;const p=1e-6,m=new Spherical,v=new Spherical;let b=1;const S=new Vector3,T=new Vector2,C=new Vector2,w=new Vector2,R=new Vector2,L=new Vector2,N=new Vector2,F=new Vector2,B=new Vector2,U=new Vector2,z=new Vector3,K=new Vector2;let Q=!1;const q=[],H={};function se(){return 2*Math.PI/60/60*o.autoRotateSpeed}function le(){return Math.pow(.95,o.zoomSpeed)}function ne(Se){o.reverseOrbit||o.reverseHorizontalOrbit?v.theta+=Se:v.theta-=Se}function ce(Se){o.reverseOrbit||o.reverseVerticalOrbit?v.phi+=Se:v.phi-=Se}const fe=(()=>{const Se=new Vector3;return function(ve,ze){Se.setFromMatrixColumn(ze,0),Se.multiplyScalar(-ve),S.add(Se)}})(),ge=(()=>{const Se=new Vector3;return function(ve,ze){o.screenSpacePanning===!0?Se.setFromMatrixColumn(ze,1):(Se.setFromMatrixColumn(ze,0),Se.crossVectors(o.object.up,Se)),Se.multiplyScalar(ve),S.add(Se)}})(),Z=(()=>{const Se=new Vector3;return function(ve,ze){const yt=o.domElement;if(yt&&o.object instanceof PerspectiveCamera&&o.object.isPerspectiveCamera){const Ee=o.object.position;Se.copy(Ee).sub(o.target);let it=Se.length();it*=Math.tan(o.object.fov/2*Math.PI/180),fe(2*ve*it/yt.clientHeight,o.object.matrix),ge(2*ze*it/yt.clientHeight,o.object.matrix)}else yt&&o.object instanceof OrthographicCamera&&o.object.isOrthographicCamera?(fe(ve*(o.object.right-o.object.left)/o.object.zoom/yt.clientWidth,o.object.matrix),ge(ze*(o.object.top-o.object.bottom)/o.object.zoom/yt.clientHeight,o.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),o.enablePan=!1)}})();function ie(Se){o.object instanceof PerspectiveCamera&&o.object.isPerspectiveCamera||o.object instanceof OrthographicCamera&&o.object.isOrthographicCamera?b=Se:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),o.enableZoom=!1)}function oe(Se){ie(b/Se)}function ae(Se){ie(b*Se)}function pe(Se){if(!o.zoomToCursor||!o.domElement)return;Q=!0;const Xe=o.domElement.getBoundingClientRect(),ve=Se.clientX-Xe.left,ze=Se.clientY-Xe.top,yt=Xe.width,Ee=Xe.height;K.x=ve/yt*2-1,K.y=-(ze/Ee)*2+1,z.set(K.x,K.y,1).unproject(o.object).sub(o.object.position).normalize()}function we(Se){return Math.max(o.minDistance,Math.min(o.maxDistance,Se))}function _e(Se){T.set(Se.clientX,Se.clientY)}function Me(Se){pe(Se),F.set(Se.clientX,Se.clientY)}function Oe(Se){R.set(Se.clientX,Se.clientY)}function Ye(Se){C.set(Se.clientX,Se.clientY),w.subVectors(C,T).multiplyScalar(o.rotateSpeed);const Xe=o.domElement;Xe&&(ne(2*Math.PI*w.x/Xe.clientHeight),ce(2*Math.PI*w.y/Xe.clientHeight)),T.copy(C),o.update()}function qe(Se){B.set(Se.clientX,Se.clientY),U.subVectors(B,F),U.y>0?oe(le()):U.y<0&&ae(le()),F.copy(B),o.update()}function Re(Se){L.set(Se.clientX,Se.clientY),N.subVectors(L,R).multiplyScalar(o.panSpeed),Z(N.x,N.y),R.copy(L),o.update()}function Je(Se){pe(Se),Se.deltaY<0?ae(le()):Se.deltaY>0&&oe(le()),o.update()}function ke(Se){let Xe=!1;switch(Se.code){case o.keys.UP:Z(0,o.keyPanSpeed),Xe=!0;break;case o.keys.BOTTOM:Z(0,-o.keyPanSpeed),Xe=!0;break;case o.keys.LEFT:Z(o.keyPanSpeed,0),Xe=!0;break;case o.keys.RIGHT:Z(-o.keyPanSpeed,0),Xe=!0;break}Xe&&(Se.preventDefault(),o.update())}function de(){if(q.length==1)T.set(q[0].pageX,q[0].pageY);else{const Se=.5*(q[0].pageX+q[1].pageX),Xe=.5*(q[0].pageY+q[1].pageY);T.set(Se,Xe)}}function Be(){if(q.length==1)R.set(q[0].pageX,q[0].pageY);else{const Se=.5*(q[0].pageX+q[1].pageX),Xe=.5*(q[0].pageY+q[1].pageY);R.set(Se,Xe)}}function Pe(){const Se=q[0].pageX-q[1].pageX,Xe=q[0].pageY-q[1].pageY,ve=Math.sqrt(Se*Se+Xe*Xe);F.set(0,ve)}function et(){o.enableZoom&&Pe(),o.enablePan&&Be()}function He(){o.enableZoom&&Pe(),o.enableRotate&&de()}function rt(Se){if(q.length==1)C.set(Se.pageX,Se.pageY);else{const ve=It(Se),ze=.5*(Se.pageX+ve.x),yt=.5*(Se.pageY+ve.y);C.set(ze,yt)}w.subVectors(C,T).multiplyScalar(o.rotateSpeed);const Xe=o.domElement;Xe&&(ne(2*Math.PI*w.x/Xe.clientHeight),ce(2*Math.PI*w.y/Xe.clientHeight)),T.copy(C)}function ot(Se){if(q.length==1)L.set(Se.pageX,Se.pageY);else{const Xe=It(Se),ve=.5*(Se.pageX+Xe.x),ze=.5*(Se.pageY+Xe.y);L.set(ve,ze)}N.subVectors(L,R).multiplyScalar(o.panSpeed),Z(N.x,N.y),R.copy(L)}function ht(Se){const Xe=It(Se),ve=Se.pageX-Xe.x,ze=Se.pageY-Xe.y,yt=Math.sqrt(ve*ve+ze*ze);B.set(0,yt),U.set(0,Math.pow(B.y/F.y,o.zoomSpeed)),oe(U.y),F.copy(B)}function xt(Se){o.enableZoom&&ht(Se),o.enablePan&&ot(Se)}function me(Se){o.enableZoom&&ht(Se),o.enableRotate&&rt(Se)}function he(Se){var Xe,ve;o.enabled!==!1&&(q.length===0&&((Xe=o.domElement)==null||Xe.ownerDocument.addEventListener("pointermove",Ne),(ve=o.domElement)==null||ve.ownerDocument.addEventListener("pointerup",Ve)),dt(Se),Se.pointerType==="touch"?ut(Se):tt(Se))}function Ne(Se){o.enabled!==!1&&(Se.pointerType==="touch"?ft(Se):nt(Se))}function Ve(Se){var Xe,ve,ze;yn(Se),q.length===0&&((Xe=o.domElement)==null||Xe.releasePointerCapture(Se.pointerId),(ve=o.domElement)==null||ve.ownerDocument.removeEventListener("pointermove",Ne),(ze=o.domElement)==null||ze.ownerDocument.removeEventListener("pointerup",Ve)),o.dispatchEvent(h),d=f.NONE}function tt(Se){let Xe;switch(Se.button){case 0:Xe=o.mouseButtons.LEFT;break;case 1:Xe=o.mouseButtons.MIDDLE;break;case 2:Xe=o.mouseButtons.RIGHT;break;default:Xe=-1}switch(Xe){case MOUSE.DOLLY:if(o.enableZoom===!1)return;Me(Se),d=f.DOLLY;break;case MOUSE.ROTATE:if(Se.ctrlKey||Se.metaKey||Se.shiftKey){if(o.enablePan===!1)return;Oe(Se),d=f.PAN}else{if(o.enableRotate===!1)return;_e(Se),d=f.ROTATE}break;case MOUSE.PAN:if(Se.ctrlKey||Se.metaKey||Se.shiftKey){if(o.enableRotate===!1)return;_e(Se),d=f.ROTATE}else{if(o.enablePan===!1)return;Oe(Se),d=f.PAN}break;default:d=f.NONE}d!==f.NONE&&o.dispatchEvent(u)}function nt(Se){if(o.enabled!==!1)switch(d){case f.ROTATE:if(o.enableRotate===!1)return;Ye(Se);break;case f.DOLLY:if(o.enableZoom===!1)return;qe(Se);break;case f.PAN:if(o.enablePan===!1)return;Re(Se);break}}function Pt(Se){o.enabled===!1||o.enableZoom===!1||d!==f.NONE&&d!==f.ROTATE||(Se.preventDefault(),o.dispatchEvent(u),Je(Se),o.dispatchEvent(h))}function Tt(Se){o.enabled===!1||o.enablePan===!1||ke(Se)}function ut(Se){switch(qt(Se),q.length){case 1:switch(o.touches.ONE){case TOUCH.ROTATE:if(o.enableRotate===!1)return;de(),d=f.TOUCH_ROTATE;break;case TOUCH.PAN:if(o.enablePan===!1)return;Be(),d=f.TOUCH_PAN;break;default:d=f.NONE}break;case 2:switch(o.touches.TWO){case TOUCH.DOLLY_PAN:if(o.enableZoom===!1&&o.enablePan===!1)return;et(),d=f.TOUCH_DOLLY_PAN;break;case TOUCH.DOLLY_ROTATE:if(o.enableZoom===!1&&o.enableRotate===!1)return;He(),d=f.TOUCH_DOLLY_ROTATE;break;default:d=f.NONE}break;default:d=f.NONE}d!==f.NONE&&o.dispatchEvent(u)}function ft(Se){switch(qt(Se),d){case f.TOUCH_ROTATE:if(o.enableRotate===!1)return;rt(Se),o.update();break;case f.TOUCH_PAN:if(o.enablePan===!1)return;ot(Se),o.update();break;case f.TOUCH_DOLLY_PAN:if(o.enableZoom===!1&&o.enablePan===!1)return;xt(Se),o.update();break;case f.TOUCH_DOLLY_ROTATE:if(o.enableZoom===!1&&o.enableRotate===!1)return;me(Se),o.update();break;default:d=f.NONE}}function Ft(Se){o.enabled!==!1&&Se.preventDefault()}function dt(Se){q.push(Se)}function yn(Se){delete H[Se.pointerId];for(let Xe=0;Xe<q.length;Xe++)if(q[Xe].pointerId==Se.pointerId){q.splice(Xe,1);return}}function qt(Se){let Xe=H[Se.pointerId];Xe===void 0&&(Xe=new Vector2,H[Se.pointerId]=Xe),Xe.set(Se.pageX,Se.pageY)}function It(Se){const Xe=Se.pointerId===q[0].pointerId?q[1]:q[0];return H[Xe.pointerId]}this.dollyIn=(Se=le())=>{ae(Se),o.update()},this.dollyOut=(Se=le())=>{oe(Se),o.update()},this.getScale=()=>b,this.setScale=Se=>{ie(Se),o.update()},this.getZoomScale=()=>le(),n!==void 0&&this.connect(n),this.update()}};const OrbitControls$1=reactExports.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:o,enableDamping:l=!0,keyEvents:u=!1,onChange:h,onStart:f,onEnd:d,...p},m)=>{const v=useThree(U=>U.invalidate),b=useThree(U=>U.camera),S=useThree(U=>U.gl),T=useThree(U=>U.events),C=useThree(U=>U.setEvents),w=useThree(U=>U.set),R=useThree(U=>U.get),L=useThree(U=>U.performance),N=e||b,F=o||T.connected||S.domElement,B=reactExports.useMemo(()=>new OrbitControls$2(N),[N]);return useFrame(()=>{B.enabled&&B.update()},-1),reactExports.useEffect(()=>(u&&B.connect(u===!0?F:u),B.connect(F),()=>void B.dispose()),[u,F,n,B,v]),reactExports.useEffect(()=>{const U=Q=>{v(),n&&L.regress(),h&&h(Q)},z=Q=>{f&&f(Q)},K=Q=>{d&&d(Q)};return B.addEventListener("change",U),B.addEventListener("start",z),B.addEventListener("end",K),()=>{B.removeEventListener("start",z),B.removeEventListener("end",K),B.removeEventListener("change",U)}},[h,f,d,B,v,C]),reactExports.useEffect(()=>{if(t){const U=R().controls;return w({controls:B}),()=>w({controls:U})}},[t,B]),reactExports.createElement("primitive",_extends$p({ref:m,object:B,enableDamping:l},p))});var propTypes={exports:{}},ReactPropTypesSecret_1,hasRequiredReactPropTypesSecret;function requireReactPropTypesSecret(){if(hasRequiredReactPropTypesSecret)return ReactPropTypesSecret_1;hasRequiredReactPropTypesSecret=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ReactPropTypesSecret_1=t,ReactPropTypesSecret_1}var factoryWithThrowingShims,hasRequiredFactoryWithThrowingShims;function requireFactoryWithThrowingShims(){if(hasRequiredFactoryWithThrowingShims)return factoryWithThrowingShims;hasRequiredFactoryWithThrowingShims=1;var t=requireReactPropTypesSecret();function e(){}function n(){}return n.resetWarningCache=e,factoryWithThrowingShims=function(){function o(h,f,d,p,m,v){if(v!==t){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}o.isRequired=o;function l(){return o}var u={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:l,element:o,elementType:o,instanceOf:l,node:o,objectOf:l,oneOf:l,oneOfType:l,shape:l,exact:l,checkPropTypes:n,resetWarningCache:e};return u.PropTypes=u,u},factoryWithThrowingShims}var hasRequiredPropTypes;function requirePropTypes(){return hasRequiredPropTypes||(hasRequiredPropTypes=1,propTypes.exports=requireFactoryWithThrowingShims()()),propTypes.exports}var propTypesExports=requirePropTypes();const PropTypes=getDefaultExportFromCjs(propTypesExports),getRegionColor=t=>t>=80?"#22c55e":t>=60?"#3b82f6":t>=40?"#eab308":t>=20?"#f97316":"#ef4444",Stable=({position:t})=>jsxRuntimeExports.jsxs("group",{position:t,children:[jsxRuntimeExports.jsxs("mesh",{position:[0,1.5,0],castShadow:!0,receiveShadow:!0,children:[jsxRuntimeExports.jsx("boxGeometry",{args:[4,3,6]})," ",jsxRuntimeExports.jsx("meshStandardMaterial",{color:"#8B4513",roughness:.7,metalness:.1})," "]}),jsxRuntimeExports.jsxs("mesh",{position:[0,3,0],rotation:[0,0,Math.PI/2],castShadow:!0,receiveShadow:!0,children:[jsxRuntimeExports.jsx("cylinderGeometry",{args:[3,3,6.2,3]})," ",jsxRuntimeExports.jsx("meshStandardMaterial",{color:"#5a2d00",roughness:.7,metalness:.1})," "]}),jsxRuntimeExports.jsxs("mesh",{position:[0,.75,3.01],castShadow:!0,receiveShadow:!0,children:[jsxRuntimeExports.jsx("boxGeometry",{args:[1.5,2,.05]}),jsxRuntimeExports.jsx("meshStandardMaterial",{color:"#5a2d00"})]})]}),Sun=({position:t})=>jsxRuntimeExports.jsxs("mesh",{position:t,children:[jsxRuntimeExports.jsx("sphereGeometry",{args:[2,32,32]}),jsxRuntimeExports.jsx("meshBasicMaterial",{color:"#FFD700"})," "]}),Cloud=({position:t,scale:e})=>jsxRuntimeExports.jsxs("group",{position:t,scale:[e,e,e],children:[jsxRuntimeExports.jsxs("mesh",{position:[-.5,0,0],children:[jsxRuntimeExports.jsx("sphereGeometry",{args:[.8,16,16]}),jsxRuntimeExports.jsx("meshStandardMaterial",{color:"#FFFFFF",transparent:!0,opacity:.7})]}),jsxRuntimeExports.jsxs("mesh",{position:[.5,0,0],children:[jsxRuntimeExports.jsx("sphereGeometry",{args:[.8,16,16]}),jsxRuntimeExports.jsx("meshStandardMaterial",{color:"#FFFFFF",transparent:!0,opacity:.7})]}),jsxRuntimeExports.jsxs("mesh",{position:[0,.5,0],children:[jsxRuntimeExports.jsx("sphereGeometry",{args:[.6,16,16]}),jsxRuntimeExports.jsx("meshStandardMaterial",{color:"#FFFFFF",transparent:!0,opacity:.7})]})]}),Clouds=()=>{const t=reactExports.useRef(null);return useFrame((e,n)=>{t.current&&(t.current.position.x+=.002*n*60,t.current.position.x>30&&(t.current.position.x=-30))}),jsxRuntimeExports.jsxs("group",{ref:t,children:[jsxRuntimeExports.jsx(Cloud,{position:[-15,15,-10],scale:2}),jsxRuntimeExports.jsx(Cloud,{position:[-5,17,-15],scale:1.5}),jsxRuntimeExports.jsx(Cloud,{position:[10,16,-12],scale:2.5}),jsxRuntimeExports.jsx(Cloud,{position:[20,18,-8],scale:1.8}),jsxRuntimeExports.jsx(Cloud,{position:[-20,14,5],scale:2.2}),jsxRuntimeExports.jsx(Cloud,{position:[0,15,10],scale:1.7}),jsxRuntimeExports.jsx(Cloud,{position:[15,17,15],scale:2.1})]})},Rain=()=>{const t=reactExports.useRef(null),e=1e3,n=reactExports.useRef(new Float32Array(e*3));return reactExports.useEffect(()=>{for(let o=0;o<e;o++)n.current[o*3]=(Math.random()-.5)*60,n.current[o*3+1]=Math.random()*30,n.current[o*3+2]=(Math.random()-.5)*60},[]),useFrame((o,l)=>{t.current&&t.current.children.forEach(u=>{u.position.y-=20*l,u.position.y<-5&&(u.position.y=30)})}),jsxRuntimeExports.jsx("group",{ref:t,children:Array.from({length:e}).map((o,l)=>jsxRuntimeExports.jsxs("mesh",{position:[n.current[l*3],n.current[l*3+1],n.current[l*3+2]],children:[jsxRuntimeExports.jsx("sphereGeometry",{args:[.05,8,8]})," ",jsxRuntimeExports.jsx("meshBasicMaterial",{color:"#ADD8E6",transparent:!0,opacity:.6})," "]},l))})},WaterAccessMap=({onSelectRegion:t})=>{const{regions:e,seasonType:n}=useAppContext(),o=reactExports.useRef(null),{scene:l}=useThree(),[u,h]=reactExports.useState(1.5),[f,d]=reactExports.useState(.4),[p,m]=reactExports.useState(new Color$1("#f0f9ff")),[v,b]=reactExports.useState(25),[S,T]=reactExports.useState(45),C=reactExports.useRef([]);reactExports.useEffect(()=>{if(C.current.length===0){const B=Array.from({length:40}).map((U,z)=>{const K=z/40*Math.PI*2,Q=15+Math.random()*3,q=Math.cos(K)*Q,H=Math.sin(K)*Q,se=1.5+Math.random()*.8;return{x:q,z:H,scale:se}});C.current=B}},[]),reactExports.useEffect(()=>{n==="wet"?(h(.8),d(.6),m(new Color$1("#a0a0a0")),b(15),T(35)):(h(1.5),d(.4),m(new Color$1("#f0f9ff")),b(25),T(45))},[n]),reactExports.useEffect(()=>{l.fog=new Fog(p,v,S)},[p,v,S,l]),useFrame(()=>{o.current});const w=(B,U)=>{B.stopPropagation(),t(U)},R=(B=1)=>jsxRuntimeExports.jsxs("group",{scale:[B,B,B],children:[jsxRuntimeExports.jsxs("mesh",{position:[0,.75,0],castShadow:!0,receiveShadow:!0,children:[jsxRuntimeExports.jsx("cylinderGeometry",{args:[.15,.2,1.5]}),jsxRuntimeExports.jsx("meshStandardMaterial",{color:"#654321",roughness:.8})]}),jsxRuntimeExports.jsxs("mesh",{position:[0,1.75,0],castShadow:!0,receiveShadow:!0,children:[jsxRuntimeExports.jsx("coneGeometry",{args:[.6,2,8]}),jsxRuntimeExports.jsx("meshStandardMaterial",{color:"#2d5a27",roughness:.8})]})]}),L=B=>jsxRuntimeExports.jsxs("mesh",{position:B,rotation:[-Math.PI/2,0,0],"position-y":.05,children:[jsxRuntimeExports.jsx("planeGeometry",{args:[2,4]}),jsxRuntimeExports.jsx("meshStandardMaterial",{color:"#3b82f6",transparent:!0,opacity:.4,metalness:.33,roughness:.6})]}),N=(B,U=1)=>jsxRuntimeExports.jsxs("group",{position:B,scale:[U,U,U],children:[jsxRuntimeExports.jsxs("mesh",{position:[0,2,0],castShadow:!0,receiveShadow:!0,children:[jsxRuntimeExports.jsx("coneGeometry",{args:[4,8,16]}),jsxRuntimeExports.jsx("meshStandardMaterial",{color:"#7a7a7a",roughness:.9,metalness:.2})]}),jsxRuntimeExports.jsxs("mesh",{position:[0,5.5,0],castShadow:!0,receiveShadow:!0,children:[jsxRuntimeExports.jsx("coneGeometry",{args:[1.5,2,8]}),jsxRuntimeExports.jsx("meshStandardMaterial",{color:"#ffffff",roughness:.2,metalness:.1})]})]}),F=(B,U=1)=>jsxRuntimeExports.jsxs("mesh",{position:B,scale:[U,U*.5,U],castShadow:!0,receiveShadow:!0,children:[jsxRuntimeExports.jsx("sphereGeometry",{args:[2,16,16]})," ",jsxRuntimeExports.jsx("meshStandardMaterial",{color:"#90a955",roughness:.9,metalness:.1})]});return jsxRuntimeExports.jsxs("group",{ref:o,position:[0,-2,0],children:[jsxRuntimeExports.jsxs("mesh",{rotation:[-Math.PI/2,0,0],position:[0,0,0],receiveShadow:!0,children:[jsxRuntimeExports.jsx("planeGeometry",{args:[40,40,64,64]}),jsxRuntimeExports.jsx("meshStandardMaterial",{color:"#90a955",wireframe:!1,roughness:.8,metalness:.1})]}),jsxRuntimeExports.jsxs("group",{position:[0,.1,0],children:[L([0,0,-8]),L([1,0,-4]),L([0,0,0]),L([-1,0,4]),L([0,0,8])]}),e.map(B=>{const U=B[n],z=getRegionColor(U.waterAccessLevel),K=.1+U.waterAccessLevel/100*.3;return jsxRuntimeExports.jsxs("group",{position:[B.x,.2,B.z],children:[jsxRuntimeExports.jsxs("mesh",{castShadow:!0,receiveShadow:!0,onClick:Q=>w(Q,{...B,currentData:U}),onPointerOver:Q=>{document.body.style.cursor="pointer",Q.object instanceof Mesh&&Q.object.material instanceof MeshStandardMaterial&&(Q.object.userData.originalColor=Q.object.material.color.getHex(),Q.object.material.color.set(11393254)),Q.object.scale.y=1.2},onPointerOut:Q=>{document.body.style.cursor="default",Q.object instanceof Mesh&&Q.object.material instanceof MeshStandardMaterial&&Q.object.userData.originalColor!==void 0&&Q.object.material.color.set(Q.object.userData.originalColor),Q.object.scale.y=1},children:[jsxRuntimeExports.jsx("boxGeometry",{args:[B.width,K,B.depth]}),jsxRuntimeExports.jsx("meshStandardMaterial",{color:new Color$1(z),roughness:.7,metalness:.1})]}),U.waterAccessLevel>70&&jsxRuntimeExports.jsx("group",{position:[0,K,0],children:[[-.4,.4],[.4,-.4],[-.4,-.4],[.4,.4]].map(([Q,q],H)=>jsxRuntimeExports.jsxs("mesh",{position:[Q,0,q],rotation:[0,Math.random()*Math.PI,0],children:[jsxRuntimeExports.jsx("coneGeometry",{args:[.15,.3,4]}),jsxRuntimeExports.jsx("meshStandardMaterial",{color:"#4a5a23"})]},H))})]},B.id)}),C.current.map((B,U)=>jsxRuntimeExports.jsx("group",{position:[B.x,0,B.z],children:R(B.scale)},`tree-${U}`)),jsxRuntimeExports.jsx(Stable,{position:[10,0,-10]})," ",N([-18,0,-18],2),N([18,0,-18],1.5),N([-15,0,15],1.8),N([10,0,18],2.2),F([-5,0,-15],1.5)," ",jsxRuntimeExports.jsx(Sun,{position:[20,15,-20]}),jsxRuntimeExports.jsx(Clouds,{}),n==="wet"&&jsxRuntimeExports.jsx(Rain,{}),jsxRuntimeExports.jsx("directionalLight",{position:[5,10,5],intensity:u,castShadow:!0,children:jsxRuntimeExports.jsx("orthographicCamera",{attach:"shadow-camera",args:[-10,10,-10,10,.1,50]})}),jsxRuntimeExports.jsx("directionalLight",{position:[-5,8,-5],intensity:f*.5})," ",jsxRuntimeExports.jsx("ambientLight",{intensity:f}),jsxRuntimeExports.jsx("fog",{attach:"fog",args:[p,v,S]})]})},WaterAccessMap$1=reactExports.memo(WaterAccessMap),MapLegend=()=>jsxRuntimeExports.jsxs("div",{className:"bg-white/90 backdrop-blur-sm p-3 rounded-lg shadow-md",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-semibold mb-2",children:"Acesso Hídrico"}),jsxRuntimeExports.jsxs("div",{className:"space-y-1.5",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-4 h-4 rounded bg-green-500 mr-2"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-700",children:"Ótimo (80-100%)"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-4 h-4 rounded bg-blue-500 mr-2"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-700",children:"Bom (60-80%)"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-4 h-4 rounded bg-yellow-500 mr-2"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-700",children:"Moderado (40-60%)"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-4 h-4 rounded bg-orange-500 mr-2"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-700",children:"Deficiente (20-40%)"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-4 h-4 rounded bg-red-500 mr-2"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-700",children:"Crítico (0-20%)"})]})]})]}),_changeEvent={type:"change"},_startEvent={type:"start"},_endEvent={type:"end"},_ray=new Ray,_plane=new Plane,TILT_LIMIT=Math.cos(70*MathUtils.DEG2RAD);class OrbitControls extends EventDispatcher$1{constructor(e,n){super(),this.object=e,this.domElement=n,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new Vector3,this.cursor=new Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:MOUSE.ROTATE,MIDDLE:MOUSE.DOLLY,RIGHT:MOUSE.PAN},this.touches={ONE:TOUCH.ROTATE,TWO:TOUCH.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return f.phi},this.getAzimuthalAngle=function(){return f.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(ve){ve.addEventListener("keydown",Tt),this._domElementKeyEvents=ve},this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",Tt),this._domElementKeyEvents=null},this.saveState=function(){o.target0.copy(o.target),o.position0.copy(o.object.position),o.zoom0=o.object.zoom},this.reset=function(){o.target.copy(o.target0),o.object.position.copy(o.position0),o.object.zoom=o.zoom0,o.object.updateProjectionMatrix(),o.dispatchEvent(_changeEvent),o.update(),u=l.NONE},this.update=function(){const ve=new Vector3,ze=new Quaternion().setFromUnitVectors(e.up,new Vector3(0,1,0)),yt=ze.clone().invert(),Ee=new Vector3,it=new Quaternion,je=new Vector3,at=2*Math.PI;return function(Bt=null){const tn=o.object.position;ve.copy(tn).sub(o.target),ve.applyQuaternion(ze),f.setFromVector3(ve),o.autoRotate&&u===l.NONE&&se(q(Bt)),o.enableDamping?(f.theta+=d.theta*o.dampingFactor,f.phi+=d.phi*o.dampingFactor):(f.theta+=d.theta,f.phi+=d.phi);let rn=o.minAzimuthAngle,cn=o.maxAzimuthAngle;isFinite(rn)&&isFinite(cn)&&(rn<-Math.PI?rn+=at:rn>Math.PI&&(rn-=at),cn<-Math.PI?cn+=at:cn>Math.PI&&(cn-=at),rn<=cn?f.theta=Math.max(rn,Math.min(cn,f.theta)):f.theta=f.theta>(rn+cn)/2?Math.max(rn,f.theta):Math.min(cn,f.theta)),f.phi=Math.max(o.minPolarAngle,Math.min(o.maxPolarAngle,f.phi)),f.makeSafe(),o.enableDamping===!0?o.target.addScaledVector(m,o.dampingFactor):o.target.add(m),o.target.sub(o.cursor),o.target.clampLength(o.minTargetRadius,o.maxTargetRadius),o.target.add(o.cursor);let Yt=!1;if(o.zoomToCursor&&U||o.object.isOrthographicCamera)f.radius=oe(f.radius);else{const pn=f.radius;f.radius=oe(f.radius*p),Yt=pn!=f.radius}if(ve.setFromSpherical(f),ve.applyQuaternion(yt),tn.copy(o.target).add(ve),o.object.lookAt(o.target),o.enableDamping===!0?(d.theta*=1-o.dampingFactor,d.phi*=1-o.dampingFactor,m.multiplyScalar(1-o.dampingFactor)):(d.set(0,0,0),m.set(0,0,0)),o.zoomToCursor&&U){let pn=null;if(o.object.isPerspectiveCamera){const In=ve.length();pn=oe(In*p);const fi=In-pn;o.object.position.addScaledVector(F,fi),o.object.updateMatrixWorld(),Yt=!!fi}else if(o.object.isOrthographicCamera){const In=new Vector3(B.x,B.y,0);In.unproject(o.object);const fi=o.object.zoom;o.object.zoom=Math.max(o.minZoom,Math.min(o.maxZoom,o.object.zoom/p)),o.object.updateProjectionMatrix(),Yt=fi!==o.object.zoom;const zr=new Vector3(B.x,B.y,0);zr.unproject(o.object),o.object.position.sub(zr).add(In),o.object.updateMatrixWorld(),pn=ve.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),o.zoomToCursor=!1;pn!==null&&(this.screenSpacePanning?o.target.set(0,0,-1).transformDirection(o.object.matrix).multiplyScalar(pn).add(o.object.position):(_ray.origin.copy(o.object.position),_ray.direction.set(0,0,-1).transformDirection(o.object.matrix),Math.abs(o.object.up.dot(_ray.direction))<TILT_LIMIT?e.lookAt(o.target):(_plane.setFromNormalAndCoplanarPoint(o.object.up,o.target),_ray.intersectPlane(_plane,o.target))))}else if(o.object.isOrthographicCamera){const pn=o.object.zoom;o.object.zoom=Math.max(o.minZoom,Math.min(o.maxZoom,o.object.zoom/p)),pn!==o.object.zoom&&(o.object.updateProjectionMatrix(),Yt=!0)}return p=1,U=!1,Yt||Ee.distanceToSquared(o.object.position)>h||8*(1-it.dot(o.object.quaternion))>h||je.distanceToSquared(o.target)>h?(o.dispatchEvent(_changeEvent),Ee.copy(o.object.position),it.copy(o.object.quaternion),je.copy(o.target),!0):!1}}(),this.dispose=function(){o.domElement.removeEventListener("contextmenu",Ft),o.domElement.removeEventListener("pointerdown",ht),o.domElement.removeEventListener("pointercancel",me),o.domElement.removeEventListener("wheel",Ve),o.domElement.removeEventListener("pointermove",xt),o.domElement.removeEventListener("pointerup",me),o.domElement.getRootNode().removeEventListener("keydown",nt,{capture:!0}),o._domElementKeyEvents!==null&&(o._domElementKeyEvents.removeEventListener("keydown",Tt),o._domElementKeyEvents=null)};const o=this,l={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let u=l.NONE;const h=1e-6,f=new Spherical,d=new Spherical;let p=1;const m=new Vector3,v=new Vector2,b=new Vector2,S=new Vector2,T=new Vector2,C=new Vector2,w=new Vector2,R=new Vector2,L=new Vector2,N=new Vector2,F=new Vector3,B=new Vector2;let U=!1;const z=[],K={};let Q=!1;function q(ve){return ve!==null?2*Math.PI/60*o.autoRotateSpeed*ve:2*Math.PI/60/60*o.autoRotateSpeed}function H(ve){const ze=Math.abs(ve*.01);return Math.pow(.95,o.zoomSpeed*ze)}function se(ve){d.theta-=ve}function le(ve){d.phi-=ve}const ne=function(){const ve=new Vector3;return function(yt,Ee){ve.setFromMatrixColumn(Ee,0),ve.multiplyScalar(-yt),m.add(ve)}}(),ce=function(){const ve=new Vector3;return function(yt,Ee){o.screenSpacePanning===!0?ve.setFromMatrixColumn(Ee,1):(ve.setFromMatrixColumn(Ee,0),ve.crossVectors(o.object.up,ve)),ve.multiplyScalar(yt),m.add(ve)}}(),fe=function(){const ve=new Vector3;return function(yt,Ee){const it=o.domElement;if(o.object.isPerspectiveCamera){const je=o.object.position;ve.copy(je).sub(o.target);let at=ve.length();at*=Math.tan(o.object.fov/2*Math.PI/180),ne(2*yt*at/it.clientHeight,o.object.matrix),ce(2*Ee*at/it.clientHeight,o.object.matrix)}else o.object.isOrthographicCamera?(ne(yt*(o.object.right-o.object.left)/o.object.zoom/it.clientWidth,o.object.matrix),ce(Ee*(o.object.top-o.object.bottom)/o.object.zoom/it.clientHeight,o.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),o.enablePan=!1)}}();function ge(ve){o.object.isPerspectiveCamera||o.object.isOrthographicCamera?p/=ve:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),o.enableZoom=!1)}function Z(ve){o.object.isPerspectiveCamera||o.object.isOrthographicCamera?p*=ve:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),o.enableZoom=!1)}function ie(ve,ze){if(!o.zoomToCursor)return;U=!0;const yt=o.domElement.getBoundingClientRect(),Ee=ve-yt.left,it=ze-yt.top,je=yt.width,at=yt.height;B.x=Ee/je*2-1,B.y=-(it/at)*2+1,F.set(B.x,B.y,1).unproject(o.object).sub(o.object.position).normalize()}function oe(ve){return Math.max(o.minDistance,Math.min(o.maxDistance,ve))}function ae(ve){v.set(ve.clientX,ve.clientY)}function pe(ve){ie(ve.clientX,ve.clientX),R.set(ve.clientX,ve.clientY)}function we(ve){T.set(ve.clientX,ve.clientY)}function _e(ve){b.set(ve.clientX,ve.clientY),S.subVectors(b,v).multiplyScalar(o.rotateSpeed);const ze=o.domElement;se(2*Math.PI*S.x/ze.clientHeight),le(2*Math.PI*S.y/ze.clientHeight),v.copy(b),o.update()}function Me(ve){L.set(ve.clientX,ve.clientY),N.subVectors(L,R),N.y>0?ge(H(N.y)):N.y<0&&Z(H(N.y)),R.copy(L),o.update()}function Oe(ve){C.set(ve.clientX,ve.clientY),w.subVectors(C,T).multiplyScalar(o.panSpeed),fe(w.x,w.y),T.copy(C),o.update()}function Ye(ve){ie(ve.clientX,ve.clientY),ve.deltaY<0?Z(H(ve.deltaY)):ve.deltaY>0&&ge(H(ve.deltaY)),o.update()}function qe(ve){let ze=!1;switch(ve.code){case o.keys.UP:ve.ctrlKey||ve.metaKey||ve.shiftKey?le(2*Math.PI*o.rotateSpeed/o.domElement.clientHeight):fe(0,o.keyPanSpeed),ze=!0;break;case o.keys.BOTTOM:ve.ctrlKey||ve.metaKey||ve.shiftKey?le(-2*Math.PI*o.rotateSpeed/o.domElement.clientHeight):fe(0,-o.keyPanSpeed),ze=!0;break;case o.keys.LEFT:ve.ctrlKey||ve.metaKey||ve.shiftKey?se(2*Math.PI*o.rotateSpeed/o.domElement.clientHeight):fe(o.keyPanSpeed,0),ze=!0;break;case o.keys.RIGHT:ve.ctrlKey||ve.metaKey||ve.shiftKey?se(-2*Math.PI*o.rotateSpeed/o.domElement.clientHeight):fe(-o.keyPanSpeed,0),ze=!0;break}ze&&(ve.preventDefault(),o.update())}function Re(ve){if(z.length===1)v.set(ve.pageX,ve.pageY);else{const ze=Se(ve),yt=.5*(ve.pageX+ze.x),Ee=.5*(ve.pageY+ze.y);v.set(yt,Ee)}}function Je(ve){if(z.length===1)T.set(ve.pageX,ve.pageY);else{const ze=Se(ve),yt=.5*(ve.pageX+ze.x),Ee=.5*(ve.pageY+ze.y);T.set(yt,Ee)}}function ke(ve){const ze=Se(ve),yt=ve.pageX-ze.x,Ee=ve.pageY-ze.y,it=Math.sqrt(yt*yt+Ee*Ee);R.set(0,it)}function de(ve){o.enableZoom&&ke(ve),o.enablePan&&Je(ve)}function Be(ve){o.enableZoom&&ke(ve),o.enableRotate&&Re(ve)}function Pe(ve){if(z.length==1)b.set(ve.pageX,ve.pageY);else{const yt=Se(ve),Ee=.5*(ve.pageX+yt.x),it=.5*(ve.pageY+yt.y);b.set(Ee,it)}S.subVectors(b,v).multiplyScalar(o.rotateSpeed);const ze=o.domElement;se(2*Math.PI*S.x/ze.clientHeight),le(2*Math.PI*S.y/ze.clientHeight),v.copy(b)}function et(ve){if(z.length===1)C.set(ve.pageX,ve.pageY);else{const ze=Se(ve),yt=.5*(ve.pageX+ze.x),Ee=.5*(ve.pageY+ze.y);C.set(yt,Ee)}w.subVectors(C,T).multiplyScalar(o.panSpeed),fe(w.x,w.y),T.copy(C)}function He(ve){const ze=Se(ve),yt=ve.pageX-ze.x,Ee=ve.pageY-ze.y,it=Math.sqrt(yt*yt+Ee*Ee);L.set(0,it),N.set(0,Math.pow(L.y/R.y,o.zoomSpeed)),ge(N.y),R.copy(L);const je=(ve.pageX+ze.x)*.5,at=(ve.pageY+ze.y)*.5;ie(je,at)}function rt(ve){o.enableZoom&&He(ve),o.enablePan&&et(ve)}function ot(ve){o.enableZoom&&He(ve),o.enableRotate&&Pe(ve)}function ht(ve){o.enabled!==!1&&(z.length===0&&(o.domElement.setPointerCapture(ve.pointerId),o.domElement.addEventListener("pointermove",xt),o.domElement.addEventListener("pointerup",me)),!qt(ve)&&(dt(ve),ve.pointerType==="touch"?ut(ve):he(ve)))}function xt(ve){o.enabled!==!1&&(ve.pointerType==="touch"?ft(ve):Ne(ve))}function me(ve){switch(yn(ve),z.length){case 0:o.domElement.releasePointerCapture(ve.pointerId),o.domElement.removeEventListener("pointermove",xt),o.domElement.removeEventListener("pointerup",me),o.dispatchEvent(_endEvent),u=l.NONE;break;case 1:const ze=z[0],yt=K[ze];ut({pointerId:ze,pageX:yt.x,pageY:yt.y});break}}function he(ve){let ze;switch(ve.button){case 0:ze=o.mouseButtons.LEFT;break;case 1:ze=o.mouseButtons.MIDDLE;break;case 2:ze=o.mouseButtons.RIGHT;break;default:ze=-1}switch(ze){case MOUSE.DOLLY:if(o.enableZoom===!1)return;pe(ve),u=l.DOLLY;break;case MOUSE.ROTATE:if(ve.ctrlKey||ve.metaKey||ve.shiftKey){if(o.enablePan===!1)return;we(ve),u=l.PAN}else{if(o.enableRotate===!1)return;ae(ve),u=l.ROTATE}break;case MOUSE.PAN:if(ve.ctrlKey||ve.metaKey||ve.shiftKey){if(o.enableRotate===!1)return;ae(ve),u=l.ROTATE}else{if(o.enablePan===!1)return;we(ve),u=l.PAN}break;default:u=l.NONE}u!==l.NONE&&o.dispatchEvent(_startEvent)}function Ne(ve){switch(u){case l.ROTATE:if(o.enableRotate===!1)return;_e(ve);break;case l.DOLLY:if(o.enableZoom===!1)return;Me(ve);break;case l.PAN:if(o.enablePan===!1)return;Oe(ve);break}}function Ve(ve){o.enabled===!1||o.enableZoom===!1||u!==l.NONE||(ve.preventDefault(),o.dispatchEvent(_startEvent),Ye(tt(ve)),o.dispatchEvent(_endEvent))}function tt(ve){const ze=ve.deltaMode,yt={clientX:ve.clientX,clientY:ve.clientY,deltaY:ve.deltaY};switch(ze){case 1:yt.deltaY*=16;break;case 2:yt.deltaY*=100;break}return ve.ctrlKey&&!Q&&(yt.deltaY*=10),yt}function nt(ve){ve.key==="Control"&&(Q=!0,o.domElement.getRootNode().addEventListener("keyup",Pt,{passive:!0,capture:!0}))}function Pt(ve){ve.key==="Control"&&(Q=!1,o.domElement.getRootNode().removeEventListener("keyup",Pt,{passive:!0,capture:!0}))}function Tt(ve){o.enabled===!1||o.enablePan===!1||qe(ve)}function ut(ve){switch(It(ve),z.length){case 1:switch(o.touches.ONE){case TOUCH.ROTATE:if(o.enableRotate===!1)return;Re(ve),u=l.TOUCH_ROTATE;break;case TOUCH.PAN:if(o.enablePan===!1)return;Je(ve),u=l.TOUCH_PAN;break;default:u=l.NONE}break;case 2:switch(o.touches.TWO){case TOUCH.DOLLY_PAN:if(o.enableZoom===!1&&o.enablePan===!1)return;de(ve),u=l.TOUCH_DOLLY_PAN;break;case TOUCH.DOLLY_ROTATE:if(o.enableZoom===!1&&o.enableRotate===!1)return;Be(ve),u=l.TOUCH_DOLLY_ROTATE;break;default:u=l.NONE}break;default:u=l.NONE}u!==l.NONE&&o.dispatchEvent(_startEvent)}function ft(ve){switch(It(ve),u){case l.TOUCH_ROTATE:if(o.enableRotate===!1)return;Pe(ve),o.update();break;case l.TOUCH_PAN:if(o.enablePan===!1)return;et(ve),o.update();break;case l.TOUCH_DOLLY_PAN:if(o.enableZoom===!1&&o.enablePan===!1)return;rt(ve),o.update();break;case l.TOUCH_DOLLY_ROTATE:if(o.enableZoom===!1&&o.enableRotate===!1)return;ot(ve),o.update();break;default:u=l.NONE}}function Ft(ve){o.enabled!==!1&&ve.preventDefault()}function dt(ve){z.push(ve.pointerId)}function yn(ve){delete K[ve.pointerId];for(let ze=0;ze<z.length;ze++)if(z[ze]==ve.pointerId){z.splice(ze,1);return}}function qt(ve){for(let ze=0;ze<z.length;ze++)if(z[ze]==ve.pointerId)return!0;return!1}function It(ve){let ze=K[ve.pointerId];ze===void 0&&(ze=new Vector2,K[ve.pointerId]=ze),ze.set(ve.pageX,ve.pageY)}function Se(ve){const ze=ve.pointerId===z[0]?z[1]:z[0];return K[ze]}o.domElement.addEventListener("contextmenu",Ft),o.domElement.addEventListener("pointerdown",ht),o.domElement.addEventListener("pointercancel",me),o.domElement.addEventListener("wheel",Ve,{passive:!1}),o.domElement.getRootNode().addEventListener("keydown",nt,{passive:!0,capture:!0}),this.update()}}const MapControls=()=>{const{controls:t}=useThree(),e=()=>{if(t&&t instanceof OrbitControls)return t;console.warn("Os controles não são uma instância de OrbitControls ou estão indefinidos.")},n=()=>{const h=e();h&&(h.dolly(.8),h.update())},o=()=>{const h=e();h&&(h.dolly(1.2),h.update())},l=()=>{const h=e();h&&(h.reset(),h.update())},u=()=>{const h=document.documentElement;document.fullscreenElement?document.exitFullscreen().catch(f=>{console.error(`Erro ao tentar sair da tela cheia: ${f.message}`)}):h.requestFullscreen().catch(f=>{console.error(`Erro ao tentar ativar tela cheia: ${f.message}`)})};return jsxRuntimeExports.jsx(Html,{position:[0,0,0],style:{position:"absolute",right:"-470px",top:"-245px",zIndex:30},children:jsxRuntimeExports.jsx("div",{className:"bg-white/90 backdrop-blur-sm p-2 rounded-lg shadow-md",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col space-y-2",children:[jsxRuntimeExports.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded",title:"Zoom In",onClick:n,children:jsxRuntimeExports.jsx(ZoomIn,{className:"w-5 h-5 text-gray-600"})}),jsxRuntimeExports.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded",title:"Zoom Out",onClick:o,children:jsxRuntimeExports.jsx(ZoomOut,{className:"w-5 h-5 text-gray-600"})}),jsxRuntimeExports.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded",title:"Resetar Vista",onClick:l,children:jsxRuntimeExports.jsx(RotateCcw,{className:"w-5 h-5 text-gray-600"})}),jsxRuntimeExports.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded",title:"Tela Cheia",onClick:u,children:jsxRuntimeExports.jsx(Maximize,{className:"w-5 h-5 text-gray-600"})})]})})})},MapContainer=({onSelectRegion:t})=>{const{isLoading:e,seasonType:n,setSeasonType:o}=useAppContext();return jsxRuntimeExports.jsxs("div",{className:"relative w-full h-full bg-sky-50",children:[e&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gray-100/80 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center",children:[jsxRuntimeExports.jsx("div",{className:"h-10 w-10 border-4 border-t-blue-500 border-blue-200 rounded-full animate-spin"}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-gray-600 font-medium",children:"Carregando mapa..."})]})}),jsxRuntimeExports.jsxs(Canvas,{camera:{position:[0,20,25],fov:45},shadows:!0,className:"w-full h-full",children:[jsxRuntimeExports.jsx("color",{attach:"background",args:["#f0f9ff"]}),jsxRuntimeExports.jsxs(reactExports.Suspense,{fallback:null,children:[jsxRuntimeExports.jsx(WaterAccessMap$1,{onSelectRegion:t}),jsxRuntimeExports.jsx(OrbitControls$1,{enablePan:!0,enableZoom:!0,enableRotate:!0,minPolarAngle:Math.PI/6,maxPolarAngle:Math.PI/2.1,minDistance:15,maxDistance:35}),jsxRuntimeExports.jsx(MapControls,{})]})]}),jsxRuntimeExports.jsx("div",{className:"absolute top-4 left-4 z-20",children:jsxRuntimeExports.jsx(MapLegend,{})}),jsxRuntimeExports.jsx("div",{className:"absolute top-4 right-4 z-20 flex flex-col gap-2",children:jsxRuntimeExports.jsx("div",{className:"bg-white/90 backdrop-blur-sm p-2 rounded-lg shadow-md",children:jsxRuntimeExports.jsx("div",{className:"space-y-1",children:jsxRuntimeExports.jsxs("select",{value:n,onChange:l=>o(l.target.value),className:"w-full text-xs p-1.5 border border-gray-200 rounded",children:[jsxRuntimeExports.jsx("option",{value:"dry",children:"Estação Seca"}),jsxRuntimeExports.jsx("option",{value:"wet",children:"Estação Chuvosa"})]})})})})]})};function r(t){var e,n,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var l=t.length;for(e=0;e<l;e++)t[e]&&(n=r(t[e]))&&(o&&(o+=" "),o+=n)}else for(n in t)t[n]&&(o&&(o+=" "),o+=n);return o}function clsx(){for(var t,e,n=0,o="",l=arguments.length;n<l;n++)(t=arguments[n])&&(e=r(t))&&(o&&(o+=" "),o+=e);return o}var isArray_1,hasRequiredIsArray;function requireIsArray(){if(hasRequiredIsArray)return isArray_1;hasRequiredIsArray=1;var t=Array.isArray;return isArray_1=t,isArray_1}var _freeGlobal,hasRequired_freeGlobal;function require_freeGlobal(){if(hasRequired_freeGlobal)return _freeGlobal;hasRequired_freeGlobal=1;var t=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal;return _freeGlobal=t,_freeGlobal}var _root,hasRequired_root;function require_root(){if(hasRequired_root)return _root;hasRequired_root=1;var t=require_freeGlobal(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return _root=n,_root}var _Symbol,hasRequired_Symbol;function require_Symbol(){if(hasRequired_Symbol)return _Symbol;hasRequired_Symbol=1;var t=require_root(),e=t.Symbol;return _Symbol=e,_Symbol}var _getRawTag,hasRequired_getRawTag;function require_getRawTag(){if(hasRequired_getRawTag)return _getRawTag;hasRequired_getRawTag=1;var t=require_Symbol(),e=Object.prototype,n=e.hasOwnProperty,o=e.toString,l=t?t.toStringTag:void 0;function u(h){var f=n.call(h,l),d=h[l];try{h[l]=void 0;var p=!0}catch{}var m=o.call(h);return p&&(f?h[l]=d:delete h[l]),m}return _getRawTag=u,_getRawTag}var _objectToString,hasRequired_objectToString;function require_objectToString(){if(hasRequired_objectToString)return _objectToString;hasRequired_objectToString=1;var t=Object.prototype,e=t.toString;function n(o){return e.call(o)}return _objectToString=n,_objectToString}var _baseGetTag,hasRequired_baseGetTag;function require_baseGetTag(){if(hasRequired_baseGetTag)return _baseGetTag;hasRequired_baseGetTag=1;var t=require_Symbol(),e=require_getRawTag(),n=require_objectToString(),o="[object Null]",l="[object Undefined]",u=t?t.toStringTag:void 0;function h(f){return f==null?f===void 0?l:o:u&&u in Object(f)?e(f):n(f)}return _baseGetTag=h,_baseGetTag}var isObjectLike_1,hasRequiredIsObjectLike;function requireIsObjectLike(){if(hasRequiredIsObjectLike)return isObjectLike_1;hasRequiredIsObjectLike=1;function t(e){return e!=null&&typeof e=="object"}return isObjectLike_1=t,isObjectLike_1}var isSymbol_1,hasRequiredIsSymbol;function requireIsSymbol(){if(hasRequiredIsSymbol)return isSymbol_1;hasRequiredIsSymbol=1;var t=require_baseGetTag(),e=requireIsObjectLike(),n="[object Symbol]";function o(l){return typeof l=="symbol"||e(l)&&t(l)==n}return isSymbol_1=o,isSymbol_1}var _isKey,hasRequired_isKey;function require_isKey(){if(hasRequired_isKey)return _isKey;hasRequired_isKey=1;var t=requireIsArray(),e=requireIsSymbol(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;function l(u,h){if(t(u))return!1;var f=typeof u;return f=="number"||f=="symbol"||f=="boolean"||u==null||e(u)?!0:o.test(u)||!n.test(u)||h!=null&&u in Object(h)}return _isKey=l,_isKey}var isObject_1,hasRequiredIsObject;function requireIsObject(){if(hasRequiredIsObject)return isObject_1;hasRequiredIsObject=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return isObject_1=t,isObject_1}var isFunction_1,hasRequiredIsFunction;function requireIsFunction(){if(hasRequiredIsFunction)return isFunction_1;hasRequiredIsFunction=1;var t=require_baseGetTag(),e=requireIsObject(),n="[object AsyncFunction]",o="[object Function]",l="[object GeneratorFunction]",u="[object Proxy]";function h(f){if(!e(f))return!1;var d=t(f);return d==o||d==l||d==n||d==u}return isFunction_1=h,isFunction_1}var _coreJsData,hasRequired_coreJsData;function require_coreJsData(){if(hasRequired_coreJsData)return _coreJsData;hasRequired_coreJsData=1;var t=require_root(),e=t["__core-js_shared__"];return _coreJsData=e,_coreJsData}var _isMasked,hasRequired_isMasked;function require_isMasked(){if(hasRequired_isMasked)return _isMasked;hasRequired_isMasked=1;var t=require_coreJsData(),e=function(){var o=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}();function n(o){return!!e&&e in o}return _isMasked=n,_isMasked}var _toSource,hasRequired_toSource;function require_toSource(){if(hasRequired_toSource)return _toSource;hasRequired_toSource=1;var t=Function.prototype,e=t.toString;function n(o){if(o!=null){try{return e.call(o)}catch{}try{return o+""}catch{}}return""}return _toSource=n,_toSource}var _baseIsNative,hasRequired_baseIsNative;function require_baseIsNative(){if(hasRequired_baseIsNative)return _baseIsNative;hasRequired_baseIsNative=1;var t=requireIsFunction(),e=require_isMasked(),n=requireIsObject(),o=require_toSource(),l=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,h=Function.prototype,f=Object.prototype,d=h.toString,p=f.hasOwnProperty,m=RegExp("^"+d.call(p).replace(l,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function v(b){if(!n(b)||e(b))return!1;var S=t(b)?m:u;return S.test(o(b))}return _baseIsNative=v,_baseIsNative}var _getValue,hasRequired_getValue;function require_getValue(){if(hasRequired_getValue)return _getValue;hasRequired_getValue=1;function t(e,n){return e==null?void 0:e[n]}return _getValue=t,_getValue}var _getNative,hasRequired_getNative;function require_getNative(){if(hasRequired_getNative)return _getNative;hasRequired_getNative=1;var t=require_baseIsNative(),e=require_getValue();function n(o,l){var u=e(o,l);return t(u)?u:void 0}return _getNative=n,_getNative}var _nativeCreate,hasRequired_nativeCreate;function require_nativeCreate(){if(hasRequired_nativeCreate)return _nativeCreate;hasRequired_nativeCreate=1;var t=require_getNative(),e=t(Object,"create");return _nativeCreate=e,_nativeCreate}var _hashClear,hasRequired_hashClear;function require_hashClear(){if(hasRequired_hashClear)return _hashClear;hasRequired_hashClear=1;var t=require_nativeCreate();function e(){this.__data__=t?t(null):{},this.size=0}return _hashClear=e,_hashClear}var _hashDelete,hasRequired_hashDelete;function require_hashDelete(){if(hasRequired_hashDelete)return _hashDelete;hasRequired_hashDelete=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return _hashDelete=t,_hashDelete}var _hashGet,hasRequired_hashGet;function require_hashGet(){if(hasRequired_hashGet)return _hashGet;hasRequired_hashGet=1;var t=require_nativeCreate(),e="__lodash_hash_undefined__",n=Object.prototype,o=n.hasOwnProperty;function l(u){var h=this.__data__;if(t){var f=h[u];return f===e?void 0:f}return o.call(h,u)?h[u]:void 0}return _hashGet=l,_hashGet}var _hashHas,hasRequired_hashHas;function require_hashHas(){if(hasRequired_hashHas)return _hashHas;hasRequired_hashHas=1;var t=require_nativeCreate(),e=Object.prototype,n=e.hasOwnProperty;function o(l){var u=this.__data__;return t?u[l]!==void 0:n.call(u,l)}return _hashHas=o,_hashHas}var _hashSet,hasRequired_hashSet;function require_hashSet(){if(hasRequired_hashSet)return _hashSet;hasRequired_hashSet=1;var t=require_nativeCreate(),e="__lodash_hash_undefined__";function n(o,l){var u=this.__data__;return this.size+=this.has(o)?0:1,u[o]=t&&l===void 0?e:l,this}return _hashSet=n,_hashSet}var _Hash,hasRequired_Hash;function require_Hash(){if(hasRequired_Hash)return _Hash;hasRequired_Hash=1;var t=require_hashClear(),e=require_hashDelete(),n=require_hashGet(),o=require_hashHas(),l=require_hashSet();function u(h){var f=-1,d=h==null?0:h.length;for(this.clear();++f<d;){var p=h[f];this.set(p[0],p[1])}}return u.prototype.clear=t,u.prototype.delete=e,u.prototype.get=n,u.prototype.has=o,u.prototype.set=l,_Hash=u,_Hash}var _listCacheClear,hasRequired_listCacheClear;function require_listCacheClear(){if(hasRequired_listCacheClear)return _listCacheClear;hasRequired_listCacheClear=1;function t(){this.__data__=[],this.size=0}return _listCacheClear=t,_listCacheClear}var eq_1,hasRequiredEq;function requireEq(){if(hasRequiredEq)return eq_1;hasRequiredEq=1;function t(e,n){return e===n||e!==e&&n!==n}return eq_1=t,eq_1}var _assocIndexOf,hasRequired_assocIndexOf;function require_assocIndexOf(){if(hasRequired_assocIndexOf)return _assocIndexOf;hasRequired_assocIndexOf=1;var t=requireEq();function e(n,o){for(var l=n.length;l--;)if(t(n[l][0],o))return l;return-1}return _assocIndexOf=e,_assocIndexOf}var _listCacheDelete,hasRequired_listCacheDelete;function require_listCacheDelete(){if(hasRequired_listCacheDelete)return _listCacheDelete;hasRequired_listCacheDelete=1;var t=require_assocIndexOf(),e=Array.prototype,n=e.splice;function o(l){var u=this.__data__,h=t(u,l);if(h<0)return!1;var f=u.length-1;return h==f?u.pop():n.call(u,h,1),--this.size,!0}return _listCacheDelete=o,_listCacheDelete}var _listCacheGet,hasRequired_listCacheGet;function require_listCacheGet(){if(hasRequired_listCacheGet)return _listCacheGet;hasRequired_listCacheGet=1;var t=require_assocIndexOf();function e(n){var o=this.__data__,l=t(o,n);return l<0?void 0:o[l][1]}return _listCacheGet=e,_listCacheGet}var _listCacheHas,hasRequired_listCacheHas;function require_listCacheHas(){if(hasRequired_listCacheHas)return _listCacheHas;hasRequired_listCacheHas=1;var t=require_assocIndexOf();function e(n){return t(this.__data__,n)>-1}return _listCacheHas=e,_listCacheHas}var _listCacheSet,hasRequired_listCacheSet;function require_listCacheSet(){if(hasRequired_listCacheSet)return _listCacheSet;hasRequired_listCacheSet=1;var t=require_assocIndexOf();function e(n,o){var l=this.__data__,u=t(l,n);return u<0?(++this.size,l.push([n,o])):l[u][1]=o,this}return _listCacheSet=e,_listCacheSet}var _ListCache,hasRequired_ListCache;function require_ListCache(){if(hasRequired_ListCache)return _ListCache;hasRequired_ListCache=1;var t=require_listCacheClear(),e=require_listCacheDelete(),n=require_listCacheGet(),o=require_listCacheHas(),l=require_listCacheSet();function u(h){var f=-1,d=h==null?0:h.length;for(this.clear();++f<d;){var p=h[f];this.set(p[0],p[1])}}return u.prototype.clear=t,u.prototype.delete=e,u.prototype.get=n,u.prototype.has=o,u.prototype.set=l,_ListCache=u,_ListCache}var _Map,hasRequired_Map;function require_Map(){if(hasRequired_Map)return _Map;hasRequired_Map=1;var t=require_getNative(),e=require_root(),n=t(e,"Map");return _Map=n,_Map}var _mapCacheClear,hasRequired_mapCacheClear;function require_mapCacheClear(){if(hasRequired_mapCacheClear)return _mapCacheClear;hasRequired_mapCacheClear=1;var t=require_Hash(),e=require_ListCache(),n=require_Map();function o(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return _mapCacheClear=o,_mapCacheClear}var _isKeyable,hasRequired_isKeyable;function require_isKeyable(){if(hasRequired_isKeyable)return _isKeyable;hasRequired_isKeyable=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return _isKeyable=t,_isKeyable}var _getMapData,hasRequired_getMapData;function require_getMapData(){if(hasRequired_getMapData)return _getMapData;hasRequired_getMapData=1;var t=require_isKeyable();function e(n,o){var l=n.__data__;return t(o)?l[typeof o=="string"?"string":"hash"]:l.map}return _getMapData=e,_getMapData}var _mapCacheDelete,hasRequired_mapCacheDelete;function require_mapCacheDelete(){if(hasRequired_mapCacheDelete)return _mapCacheDelete;hasRequired_mapCacheDelete=1;var t=require_getMapData();function e(n){var o=t(this,n).delete(n);return this.size-=o?1:0,o}return _mapCacheDelete=e,_mapCacheDelete}var _mapCacheGet,hasRequired_mapCacheGet;function require_mapCacheGet(){if(hasRequired_mapCacheGet)return _mapCacheGet;hasRequired_mapCacheGet=1;var t=require_getMapData();function e(n){return t(this,n).get(n)}return _mapCacheGet=e,_mapCacheGet}var _mapCacheHas,hasRequired_mapCacheHas;function require_mapCacheHas(){if(hasRequired_mapCacheHas)return _mapCacheHas;hasRequired_mapCacheHas=1;var t=require_getMapData();function e(n){return t(this,n).has(n)}return _mapCacheHas=e,_mapCacheHas}var _mapCacheSet,hasRequired_mapCacheSet;function require_mapCacheSet(){if(hasRequired_mapCacheSet)return _mapCacheSet;hasRequired_mapCacheSet=1;var t=require_getMapData();function e(n,o){var l=t(this,n),u=l.size;return l.set(n,o),this.size+=l.size==u?0:1,this}return _mapCacheSet=e,_mapCacheSet}var _MapCache,hasRequired_MapCache;function require_MapCache(){if(hasRequired_MapCache)return _MapCache;hasRequired_MapCache=1;var t=require_mapCacheClear(),e=require_mapCacheDelete(),n=require_mapCacheGet(),o=require_mapCacheHas(),l=require_mapCacheSet();function u(h){var f=-1,d=h==null?0:h.length;for(this.clear();++f<d;){var p=h[f];this.set(p[0],p[1])}}return u.prototype.clear=t,u.prototype.delete=e,u.prototype.get=n,u.prototype.has=o,u.prototype.set=l,_MapCache=u,_MapCache}var memoize_1,hasRequiredMemoize;function requireMemoize(){if(hasRequiredMemoize)return memoize_1;hasRequiredMemoize=1;var t=require_MapCache(),e="Expected a function";function n(o,l){if(typeof o!="function"||l!=null&&typeof l!="function")throw new TypeError(e);var u=function(){var h=arguments,f=l?l.apply(this,h):h[0],d=u.cache;if(d.has(f))return d.get(f);var p=o.apply(this,h);return u.cache=d.set(f,p)||d,p};return u.cache=new(n.Cache||t),u}return n.Cache=t,memoize_1=n,memoize_1}var _memoizeCapped,hasRequired_memoizeCapped;function require_memoizeCapped(){if(hasRequired_memoizeCapped)return _memoizeCapped;hasRequired_memoizeCapped=1;var t=requireMemoize(),e=500;function n(o){var l=t(o,function(h){return u.size===e&&u.clear(),h}),u=l.cache;return l}return _memoizeCapped=n,_memoizeCapped}var _stringToPath,hasRequired_stringToPath;function require_stringToPath(){if(hasRequired_stringToPath)return _stringToPath;hasRequired_stringToPath=1;var t=require_memoizeCapped(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,o=t(function(l){var u=[];return l.charCodeAt(0)===46&&u.push(""),l.replace(e,function(h,f,d,p){u.push(d?p.replace(n,"$1"):f||h)}),u});return _stringToPath=o,_stringToPath}var _arrayMap,hasRequired_arrayMap;function require_arrayMap(){if(hasRequired_arrayMap)return _arrayMap;hasRequired_arrayMap=1;function t(e,n){for(var o=-1,l=e==null?0:e.length,u=Array(l);++o<l;)u[o]=n(e[o],o,e);return u}return _arrayMap=t,_arrayMap}var _baseToString,hasRequired_baseToString;function require_baseToString(){if(hasRequired_baseToString)return _baseToString;hasRequired_baseToString=1;var t=require_Symbol(),e=require_arrayMap(),n=requireIsArray(),o=requireIsSymbol(),l=t?t.prototype:void 0,u=l?l.toString:void 0;function h(f){if(typeof f=="string")return f;if(n(f))return e(f,h)+"";if(o(f))return u?u.call(f):"";var d=f+"";return d=="0"&&1/f==-1/0?"-0":d}return _baseToString=h,_baseToString}var toString_1,hasRequiredToString;function requireToString(){if(hasRequiredToString)return toString_1;hasRequiredToString=1;var t=require_baseToString();function e(n){return n==null?"":t(n)}return toString_1=e,toString_1}var _castPath,hasRequired_castPath;function require_castPath(){if(hasRequired_castPath)return _castPath;hasRequired_castPath=1;var t=requireIsArray(),e=require_isKey(),n=require_stringToPath(),o=requireToString();function l(u,h){return t(u)?u:e(u,h)?[u]:n(o(u))}return _castPath=l,_castPath}var _toKey,hasRequired_toKey;function require_toKey(){if(hasRequired_toKey)return _toKey;hasRequired_toKey=1;var t=requireIsSymbol();function e(n){if(typeof n=="string"||t(n))return n;var o=n+"";return o=="0"&&1/n==-1/0?"-0":o}return _toKey=e,_toKey}var _baseGet,hasRequired_baseGet;function require_baseGet(){if(hasRequired_baseGet)return _baseGet;hasRequired_baseGet=1;var t=require_castPath(),e=require_toKey();function n(o,l){l=t(l,o);for(var u=0,h=l.length;o!=null&&u<h;)o=o[e(l[u++])];return u&&u==h?o:void 0}return _baseGet=n,_baseGet}var get_1,hasRequiredGet;function requireGet(){if(hasRequiredGet)return get_1;hasRequiredGet=1;var t=require_baseGet();function e(n,o,l){var u=n==null?void 0:t(n,o);return u===void 0?l:u}return get_1=e,get_1}var getExports=requireGet();const get=getDefaultExportFromCjs(getExports);var isNil_1,hasRequiredIsNil;function requireIsNil(){if(hasRequiredIsNil)return isNil_1;hasRequiredIsNil=1;function t(e){return e==null}return isNil_1=t,isNil_1}var isNilExports=requireIsNil();const isNil=getDefaultExportFromCjs(isNilExports);var isString_1,hasRequiredIsString;function requireIsString(){if(hasRequiredIsString)return isString_1;hasRequiredIsString=1;var t=require_baseGetTag(),e=requireIsArray(),n=requireIsObjectLike(),o="[object String]";function l(u){return typeof u=="string"||!e(u)&&n(u)&&t(u)==o}return isString_1=l,isString_1}var isStringExports=requireIsString();const isString=getDefaultExportFromCjs(isStringExports);var isFunctionExports=requireIsFunction();const isFunction=getDefaultExportFromCjs(isFunctionExports);var isObjectExports=requireIsObject();const isObject=getDefaultExportFromCjs(isObjectExports);var reactIs={exports:{}},reactIs_production_min={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactIs_production_min;function requireReactIs_production_min(){if(hasRequiredReactIs_production_min)return reactIs_production_min;hasRequiredReactIs_production_min=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.offscreen"),T;T=Symbol.for("react.module.reference");function C(w){if(typeof w=="object"&&w!==null){var R=w.$$typeof;switch(R){case t:switch(w=w.type,w){case n:case l:case o:case p:case m:return w;default:switch(w=w&&w.$$typeof,w){case f:case h:case d:case b:case v:case u:return w;default:return R}}case e:return R}}}return reactIs_production_min.ContextConsumer=h,reactIs_production_min.ContextProvider=u,reactIs_production_min.Element=t,reactIs_production_min.ForwardRef=d,reactIs_production_min.Fragment=n,reactIs_production_min.Lazy=b,reactIs_production_min.Memo=v,reactIs_production_min.Portal=e,reactIs_production_min.Profiler=l,reactIs_production_min.StrictMode=o,reactIs_production_min.Suspense=p,reactIs_production_min.SuspenseList=m,reactIs_production_min.isAsyncMode=function(){return!1},reactIs_production_min.isConcurrentMode=function(){return!1},reactIs_production_min.isContextConsumer=function(w){return C(w)===h},reactIs_production_min.isContextProvider=function(w){return C(w)===u},reactIs_production_min.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===t},reactIs_production_min.isForwardRef=function(w){return C(w)===d},reactIs_production_min.isFragment=function(w){return C(w)===n},reactIs_production_min.isLazy=function(w){return C(w)===b},reactIs_production_min.isMemo=function(w){return C(w)===v},reactIs_production_min.isPortal=function(w){return C(w)===e},reactIs_production_min.isProfiler=function(w){return C(w)===l},reactIs_production_min.isStrictMode=function(w){return C(w)===o},reactIs_production_min.isSuspense=function(w){return C(w)===p},reactIs_production_min.isSuspenseList=function(w){return C(w)===m},reactIs_production_min.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===l||w===o||w===p||w===m||w===S||typeof w=="object"&&w!==null&&(w.$$typeof===b||w.$$typeof===v||w.$$typeof===u||w.$$typeof===h||w.$$typeof===d||w.$$typeof===T||w.getModuleId!==void 0)},reactIs_production_min.typeOf=C,reactIs_production_min}var hasRequiredReactIs;function requireReactIs(){return hasRequiredReactIs||(hasRequiredReactIs=1,reactIs.exports=requireReactIs_production_min()),reactIs.exports}var reactIsExports=requireReactIs(),isNumber_1,hasRequiredIsNumber;function requireIsNumber(){if(hasRequiredIsNumber)return isNumber_1;hasRequiredIsNumber=1;var t=require_baseGetTag(),e=requireIsObjectLike(),n="[object Number]";function o(l){return typeof l=="number"||e(l)&&t(l)==n}return isNumber_1=o,isNumber_1}var _isNaN,hasRequired_isNaN;function require_isNaN(){if(hasRequired_isNaN)return _isNaN;hasRequired_isNaN=1;var t=requireIsNumber();function e(n){return t(n)&&n!=+n}return _isNaN=e,_isNaN}var _isNaNExports=require_isNaN();const isNan=getDefaultExportFromCjs(_isNaNExports);var isNumberExports=requireIsNumber();const isNumber$1=getDefaultExportFromCjs(isNumberExports);var mathSign=function t(e){return e===0?0:e>0?1:-1},isPercent=function t(e){return isString(e)&&e.indexOf("%")===e.length-1},isNumber=function t(e){return isNumber$1(e)&&!isNan(e)},isNumOrStr=function t(e){return isNumber(e)||isString(e)},idCounter=0,uniqueId=function t(e){var n=++idCounter;return"".concat(e||"").concat(n)},getPercentValue=function t(e,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!isNumber(e)&&!isString(e))return o;var u;if(isPercent(e)){var h=e.indexOf("%");u=n*parseFloat(e.slice(0,h))/100}else u=+e;return isNan(u)&&(u=o),l&&u>n&&(u=n),u},getAnyElementOfObject=function t(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},hasDuplicate=function t(e){if(!Array.isArray(e))return!1;for(var n=e.length,o={},l=0;l<n;l++)if(!o[e[l]])o[e[l]]=!0;else return!0;return!1},interpolateNumber$2=function t(e,n){return isNumber(e)&&isNumber(n)?function(o){return e+o*(n-e)}:function(){return n}};function findEntryInArray(t,e,n){return!t||!t.length?null:t.find(function(o){return o&&(typeof e=="function"?e(o):get(o,e))===n})}var compareValues=function t(e,n){return isNumber(e)&&isNumber(n)?e-n:isString(e)&&isString(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function shallowEqual(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var o in e)if({}.hasOwnProperty.call(e,o)&&!{}.hasOwnProperty.call(t,o))return!1;return!0}function _typeof$F(t){"@babel/helpers - typeof";return _typeof$F=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$F(t)}var SVGContainerPropKeys=["viewBox","children"],SVGElementPropKeys=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],PolyElementKeys=["points","pathLength"],FilteredElementKeyMap={svg:SVGContainerPropKeys,polygon:PolyElementKeys,polyline:PolyElementKeys},EventKeys=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],adaptEventHandlers=function t(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var o=e;if(reactExports.isValidElement(e)&&(o=e.props),!isObject(o))return null;var l={};return Object.keys(o).forEach(function(u){EventKeys.includes(u)&&(l[u]=n||function(h){return o[u](o,h)})}),l},getEventHandlerOfChild=function t(e,n,o){return function(l){return e(n,o,l),null}},adaptEventsOfChild=function t(e,n,o){if(!isObject(e)||_typeof$F(e)!=="object")return null;var l=null;return Object.keys(e).forEach(function(u){var h=e[u];EventKeys.includes(u)&&typeof h=="function"&&(l||(l={}),l[u]=getEventHandlerOfChild(h,n,o))}),l},_excluded$f=["children"],_excluded2$4=["children"];function _objectWithoutProperties$f(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$f(t,e),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(l=0;l<u.length;l++)o=u[l],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function _objectWithoutPropertiesLoose$f(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}var REACT_BROWSER_EVENT_MAP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},getDisplayName=function t(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},lastChildren=null,lastResult=null,toArray=function t(e){if(e===lastChildren&&Array.isArray(lastResult))return lastResult;var n=[];return reactExports.Children.forEach(e,function(o){isNil(o)||(reactIsExports.isFragment(o)?n=n.concat(t(o.props.children)):n.push(o))}),lastResult=n,lastChildren=e,n};function findAllByType(t,e){var n=[],o=[];return Array.isArray(e)?o=e.map(function(l){return getDisplayName(l)}):o=[getDisplayName(e)],toArray(t).forEach(function(l){var u=get(l,"type.displayName")||get(l,"type.name");o.indexOf(u)!==-1&&n.push(l)}),n}function findChildByType(t,e){var n=findAllByType(t,e);return n&&n[0]}var validateWidthHeight=function t(e){if(!e||!e.props)return!1;var n=e.props,o=n.width,l=n.height;return!(!isNumber(o)||o<=0||!isNumber(l)||l<=0)},SVG_TAGS=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],isSvgElement=function t(e){return e&&e.type&&isString(e.type)&&SVG_TAGS.indexOf(e.type)>=0},isValidSpreadableProp=function t(e,n,o,l){var u,h=(u=FilteredElementKeyMap==null?void 0:FilteredElementKeyMap[l])!==null&&u!==void 0?u:[];return n.startsWith("data-")||!isFunction(e)&&(l&&h.includes(n)||SVGElementPropKeys.includes(n))||o&&EventKeys.includes(n)},filterProps=function t(e,n,o){if(!e||typeof e=="function"||typeof e=="boolean")return null;var l=e;if(reactExports.isValidElement(e)&&(l=e.props),!isObject(l))return null;var u={};return Object.keys(l).forEach(function(h){var f;isValidSpreadableProp((f=l)===null||f===void 0?void 0:f[h],h,n,o)&&(u[h]=l[h])}),u},isChildrenEqual=function t(e,n){if(e===n)return!0;var o=reactExports.Children.count(e);if(o!==reactExports.Children.count(n))return!1;if(o===0)return!0;if(o===1)return isSingleChildEqual(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var l=0;l<o;l++){var u=e[l],h=n[l];if(Array.isArray(u)||Array.isArray(h)){if(!t(u,h))return!1}else if(!isSingleChildEqual(u,h))return!1}return!0},isSingleChildEqual=function t(e,n){if(isNil(e)&&isNil(n))return!0;if(!isNil(e)&&!isNil(n)){var o=e.props||{},l=o.children,u=_objectWithoutProperties$f(o,_excluded$f),h=n.props||{},f=h.children,d=_objectWithoutProperties$f(h,_excluded2$4);return l&&f?shallowEqual(u,d)&&isChildrenEqual(l,f):!l&&!f?shallowEqual(u,d):!1}return!1},renderByOrder=function t(e,n){var o=[],l={};return toArray(e).forEach(function(u,h){if(isSvgElement(u))o.push(u);else if(u){var f=getDisplayName(u.type),d=n[f]||{},p=d.handler,m=d.once;if(p&&(!m||!l[f])){var v=p(u,f,h);o.push(v),l[f]=!0}}}),o},getReactEventByType=function t(e){var n=e&&e.type;return n&&REACT_BROWSER_EVENT_MAP[n]?REACT_BROWSER_EVENT_MAP[n]:null},parseChildIndex=function t(e,n){return toArray(n).indexOf(e)},_excluded$e=["children","width","height","viewBox","className","style","title","desc"];function _extends$o(){return _extends$o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$o.apply(this,arguments)}function _objectWithoutProperties$e(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$e(t,e),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(l=0;l<u.length;l++)o=u[l],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function _objectWithoutPropertiesLoose$e(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function Surface(t){var e=t.children,n=t.width,o=t.height,l=t.viewBox,u=t.className,h=t.style,f=t.title,d=t.desc,p=_objectWithoutProperties$e(t,_excluded$e),m=l||{width:n,height:o,x:0,y:0},v=clsx("recharts-surface",u);return React.createElement("svg",_extends$o({},filterProps(p,!0,"svg"),{className:v,width:n,height:o,style:h,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height)}),React.createElement("title",null,f),React.createElement("desc",null,d),e)}var _excluded$d=["children","className"];function _extends$n(){return _extends$n=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$n.apply(this,arguments)}function _objectWithoutProperties$d(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$d(t,e),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(l=0;l<u.length;l++)o=u[l],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function _objectWithoutPropertiesLoose$d(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}var Layer=React.forwardRef(function(t,e){var n=t.children,o=t.className,l=_objectWithoutProperties$d(t,_excluded$d),u=clsx("recharts-layer",o);return React.createElement("g",_extends$n({className:u},filterProps(l,!0),{ref:e}),n)}),warn=function t(e,n){for(var o=arguments.length,l=new Array(o>2?o-2:0),u=2;u<o;u++)l[u-2]=arguments[u]},_baseSlice,hasRequired_baseSlice;function require_baseSlice(){if(hasRequired_baseSlice)return _baseSlice;hasRequired_baseSlice=1;function t(e,n,o){var l=-1,u=e.length;n<0&&(n=-n>u?0:u+n),o=o>u?u:o,o<0&&(o+=u),u=n>o?0:o-n>>>0,n>>>=0;for(var h=Array(u);++l<u;)h[l]=e[l+n];return h}return _baseSlice=t,_baseSlice}var _castSlice,hasRequired_castSlice;function require_castSlice(){if(hasRequired_castSlice)return _castSlice;hasRequired_castSlice=1;var t=require_baseSlice();function e(n,o,l){var u=n.length;return l=l===void 0?u:l,!o&&l>=u?n:t(n,o,l)}return _castSlice=e,_castSlice}var _hasUnicode,hasRequired_hasUnicode;function require_hasUnicode(){if(hasRequired_hasUnicode)return _hasUnicode;hasRequired_hasUnicode=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",o="\\u20d0-\\u20ff",l=e+n+o,u="\\ufe0e\\ufe0f",h="\\u200d",f=RegExp("["+h+t+l+u+"]");function d(p){return f.test(p)}return _hasUnicode=d,_hasUnicode}var _asciiToArray,hasRequired_asciiToArray;function require_asciiToArray(){if(hasRequired_asciiToArray)return _asciiToArray;hasRequired_asciiToArray=1;function t(e){return e.split("")}return _asciiToArray=t,_asciiToArray}var _unicodeToArray,hasRequired_unicodeToArray;function require_unicodeToArray(){if(hasRequired_unicodeToArray)return _unicodeToArray;hasRequired_unicodeToArray=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",o="\\u20d0-\\u20ff",l=e+n+o,u="\\ufe0e\\ufe0f",h="["+t+"]",f="["+l+"]",d="\\ud83c[\\udffb-\\udfff]",p="(?:"+f+"|"+d+")",m="[^"+t+"]",v="(?:\\ud83c[\\udde6-\\uddff]){2}",b="[\\ud800-\\udbff][\\udc00-\\udfff]",S="\\u200d",T=p+"?",C="["+u+"]?",w="(?:"+S+"(?:"+[m,v,b].join("|")+")"+C+T+")*",R=C+T+w,L="(?:"+[m+f+"?",f,v,b,h].join("|")+")",N=RegExp(d+"(?="+d+")|"+L+R,"g");function F(B){return B.match(N)||[]}return _unicodeToArray=F,_unicodeToArray}var _stringToArray,hasRequired_stringToArray;function require_stringToArray(){if(hasRequired_stringToArray)return _stringToArray;hasRequired_stringToArray=1;var t=require_asciiToArray(),e=require_hasUnicode(),n=require_unicodeToArray();function o(l){return e(l)?n(l):t(l)}return _stringToArray=o,_stringToArray}var _createCaseFirst,hasRequired_createCaseFirst;function require_createCaseFirst(){if(hasRequired_createCaseFirst)return _createCaseFirst;hasRequired_createCaseFirst=1;var t=require_castSlice(),e=require_hasUnicode(),n=require_stringToArray(),o=requireToString();function l(u){return function(h){h=o(h);var f=e(h)?n(h):void 0,d=f?f[0]:h.charAt(0),p=f?t(f,1).join(""):h.slice(1);return d[u]()+p}}return _createCaseFirst=l,_createCaseFirst}var upperFirst_1,hasRequiredUpperFirst;function requireUpperFirst(){if(hasRequiredUpperFirst)return upperFirst_1;hasRequiredUpperFirst=1;var t=require_createCaseFirst(),e=t("toUpperCase");return upperFirst_1=e,upperFirst_1}var upperFirstExports=requireUpperFirst();const upperFirst=getDefaultExportFromCjs(upperFirstExports);function constant$1(t){return function(){return t}}const cos=Math.cos,sin=Math.sin,sqrt$1=Math.sqrt,pi$1=Math.PI,tau$1=2*pi$1,pi=Math.PI,tau=2*pi,epsilon=1e-6,tauEpsilon=tau-epsilon;function append(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function appendRound(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return append;const n=10**e;return function(o){this._+=o[0];for(let l=1,u=o.length;l<u;++l)this._+=Math.round(arguments[l]*n)/n+o[l]}}class Path{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?append:appendRound(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,o,l){this._append`Q${+e},${+n},${this._x1=+o},${this._y1=+l}`}bezierCurveTo(e,n,o,l,u,h){this._append`C${+e},${+n},${+o},${+l},${this._x1=+u},${this._y1=+h}`}arcTo(e,n,o,l,u){if(e=+e,n=+n,o=+o,l=+l,u=+u,u<0)throw new Error(`negative radius: ${u}`);let h=this._x1,f=this._y1,d=o-e,p=l-n,m=h-e,v=f-n,b=m*m+v*v;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(b>epsilon)if(!(Math.abs(v*d-p*m)>epsilon)||!u)this._append`L${this._x1=e},${this._y1=n}`;else{let S=o-h,T=l-f,C=d*d+p*p,w=S*S+T*T,R=Math.sqrt(C),L=Math.sqrt(b),N=u*Math.tan((pi-Math.acos((C+b-w)/(2*R*L)))/2),F=N/L,B=N/R;Math.abs(F-1)>epsilon&&this._append`L${e+F*m},${n+F*v}`,this._append`A${u},${u},0,0,${+(v*S>m*T)},${this._x1=e+B*d},${this._y1=n+B*p}`}}arc(e,n,o,l,u,h){if(e=+e,n=+n,o=+o,h=!!h,o<0)throw new Error(`negative radius: ${o}`);let f=o*Math.cos(l),d=o*Math.sin(l),p=e+f,m=n+d,v=1^h,b=h?l-u:u-l;this._x1===null?this._append`M${p},${m}`:(Math.abs(this._x1-p)>epsilon||Math.abs(this._y1-m)>epsilon)&&this._append`L${p},${m}`,o&&(b<0&&(b=b%tau+tau),b>tauEpsilon?this._append`A${o},${o},0,1,${v},${e-f},${n-d}A${o},${o},0,1,${v},${this._x1=p},${this._y1=m}`:b>epsilon&&this._append`A${o},${o},0,${+(b>=pi)},${v},${this._x1=e+o*Math.cos(u)},${this._y1=n+o*Math.sin(u)}`)}rect(e,n,o,l){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${o=+o}v${+l}h${-o}Z`}toString(){return this._}}function withPath(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const o=Math.floor(n);if(!(o>=0))throw new RangeError(`invalid digits: ${n}`);e=o}return t},()=>new Path(e)}function array(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Linear(t){this._context=t}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function curveLinear(t){return new Linear(t)}function x(t){return t[0]}function y(t){return t[1]}function shapeLine(t,e){var n=constant$1(!0),o=null,l=curveLinear,u=null,h=withPath(f);t=typeof t=="function"?t:t===void 0?x:constant$1(t),e=typeof e=="function"?e:e===void 0?y:constant$1(e);function f(d){var p,m=(d=array(d)).length,v,b=!1,S;for(o==null&&(u=l(S=h())),p=0;p<=m;++p)!(p<m&&n(v=d[p],p,d))===b&&((b=!b)?u.lineStart():u.lineEnd()),b&&u.point(+t(v,p,d),+e(v,p,d));if(S)return u=null,S+""||null}return f.x=function(d){return arguments.length?(t=typeof d=="function"?d:constant$1(+d),f):t},f.y=function(d){return arguments.length?(e=typeof d=="function"?d:constant$1(+d),f):e},f.defined=function(d){return arguments.length?(n=typeof d=="function"?d:constant$1(!!d),f):n},f.curve=function(d){return arguments.length?(l=d,o!=null&&(u=l(o)),f):l},f.context=function(d){return arguments.length?(d==null?o=u=null:u=l(o=d),f):o},f}function shapeArea(t,e,n){var o=null,l=constant$1(!0),u=null,h=curveLinear,f=null,d=withPath(p);t=typeof t=="function"?t:t===void 0?x:constant$1(+t),e=typeof e=="function"?e:constant$1(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?y:constant$1(+n);function p(v){var b,S,T,C=(v=array(v)).length,w,R=!1,L,N=new Array(C),F=new Array(C);for(u==null&&(f=h(L=d())),b=0;b<=C;++b){if(!(b<C&&l(w=v[b],b,v))===R)if(R=!R)S=b,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),T=b-1;T>=S;--T)f.point(N[T],F[T]);f.lineEnd(),f.areaEnd()}R&&(N[b]=+t(w,b,v),F[b]=+e(w,b,v),f.point(o?+o(w,b,v):N[b],n?+n(w,b,v):F[b]))}if(L)return f=null,L+""||null}function m(){return shapeLine().defined(l).curve(h).context(u)}return p.x=function(v){return arguments.length?(t=typeof v=="function"?v:constant$1(+v),o=null,p):t},p.x0=function(v){return arguments.length?(t=typeof v=="function"?v:constant$1(+v),p):t},p.x1=function(v){return arguments.length?(o=v==null?null:typeof v=="function"?v:constant$1(+v),p):o},p.y=function(v){return arguments.length?(e=typeof v=="function"?v:constant$1(+v),n=null,p):e},p.y0=function(v){return arguments.length?(e=typeof v=="function"?v:constant$1(+v),p):e},p.y1=function(v){return arguments.length?(n=v==null?null:typeof v=="function"?v:constant$1(+v),p):n},p.lineX0=p.lineY0=function(){return m().x(t).y(e)},p.lineY1=function(){return m().x(t).y(n)},p.lineX1=function(){return m().x(o).y(e)},p.defined=function(v){return arguments.length?(l=typeof v=="function"?v:constant$1(!!v),p):l},p.curve=function(v){return arguments.length?(h=v,u!=null&&(f=h(u)),p):h},p.context=function(v){return arguments.length?(v==null?u=f=null:f=h(u=v),p):u},p}class Bump{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function bumpX(t){return new Bump(t,!0)}function bumpY(t){return new Bump(t,!1)}const symbolCircle={draw(t,e){const n=sqrt$1(e/pi$1);t.moveTo(n,0),t.arc(0,0,n,0,tau$1)}},symbolCross={draw(t,e){const n=sqrt$1(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},tan30=sqrt$1(1/3),tan30_2=tan30*2,symbolDiamond={draw(t,e){const n=sqrt$1(e/tan30_2),o=n*tan30;t.moveTo(0,-n),t.lineTo(o,0),t.lineTo(0,n),t.lineTo(-o,0),t.closePath()}},symbolSquare={draw(t,e){const n=sqrt$1(e),o=-n/2;t.rect(o,o,n,n)}},ka=.8908130915292852,kr=sin(pi$1/10)/sin(7*pi$1/10),kx=sin(tau$1/10)*kr,ky=-cos(tau$1/10)*kr,symbolStar={draw(t,e){const n=sqrt$1(e*ka),o=kx*n,l=ky*n;t.moveTo(0,-n),t.lineTo(o,l);for(let u=1;u<5;++u){const h=tau$1*u/5,f=cos(h),d=sin(h);t.lineTo(d*n,-f*n),t.lineTo(f*o-d*l,d*o+f*l)}t.closePath()}},sqrt3=sqrt$1(3),symbolTriangle={draw(t,e){const n=-sqrt$1(e/(sqrt3*3));t.moveTo(0,n*2),t.lineTo(-sqrt3*n,-n),t.lineTo(sqrt3*n,-n),t.closePath()}},c=-.5,s=sqrt$1(3)/2,k=1/sqrt$1(12),a=(k/2+1)*3,symbolWye={draw(t,e){const n=sqrt$1(e/a),o=n/2,l=n*k,u=o,h=n*k+n,f=-u,d=h;t.moveTo(o,l),t.lineTo(u,h),t.lineTo(f,d),t.lineTo(c*o-s*l,s*o+c*l),t.lineTo(c*u-s*h,s*u+c*h),t.lineTo(c*f-s*d,s*f+c*d),t.lineTo(c*o+s*l,c*l-s*o),t.lineTo(c*u+s*h,c*h-s*u),t.lineTo(c*f+s*d,c*d-s*f),t.closePath()}};function Symbol$1(t,e){let n=null,o=withPath(l);t=typeof t=="function"?t:constant$1(t||symbolCircle),e=typeof e=="function"?e:constant$1(e===void 0?64:+e);function l(){let u;if(n||(n=u=o()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),u)return n=null,u+""||null}return l.type=function(u){return arguments.length?(t=typeof u=="function"?u:constant$1(u),l):t},l.size=function(u){return arguments.length?(e=typeof u=="function"?u:constant$1(+u),l):e},l.context=function(u){return arguments.length?(n=u??null,l):n},l}function noop(){}function point$2(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Basis(t){this._context=t}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$2(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function curveBasis(t){return new Basis(t)}function BasisClosed(t){this._context=t}BasisClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:point$2(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function curveBasisClosed(t){return new BasisClosed(t)}function BasisOpen(t){this._context=t}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,o=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,o):this._context.moveTo(n,o);break;case 3:this._point=4;default:point$2(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function curveBasisOpen(t){return new BasisOpen(t)}function LinearClosed(t){this._context=t}LinearClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function curveLinearClosed(t){return new LinearClosed(t)}function sign(t){return t<0?-1:1}function slope3(t,e,n){var o=t._x1-t._x0,l=e-t._x1,u=(t._y1-t._y0)/(o||l<0&&-0),h=(n-t._y1)/(l||o<0&&-0),f=(u*l+h*o)/(o+l);return(sign(u)+sign(h))*Math.min(Math.abs(u),Math.abs(h),.5*Math.abs(f))||0}function slope2(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function point$1(t,e,n){var o=t._x0,l=t._y0,u=t._x1,h=t._y1,f=(u-o)/3;t._context.bezierCurveTo(o+f,l+f*e,u-f,h-f*n,u,h)}function MonotoneX(t){this._context=t}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$1(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,point$1(this,slope2(this,n=slope3(this,t,e)),n);break;default:point$1(this,this._t0,n=slope3(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function MonotoneY(t){this._context=new ReflectContext(t)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(t,e){MonotoneX.prototype.point.call(this,e,t)};function ReflectContext(t){this._context=t}ReflectContext.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,o,l,u){this._context.bezierCurveTo(e,t,o,n,u,l)}};function monotoneX(t){return new MonotoneX(t)}function monotoneY(t){return new MonotoneY(t)}function Natural(t){this._context=t}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var o=controlPoints(t),l=controlPoints(e),u=0,h=1;h<n;++u,++h)this._context.bezierCurveTo(o[0][u],l[0][u],o[1][u],l[1][u],t[h],e[h]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function controlPoints(t){var e,n=t.length-1,o,l=new Array(n),u=new Array(n),h=new Array(n);for(l[0]=0,u[0]=2,h[0]=t[0]+2*t[1],e=1;e<n-1;++e)l[e]=1,u[e]=4,h[e]=4*t[e]+2*t[e+1];for(l[n-1]=2,u[n-1]=7,h[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)o=l[e]/u[e-1],u[e]-=o,h[e]-=o*h[e-1];for(l[n-1]=h[n-1]/u[n-1],e=n-2;e>=0;--e)l[e]=(h[e]-l[e+1])/u[e];for(u[n-1]=(t[n]+l[n-1])/2,e=0;e<n-1;++e)u[e]=2*t[e+1]-l[e+1];return[l,u]}function curveNatural(t){return new Natural(t)}function Step(t,e){this._context=t,this._t=e}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function curveStep(t){return new Step(t,.5)}function stepBefore(t){return new Step(t,0)}function stepAfter(t){return new Step(t,1)}function stackOffsetNone(t,e){if((h=t.length)>1)for(var n=1,o,l,u=t[e[0]],h,f=u.length;n<h;++n)for(l=u,u=t[e[n]],o=0;o<f;++o)u[o][1]+=u[o][0]=isNaN(l[o][1])?l[o][0]:l[o][1]}function stackOrderNone(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function stackValue(t,e){return t[e]}function stackSeries(t){const e=[];return e.key=t,e}function shapeStack(){var t=constant$1([]),e=stackOrderNone,n=stackOffsetNone,o=stackValue;function l(u){var h=Array.from(t.apply(this,arguments),stackSeries),f,d=h.length,p=-1,m;for(const v of u)for(f=0,++p;f<d;++f)(h[f][p]=[0,+o(v,h[f].key,p,u)]).data=v;for(f=0,m=array(e(h));f<d;++f)h[m[f]].index=f;return n(h,m),h}return l.keys=function(u){return arguments.length?(t=typeof u=="function"?u:constant$1(Array.from(u)),l):t},l.value=function(u){return arguments.length?(o=typeof u=="function"?u:constant$1(+u),l):o},l.order=function(u){return arguments.length?(e=u==null?stackOrderNone:typeof u=="function"?u:constant$1(Array.from(u)),l):e},l.offset=function(u){return arguments.length?(n=u??stackOffsetNone,l):n},l}function stackOffsetExpand(t,e){if((o=t.length)>0){for(var n,o,l=0,u=t[0].length,h;l<u;++l){for(h=n=0;n<o;++n)h+=t[n][l][1]||0;if(h)for(n=0;n<o;++n)t[n][l][1]/=h}stackOffsetNone(t,e)}}function stackOffsetSilhouette(t,e){if((l=t.length)>0){for(var n=0,o=t[e[0]],l,u=o.length;n<u;++n){for(var h=0,f=0;h<l;++h)f+=t[h][n][1]||0;o[n][1]+=o[n][0]=-f/2}stackOffsetNone(t,e)}}function stackOffsetWiggle(t,e){if(!(!((h=t.length)>0)||!((u=(l=t[e[0]]).length)>0))){for(var n=0,o=1,l,u,h;o<u;++o){for(var f=0,d=0,p=0;f<h;++f){for(var m=t[e[f]],v=m[o][1]||0,b=m[o-1][1]||0,S=(v-b)/2,T=0;T<f;++T){var C=t[e[T]],w=C[o][1]||0,R=C[o-1][1]||0;S+=w-R}d+=v,p+=S*v}l[o-1][1]+=l[o-1][0]=n,d&&(n-=p/d)}l[o-1][1]+=l[o-1][0]=n,stackOffsetNone(t,e)}}function _typeof$E(t){"@babel/helpers - typeof";return _typeof$E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$E(t)}var _excluded$c=["type","size","sizeType"];function _extends$m(){return _extends$m=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$m.apply(this,arguments)}function ownKeys$x(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$x(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$x(Object(n),!0).forEach(function(o){_defineProperty$D(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$x(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$D(t,e,n){return e=_toPropertyKey$D(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$D(t){var e=_toPrimitive$D(t,"string");return _typeof$E(e)=="symbol"?e:e+""}function _toPrimitive$D(t,e){if(_typeof$E(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$E(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _objectWithoutProperties$c(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$c(t,e),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(l=0;l<u.length;l++)o=u[l],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function _objectWithoutPropertiesLoose$c(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}var symbolFactories={symbolCircle,symbolCross,symbolDiamond,symbolSquare,symbolStar,symbolTriangle,symbolWye},RADIAN$1=Math.PI/180,getSymbolFactory=function t(e){var n="symbol".concat(upperFirst(e));return symbolFactories[n]||symbolCircle},calculateAreaSize=function t(e,n,o){if(n==="area")return e;switch(o){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var l=18*RADIAN$1;return 1.25*e*e*(Math.tan(l)-Math.tan(l*2)*Math.pow(Math.tan(l),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},registerSymbol=function t(e,n){symbolFactories["symbol".concat(upperFirst(e))]=n},Symbols=function t(e){var n=e.type,o=n===void 0?"circle":n,l=e.size,u=l===void 0?64:l,h=e.sizeType,f=h===void 0?"area":h,d=_objectWithoutProperties$c(e,_excluded$c),p=_objectSpread$x(_objectSpread$x({},d),{},{type:o,size:u,sizeType:f}),m=function(){var w=getSymbolFactory(o),R=Symbol$1().type(w).size(calculateAreaSize(u,f,o));return R()},v=p.className,b=p.cx,S=p.cy,T=filterProps(p,!0);return b===+b&&S===+S&&u===+u?React.createElement("path",_extends$m({},T,{className:clsx("recharts-symbols",v),transform:"translate(".concat(b,", ").concat(S,")"),d:m()})):null};Symbols.registerSymbol=registerSymbol;function _typeof$D(t){"@babel/helpers - typeof";return _typeof$D=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$D(t)}function _extends$l(){return _extends$l=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$l.apply(this,arguments)}function ownKeys$w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$w(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$w(Object(n),!0).forEach(function(o){_defineProperty$C(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$w(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _classCallCheck$h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$h(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey$C(o.key),o)}}function _createClass$h(t,e,n){return e&&_defineProperties$h(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$d(t,e,n){return e=_getPrototypeOf$e(e),_possibleConstructorReturn$e(t,_isNativeReflectConstruct$e()?Reflect.construct(e,n||[],_getPrototypeOf$e(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$e(t,e){if(e&&(_typeof$D(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$e(t)}function _assertThisInitialized$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$e(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$e=function(){return!!t})()}function _getPrototypeOf$e(t){return _getPrototypeOf$e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$e(t)}function _inherits$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$e(t,e)}function _setPrototypeOf$e(t,e){return _setPrototypeOf$e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$e(t,e)}function _defineProperty$C(t,e,n){return e=_toPropertyKey$C(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$C(t){var e=_toPrimitive$C(t,"string");return _typeof$D(e)=="symbol"?e:e+""}function _toPrimitive$C(t,e){if(_typeof$D(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$D(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var SIZE=32,DefaultLegendContent=function(t){function e(){return _classCallCheck$h(this,e),_callSuper$d(this,e,arguments)}return _inherits$e(e,t),_createClass$h(e,[{key:"renderIcon",value:function(o){var l=this.props.inactiveColor,u=SIZE/2,h=SIZE/6,f=SIZE/3,d=o.inactive?l:o.color;if(o.type==="plainline")return React.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:o.payload.strokeDasharray,x1:0,y1:u,x2:SIZE,y2:u,className:"recharts-legend-icon"});if(o.type==="line")return React.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(u,"h").concat(f,`
            A`).concat(h,",").concat(h,",0,1,1,").concat(2*f,",").concat(u,`
            H`).concat(SIZE,"M").concat(2*f,",").concat(u,`
            A`).concat(h,",").concat(h,",0,1,1,").concat(f,",").concat(u),className:"recharts-legend-icon"});if(o.type==="rect")return React.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(SIZE/8,"h").concat(SIZE,"v").concat(SIZE*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(React.isValidElement(o.legendIcon)){var p=_objectSpread$w({},o);return delete p.legendIcon,React.cloneElement(o.legendIcon,p)}return React.createElement(Symbols,{fill:d,cx:u,cy:u,size:SIZE,sizeType:"diameter",type:o.type})}},{key:"renderItems",value:function(){var o=this,l=this.props,u=l.payload,h=l.iconSize,f=l.layout,d=l.formatter,p=l.inactiveColor,m={x:0,y:0,width:SIZE,height:SIZE},v={display:f==="horizontal"?"inline-block":"block",marginRight:10},b={display:"inline-block",verticalAlign:"middle",marginRight:4};return u.map(function(S,T){var C=S.formatter||d,w=clsx(_defineProperty$C(_defineProperty$C({"recharts-legend-item":!0},"legend-item-".concat(T),!0),"inactive",S.inactive));if(S.type==="none")return null;var R=isFunction(S.value)?null:S.value;warn(!isFunction(S.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var L=S.inactive?p:S.color;return React.createElement("li",_extends$l({className:w,style:v,key:"legend-item-".concat(T)},adaptEventsOfChild(o.props,S,T)),React.createElement(Surface,{width:h,height:h,viewBox:m,style:b},o.renderIcon(S)),React.createElement("span",{className:"recharts-legend-item-text",style:{color:L}},C?C(R,S,T):R))})}},{key:"render",value:function(){var o=this.props,l=o.payload,u=o.layout,h=o.align;if(!l||!l.length)return null;var f={padding:0,margin:0,textAlign:u==="horizontal"?h:"left"};return React.createElement("ul",{className:"recharts-default-legend",style:f},this.renderItems())}}])}(reactExports.PureComponent);_defineProperty$C(DefaultLegendContent,"displayName","Legend");_defineProperty$C(DefaultLegendContent,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var _stackClear,hasRequired_stackClear;function require_stackClear(){if(hasRequired_stackClear)return _stackClear;hasRequired_stackClear=1;var t=require_ListCache();function e(){this.__data__=new t,this.size=0}return _stackClear=e,_stackClear}var _stackDelete,hasRequired_stackDelete;function require_stackDelete(){if(hasRequired_stackDelete)return _stackDelete;hasRequired_stackDelete=1;function t(e){var n=this.__data__,o=n.delete(e);return this.size=n.size,o}return _stackDelete=t,_stackDelete}var _stackGet,hasRequired_stackGet;function require_stackGet(){if(hasRequired_stackGet)return _stackGet;hasRequired_stackGet=1;function t(e){return this.__data__.get(e)}return _stackGet=t,_stackGet}var _stackHas,hasRequired_stackHas;function require_stackHas(){if(hasRequired_stackHas)return _stackHas;hasRequired_stackHas=1;function t(e){return this.__data__.has(e)}return _stackHas=t,_stackHas}var _stackSet,hasRequired_stackSet;function require_stackSet(){if(hasRequired_stackSet)return _stackSet;hasRequired_stackSet=1;var t=require_ListCache(),e=require_Map(),n=require_MapCache(),o=200;function l(u,h){var f=this.__data__;if(f instanceof t){var d=f.__data__;if(!e||d.length<o-1)return d.push([u,h]),this.size=++f.size,this;f=this.__data__=new n(d)}return f.set(u,h),this.size=f.size,this}return _stackSet=l,_stackSet}var _Stack,hasRequired_Stack;function require_Stack(){if(hasRequired_Stack)return _Stack;hasRequired_Stack=1;var t=require_ListCache(),e=require_stackClear(),n=require_stackDelete(),o=require_stackGet(),l=require_stackHas(),u=require_stackSet();function h(f){var d=this.__data__=new t(f);this.size=d.size}return h.prototype.clear=e,h.prototype.delete=n,h.prototype.get=o,h.prototype.has=l,h.prototype.set=u,_Stack=h,_Stack}var _setCacheAdd,hasRequired_setCacheAdd;function require_setCacheAdd(){if(hasRequired_setCacheAdd)return _setCacheAdd;hasRequired_setCacheAdd=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return _setCacheAdd=e,_setCacheAdd}var _setCacheHas,hasRequired_setCacheHas;function require_setCacheHas(){if(hasRequired_setCacheHas)return _setCacheHas;hasRequired_setCacheHas=1;function t(e){return this.__data__.has(e)}return _setCacheHas=t,_setCacheHas}var _SetCache,hasRequired_SetCache;function require_SetCache(){if(hasRequired_SetCache)return _SetCache;hasRequired_SetCache=1;var t=require_MapCache(),e=require_setCacheAdd(),n=require_setCacheHas();function o(l){var u=-1,h=l==null?0:l.length;for(this.__data__=new t;++u<h;)this.add(l[u])}return o.prototype.add=o.prototype.push=e,o.prototype.has=n,_SetCache=o,_SetCache}var _arraySome,hasRequired_arraySome;function require_arraySome(){if(hasRequired_arraySome)return _arraySome;hasRequired_arraySome=1;function t(e,n){for(var o=-1,l=e==null?0:e.length;++o<l;)if(n(e[o],o,e))return!0;return!1}return _arraySome=t,_arraySome}var _cacheHas,hasRequired_cacheHas;function require_cacheHas(){if(hasRequired_cacheHas)return _cacheHas;hasRequired_cacheHas=1;function t(e,n){return e.has(n)}return _cacheHas=t,_cacheHas}var _equalArrays,hasRequired_equalArrays;function require_equalArrays(){if(hasRequired_equalArrays)return _equalArrays;hasRequired_equalArrays=1;var t=require_SetCache(),e=require_arraySome(),n=require_cacheHas(),o=1,l=2;function u(h,f,d,p,m,v){var b=d&o,S=h.length,T=f.length;if(S!=T&&!(b&&T>S))return!1;var C=v.get(h),w=v.get(f);if(C&&w)return C==f&&w==h;var R=-1,L=!0,N=d&l?new t:void 0;for(v.set(h,f),v.set(f,h);++R<S;){var F=h[R],B=f[R];if(p)var U=b?p(B,F,R,f,h,v):p(F,B,R,h,f,v);if(U!==void 0){if(U)continue;L=!1;break}if(N){if(!e(f,function(z,K){if(!n(N,K)&&(F===z||m(F,z,d,p,v)))return N.push(K)})){L=!1;break}}else if(!(F===B||m(F,B,d,p,v))){L=!1;break}}return v.delete(h),v.delete(f),L}return _equalArrays=u,_equalArrays}var _Uint8Array,hasRequired_Uint8Array;function require_Uint8Array(){if(hasRequired_Uint8Array)return _Uint8Array;hasRequired_Uint8Array=1;var t=require_root(),e=t.Uint8Array;return _Uint8Array=e,_Uint8Array}var _mapToArray,hasRequired_mapToArray;function require_mapToArray(){if(hasRequired_mapToArray)return _mapToArray;hasRequired_mapToArray=1;function t(e){var n=-1,o=Array(e.size);return e.forEach(function(l,u){o[++n]=[u,l]}),o}return _mapToArray=t,_mapToArray}var _setToArray,hasRequired_setToArray;function require_setToArray(){if(hasRequired_setToArray)return _setToArray;hasRequired_setToArray=1;function t(e){var n=-1,o=Array(e.size);return e.forEach(function(l){o[++n]=l}),o}return _setToArray=t,_setToArray}var _equalByTag,hasRequired_equalByTag;function require_equalByTag(){if(hasRequired_equalByTag)return _equalByTag;hasRequired_equalByTag=1;var t=require_Symbol(),e=require_Uint8Array(),n=requireEq(),o=require_equalArrays(),l=require_mapToArray(),u=require_setToArray(),h=1,f=2,d="[object Boolean]",p="[object Date]",m="[object Error]",v="[object Map]",b="[object Number]",S="[object RegExp]",T="[object Set]",C="[object String]",w="[object Symbol]",R="[object ArrayBuffer]",L="[object DataView]",N=t?t.prototype:void 0,F=N?N.valueOf:void 0;function B(U,z,K,Q,q,H,se){switch(K){case L:if(U.byteLength!=z.byteLength||U.byteOffset!=z.byteOffset)return!1;U=U.buffer,z=z.buffer;case R:return!(U.byteLength!=z.byteLength||!H(new e(U),new e(z)));case d:case p:case b:return n(+U,+z);case m:return U.name==z.name&&U.message==z.message;case S:case C:return U==z+"";case v:var le=l;case T:var ne=Q&h;if(le||(le=u),U.size!=z.size&&!ne)return!1;var ce=se.get(U);if(ce)return ce==z;Q|=f,se.set(U,z);var fe=o(le(U),le(z),Q,q,H,se);return se.delete(U),fe;case w:if(F)return F.call(U)==F.call(z)}return!1}return _equalByTag=B,_equalByTag}var _arrayPush,hasRequired_arrayPush;function require_arrayPush(){if(hasRequired_arrayPush)return _arrayPush;hasRequired_arrayPush=1;function t(e,n){for(var o=-1,l=n.length,u=e.length;++o<l;)e[u+o]=n[o];return e}return _arrayPush=t,_arrayPush}var _baseGetAllKeys,hasRequired_baseGetAllKeys;function require_baseGetAllKeys(){if(hasRequired_baseGetAllKeys)return _baseGetAllKeys;hasRequired_baseGetAllKeys=1;var t=require_arrayPush(),e=requireIsArray();function n(o,l,u){var h=l(o);return e(o)?h:t(h,u(o))}return _baseGetAllKeys=n,_baseGetAllKeys}var _arrayFilter,hasRequired_arrayFilter;function require_arrayFilter(){if(hasRequired_arrayFilter)return _arrayFilter;hasRequired_arrayFilter=1;function t(e,n){for(var o=-1,l=e==null?0:e.length,u=0,h=[];++o<l;){var f=e[o];n(f,o,e)&&(h[u++]=f)}return h}return _arrayFilter=t,_arrayFilter}var stubArray_1,hasRequiredStubArray;function requireStubArray(){if(hasRequiredStubArray)return stubArray_1;hasRequiredStubArray=1;function t(){return[]}return stubArray_1=t,stubArray_1}var _getSymbols,hasRequired_getSymbols;function require_getSymbols(){if(hasRequired_getSymbols)return _getSymbols;hasRequired_getSymbols=1;var t=require_arrayFilter(),e=requireStubArray(),n=Object.prototype,o=n.propertyIsEnumerable,l=Object.getOwnPropertySymbols,u=l?function(h){return h==null?[]:(h=Object(h),t(l(h),function(f){return o.call(h,f)}))}:e;return _getSymbols=u,_getSymbols}var _baseTimes,hasRequired_baseTimes;function require_baseTimes(){if(hasRequired_baseTimes)return _baseTimes;hasRequired_baseTimes=1;function t(e,n){for(var o=-1,l=Array(e);++o<e;)l[o]=n(o);return l}return _baseTimes=t,_baseTimes}var _baseIsArguments,hasRequired_baseIsArguments;function require_baseIsArguments(){if(hasRequired_baseIsArguments)return _baseIsArguments;hasRequired_baseIsArguments=1;var t=require_baseGetTag(),e=requireIsObjectLike(),n="[object Arguments]";function o(l){return e(l)&&t(l)==n}return _baseIsArguments=o,_baseIsArguments}var isArguments_1,hasRequiredIsArguments;function requireIsArguments(){if(hasRequiredIsArguments)return isArguments_1;hasRequiredIsArguments=1;var t=require_baseIsArguments(),e=requireIsObjectLike(),n=Object.prototype,o=n.hasOwnProperty,l=n.propertyIsEnumerable,u=t(function(){return arguments}())?t:function(h){return e(h)&&o.call(h,"callee")&&!l.call(h,"callee")};return isArguments_1=u,isArguments_1}var isBuffer={exports:{}},stubFalse_1,hasRequiredStubFalse;function requireStubFalse(){if(hasRequiredStubFalse)return stubFalse_1;hasRequiredStubFalse=1;function t(){return!1}return stubFalse_1=t,stubFalse_1}isBuffer.exports;var hasRequiredIsBuffer;function requireIsBuffer(){return hasRequiredIsBuffer||(hasRequiredIsBuffer=1,function(t,e){var n=require_root(),o=requireStubFalse(),l=e&&!e.nodeType&&e,u=l&&!0&&t&&!t.nodeType&&t,h=u&&u.exports===l,f=h?n.Buffer:void 0,d=f?f.isBuffer:void 0,p=d||o;t.exports=p}(isBuffer,isBuffer.exports)),isBuffer.exports}var _isIndex,hasRequired_isIndex;function require_isIndex(){if(hasRequired_isIndex)return _isIndex;hasRequired_isIndex=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(o,l){var u=typeof o;return l=l??t,!!l&&(u=="number"||u!="symbol"&&e.test(o))&&o>-1&&o%1==0&&o<l}return _isIndex=n,_isIndex}var isLength_1,hasRequiredIsLength;function requireIsLength(){if(hasRequiredIsLength)return isLength_1;hasRequiredIsLength=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return isLength_1=e,isLength_1}var _baseIsTypedArray,hasRequired_baseIsTypedArray;function require_baseIsTypedArray(){if(hasRequired_baseIsTypedArray)return _baseIsTypedArray;hasRequired_baseIsTypedArray=1;var t=require_baseGetTag(),e=requireIsLength(),n=requireIsObjectLike(),o="[object Arguments]",l="[object Array]",u="[object Boolean]",h="[object Date]",f="[object Error]",d="[object Function]",p="[object Map]",m="[object Number]",v="[object Object]",b="[object RegExp]",S="[object Set]",T="[object String]",C="[object WeakMap]",w="[object ArrayBuffer]",R="[object DataView]",L="[object Float32Array]",N="[object Float64Array]",F="[object Int8Array]",B="[object Int16Array]",U="[object Int32Array]",z="[object Uint8Array]",K="[object Uint8ClampedArray]",Q="[object Uint16Array]",q="[object Uint32Array]",H={};H[L]=H[N]=H[F]=H[B]=H[U]=H[z]=H[K]=H[Q]=H[q]=!0,H[o]=H[l]=H[w]=H[u]=H[R]=H[h]=H[f]=H[d]=H[p]=H[m]=H[v]=H[b]=H[S]=H[T]=H[C]=!1;function se(le){return n(le)&&e(le.length)&&!!H[t(le)]}return _baseIsTypedArray=se,_baseIsTypedArray}var _baseUnary,hasRequired_baseUnary;function require_baseUnary(){if(hasRequired_baseUnary)return _baseUnary;hasRequired_baseUnary=1;function t(e){return function(n){return e(n)}}return _baseUnary=t,_baseUnary}var _nodeUtil={exports:{}};_nodeUtil.exports;var hasRequired_nodeUtil;function require_nodeUtil(){return hasRequired_nodeUtil||(hasRequired_nodeUtil=1,function(t,e){var n=require_freeGlobal(),o=e&&!e.nodeType&&e,l=o&&!0&&t&&!t.nodeType&&t,u=l&&l.exports===o,h=u&&n.process,f=function(){try{var d=l&&l.require&&l.require("util").types;return d||h&&h.binding&&h.binding("util")}catch{}}();t.exports=f}(_nodeUtil,_nodeUtil.exports)),_nodeUtil.exports}var isTypedArray_1,hasRequiredIsTypedArray;function requireIsTypedArray(){if(hasRequiredIsTypedArray)return isTypedArray_1;hasRequiredIsTypedArray=1;var t=require_baseIsTypedArray(),e=require_baseUnary(),n=require_nodeUtil(),o=n&&n.isTypedArray,l=o?e(o):t;return isTypedArray_1=l,isTypedArray_1}var _arrayLikeKeys,hasRequired_arrayLikeKeys;function require_arrayLikeKeys(){if(hasRequired_arrayLikeKeys)return _arrayLikeKeys;hasRequired_arrayLikeKeys=1;var t=require_baseTimes(),e=requireIsArguments(),n=requireIsArray(),o=requireIsBuffer(),l=require_isIndex(),u=requireIsTypedArray(),h=Object.prototype,f=h.hasOwnProperty;function d(p,m){var v=n(p),b=!v&&e(p),S=!v&&!b&&o(p),T=!v&&!b&&!S&&u(p),C=v||b||S||T,w=C?t(p.length,String):[],R=w.length;for(var L in p)(m||f.call(p,L))&&!(C&&(L=="length"||S&&(L=="offset"||L=="parent")||T&&(L=="buffer"||L=="byteLength"||L=="byteOffset")||l(L,R)))&&w.push(L);return w}return _arrayLikeKeys=d,_arrayLikeKeys}var _isPrototype,hasRequired_isPrototype;function require_isPrototype(){if(hasRequired_isPrototype)return _isPrototype;hasRequired_isPrototype=1;var t=Object.prototype;function e(n){var o=n&&n.constructor,l=typeof o=="function"&&o.prototype||t;return n===l}return _isPrototype=e,_isPrototype}var _overArg,hasRequired_overArg;function require_overArg(){if(hasRequired_overArg)return _overArg;hasRequired_overArg=1;function t(e,n){return function(o){return e(n(o))}}return _overArg=t,_overArg}var _nativeKeys,hasRequired_nativeKeys;function require_nativeKeys(){if(hasRequired_nativeKeys)return _nativeKeys;hasRequired_nativeKeys=1;var t=require_overArg(),e=t(Object.keys,Object);return _nativeKeys=e,_nativeKeys}var _baseKeys,hasRequired_baseKeys;function require_baseKeys(){if(hasRequired_baseKeys)return _baseKeys;hasRequired_baseKeys=1;var t=require_isPrototype(),e=require_nativeKeys(),n=Object.prototype,o=n.hasOwnProperty;function l(u){if(!t(u))return e(u);var h=[];for(var f in Object(u))o.call(u,f)&&f!="constructor"&&h.push(f);return h}return _baseKeys=l,_baseKeys}var isArrayLike_1,hasRequiredIsArrayLike;function requireIsArrayLike(){if(hasRequiredIsArrayLike)return isArrayLike_1;hasRequiredIsArrayLike=1;var t=requireIsFunction(),e=requireIsLength();function n(o){return o!=null&&e(o.length)&&!t(o)}return isArrayLike_1=n,isArrayLike_1}var keys_1,hasRequiredKeys;function requireKeys(){if(hasRequiredKeys)return keys_1;hasRequiredKeys=1;var t=require_arrayLikeKeys(),e=require_baseKeys(),n=requireIsArrayLike();function o(l){return n(l)?t(l):e(l)}return keys_1=o,keys_1}var _getAllKeys,hasRequired_getAllKeys;function require_getAllKeys(){if(hasRequired_getAllKeys)return _getAllKeys;hasRequired_getAllKeys=1;var t=require_baseGetAllKeys(),e=require_getSymbols(),n=requireKeys();function o(l){return t(l,n,e)}return _getAllKeys=o,_getAllKeys}var _equalObjects,hasRequired_equalObjects;function require_equalObjects(){if(hasRequired_equalObjects)return _equalObjects;hasRequired_equalObjects=1;var t=require_getAllKeys(),e=1,n=Object.prototype,o=n.hasOwnProperty;function l(u,h,f,d,p,m){var v=f&e,b=t(u),S=b.length,T=t(h),C=T.length;if(S!=C&&!v)return!1;for(var w=S;w--;){var R=b[w];if(!(v?R in h:o.call(h,R)))return!1}var L=m.get(u),N=m.get(h);if(L&&N)return L==h&&N==u;var F=!0;m.set(u,h),m.set(h,u);for(var B=v;++w<S;){R=b[w];var U=u[R],z=h[R];if(d)var K=v?d(z,U,R,h,u,m):d(U,z,R,u,h,m);if(!(K===void 0?U===z||p(U,z,f,d,m):K)){F=!1;break}B||(B=R=="constructor")}if(F&&!B){var Q=u.constructor,q=h.constructor;Q!=q&&"constructor"in u&&"constructor"in h&&!(typeof Q=="function"&&Q instanceof Q&&typeof q=="function"&&q instanceof q)&&(F=!1)}return m.delete(u),m.delete(h),F}return _equalObjects=l,_equalObjects}var _DataView,hasRequired_DataView;function require_DataView(){if(hasRequired_DataView)return _DataView;hasRequired_DataView=1;var t=require_getNative(),e=require_root(),n=t(e,"DataView");return _DataView=n,_DataView}var _Promise,hasRequired_Promise;function require_Promise(){if(hasRequired_Promise)return _Promise;hasRequired_Promise=1;var t=require_getNative(),e=require_root(),n=t(e,"Promise");return _Promise=n,_Promise}var _Set,hasRequired_Set;function require_Set(){if(hasRequired_Set)return _Set;hasRequired_Set=1;var t=require_getNative(),e=require_root(),n=t(e,"Set");return _Set=n,_Set}var _WeakMap,hasRequired_WeakMap;function require_WeakMap(){if(hasRequired_WeakMap)return _WeakMap;hasRequired_WeakMap=1;var t=require_getNative(),e=require_root(),n=t(e,"WeakMap");return _WeakMap=n,_WeakMap}var _getTag,hasRequired_getTag;function require_getTag(){if(hasRequired_getTag)return _getTag;hasRequired_getTag=1;var t=require_DataView(),e=require_Map(),n=require_Promise(),o=require_Set(),l=require_WeakMap(),u=require_baseGetTag(),h=require_toSource(),f="[object Map]",d="[object Object]",p="[object Promise]",m="[object Set]",v="[object WeakMap]",b="[object DataView]",S=h(t),T=h(e),C=h(n),w=h(o),R=h(l),L=u;return(t&&L(new t(new ArrayBuffer(1)))!=b||e&&L(new e)!=f||n&&L(n.resolve())!=p||o&&L(new o)!=m||l&&L(new l)!=v)&&(L=function(N){var F=u(N),B=F==d?N.constructor:void 0,U=B?h(B):"";if(U)switch(U){case S:return b;case T:return f;case C:return p;case w:return m;case R:return v}return F}),_getTag=L,_getTag}var _baseIsEqualDeep,hasRequired_baseIsEqualDeep;function require_baseIsEqualDeep(){if(hasRequired_baseIsEqualDeep)return _baseIsEqualDeep;hasRequired_baseIsEqualDeep=1;var t=require_Stack(),e=require_equalArrays(),n=require_equalByTag(),o=require_equalObjects(),l=require_getTag(),u=requireIsArray(),h=requireIsBuffer(),f=requireIsTypedArray(),d=1,p="[object Arguments]",m="[object Array]",v="[object Object]",b=Object.prototype,S=b.hasOwnProperty;function T(C,w,R,L,N,F){var B=u(C),U=u(w),z=B?m:l(C),K=U?m:l(w);z=z==p?v:z,K=K==p?v:K;var Q=z==v,q=K==v,H=z==K;if(H&&h(C)){if(!h(w))return!1;B=!0,Q=!1}if(H&&!Q)return F||(F=new t),B||f(C)?e(C,w,R,L,N,F):n(C,w,z,R,L,N,F);if(!(R&d)){var se=Q&&S.call(C,"__wrapped__"),le=q&&S.call(w,"__wrapped__");if(se||le){var ne=se?C.value():C,ce=le?w.value():w;return F||(F=new t),N(ne,ce,R,L,F)}}return H?(F||(F=new t),o(C,w,R,L,N,F)):!1}return _baseIsEqualDeep=T,_baseIsEqualDeep}var _baseIsEqual,hasRequired_baseIsEqual;function require_baseIsEqual(){if(hasRequired_baseIsEqual)return _baseIsEqual;hasRequired_baseIsEqual=1;var t=require_baseIsEqualDeep(),e=requireIsObjectLike();function n(o,l,u,h,f){return o===l?!0:o==null||l==null||!e(o)&&!e(l)?o!==o&&l!==l:t(o,l,u,h,n,f)}return _baseIsEqual=n,_baseIsEqual}var _baseIsMatch,hasRequired_baseIsMatch;function require_baseIsMatch(){if(hasRequired_baseIsMatch)return _baseIsMatch;hasRequired_baseIsMatch=1;var t=require_Stack(),e=require_baseIsEqual(),n=1,o=2;function l(u,h,f,d){var p=f.length,m=p,v=!d;if(u==null)return!m;for(u=Object(u);p--;){var b=f[p];if(v&&b[2]?b[1]!==u[b[0]]:!(b[0]in u))return!1}for(;++p<m;){b=f[p];var S=b[0],T=u[S],C=b[1];if(v&&b[2]){if(T===void 0&&!(S in u))return!1}else{var w=new t;if(d)var R=d(T,C,S,u,h,w);if(!(R===void 0?e(C,T,n|o,d,w):R))return!1}}return!0}return _baseIsMatch=l,_baseIsMatch}var _isStrictComparable,hasRequired_isStrictComparable;function require_isStrictComparable(){if(hasRequired_isStrictComparable)return _isStrictComparable;hasRequired_isStrictComparable=1;var t=requireIsObject();function e(n){return n===n&&!t(n)}return _isStrictComparable=e,_isStrictComparable}var _getMatchData,hasRequired_getMatchData;function require_getMatchData(){if(hasRequired_getMatchData)return _getMatchData;hasRequired_getMatchData=1;var t=require_isStrictComparable(),e=requireKeys();function n(o){for(var l=e(o),u=l.length;u--;){var h=l[u],f=o[h];l[u]=[h,f,t(f)]}return l}return _getMatchData=n,_getMatchData}var _matchesStrictComparable,hasRequired_matchesStrictComparable;function require_matchesStrictComparable(){if(hasRequired_matchesStrictComparable)return _matchesStrictComparable;hasRequired_matchesStrictComparable=1;function t(e,n){return function(o){return o==null?!1:o[e]===n&&(n!==void 0||e in Object(o))}}return _matchesStrictComparable=t,_matchesStrictComparable}var _baseMatches,hasRequired_baseMatches;function require_baseMatches(){if(hasRequired_baseMatches)return _baseMatches;hasRequired_baseMatches=1;var t=require_baseIsMatch(),e=require_getMatchData(),n=require_matchesStrictComparable();function o(l){var u=e(l);return u.length==1&&u[0][2]?n(u[0][0],u[0][1]):function(h){return h===l||t(h,l,u)}}return _baseMatches=o,_baseMatches}var _baseHasIn,hasRequired_baseHasIn;function require_baseHasIn(){if(hasRequired_baseHasIn)return _baseHasIn;hasRequired_baseHasIn=1;function t(e,n){return e!=null&&n in Object(e)}return _baseHasIn=t,_baseHasIn}var _hasPath,hasRequired_hasPath;function require_hasPath(){if(hasRequired_hasPath)return _hasPath;hasRequired_hasPath=1;var t=require_castPath(),e=requireIsArguments(),n=requireIsArray(),o=require_isIndex(),l=requireIsLength(),u=require_toKey();function h(f,d,p){d=t(d,f);for(var m=-1,v=d.length,b=!1;++m<v;){var S=u(d[m]);if(!(b=f!=null&&p(f,S)))break;f=f[S]}return b||++m!=v?b:(v=f==null?0:f.length,!!v&&l(v)&&o(S,v)&&(n(f)||e(f)))}return _hasPath=h,_hasPath}var hasIn_1,hasRequiredHasIn;function requireHasIn(){if(hasRequiredHasIn)return hasIn_1;hasRequiredHasIn=1;var t=require_baseHasIn(),e=require_hasPath();function n(o,l){return o!=null&&e(o,l,t)}return hasIn_1=n,hasIn_1}var _baseMatchesProperty,hasRequired_baseMatchesProperty;function require_baseMatchesProperty(){if(hasRequired_baseMatchesProperty)return _baseMatchesProperty;hasRequired_baseMatchesProperty=1;var t=require_baseIsEqual(),e=requireGet(),n=requireHasIn(),o=require_isKey(),l=require_isStrictComparable(),u=require_matchesStrictComparable(),h=require_toKey(),f=1,d=2;function p(m,v){return o(m)&&l(v)?u(h(m),v):function(b){var S=e(b,m);return S===void 0&&S===v?n(b,m):t(v,S,f|d)}}return _baseMatchesProperty=p,_baseMatchesProperty}var identity_1,hasRequiredIdentity;function requireIdentity(){if(hasRequiredIdentity)return identity_1;hasRequiredIdentity=1;function t(e){return e}return identity_1=t,identity_1}var _baseProperty,hasRequired_baseProperty;function require_baseProperty(){if(hasRequired_baseProperty)return _baseProperty;hasRequired_baseProperty=1;function t(e){return function(n){return n==null?void 0:n[e]}}return _baseProperty=t,_baseProperty}var _basePropertyDeep,hasRequired_basePropertyDeep;function require_basePropertyDeep(){if(hasRequired_basePropertyDeep)return _basePropertyDeep;hasRequired_basePropertyDeep=1;var t=require_baseGet();function e(n){return function(o){return t(o,n)}}return _basePropertyDeep=e,_basePropertyDeep}var property_1,hasRequiredProperty;function requireProperty(){if(hasRequiredProperty)return property_1;hasRequiredProperty=1;var t=require_baseProperty(),e=require_basePropertyDeep(),n=require_isKey(),o=require_toKey();function l(u){return n(u)?t(o(u)):e(u)}return property_1=l,property_1}var _baseIteratee,hasRequired_baseIteratee;function require_baseIteratee(){if(hasRequired_baseIteratee)return _baseIteratee;hasRequired_baseIteratee=1;var t=require_baseMatches(),e=require_baseMatchesProperty(),n=requireIdentity(),o=requireIsArray(),l=requireProperty();function u(h){return typeof h=="function"?h:h==null?n:typeof h=="object"?o(h)?e(h[0],h[1]):t(h):l(h)}return _baseIteratee=u,_baseIteratee}var _baseFindIndex,hasRequired_baseFindIndex;function require_baseFindIndex(){if(hasRequired_baseFindIndex)return _baseFindIndex;hasRequired_baseFindIndex=1;function t(e,n,o,l){for(var u=e.length,h=o+(l?1:-1);l?h--:++h<u;)if(n(e[h],h,e))return h;return-1}return _baseFindIndex=t,_baseFindIndex}var _baseIsNaN,hasRequired_baseIsNaN;function require_baseIsNaN(){if(hasRequired_baseIsNaN)return _baseIsNaN;hasRequired_baseIsNaN=1;function t(e){return e!==e}return _baseIsNaN=t,_baseIsNaN}var _strictIndexOf,hasRequired_strictIndexOf;function require_strictIndexOf(){if(hasRequired_strictIndexOf)return _strictIndexOf;hasRequired_strictIndexOf=1;function t(e,n,o){for(var l=o-1,u=e.length;++l<u;)if(e[l]===n)return l;return-1}return _strictIndexOf=t,_strictIndexOf}var _baseIndexOf,hasRequired_baseIndexOf;function require_baseIndexOf(){if(hasRequired_baseIndexOf)return _baseIndexOf;hasRequired_baseIndexOf=1;var t=require_baseFindIndex(),e=require_baseIsNaN(),n=require_strictIndexOf();function o(l,u,h){return u===u?n(l,u,h):t(l,e,h)}return _baseIndexOf=o,_baseIndexOf}var _arrayIncludes,hasRequired_arrayIncludes;function require_arrayIncludes(){if(hasRequired_arrayIncludes)return _arrayIncludes;hasRequired_arrayIncludes=1;var t=require_baseIndexOf();function e(n,o){var l=n==null?0:n.length;return!!l&&t(n,o,0)>-1}return _arrayIncludes=e,_arrayIncludes}var _arrayIncludesWith,hasRequired_arrayIncludesWith;function require_arrayIncludesWith(){if(hasRequired_arrayIncludesWith)return _arrayIncludesWith;hasRequired_arrayIncludesWith=1;function t(e,n,o){for(var l=-1,u=e==null?0:e.length;++l<u;)if(o(n,e[l]))return!0;return!1}return _arrayIncludesWith=t,_arrayIncludesWith}var noop_1,hasRequiredNoop;function requireNoop(){if(hasRequiredNoop)return noop_1;hasRequiredNoop=1;function t(){}return noop_1=t,noop_1}var _createSet,hasRequired_createSet;function require_createSet(){if(hasRequired_createSet)return _createSet;hasRequired_createSet=1;var t=require_Set(),e=requireNoop(),n=require_setToArray(),o=1/0,l=t&&1/n(new t([,-0]))[1]==o?function(u){return new t(u)}:e;return _createSet=l,_createSet}var _baseUniq,hasRequired_baseUniq;function require_baseUniq(){if(hasRequired_baseUniq)return _baseUniq;hasRequired_baseUniq=1;var t=require_SetCache(),e=require_arrayIncludes(),n=require_arrayIncludesWith(),o=require_cacheHas(),l=require_createSet(),u=require_setToArray(),h=200;function f(d,p,m){var v=-1,b=e,S=d.length,T=!0,C=[],w=C;if(m)T=!1,b=n;else if(S>=h){var R=p?null:l(d);if(R)return u(R);T=!1,b=o,w=new t}else w=p?[]:C;e:for(;++v<S;){var L=d[v],N=p?p(L):L;if(L=m||L!==0?L:0,T&&N===N){for(var F=w.length;F--;)if(w[F]===N)continue e;p&&w.push(N),C.push(L)}else b(w,N,m)||(w!==C&&w.push(N),C.push(L))}return C}return _baseUniq=f,_baseUniq}var uniqBy_1,hasRequiredUniqBy;function requireUniqBy(){if(hasRequiredUniqBy)return uniqBy_1;hasRequiredUniqBy=1;var t=require_baseIteratee(),e=require_baseUniq();function n(o,l){return o&&o.length?e(o,t(l,2)):[]}return uniqBy_1=n,uniqBy_1}var uniqByExports=requireUniqBy();const uniqBy=getDefaultExportFromCjs(uniqByExports);function getUniqPayload(t,e,n){return e===!0?uniqBy(t,n):isFunction(e)?uniqBy(t,e):t}function _typeof$C(t){"@babel/helpers - typeof";return _typeof$C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$C(t)}var _excluded$b=["ref"];function ownKeys$v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$v(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$v(Object(n),!0).forEach(function(o){_defineProperty$B(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$v(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _classCallCheck$g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$g(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey$B(o.key),o)}}function _createClass$g(t,e,n){return e&&_defineProperties$g(t.prototype,e),n&&_defineProperties$g(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$c(t,e,n){return e=_getPrototypeOf$d(e),_possibleConstructorReturn$d(t,_isNativeReflectConstruct$d()?Reflect.construct(e,n||[],_getPrototypeOf$d(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$d(t,e){if(e&&(_typeof$C(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$d(t)}function _assertThisInitialized$d(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$d(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$d=function(){return!!t})()}function _getPrototypeOf$d(t){return _getPrototypeOf$d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$d(t)}function _inherits$d(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$d(t,e)}function _setPrototypeOf$d(t,e){return _setPrototypeOf$d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$d(t,e)}function _defineProperty$B(t,e,n){return e=_toPropertyKey$B(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$B(t){var e=_toPrimitive$B(t,"string");return _typeof$C(e)=="symbol"?e:e+""}function _toPrimitive$B(t,e){if(_typeof$C(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$C(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function _objectWithoutProperties$b(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$b(t,e),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(l=0;l<u.length;l++)o=u[l],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function _objectWithoutPropertiesLoose$b(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function defaultUniqBy$1(t){return t.value}function renderContent$1(t,e){if(React.isValidElement(t))return React.cloneElement(t,e);if(typeof t=="function")return React.createElement(t,e);e.ref;var n=_objectWithoutProperties$b(e,_excluded$b);return React.createElement(DefaultLegendContent,n)}var EPS$1=1,Legend=function(t){function e(){var n;_classCallCheck$g(this,e);for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];return n=_callSuper$c(this,e,[].concat(l)),_defineProperty$B(n,"lastBoundingBox",{width:-1,height:-1}),n}return _inherits$d(e,t),_createClass$g(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var o=this.wrapperNode.getBoundingClientRect();return o.height=this.wrapperNode.offsetHeight,o.width=this.wrapperNode.offsetWidth,o}return null}},{key:"updateBBox",value:function(){var o=this.props.onBBoxUpdate,l=this.getBBox();l?(Math.abs(l.width-this.lastBoundingBox.width)>EPS$1||Math.abs(l.height-this.lastBoundingBox.height)>EPS$1)&&(this.lastBoundingBox.width=l.width,this.lastBoundingBox.height=l.height,o&&o(l)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,o&&o(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?_objectSpread$v({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(o){var l=this.props,u=l.layout,h=l.align,f=l.verticalAlign,d=l.margin,p=l.chartWidth,m=l.chartHeight,v,b;if(!o||(o.left===void 0||o.left===null)&&(o.right===void 0||o.right===null))if(h==="center"&&u==="vertical"){var S=this.getBBoxSnapshot();v={left:((p||0)-S.width)/2}}else v=h==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!o||(o.top===void 0||o.top===null)&&(o.bottom===void 0||o.bottom===null))if(f==="middle"){var T=this.getBBoxSnapshot();b={top:((m||0)-T.height)/2}}else b=f==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return _objectSpread$v(_objectSpread$v({},v),b)}},{key:"render",value:function(){var o=this,l=this.props,u=l.content,h=l.width,f=l.height,d=l.wrapperStyle,p=l.payloadUniqBy,m=l.payload,v=_objectSpread$v(_objectSpread$v({position:"absolute",width:h||"auto",height:f||"auto"},this.getDefaultPosition(d)),d);return React.createElement("div",{className:"recharts-legend-wrapper",style:v,ref:function(S){o.wrapperNode=S}},renderContent$1(u,_objectSpread$v(_objectSpread$v({},this.props),{},{payload:getUniqPayload(m,p,defaultUniqBy$1)})))}}],[{key:"getWithHeight",value:function(o,l){var u=_objectSpread$v(_objectSpread$v({},this.defaultProps),o.props),h=u.layout;return h==="vertical"&&isNumber(o.props.height)?{height:o.props.height}:h==="horizontal"?{width:o.props.width||l}:null}}])}(reactExports.PureComponent);_defineProperty$B(Legend,"displayName","Legend");_defineProperty$B(Legend,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var _isFlattenable,hasRequired_isFlattenable;function require_isFlattenable(){if(hasRequired_isFlattenable)return _isFlattenable;hasRequired_isFlattenable=1;var t=require_Symbol(),e=requireIsArguments(),n=requireIsArray(),o=t?t.isConcatSpreadable:void 0;function l(u){return n(u)||e(u)||!!(o&&u&&u[o])}return _isFlattenable=l,_isFlattenable}var _baseFlatten,hasRequired_baseFlatten;function require_baseFlatten(){if(hasRequired_baseFlatten)return _baseFlatten;hasRequired_baseFlatten=1;var t=require_arrayPush(),e=require_isFlattenable();function n(o,l,u,h,f){var d=-1,p=o.length;for(u||(u=e),f||(f=[]);++d<p;){var m=o[d];l>0&&u(m)?l>1?n(m,l-1,u,h,f):t(f,m):h||(f[f.length]=m)}return f}return _baseFlatten=n,_baseFlatten}var _createBaseFor,hasRequired_createBaseFor;function require_createBaseFor(){if(hasRequired_createBaseFor)return _createBaseFor;hasRequired_createBaseFor=1;function t(e){return function(n,o,l){for(var u=-1,h=Object(n),f=l(n),d=f.length;d--;){var p=f[e?d:++u];if(o(h[p],p,h)===!1)break}return n}}return _createBaseFor=t,_createBaseFor}var _baseFor,hasRequired_baseFor;function require_baseFor(){if(hasRequired_baseFor)return _baseFor;hasRequired_baseFor=1;var t=require_createBaseFor(),e=t();return _baseFor=e,_baseFor}var _baseForOwn,hasRequired_baseForOwn;function require_baseForOwn(){if(hasRequired_baseForOwn)return _baseForOwn;hasRequired_baseForOwn=1;var t=require_baseFor(),e=requireKeys();function n(o,l){return o&&t(o,l,e)}return _baseForOwn=n,_baseForOwn}var _createBaseEach,hasRequired_createBaseEach;function require_createBaseEach(){if(hasRequired_createBaseEach)return _createBaseEach;hasRequired_createBaseEach=1;var t=requireIsArrayLike();function e(n,o){return function(l,u){if(l==null)return l;if(!t(l))return n(l,u);for(var h=l.length,f=o?h:-1,d=Object(l);(o?f--:++f<h)&&u(d[f],f,d)!==!1;);return l}}return _createBaseEach=e,_createBaseEach}var _baseEach,hasRequired_baseEach;function require_baseEach(){if(hasRequired_baseEach)return _baseEach;hasRequired_baseEach=1;var t=require_baseForOwn(),e=require_createBaseEach(),n=e(t);return _baseEach=n,_baseEach}var _baseMap,hasRequired_baseMap;function require_baseMap(){if(hasRequired_baseMap)return _baseMap;hasRequired_baseMap=1;var t=require_baseEach(),e=requireIsArrayLike();function n(o,l){var u=-1,h=e(o)?Array(o.length):[];return t(o,function(f,d,p){h[++u]=l(f,d,p)}),h}return _baseMap=n,_baseMap}var _baseSortBy,hasRequired_baseSortBy;function require_baseSortBy(){if(hasRequired_baseSortBy)return _baseSortBy;hasRequired_baseSortBy=1;function t(e,n){var o=e.length;for(e.sort(n);o--;)e[o]=e[o].value;return e}return _baseSortBy=t,_baseSortBy}var _compareAscending,hasRequired_compareAscending;function require_compareAscending(){if(hasRequired_compareAscending)return _compareAscending;hasRequired_compareAscending=1;var t=requireIsSymbol();function e(n,o){if(n!==o){var l=n!==void 0,u=n===null,h=n===n,f=t(n),d=o!==void 0,p=o===null,m=o===o,v=t(o);if(!p&&!v&&!f&&n>o||f&&d&&m&&!p&&!v||u&&d&&m||!l&&m||!h)return 1;if(!u&&!f&&!v&&n<o||v&&l&&h&&!u&&!f||p&&l&&h||!d&&h||!m)return-1}return 0}return _compareAscending=e,_compareAscending}var _compareMultiple,hasRequired_compareMultiple;function require_compareMultiple(){if(hasRequired_compareMultiple)return _compareMultiple;hasRequired_compareMultiple=1;var t=require_compareAscending();function e(n,o,l){for(var u=-1,h=n.criteria,f=o.criteria,d=h.length,p=l.length;++u<d;){var m=t(h[u],f[u]);if(m){if(u>=p)return m;var v=l[u];return m*(v=="desc"?-1:1)}}return n.index-o.index}return _compareMultiple=e,_compareMultiple}var _baseOrderBy,hasRequired_baseOrderBy;function require_baseOrderBy(){if(hasRequired_baseOrderBy)return _baseOrderBy;hasRequired_baseOrderBy=1;var t=require_arrayMap(),e=require_baseGet(),n=require_baseIteratee(),o=require_baseMap(),l=require_baseSortBy(),u=require_baseUnary(),h=require_compareMultiple(),f=requireIdentity(),d=requireIsArray();function p(m,v,b){v.length?v=t(v,function(C){return d(C)?function(w){return e(w,C.length===1?C[0]:C)}:C}):v=[f];var S=-1;v=t(v,u(n));var T=o(m,function(C,w,R){var L=t(v,function(N){return N(C)});return{criteria:L,index:++S,value:C}});return l(T,function(C,w){return h(C,w,b)})}return _baseOrderBy=p,_baseOrderBy}var _apply,hasRequired_apply;function require_apply(){if(hasRequired_apply)return _apply;hasRequired_apply=1;function t(e,n,o){switch(o.length){case 0:return e.call(n);case 1:return e.call(n,o[0]);case 2:return e.call(n,o[0],o[1]);case 3:return e.call(n,o[0],o[1],o[2])}return e.apply(n,o)}return _apply=t,_apply}var _overRest,hasRequired_overRest;function require_overRest(){if(hasRequired_overRest)return _overRest;hasRequired_overRest=1;var t=require_apply(),e=Math.max;function n(o,l,u){return l=e(l===void 0?o.length-1:l,0),function(){for(var h=arguments,f=-1,d=e(h.length-l,0),p=Array(d);++f<d;)p[f]=h[l+f];f=-1;for(var m=Array(l+1);++f<l;)m[f]=h[f];return m[l]=u(p),t(o,this,m)}}return _overRest=n,_overRest}var constant_1,hasRequiredConstant;function requireConstant(){if(hasRequiredConstant)return constant_1;hasRequiredConstant=1;function t(e){return function(){return e}}return constant_1=t,constant_1}var _defineProperty$A,hasRequired_defineProperty;function require_defineProperty(){if(hasRequired_defineProperty)return _defineProperty$A;hasRequired_defineProperty=1;var t=require_getNative(),e=function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}}();return _defineProperty$A=e,_defineProperty$A}var _baseSetToString,hasRequired_baseSetToString;function require_baseSetToString(){if(hasRequired_baseSetToString)return _baseSetToString;hasRequired_baseSetToString=1;var t=requireConstant(),e=require_defineProperty(),n=requireIdentity(),o=e?function(l,u){return e(l,"toString",{configurable:!0,enumerable:!1,value:t(u),writable:!0})}:n;return _baseSetToString=o,_baseSetToString}var _shortOut,hasRequired_shortOut;function require_shortOut(){if(hasRequired_shortOut)return _shortOut;hasRequired_shortOut=1;var t=800,e=16,n=Date.now;function o(l){var u=0,h=0;return function(){var f=n(),d=e-(f-h);if(h=f,d>0){if(++u>=t)return arguments[0]}else u=0;return l.apply(void 0,arguments)}}return _shortOut=o,_shortOut}var _setToString,hasRequired_setToString;function require_setToString(){if(hasRequired_setToString)return _setToString;hasRequired_setToString=1;var t=require_baseSetToString(),e=require_shortOut(),n=e(t);return _setToString=n,_setToString}var _baseRest,hasRequired_baseRest;function require_baseRest(){if(hasRequired_baseRest)return _baseRest;hasRequired_baseRest=1;var t=requireIdentity(),e=require_overRest(),n=require_setToString();function o(l,u){return n(e(l,u,t),l+"")}return _baseRest=o,_baseRest}var _isIterateeCall,hasRequired_isIterateeCall;function require_isIterateeCall(){if(hasRequired_isIterateeCall)return _isIterateeCall;hasRequired_isIterateeCall=1;var t=requireEq(),e=requireIsArrayLike(),n=require_isIndex(),o=requireIsObject();function l(u,h,f){if(!o(f))return!1;var d=typeof h;return(d=="number"?e(f)&&n(h,f.length):d=="string"&&h in f)?t(f[h],u):!1}return _isIterateeCall=l,_isIterateeCall}var sortBy_1,hasRequiredSortBy;function requireSortBy(){if(hasRequiredSortBy)return sortBy_1;hasRequiredSortBy=1;var t=require_baseFlatten(),e=require_baseOrderBy(),n=require_baseRest(),o=require_isIterateeCall(),l=n(function(u,h){if(u==null)return[];var f=h.length;return f>1&&o(u,h[0],h[1])?h=[]:f>2&&o(h[0],h[1],h[2])&&(h=[h[0]]),e(u,t(h,1),[])});return sortBy_1=l,sortBy_1}var sortByExports=requireSortBy();const sortBy=getDefaultExportFromCjs(sortByExports);function _typeof$B(t){"@babel/helpers - typeof";return _typeof$B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$B(t)}function _extends$k(){return _extends$k=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$k.apply(this,arguments)}function _slicedToArray$b(t,e){return _arrayWithHoles$c(t)||_iterableToArrayLimit$b(t,e)||_unsupportedIterableToArray$i(t,e)||_nonIterableRest$c()}function _nonIterableRest$c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$i(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$i(t,e)}}function _arrayLikeToArray$i(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _iterableToArrayLimit$b(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var o,l,u,h,f=[],d=!0,p=!1;try{if(u=(n=n.call(t)).next,e!==0)for(;!(d=(o=u.call(n)).done)&&(f.push(o.value),f.length!==e);d=!0);}catch(m){p=!0,l=m}finally{try{if(!d&&n.return!=null&&(h=n.return(),Object(h)!==h))return}finally{if(p)throw l}}return f}}function _arrayWithHoles$c(t){if(Array.isArray(t))return t}function ownKeys$u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$u(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$u(Object(n),!0).forEach(function(o){_defineProperty$z(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$u(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$z(t,e,n){return e=_toPropertyKey$A(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$A(t){var e=_toPrimitive$A(t,"string");return _typeof$B(e)=="symbol"?e:e+""}function _toPrimitive$A(t,e){if(_typeof$B(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$B(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function defaultFormatter(t){return Array.isArray(t)&&isNumOrStr(t[0])&&isNumOrStr(t[1])?t.join(" ~ "):t}var DefaultTooltipContent=function t(e){var n=e.separator,o=n===void 0?" : ":n,l=e.contentStyle,u=l===void 0?{}:l,h=e.itemStyle,f=h===void 0?{}:h,d=e.labelStyle,p=d===void 0?{}:d,m=e.payload,v=e.formatter,b=e.itemSorter,S=e.wrapperClassName,T=e.labelClassName,C=e.label,w=e.labelFormatter,R=e.accessibilityLayer,L=R===void 0?!1:R,N=function(){if(m&&m.length){var se={padding:0,margin:0},le=(b?sortBy(m,b):m).map(function(ne,ce){if(ne.type==="none")return null;var fe=_objectSpread$u({display:"block",paddingTop:4,paddingBottom:4,color:ne.color||"#000"},f),ge=ne.formatter||v||defaultFormatter,Z=ne.value,ie=ne.name,oe=Z,ae=ie;if(ge&&oe!=null&&ae!=null){var pe=ge(Z,ie,ne,ce,m);if(Array.isArray(pe)){var we=_slicedToArray$b(pe,2);oe=we[0],ae=we[1]}else oe=pe}return React.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(ce),style:fe},isNumOrStr(ae)?React.createElement("span",{className:"recharts-tooltip-item-name"},ae):null,isNumOrStr(ae)?React.createElement("span",{className:"recharts-tooltip-item-separator"},o):null,React.createElement("span",{className:"recharts-tooltip-item-value"},oe),React.createElement("span",{className:"recharts-tooltip-item-unit"},ne.unit||""))});return React.createElement("ul",{className:"recharts-tooltip-item-list",style:se},le)}return null},F=_objectSpread$u({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},u),B=_objectSpread$u({margin:0},p),U=!isNil(C),z=U?C:"",K=clsx("recharts-default-tooltip",S),Q=clsx("recharts-tooltip-label",T);U&&w&&m!==void 0&&m!==null&&(z=w(C,m));var q=L?{role:"status","aria-live":"assertive"}:{};return React.createElement("div",_extends$k({className:K,style:F},q),React.createElement("p",{className:Q,style:B},React.isValidElement(z)?z:"".concat(z)),N())};function _typeof$A(t){"@babel/helpers - typeof";return _typeof$A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$A(t)}function _defineProperty$y(t,e,n){return e=_toPropertyKey$z(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$z(t){var e=_toPrimitive$z(t,"string");return _typeof$A(e)=="symbol"?e:e+""}function _toPrimitive$z(t,e){if(_typeof$A(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$A(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CSS_CLASS_PREFIX="recharts-tooltip-wrapper",TOOLTIP_HIDDEN={visibility:"hidden"};function getTooltipCSSClassName(t){var e=t.coordinate,n=t.translateX,o=t.translateY;return clsx(CSS_CLASS_PREFIX,_defineProperty$y(_defineProperty$y(_defineProperty$y(_defineProperty$y({},"".concat(CSS_CLASS_PREFIX,"-right"),isNumber(n)&&e&&isNumber(e.x)&&n>=e.x),"".concat(CSS_CLASS_PREFIX,"-left"),isNumber(n)&&e&&isNumber(e.x)&&n<e.x),"".concat(CSS_CLASS_PREFIX,"-bottom"),isNumber(o)&&e&&isNumber(e.y)&&o>=e.y),"".concat(CSS_CLASS_PREFIX,"-top"),isNumber(o)&&e&&isNumber(e.y)&&o<e.y))}function getTooltipTranslateXY(t){var e=t.allowEscapeViewBox,n=t.coordinate,o=t.key,l=t.offsetTopLeft,u=t.position,h=t.reverseDirection,f=t.tooltipDimension,d=t.viewBox,p=t.viewBoxDimension;if(u&&isNumber(u[o]))return u[o];var m=n[o]-f-l,v=n[o]+l;if(e[o])return h[o]?m:v;if(h[o]){var b=m,S=d[o];return b<S?Math.max(v,d[o]):Math.max(m,d[o])}var T=v+f,C=d[o]+p;return T>C?Math.max(m,d[o]):Math.max(v,d[o])}function getTransformStyle(t){var e=t.translateX,n=t.translateY,o=t.useTranslate3d;return{transform:o?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function getTooltipTranslate(t){var e=t.allowEscapeViewBox,n=t.coordinate,o=t.offsetTopLeft,l=t.position,u=t.reverseDirection,h=t.tooltipBox,f=t.useTranslate3d,d=t.viewBox,p,m,v;return h.height>0&&h.width>0&&n?(m=getTooltipTranslateXY({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:o,position:l,reverseDirection:u,tooltipDimension:h.width,viewBox:d,viewBoxDimension:d.width}),v=getTooltipTranslateXY({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:o,position:l,reverseDirection:u,tooltipDimension:h.height,viewBox:d,viewBoxDimension:d.height}),p=getTransformStyle({translateX:m,translateY:v,useTranslate3d:f})):p=TOOLTIP_HIDDEN,{cssProperties:p,cssClasses:getTooltipCSSClassName({translateX:m,translateY:v,coordinate:n})}}function _typeof$z(t){"@babel/helpers - typeof";return _typeof$z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$z(t)}function ownKeys$t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$t(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$t(Object(n),!0).forEach(function(o){_defineProperty$x(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$t(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _classCallCheck$f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$f(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey$y(o.key),o)}}function _createClass$f(t,e,n){return e&&_defineProperties$f(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$b(t,e,n){return e=_getPrototypeOf$c(e),_possibleConstructorReturn$c(t,_isNativeReflectConstruct$c()?Reflect.construct(e,n||[],_getPrototypeOf$c(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$c(t,e){if(e&&(_typeof$z(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$c(t)}function _assertThisInitialized$c(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$c=function(){return!!t})()}function _getPrototypeOf$c(t){return _getPrototypeOf$c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$c(t)}function _inherits$c(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$c(t,e)}function _setPrototypeOf$c(t,e){return _setPrototypeOf$c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$c(t,e)}function _defineProperty$x(t,e,n){return e=_toPropertyKey$y(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$y(t){var e=_toPrimitive$y(t,"string");return _typeof$z(e)=="symbol"?e:e+""}function _toPrimitive$y(t,e){if(_typeof$z(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$z(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var EPSILON=1,TooltipBoundingBox=function(t){function e(){var n;_classCallCheck$f(this,e);for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];return n=_callSuper$b(this,e,[].concat(l)),_defineProperty$x(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),_defineProperty$x(n,"handleKeyDown",function(h){if(h.key==="Escape"){var f,d,p,m;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(f=(d=n.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&f!==void 0?f:0,y:(p=(m=n.props.coordinate)===null||m===void 0?void 0:m.y)!==null&&p!==void 0?p:0}})}}),n}return _inherits$c(e,t),_createClass$f(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var o=this.wrapperNode.getBoundingClientRect();(Math.abs(o.width-this.state.lastBoundingBox.width)>EPSILON||Math.abs(o.height-this.state.lastBoundingBox.height)>EPSILON)&&this.setState({lastBoundingBox:{width:o.width,height:o.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var o,l;this.props.active&&this.updateBBox(),this.state.dismissed&&(((o=this.props.coordinate)===null||o===void 0?void 0:o.x)!==this.state.dismissedAtCoordinate.x||((l=this.props.coordinate)===null||l===void 0?void 0:l.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var o=this,l=this.props,u=l.active,h=l.allowEscapeViewBox,f=l.animationDuration,d=l.animationEasing,p=l.children,m=l.coordinate,v=l.hasPayload,b=l.isAnimationActive,S=l.offset,T=l.position,C=l.reverseDirection,w=l.useTranslate3d,R=l.viewBox,L=l.wrapperStyle,N=getTooltipTranslate({allowEscapeViewBox:h,coordinate:m,offsetTopLeft:S,position:T,reverseDirection:C,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:R}),F=N.cssClasses,B=N.cssProperties,U=_objectSpread$t(_objectSpread$t({transition:b&&u?"transform ".concat(f,"ms ").concat(d):void 0},B),{},{pointerEvents:"none",visibility:!this.state.dismissed&&u&&v?"visible":"hidden",position:"absolute",top:0,left:0},L);return React.createElement("div",{tabIndex:-1,className:F,style:U,ref:function(K){o.wrapperNode=K}},p)}}])}(reactExports.PureComponent),parseIsSsrByDefault=function t(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Global={isSsr:parseIsSsrByDefault()};function _typeof$y(t){"@babel/helpers - typeof";return _typeof$y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$y(t)}function ownKeys$s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$s(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$s(Object(n),!0).forEach(function(o){_defineProperty$w(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$s(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _classCallCheck$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$e(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey$x(o.key),o)}}function _createClass$e(t,e,n){return e&&_defineProperties$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$a(t,e,n){return e=_getPrototypeOf$b(e),_possibleConstructorReturn$b(t,_isNativeReflectConstruct$b()?Reflect.construct(e,n||[],_getPrototypeOf$b(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$b(t,e){if(e&&(_typeof$y(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$b(t)}function _assertThisInitialized$b(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$b(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$b=function(){return!!t})()}function _getPrototypeOf$b(t){return _getPrototypeOf$b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$b(t)}function _inherits$b(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$b(t,e)}function _setPrototypeOf$b(t,e){return _setPrototypeOf$b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$b(t,e)}function _defineProperty$w(t,e,n){return e=_toPropertyKey$x(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$x(t){var e=_toPrimitive$x(t,"string");return _typeof$y(e)=="symbol"?e:e+""}function _toPrimitive$x(t,e){if(_typeof$y(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$y(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function defaultUniqBy(t){return t.dataKey}function renderContent(t,e){return React.isValidElement(t)?React.cloneElement(t,e):typeof t=="function"?React.createElement(t,e):React.createElement(DefaultTooltipContent,e)}var Tooltip=function(t){function e(){return _classCallCheck$e(this,e),_callSuper$a(this,e,arguments)}return _inherits$b(e,t),_createClass$e(e,[{key:"render",value:function(){var o=this,l=this.props,u=l.active,h=l.allowEscapeViewBox,f=l.animationDuration,d=l.animationEasing,p=l.content,m=l.coordinate,v=l.filterNull,b=l.isAnimationActive,S=l.offset,T=l.payload,C=l.payloadUniqBy,w=l.position,R=l.reverseDirection,L=l.useTranslate3d,N=l.viewBox,F=l.wrapperStyle,B=T??[];v&&B.length&&(B=getUniqPayload(T.filter(function(z){return z.value!=null&&(z.hide!==!0||o.props.includeHidden)}),C,defaultUniqBy));var U=B.length>0;return React.createElement(TooltipBoundingBox,{allowEscapeViewBox:h,animationDuration:f,animationEasing:d,isAnimationActive:b,active:u,coordinate:m,hasPayload:U,offset:S,position:w,reverseDirection:R,useTranslate3d:L,viewBox:N,wrapperStyle:F},renderContent(p,_objectSpread$s(_objectSpread$s({},this.props),{},{payload:B})))}}])}(reactExports.PureComponent);_defineProperty$w(Tooltip,"displayName","Tooltip");_defineProperty$w(Tooltip,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Global.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var now_1,hasRequiredNow;function requireNow(){if(hasRequiredNow)return now_1;hasRequiredNow=1;var t=require_root(),e=function(){return t.Date.now()};return now_1=e,now_1}var _trimmedEndIndex,hasRequired_trimmedEndIndex;function require_trimmedEndIndex(){if(hasRequired_trimmedEndIndex)return _trimmedEndIndex;hasRequired_trimmedEndIndex=1;var t=/\s/;function e(n){for(var o=n.length;o--&&t.test(n.charAt(o)););return o}return _trimmedEndIndex=e,_trimmedEndIndex}var _baseTrim,hasRequired_baseTrim;function require_baseTrim(){if(hasRequired_baseTrim)return _baseTrim;hasRequired_baseTrim=1;var t=require_trimmedEndIndex(),e=/^\s+/;function n(o){return o&&o.slice(0,t(o)+1).replace(e,"")}return _baseTrim=n,_baseTrim}var toNumber_1,hasRequiredToNumber;function requireToNumber(){if(hasRequiredToNumber)return toNumber_1;hasRequiredToNumber=1;var t=require_baseTrim(),e=requireIsObject(),n=requireIsSymbol(),o=NaN,l=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,h=/^0o[0-7]+$/i,f=parseInt;function d(p){if(typeof p=="number")return p;if(n(p))return o;if(e(p)){var m=typeof p.valueOf=="function"?p.valueOf():p;p=e(m)?m+"":m}if(typeof p!="string")return p===0?p:+p;p=t(p);var v=u.test(p);return v||h.test(p)?f(p.slice(2),v?2:8):l.test(p)?o:+p}return toNumber_1=d,toNumber_1}var debounce_1,hasRequiredDebounce;function requireDebounce(){if(hasRequiredDebounce)return debounce_1;hasRequiredDebounce=1;var t=requireIsObject(),e=requireNow(),n=requireToNumber(),o="Expected a function",l=Math.max,u=Math.min;function h(f,d,p){var m,v,b,S,T,C,w=0,R=!1,L=!1,N=!0;if(typeof f!="function")throw new TypeError(o);d=n(d)||0,t(p)&&(R=!!p.leading,L="maxWait"in p,b=L?l(n(p.maxWait)||0,d):b,N="trailing"in p?!!p.trailing:N);function F(le){var ne=m,ce=v;return m=v=void 0,w=le,S=f.apply(ce,ne),S}function B(le){return w=le,T=setTimeout(K,d),R?F(le):S}function U(le){var ne=le-C,ce=le-w,fe=d-ne;return L?u(fe,b-ce):fe}function z(le){var ne=le-C,ce=le-w;return C===void 0||ne>=d||ne<0||L&&ce>=b}function K(){var le=e();if(z(le))return Q(le);T=setTimeout(K,U(le))}function Q(le){return T=void 0,N&&m?F(le):(m=v=void 0,S)}function q(){T!==void 0&&clearTimeout(T),w=0,m=C=v=T=void 0}function H(){return T===void 0?S:Q(e())}function se(){var le=e(),ne=z(le);if(m=arguments,v=this,C=le,ne){if(T===void 0)return B(C);if(L)return clearTimeout(T),T=setTimeout(K,d),F(C)}return T===void 0&&(T=setTimeout(K,d)),S}return se.cancel=q,se.flush=H,se}return debounce_1=h,debounce_1}var throttle_1,hasRequiredThrottle;function requireThrottle(){if(hasRequiredThrottle)return throttle_1;hasRequiredThrottle=1;var t=requireDebounce(),e=requireIsObject(),n="Expected a function";function o(l,u,h){var f=!0,d=!0;if(typeof l!="function")throw new TypeError(n);return e(h)&&(f="leading"in h?!!h.leading:f,d="trailing"in h?!!h.trailing:d),t(l,u,{leading:f,maxWait:u,trailing:d})}return throttle_1=o,throttle_1}var throttleExports=requireThrottle();const throttle=getDefaultExportFromCjs(throttleExports);function _typeof$x(t){"@babel/helpers - typeof";return _typeof$x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$x(t)}function ownKeys$r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$r(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$r(Object(n),!0).forEach(function(o){_defineProperty$v(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$r(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$v(t,e,n){return e=_toPropertyKey$w(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$w(t){var e=_toPrimitive$w(t,"string");return _typeof$x(e)=="symbol"?e:e+""}function _toPrimitive$w(t,e){if(_typeof$x(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$x(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _slicedToArray$a(t,e){return _arrayWithHoles$b(t)||_iterableToArrayLimit$a(t,e)||_unsupportedIterableToArray$h(t,e)||_nonIterableRest$b()}function _nonIterableRest$b(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$h(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$h(t,e)}}function _arrayLikeToArray$h(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _iterableToArrayLimit$a(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var o,l,u,h,f=[],d=!0,p=!1;try{if(u=(n=n.call(t)).next,e!==0)for(;!(d=(o=u.call(n)).done)&&(f.push(o.value),f.length!==e);d=!0);}catch(m){p=!0,l=m}finally{try{if(!d&&n.return!=null&&(h=n.return(),Object(h)!==h))return}finally{if(p)throw l}}return f}}function _arrayWithHoles$b(t){if(Array.isArray(t))return t}var ResponsiveContainer=reactExports.forwardRef(function(t,e){var n=t.aspect,o=t.initialDimension,l=o===void 0?{width:-1,height:-1}:o,u=t.width,h=u===void 0?"100%":u,f=t.height,d=f===void 0?"100%":f,p=t.minWidth,m=p===void 0?0:p,v=t.minHeight,b=t.maxHeight,S=t.children,T=t.debounce,C=T===void 0?0:T,w=t.id,R=t.className,L=t.onResize,N=t.style,F=N===void 0?{}:N,B=reactExports.useRef(null),U=reactExports.useRef();U.current=L,reactExports.useImperativeHandle(e,function(){return Object.defineProperty(B.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),B.current},configurable:!0})});var z=reactExports.useState({containerWidth:l.width,containerHeight:l.height}),K=_slicedToArray$a(z,2),Q=K[0],q=K[1],H=reactExports.useCallback(function(le,ne){q(function(ce){var fe=Math.round(le),ge=Math.round(ne);return ce.containerWidth===fe&&ce.containerHeight===ge?ce:{containerWidth:fe,containerHeight:ge}})},[]);reactExports.useEffect(function(){var le=function(ie){var oe,ae=ie[0].contentRect,pe=ae.width,we=ae.height;H(pe,we),(oe=U.current)===null||oe===void 0||oe.call(U,pe,we)};C>0&&(le=throttle(le,C,{trailing:!0,leading:!1}));var ne=new ResizeObserver(le),ce=B.current.getBoundingClientRect(),fe=ce.width,ge=ce.height;return H(fe,ge),ne.observe(B.current),function(){ne.disconnect()}},[H,C]);var se=reactExports.useMemo(function(){var le=Q.containerWidth,ne=Q.containerHeight;if(le<0||ne<0)return null;warn(isPercent(h)||isPercent(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,h,d),warn(!n||n>0,"The aspect(%s) must be greater than zero.",n);var ce=isPercent(h)?le:h,fe=isPercent(d)?ne:d;n&&n>0&&(ce?fe=ce/n:fe&&(ce=fe*n),b&&fe>b&&(fe=b)),warn(ce>0||fe>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,ce,fe,h,d,m,v,n);var ge=!Array.isArray(S)&&getDisplayName(S.type).endsWith("Chart");return React.Children.map(S,function(Z){return React.isValidElement(Z)?reactExports.cloneElement(Z,_objectSpread$r({width:ce,height:fe},ge?{style:_objectSpread$r({height:"100%",width:"100%",maxHeight:fe,maxWidth:ce},Z.props.style)}:{})):Z})},[n,S,d,b,v,m,Q,h]);return React.createElement("div",{id:w?"".concat(w):void 0,className:clsx("recharts-responsive-container",R),style:_objectSpread$r(_objectSpread$r({},F),{},{width:h,height:d,minWidth:m,minHeight:v,maxHeight:b}),ref:B},se)}),Cell=function t(e){return null};Cell.displayName="Cell";function _typeof$w(t){"@babel/helpers - typeof";return _typeof$w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$w(t)}function ownKeys$q(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$q(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$q(Object(n),!0).forEach(function(o){_defineProperty$u(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$q(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$u(t,e,n){return e=_toPropertyKey$v(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$v(t){var e=_toPrimitive$v(t,"string");return _typeof$w(e)=="symbol"?e:e+""}function _toPrimitive$v(t,e){if(_typeof$w(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$w(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var stringCache={widthCache:{},cacheCount:0},MAX_CACHE_NUM=2e3,SPAN_STYLE={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},MEASUREMENT_SPAN_ID="recharts_measurement_span";function removeInvalidKeys(t){var e=_objectSpread$q({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var getStringSize=function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Global.isSsr)return{width:0,height:0};var o=removeInvalidKeys(n),l=JSON.stringify({text:e,copyStyle:o});if(stringCache.widthCache[l])return stringCache.widthCache[l];try{var u=document.getElementById(MEASUREMENT_SPAN_ID);u||(u=document.createElement("span"),u.setAttribute("id",MEASUREMENT_SPAN_ID),u.setAttribute("aria-hidden","true"),document.body.appendChild(u));var h=_objectSpread$q(_objectSpread$q({},SPAN_STYLE),o);Object.assign(u.style,h),u.textContent="".concat(e);var f=u.getBoundingClientRect(),d={width:f.width,height:f.height};return stringCache.widthCache[l]=d,++stringCache.cacheCount>MAX_CACHE_NUM&&(stringCache.cacheCount=0,stringCache.widthCache={}),d}catch{return{width:0,height:0}}},getOffset=function t(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function _typeof$v(t){"@babel/helpers - typeof";return _typeof$v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$v(t)}function _slicedToArray$9(t,e){return _arrayWithHoles$a(t)||_iterableToArrayLimit$9(t,e)||_unsupportedIterableToArray$g(t,e)||_nonIterableRest$a()}function _nonIterableRest$a(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$g(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$g(t,e)}}function _arrayLikeToArray$g(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _iterableToArrayLimit$9(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var o,l,u,h,f=[],d=!0,p=!1;try{if(u=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(o=u.call(n)).done)&&(f.push(o.value),f.length!==e);d=!0);}catch(m){p=!0,l=m}finally{try{if(!d&&n.return!=null&&(h=n.return(),Object(h)!==h))return}finally{if(p)throw l}}return f}}function _arrayWithHoles$a(t){if(Array.isArray(t))return t}function _classCallCheck$d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$d(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey$u(o.key),o)}}function _createClass$d(t,e,n){return e&&_defineProperties$d(t.prototype,e),n&&_defineProperties$d(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey$u(t){var e=_toPrimitive$u(t,"string");return _typeof$v(e)=="symbol"?e:e+""}function _toPrimitive$u(t,e){if(_typeof$v(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$v(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var MULTIPLY_OR_DIVIDE_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ADD_OR_SUBTRACT_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CSS_LENGTH_UNIT_REGEX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,NUM_SPLIT_REGEX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,CONVERSION_RATES={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},FIXED_CSS_LENGTH_UNITS=Object.keys(CONVERSION_RATES),STR_NAN="NaN";function convertToPx(t,e){return t*CONVERSION_RATES[e]}var DecimalCSS=function(){function t(e,n){_classCallCheck$d(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!CSS_LENGTH_UNIT_REGEX.test(n)&&(this.num=NaN,this.unit=""),FIXED_CSS_LENGTH_UNITS.includes(n)&&(this.num=convertToPx(e,n),this.unit="px")}return _createClass$d(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var o,l=(o=NUM_SPLIT_REGEX.exec(n))!==null&&o!==void 0?o:[],u=_slicedToArray$9(l,3),h=u[1],f=u[2];return new t(parseFloat(h),f??"")}}])}();function calculateArithmetic(t){if(t.includes(STR_NAN))return STR_NAN;for(var e=t;e.includes("*")||e.includes("/");){var n,o=(n=MULTIPLY_OR_DIVIDE_REGEX.exec(e))!==null&&n!==void 0?n:[],l=_slicedToArray$9(o,4),u=l[1],h=l[2],f=l[3],d=DecimalCSS.parse(u??""),p=DecimalCSS.parse(f??""),m=h==="*"?d.multiply(p):d.divide(p);if(m.isNaN())return STR_NAN;e=e.replace(MULTIPLY_OR_DIVIDE_REGEX,m.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var v,b=(v=ADD_OR_SUBTRACT_REGEX.exec(e))!==null&&v!==void 0?v:[],S=_slicedToArray$9(b,4),T=S[1],C=S[2],w=S[3],R=DecimalCSS.parse(T??""),L=DecimalCSS.parse(w??""),N=C==="+"?R.add(L):R.subtract(L);if(N.isNaN())return STR_NAN;e=e.replace(ADD_OR_SUBTRACT_REGEX,N.toString())}return e}var PARENTHESES_REGEX=/\(([^()]*)\)/;function calculateParentheses(t){for(var e=t;e.includes("(");){var n=PARENTHESES_REGEX.exec(e),o=_slicedToArray$9(n,2),l=o[1];e=e.replace(PARENTHESES_REGEX,calculateArithmetic(l))}return e}function evaluateExpression(t){var e=t.replace(/\s+/g,"");return e=calculateParentheses(e),e=calculateArithmetic(e),e}function safeEvaluateExpression(t){try{return evaluateExpression(t)}catch{return STR_NAN}}function reduceCSSCalc(t){var e=safeEvaluateExpression(t.slice(5,-1));return e===STR_NAN?"":e}var _excluded$a=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],_excluded2$3=["dx","dy","angle","className","breakAll"];function _extends$j(){return _extends$j=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$j.apply(this,arguments)}function _objectWithoutProperties$a(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$a(t,e),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(l=0;l<u.length;l++)o=u[l],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function _objectWithoutPropertiesLoose$a(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function _slicedToArray$8(t,e){return _arrayWithHoles$9(t)||_iterableToArrayLimit$8(t,e)||_unsupportedIterableToArray$f(t,e)||_nonIterableRest$9()}function _nonIterableRest$9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$f(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$f(t,e)}}function _arrayLikeToArray$f(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _iterableToArrayLimit$8(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var o,l,u,h,f=[],d=!0,p=!1;try{if(u=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(o=u.call(n)).done)&&(f.push(o.value),f.length!==e);d=!0);}catch(m){p=!0,l=m}finally{try{if(!d&&n.return!=null&&(h=n.return(),Object(h)!==h))return}finally{if(p)throw l}}return f}}function _arrayWithHoles$9(t){if(Array.isArray(t))return t}var BREAKING_SPACES=/[ \f\n\r\t\v\u2028\u2029]+/,calculateWordWidths=function t(e){var n=e.children,o=e.breakAll,l=e.style;try{var u=[];isNil(n)||(o?u=n.toString().split(""):u=n.toString().split(BREAKING_SPACES));var h=u.map(function(d){return{word:d,width:getStringSize(d,l).width}}),f=o?0:getStringSize(" ",l).width;return{wordsWithComputedWidth:h,spaceWidth:f}}catch{return null}},calculateWordsByLines=function t(e,n,o,l,u){var h=e.maxLines,f=e.children,d=e.style,p=e.breakAll,m=isNumber(h),v=f,b=function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ce.reduce(function(fe,ge){var Z=ge.word,ie=ge.width,oe=fe[fe.length-1];if(oe&&(l==null||u||oe.width+ie+o<Number(l)))oe.words.push(Z),oe.width+=ie+o;else{var ae={words:[Z],width:ie};fe.push(ae)}return fe},[])},S=b(n),T=function(ce){return ce.reduce(function(fe,ge){return fe.width>ge.width?fe:ge})};if(!m)return S;for(var C="…",w=function(ce){var fe=v.slice(0,ce),ge=calculateWordWidths({breakAll:p,style:d,children:fe+C}).wordsWithComputedWidth,Z=b(ge),ie=Z.length>h||T(Z).width>Number(l);return[ie,Z]},R=0,L=v.length-1,N=0,F;R<=L&&N<=v.length-1;){var B=Math.floor((R+L)/2),U=B-1,z=w(U),K=_slicedToArray$8(z,2),Q=K[0],q=K[1],H=w(B),se=_slicedToArray$8(H,1),le=se[0];if(!Q&&!le&&(R=B+1),Q&&le&&(L=B-1),!Q&&le){F=q;break}N++}return F||S},getWordsWithoutCalculate=function t(e){var n=isNil(e)?[]:e.toString().split(BREAKING_SPACES);return[{words:n}]},getWordsByLines=function t(e){var n=e.width,o=e.scaleToFit,l=e.children,u=e.style,h=e.breakAll,f=e.maxLines;if((n||o)&&!Global.isSsr){var d,p,m=calculateWordWidths({breakAll:h,children:l,style:u});if(m){var v=m.wordsWithComputedWidth,b=m.spaceWidth;d=v,p=b}else return getWordsWithoutCalculate(l);return calculateWordsByLines({breakAll:h,children:l,maxLines:f,style:u},d,p,n,o)}return getWordsWithoutCalculate(l)},DEFAULT_FILL="#808080",Text=function t(e){var n=e.x,o=n===void 0?0:n,l=e.y,u=l===void 0?0:l,h=e.lineHeight,f=h===void 0?"1em":h,d=e.capHeight,p=d===void 0?"0.71em":d,m=e.scaleToFit,v=m===void 0?!1:m,b=e.textAnchor,S=b===void 0?"start":b,T=e.verticalAnchor,C=T===void 0?"end":T,w=e.fill,R=w===void 0?DEFAULT_FILL:w,L=_objectWithoutProperties$a(e,_excluded$a),N=reactExports.useMemo(function(){return getWordsByLines({breakAll:L.breakAll,children:L.children,maxLines:L.maxLines,scaleToFit:v,style:L.style,width:L.width})},[L.breakAll,L.children,L.maxLines,v,L.style,L.width]),F=L.dx,B=L.dy,U=L.angle,z=L.className,K=L.breakAll,Q=_objectWithoutProperties$a(L,_excluded2$3);if(!isNumOrStr(o)||!isNumOrStr(u))return null;var q=o+(isNumber(F)?F:0),H=u+(isNumber(B)?B:0),se;switch(C){case"start":se=reduceCSSCalc("calc(".concat(p,")"));break;case"middle":se=reduceCSSCalc("calc(".concat((N.length-1)/2," * -").concat(f," + (").concat(p," / 2))"));break;default:se=reduceCSSCalc("calc(".concat(N.length-1," * -").concat(f,")"));break}var le=[];if(v){var ne=N[0].width,ce=L.width;le.push("scale(".concat((isNumber(ce)?ce/ne:1)/ne,")"))}return U&&le.push("rotate(".concat(U,", ").concat(q,", ").concat(H,")")),le.length&&(Q.transform=le.join(" ")),React.createElement("text",_extends$j({},filterProps(Q,!0),{x:q,y:H,className:clsx("recharts-text",z),textAnchor:S,fill:R.includes("url")?DEFAULT_FILL:R}),N.map(function(fe,ge){var Z=fe.words.join(K?"":" ");return React.createElement("tspan",{x:q,dy:ge===0?se:f,key:"".concat(Z,"-").concat(ge)},Z)}))};function ascending(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function descending(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function bisector(t){let e,n,o;t.length!==2?(e=ascending,n=(f,d)=>ascending(t(f),d),o=(f,d)=>t(f)-d):(e=t===ascending||t===descending?t:zero$1,n=t,o=t);function l(f,d,p=0,m=f.length){if(p<m){if(e(d,d)!==0)return m;do{const v=p+m>>>1;n(f[v],d)<0?p=v+1:m=v}while(p<m)}return p}function u(f,d,p=0,m=f.length){if(p<m){if(e(d,d)!==0)return m;do{const v=p+m>>>1;n(f[v],d)<=0?p=v+1:m=v}while(p<m)}return p}function h(f,d,p=0,m=f.length){const v=l(f,d,p,m-1);return v>p&&o(f[v-1],d)>-o(f[v],d)?v-1:v}return{left:l,center:h,right:u}}function zero$1(){return 0}function number$2(t){return t===null?NaN:+t}function*numbers(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const ascendingBisect=bisector(ascending),bisectRight=ascendingBisect.right;bisector(number$2).center;class InternMap extends Map{constructor(e,n=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[o,l]of e)this.set(o,l)}get(e){return super.get(intern_get(this,e))}has(e){return super.has(intern_get(this,e))}set(e,n){return super.set(intern_set(this,e),n)}delete(e){return super.delete(intern_delete(this,e))}}function intern_get({_intern:t,_key:e},n){const o=e(n);return t.has(o)?t.get(o):n}function intern_set({_intern:t,_key:e},n){const o=e(n);return t.has(o)?t.get(o):(t.set(o,n),n)}function intern_delete({_intern:t,_key:e},n){const o=e(n);return t.has(o)&&(n=t.get(o),t.delete(o)),n}function keyof(t){return t!==null&&typeof t=="object"?t.valueOf():t}function compareDefined(t=ascending){if(t===ascending)return ascendingDefined;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const o=t(e,n);return o||o===0?o:(t(n,n)===0)-(t(e,e)===0)}}function ascendingDefined(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(t,e,n){const o=(e-t)/Math.max(0,n),l=Math.floor(Math.log10(o)),u=o/Math.pow(10,l),h=u>=e10?10:u>=e5?5:u>=e2?2:1;let f,d,p;return l<0?(p=Math.pow(10,-l)/h,f=Math.round(t*p),d=Math.round(e*p),f/p<t&&++f,d/p>e&&--d,p=-p):(p=Math.pow(10,l)*h,f=Math.round(t/p),d=Math.round(e/p),f*p<t&&++f,d*p>e&&--d),d<f&&.5<=n&&n<2?tickSpec(t,e,n*2):[f,d,p]}function ticks(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const o=e<t,[l,u,h]=o?tickSpec(e,t,n):tickSpec(t,e,n);if(!(u>=l))return[];const f=u-l+1,d=new Array(f);if(o)if(h<0)for(let p=0;p<f;++p)d[p]=(u-p)/-h;else for(let p=0;p<f;++p)d[p]=(u-p)*h;else if(h<0)for(let p=0;p<f;++p)d[p]=(l+p)/-h;else for(let p=0;p<f;++p)d[p]=(l+p)*h;return d}function tickIncrement(t,e,n){return e=+e,t=+t,n=+n,tickSpec(t,e,n)[2]}function tickStep(t,e,n){e=+e,t=+t,n=+n;const o=e<t,l=o?tickIncrement(e,t,n):tickIncrement(t,e,n);return(o?-1:1)*(l<0?1/-l:l)}function max$1(t,e){let n;for(const o of t)o!=null&&(n<o||n===void 0&&o>=o)&&(n=o);return n}function min$1(t,e){let n;for(const o of t)o!=null&&(n>o||n===void 0&&o>=o)&&(n=o);return n}function quickselect(t,e,n=0,o=1/0,l){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),o=Math.floor(Math.min(t.length-1,o)),!(n<=e&&e<=o))return t;for(l=l===void 0?ascendingDefined:compareDefined(l);o>n;){if(o-n>600){const d=o-n+1,p=e-n+1,m=Math.log(d),v=.5*Math.exp(2*m/3),b=.5*Math.sqrt(m*v*(d-v)/d)*(p-d/2<0?-1:1),S=Math.max(n,Math.floor(e-p*v/d+b)),T=Math.min(o,Math.floor(e+(d-p)*v/d+b));quickselect(t,e,S,T,l)}const u=t[e];let h=n,f=o;for(swap(t,n,e),l(t[o],u)>0&&swap(t,n,o);h<f;){for(swap(t,h,f),++h,--f;l(t[h],u)<0;)++h;for(;l(t[f],u)>0;)--f}l(t[n],u)===0?swap(t,n,f):(++f,swap(t,f,o)),f<=e&&(n=f+1),e<=f&&(o=f-1)}return t}function swap(t,e,n){const o=t[e];t[e]=t[n],t[n]=o}function quantile$1(t,e,n){if(t=Float64Array.from(numbers(t)),!(!(o=t.length)||isNaN(e=+e))){if(e<=0||o<2)return min$1(t);if(e>=1)return max$1(t);var o,l=(o-1)*e,u=Math.floor(l),h=max$1(quickselect(t,u).subarray(0,u+1)),f=min$1(t.subarray(u+1));return h+(f-h)*(l-u)}}function quantileSorted(t,e,n=number$2){if(!(!(o=t.length)||isNaN(e=+e))){if(e<=0||o<2)return+n(t[0],0,t);if(e>=1)return+n(t[o-1],o-1,t);var o,l=(o-1)*e,u=Math.floor(l),h=+n(t[u],u,t),f=+n(t[u+1],u+1,t);return h+(f-h)*(l-u)}}function range$2(t,e,n){t=+t,e=+e,n=(l=arguments.length)<2?(e=t,t=0,1):l<3?1:+n;for(var o=-1,l=Math.max(0,Math.ceil((e-t)/n))|0,u=new Array(l);++o<l;)u[o]=t+o*n;return u}function initRange(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function initInterpolator(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const implicit=Symbol("implicit");function ordinal(){var t=new InternMap,e=[],n=[],o=implicit;function l(u){let h=t.get(u);if(h===void 0){if(o!==implicit)return o;t.set(u,h=e.push(u)-1)}return n[h%n.length]}return l.domain=function(u){if(!arguments.length)return e.slice();e=[],t=new InternMap;for(const h of u)t.has(h)||t.set(h,e.push(h)-1);return l},l.range=function(u){return arguments.length?(n=Array.from(u),l):n.slice()},l.unknown=function(u){return arguments.length?(o=u,l):o},l.copy=function(){return ordinal(e,n).unknown(o)},initRange.apply(l,arguments),l}function band(){var t=ordinal().unknown(void 0),e=t.domain,n=t.range,o=0,l=1,u,h,f=!1,d=0,p=0,m=.5;delete t.unknown;function v(){var b=e().length,S=l<o,T=S?l:o,C=S?o:l;u=(C-T)/Math.max(1,b-d+p*2),f&&(u=Math.floor(u)),T+=(C-T-u*(b-d))*m,h=u*(1-d),f&&(T=Math.round(T),h=Math.round(h));var w=range$2(b).map(function(R){return T+u*R});return n(S?w.reverse():w)}return t.domain=function(b){return arguments.length?(e(b),v()):e()},t.range=function(b){return arguments.length?([o,l]=b,o=+o,l=+l,v()):[o,l]},t.rangeRound=function(b){return[o,l]=b,o=+o,l=+l,f=!0,v()},t.bandwidth=function(){return h},t.step=function(){return u},t.round=function(b){return arguments.length?(f=!!b,v()):f},t.padding=function(b){return arguments.length?(d=Math.min(1,p=+b),v()):d},t.paddingInner=function(b){return arguments.length?(d=Math.min(1,b),v()):d},t.paddingOuter=function(b){return arguments.length?(p=+b,v()):p},t.align=function(b){return arguments.length?(m=Math.max(0,Math.min(1,b)),v()):m},t.copy=function(){return band(e(),[o,l]).round(f).paddingInner(d).paddingOuter(p).align(m)},initRange.apply(v(),arguments)}function pointish(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return pointish(e())},t}function point(){return pointish(band.apply(null,arguments).paddingInner(1))}function define(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function extend(t,e){var n=Object.create(t.prototype);for(var o in e)n[o]=e[o];return n}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=reHex.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?rgbn(e):n===3?new Rgb(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?rgba(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?rgba(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=reRgbInteger.exec(t))?new Rgb(e[1],e[2],e[3],1):(e=reRgbPercent.exec(t))?new Rgb(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=reRgbaInteger.exec(t))?rgba(e[1],e[2],e[3],e[4]):(e=reRgbaPercent.exec(t))?rgba(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=reHslPercent.exec(t))?hsla(e[1],e[2]/100,e[3]/100,1):(e=reHslaPercent.exec(t))?hsla(e[1],e[2]/100,e[3]/100,e[4]):named.hasOwnProperty(t)?rgbn(named[t]):t==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(t){return new Rgb(t>>16&255,t>>8&255,t&255,1)}function rgba(t,e,n,o){return o<=0&&(t=e=n=NaN),new Rgb(t,e,n,o)}function rgbConvert(t){return t instanceof Color||(t=color(t)),t?(t=t.rgb(),new Rgb(t.r,t.g,t.b,t.opacity)):new Rgb}function rgb$1(t,e,n,o){return arguments.length===1?rgbConvert(t):new Rgb(t,e,n,o??1)}function Rgb(t,e,n,o){this.r=+t,this.g=+e,this.b=+n,this.opacity=+o}define(Rgb,rgb$1,extend(Color,{brighter(t){return t=t==null?brighter:Math.pow(brighter,t),new Rgb(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?darker:Math.pow(darker,t),new Rgb(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const t=clampa(this.opacity);return`${t===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${t===1?")":`, ${t})`}`}function clampa(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function clampi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function hex(t){return t=clampi(t),(t<16?"0":"")+t.toString(16)}function hsla(t,e,n,o){return o<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Hsl(t,e,n,o)}function hslConvert(t){if(t instanceof Hsl)return new Hsl(t.h,t.s,t.l,t.opacity);if(t instanceof Color||(t=color(t)),!t)return new Hsl;if(t instanceof Hsl)return t;t=t.rgb();var e=t.r/255,n=t.g/255,o=t.b/255,l=Math.min(e,n,o),u=Math.max(e,n,o),h=NaN,f=u-l,d=(u+l)/2;return f?(e===u?h=(n-o)/f+(n<o)*6:n===u?h=(o-e)/f+2:h=(e-n)/f+4,f/=d<.5?u+l:2-u-l,h*=60):f=d>0&&d<1?0:h,new Hsl(h,f,d,t.opacity)}function hsl(t,e,n,o){return arguments.length===1?hslConvert(t):new Hsl(t,e,n,o??1)}function Hsl(t,e,n,o){this.h=+t,this.s=+e,this.l=+n,this.opacity=+o}define(Hsl,hsl,extend(Color,{brighter(t){return t=t==null?brighter:Math.pow(brighter,t),new Hsl(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?darker:Math.pow(darker,t),new Hsl(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*e,l=2*n-o;return new Rgb(hsl2rgb(t>=240?t-240:t+120,l,o),hsl2rgb(t,l,o),hsl2rgb(t<120?t+240:t-120,l,o),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=clampa(this.opacity);return`${t===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${t===1?")":`, ${t})`}`}}));function clamph(t){return t=(t||0)%360,t<0?t+360:t}function clampt(t){return Math.max(0,Math.min(1,t||0))}function hsl2rgb(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const constant=t=>()=>t;function linear$1(t,e){return function(n){return t+n*e}}function exponential(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(o){return Math.pow(t+o*e,n)}}function gamma(t){return(t=+t)==1?nogamma:function(e,n){return n-e?exponential(e,n,t):constant(isNaN(e)?n:e)}}function nogamma(t,e){var n=e-t;return n?linear$1(t,n):constant(isNaN(t)?e:t)}const rgb=function t(e){var n=gamma(e);function o(l,u){var h=n((l=rgb$1(l)).r,(u=rgb$1(u)).r),f=n(l.g,u.g),d=n(l.b,u.b),p=nogamma(l.opacity,u.opacity);return function(m){return l.r=h(m),l.g=f(m),l.b=d(m),l.opacity=p(m),l+""}}return o.gamma=t,o}(1);function numberArray(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,o=e.slice(),l;return function(u){for(l=0;l<n;++l)o[l]=t[l]*(1-u)+e[l]*u;return o}}function isNumberArray(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function genericArray(t,e){var n=e?e.length:0,o=t?Math.min(n,t.length):0,l=new Array(o),u=new Array(n),h;for(h=0;h<o;++h)l[h]=interpolate(t[h],e[h]);for(;h<n;++h)u[h]=e[h];return function(f){for(h=0;h<o;++h)u[h]=l[h](f);return u}}function date$1(t,e){var n=new Date;return t=+t,e=+e,function(o){return n.setTime(t*(1-o)+e*o),n}}function interpolateNumber$1(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function object(t,e){var n={},o={},l;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(l in e)l in t?n[l]=interpolate(t[l],e[l]):o[l]=e[l];return function(u){for(l in n)o[l]=n[l](u);return o}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(t){return function(){return t}}function one(t){return function(e){return t(e)+""}}function string(t,e){var n=reA.lastIndex=reB.lastIndex=0,o,l,u,h=-1,f=[],d=[];for(t=t+"",e=e+"";(o=reA.exec(t))&&(l=reB.exec(e));)(u=l.index)>n&&(u=e.slice(n,u),f[h]?f[h]+=u:f[++h]=u),(o=o[0])===(l=l[0])?f[h]?f[h]+=l:f[++h]=l:(f[++h]=null,d.push({i:h,x:interpolateNumber$1(o,l)})),n=reB.lastIndex;return n<e.length&&(u=e.slice(n),f[h]?f[h]+=u:f[++h]=u),f.length<2?d[0]?one(d[0].x):zero(e):(e=d.length,function(p){for(var m=0,v;m<e;++m)f[(v=d[m]).i]=v.x(p);return f.join("")})}function interpolate(t,e){var n=typeof e,o;return e==null||n==="boolean"?constant(e):(n==="number"?interpolateNumber$1:n==="string"?(o=color(e))?(e=o,rgb):string:e instanceof color?rgb:e instanceof Date?date$1:isNumberArray(e)?numberArray:Array.isArray(e)?genericArray:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?object:interpolateNumber$1)(t,e)}function interpolateRound(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function piecewise(t,e){e===void 0&&(e=t,t=interpolate);for(var n=0,o=e.length-1,l=e[0],u=new Array(o<0?0:o);n<o;)u[n]=t(l,l=e[++n]);return function(h){var f=Math.max(0,Math.min(o-1,Math.floor(h*=o)));return u[f](h-f)}}function constants(t){return function(){return t}}function number$1(t){return+t}var unit=[0,1];function identity$4(t){return t}function normalize(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:constants(isNaN(e)?NaN:.5)}function clamper(t,e){var n;return t>e&&(n=t,t=e,e=n),function(o){return Math.max(t,Math.min(e,o))}}function bimap(t,e,n){var o=t[0],l=t[1],u=e[0],h=e[1];return l<o?(o=normalize(l,o),u=n(h,u)):(o=normalize(o,l),u=n(u,h)),function(f){return u(o(f))}}function polymap(t,e,n){var o=Math.min(t.length,e.length)-1,l=new Array(o),u=new Array(o),h=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++h<o;)l[h]=normalize(t[h],t[h+1]),u[h]=n(e[h],e[h+1]);return function(f){var d=bisectRight(t,f,1,o)-1;return u[d](l[d](f))}}function copy$1(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function transformer$2(){var t=unit,e=unit,n=interpolate,o,l,u,h=identity$4,f,d,p;function m(){var b=Math.min(t.length,e.length);return h!==identity$4&&(h=clamper(t[0],t[b-1])),f=b>2?polymap:bimap,d=p=null,v}function v(b){return b==null||isNaN(b=+b)?u:(d||(d=f(t.map(o),e,n)))(o(h(b)))}return v.invert=function(b){return h(l((p||(p=f(e,t.map(o),interpolateNumber$1)))(b)))},v.domain=function(b){return arguments.length?(t=Array.from(b,number$1),m()):t.slice()},v.range=function(b){return arguments.length?(e=Array.from(b),m()):e.slice()},v.rangeRound=function(b){return e=Array.from(b),n=interpolateRound,m()},v.clamp=function(b){return arguments.length?(h=b?!0:identity$4,m()):h!==identity$4},v.interpolate=function(b){return arguments.length?(n=b,m()):n},v.unknown=function(b){return arguments.length?(u=b,v):u},function(b,S){return o=b,l=S,m()}}function continuous(){return transformer$2()(identity$4,identity$4)}function formatDecimal(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function formatDecimalParts(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,o=t.slice(0,n);return[o.length>1?o[0]+o.slice(2):o,+t.slice(n+1)]}function exponent(t){return t=formatDecimalParts(Math.abs(t)),t?t[1]:NaN}function formatGroup(t,e){return function(n,o){for(var l=n.length,u=[],h=0,f=t[0],d=0;l>0&&f>0&&(d+f+1>o&&(f=Math.max(1,o-d)),u.push(n.substring(l-=f,l+f)),!((d+=f+1)>o));)f=t[h=(h+1)%t.length];return u.reverse().join(e)}}function formatNumerals(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var re=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(t){if(!(e=re.exec(t)))throw new Error("invalid format: "+t);var e;return new FormatSpecifier({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(t){e:for(var e=t.length,n=1,o=-1,l;n<e;++n)switch(t[n]){case".":o=l=n;break;case"0":o===0&&(o=n),l=n;break;default:if(!+t[n])break e;o>0&&(o=0);break}return o>0?t.slice(0,o)+t.slice(l+1):t}var prefixExponent;function formatPrefixAuto(t,e){var n=formatDecimalParts(t,e);if(!n)return t+"";var o=n[0],l=n[1],u=l-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(l/3)))*3)+1,h=o.length;return u===h?o:u>h?o+new Array(u-h+1).join("0"):u>0?o.slice(0,u)+"."+o.slice(u):"0."+new Array(1-u).join("0")+formatDecimalParts(t,Math.max(0,e+u-1))[0]}function formatRounded(t,e){var n=formatDecimalParts(t,e);if(!n)return t+"";var o=n[0],l=n[1];return l<0?"0."+new Array(-l).join("0")+o:o.length>l+1?o.slice(0,l+1)+"."+o.slice(l+1):o+new Array(l-o.length+2).join("0")}const formatTypes={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:formatDecimal,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>formatRounded(t*100,e),r:formatRounded,s:formatPrefixAuto,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function identity$3(t){return t}var map$1=Array.prototype.map,prefixes=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(t){var e=t.grouping===void 0||t.thousands===void 0?identity$3:formatGroup(map$1.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",o=t.currency===void 0?"":t.currency[1]+"",l=t.decimal===void 0?".":t.decimal+"",u=t.numerals===void 0?identity$3:formatNumerals(map$1.call(t.numerals,String)),h=t.percent===void 0?"%":t.percent+"",f=t.minus===void 0?"−":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function p(v){v=formatSpecifier(v);var b=v.fill,S=v.align,T=v.sign,C=v.symbol,w=v.zero,R=v.width,L=v.comma,N=v.precision,F=v.trim,B=v.type;B==="n"?(L=!0,B="g"):formatTypes[B]||(N===void 0&&(N=12),F=!0,B="g"),(w||b==="0"&&S==="=")&&(w=!0,b="0",S="=");var U=C==="$"?n:C==="#"&&/[boxX]/.test(B)?"0"+B.toLowerCase():"",z=C==="$"?o:/[%p]/.test(B)?h:"",K=formatTypes[B],Q=/[defgprs%]/.test(B);N=N===void 0?6:/[gprs]/.test(B)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function q(H){var se=U,le=z,ne,ce,fe;if(B==="c")le=K(H)+le,H="";else{H=+H;var ge=H<0||1/H<0;if(H=isNaN(H)?d:K(Math.abs(H),N),F&&(H=formatTrim(H)),ge&&+H==0&&T!=="+"&&(ge=!1),se=(ge?T==="("?T:f:T==="-"||T==="("?"":T)+se,le=(B==="s"?prefixes[8+prefixExponent/3]:"")+le+(ge&&T==="("?")":""),Q){for(ne=-1,ce=H.length;++ne<ce;)if(fe=H.charCodeAt(ne),48>fe||fe>57){le=(fe===46?l+H.slice(ne+1):H.slice(ne))+le,H=H.slice(0,ne);break}}}L&&!w&&(H=e(H,1/0));var Z=se.length+H.length+le.length,ie=Z<R?new Array(R-Z+1).join(b):"";switch(L&&w&&(H=e(ie+H,ie.length?R-le.length:1/0),ie=""),S){case"<":H=se+H+le+ie;break;case"=":H=se+ie+H+le;break;case"^":H=ie.slice(0,Z=ie.length>>1)+se+H+le+ie.slice(Z);break;default:H=ie+se+H+le;break}return u(H)}return q.toString=function(){return v+""},q}function m(v,b){var S=p((v=formatSpecifier(v),v.type="f",v)),T=Math.max(-8,Math.min(8,Math.floor(exponent(b)/3)))*3,C=Math.pow(10,-T),w=prefixes[8+T/3];return function(R){return S(C*R)+w}}return{format:p,formatPrefix:m}}var locale$1,format,formatPrefix;defaultLocale$1({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale$1(t){return locale$1=formatLocale$1(t),format=locale$1.format,formatPrefix=locale$1.formatPrefix,locale$1}function precisionFixed(t){return Math.max(0,-exponent(Math.abs(t)))}function precisionPrefix(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent(e)/3)))*3-exponent(Math.abs(t)))}function precisionRound(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,exponent(e)-exponent(t))+1}function tickFormat(t,e,n,o){var l=tickStep(t,e,n),u;switch(o=formatSpecifier(o??",f"),o.type){case"s":{var h=Math.max(Math.abs(t),Math.abs(e));return o.precision==null&&!isNaN(u=precisionPrefix(l,h))&&(o.precision=u),formatPrefix(o,h)}case"":case"e":case"g":case"p":case"r":{o.precision==null&&!isNaN(u=precisionRound(l,Math.max(Math.abs(t),Math.abs(e))))&&(o.precision=u-(o.type==="e"));break}case"f":case"%":{o.precision==null&&!isNaN(u=precisionFixed(l))&&(o.precision=u-(o.type==="%")*2);break}}return format(o)}function linearish(t){var e=t.domain;return t.ticks=function(n){var o=e();return ticks(o[0],o[o.length-1],n??10)},t.tickFormat=function(n,o){var l=e();return tickFormat(l[0],l[l.length-1],n??10,o)},t.nice=function(n){n==null&&(n=10);var o=e(),l=0,u=o.length-1,h=o[l],f=o[u],d,p,m=10;for(f<h&&(p=h,h=f,f=p,p=l,l=u,u=p);m-- >0;){if(p=tickIncrement(h,f,n),p===d)return o[l]=h,o[u]=f,e(o);if(p>0)h=Math.floor(h/p)*p,f=Math.ceil(f/p)*p;else if(p<0)h=Math.ceil(h*p)/p,f=Math.floor(f*p)/p;else break;d=p}return t},t}function linear(){var t=continuous();return t.copy=function(){return copy$1(t,linear())},initRange.apply(t,arguments),linearish(t)}function identity$2(t){var e;function n(o){return o==null||isNaN(o=+o)?e:o}return n.invert=n,n.domain=n.range=function(o){return arguments.length?(t=Array.from(o,number$1),n):t.slice()},n.unknown=function(o){return arguments.length?(e=o,n):e},n.copy=function(){return identity$2(t).unknown(e)},t=arguments.length?Array.from(t,number$1):[0,1],linearish(n)}function nice(t,e){t=t.slice();var n=0,o=t.length-1,l=t[n],u=t[o],h;return u<l&&(h=n,n=o,o=h,h=l,l=u,u=h),t[n]=e.floor(l),t[o]=e.ceil(u),t}function transformLog(t){return Math.log(t)}function transformExp(t){return Math.exp(t)}function transformLogn(t){return-Math.log(-t)}function transformExpn(t){return-Math.exp(-t)}function pow10(t){return isFinite(t)?+("1e"+t):t<0?0:t}function powp(t){return t===10?pow10:t===Math.E?Math.exp:e=>Math.pow(t,e)}function logp(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function reflect(t){return(e,n)=>-t(-e,n)}function loggish(t){const e=t(transformLog,transformExp),n=e.domain;let o=10,l,u;function h(){return l=logp(o),u=powp(o),n()[0]<0?(l=reflect(l),u=reflect(u),t(transformLogn,transformExpn)):t(transformLog,transformExp),e}return e.base=function(f){return arguments.length?(o=+f,h()):o},e.domain=function(f){return arguments.length?(n(f),h()):n()},e.ticks=f=>{const d=n();let p=d[0],m=d[d.length-1];const v=m<p;v&&([p,m]=[m,p]);let b=l(p),S=l(m),T,C;const w=f==null?10:+f;let R=[];if(!(o%1)&&S-b<w){if(b=Math.floor(b),S=Math.ceil(S),p>0){for(;b<=S;++b)for(T=1;T<o;++T)if(C=b<0?T/u(-b):T*u(b),!(C<p)){if(C>m)break;R.push(C)}}else for(;b<=S;++b)for(T=o-1;T>=1;--T)if(C=b>0?T/u(-b):T*u(b),!(C<p)){if(C>m)break;R.push(C)}R.length*2<w&&(R=ticks(p,m,w))}else R=ticks(b,S,Math.min(S-b,w)).map(u);return v?R.reverse():R},e.tickFormat=(f,d)=>{if(f==null&&(f=10),d==null&&(d=o===10?"s":","),typeof d!="function"&&(!(o%1)&&(d=formatSpecifier(d)).precision==null&&(d.trim=!0),d=format(d)),f===1/0)return d;const p=Math.max(1,o*f/e.ticks().length);return m=>{let v=m/u(Math.round(l(m)));return v*o<o-.5&&(v*=o),v<=p?d(m):""}},e.nice=()=>n(nice(n(),{floor:f=>u(Math.floor(l(f))),ceil:f=>u(Math.ceil(l(f)))})),e}function log(){const t=loggish(transformer$2()).domain([1,10]);return t.copy=()=>copy$1(t,log()).base(t.base()),initRange.apply(t,arguments),t}function transformSymlog(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function transformSymexp(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function symlogish(t){var e=1,n=t(transformSymlog(e),transformSymexp(e));return n.constant=function(o){return arguments.length?t(transformSymlog(e=+o),transformSymexp(e)):e},linearish(n)}function symlog(){var t=symlogish(transformer$2());return t.copy=function(){return copy$1(t,symlog()).constant(t.constant())},initRange.apply(t,arguments)}function transformPow(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function transformSqrt(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function transformSquare(t){return t<0?-t*t:t*t}function powish(t){var e=t(identity$4,identity$4),n=1;function o(){return n===1?t(identity$4,identity$4):n===.5?t(transformSqrt,transformSquare):t(transformPow(n),transformPow(1/n))}return e.exponent=function(l){return arguments.length?(n=+l,o()):n},linearish(e)}function pow(){var t=powish(transformer$2());return t.copy=function(){return copy$1(t,pow()).exponent(t.exponent())},initRange.apply(t,arguments),t}function sqrt(){return pow.apply(null,arguments).exponent(.5)}function square(t){return Math.sign(t)*t*t}function unsquare(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function radial(){var t=continuous(),e=[0,1],n=!1,o;function l(u){var h=unsquare(t(u));return isNaN(h)?o:n?Math.round(h):h}return l.invert=function(u){return t.invert(square(u))},l.domain=function(u){return arguments.length?(t.domain(u),l):t.domain()},l.range=function(u){return arguments.length?(t.range((e=Array.from(u,number$1)).map(square)),l):e.slice()},l.rangeRound=function(u){return l.range(u).round(!0)},l.round=function(u){return arguments.length?(n=!!u,l):n},l.clamp=function(u){return arguments.length?(t.clamp(u),l):t.clamp()},l.unknown=function(u){return arguments.length?(o=u,l):o},l.copy=function(){return radial(t.domain(),e).round(n).clamp(t.clamp()).unknown(o)},initRange.apply(l,arguments),linearish(l)}function quantile(){var t=[],e=[],n=[],o;function l(){var h=0,f=Math.max(1,e.length);for(n=new Array(f-1);++h<f;)n[h-1]=quantileSorted(t,h/f);return u}function u(h){return h==null||isNaN(h=+h)?o:e[bisectRight(n,h)]}return u.invertExtent=function(h){var f=e.indexOf(h);return f<0?[NaN,NaN]:[f>0?n[f-1]:t[0],f<n.length?n[f]:t[t.length-1]]},u.domain=function(h){if(!arguments.length)return t.slice();t=[];for(let f of h)f!=null&&!isNaN(f=+f)&&t.push(f);return t.sort(ascending),l()},u.range=function(h){return arguments.length?(e=Array.from(h),l()):e.slice()},u.unknown=function(h){return arguments.length?(o=h,u):o},u.quantiles=function(){return n.slice()},u.copy=function(){return quantile().domain(t).range(e).unknown(o)},initRange.apply(u,arguments)}function quantize(){var t=0,e=1,n=1,o=[.5],l=[0,1],u;function h(d){return d!=null&&d<=d?l[bisectRight(o,d,0,n)]:u}function f(){var d=-1;for(o=new Array(n);++d<n;)o[d]=((d+1)*e-(d-n)*t)/(n+1);return h}return h.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,f()):[t,e]},h.range=function(d){return arguments.length?(n=(l=Array.from(d)).length-1,f()):l.slice()},h.invertExtent=function(d){var p=l.indexOf(d);return p<0?[NaN,NaN]:p<1?[t,o[0]]:p>=n?[o[n-1],e]:[o[p-1],o[p]]},h.unknown=function(d){return arguments.length&&(u=d),h},h.thresholds=function(){return o.slice()},h.copy=function(){return quantize().domain([t,e]).range(l).unknown(u)},initRange.apply(linearish(h),arguments)}function threshold(){var t=[.5],e=[0,1],n,o=1;function l(u){return u!=null&&u<=u?e[bisectRight(t,u,0,o)]:n}return l.domain=function(u){return arguments.length?(t=Array.from(u),o=Math.min(t.length,e.length-1),l):t.slice()},l.range=function(u){return arguments.length?(e=Array.from(u),o=Math.min(t.length,e.length-1),l):e.slice()},l.invertExtent=function(u){var h=e.indexOf(u);return[t[h-1],t[h]]},l.unknown=function(u){return arguments.length?(n=u,l):n},l.copy=function(){return threshold().domain(t).range(e).unknown(n)},initRange.apply(l,arguments)}const t0=new Date,t1=new Date;function timeInterval(t,e,n,o){function l(u){return t(u=arguments.length===0?new Date:new Date(+u)),u}return l.floor=u=>(t(u=new Date(+u)),u),l.ceil=u=>(t(u=new Date(u-1)),e(u,1),t(u),u),l.round=u=>{const h=l(u),f=l.ceil(u);return u-h<f-u?h:f},l.offset=(u,h)=>(e(u=new Date(+u),h==null?1:Math.floor(h)),u),l.range=(u,h,f)=>{const d=[];if(u=l.ceil(u),f=f==null?1:Math.floor(f),!(u<h)||!(f>0))return d;let p;do d.push(p=new Date(+u)),e(u,f),t(u);while(p<u&&u<h);return d},l.filter=u=>timeInterval(h=>{if(h>=h)for(;t(h),!u(h);)h.setTime(h-1)},(h,f)=>{if(h>=h)if(f<0)for(;++f<=0;)for(;e(h,-1),!u(h););else for(;--f>=0;)for(;e(h,1),!u(h););}),n&&(l.count=(u,h)=>(t0.setTime(+u),t1.setTime(+h),t(t0),t(t1),Math.floor(n(t0,t1))),l.every=u=>(u=Math.floor(u),!isFinite(u)||!(u>0)?null:u>1?l.filter(o?h=>o(h)%u===0:h=>l.count(0,h)%u===0):l)),l}const millisecond=timeInterval(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);millisecond.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?timeInterval(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):millisecond);millisecond.range;const durationSecond=1e3,durationMinute=durationSecond*60,durationHour=durationMinute*60,durationDay=durationHour*24,durationWeek=durationDay*7,durationMonth=durationDay*30,durationYear=durationDay*365,second=timeInterval(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*durationSecond)},(t,e)=>(e-t)/durationSecond,t=>t.getUTCSeconds());second.range;const timeMinute=timeInterval(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*durationSecond)},(t,e)=>{t.setTime(+t+e*durationMinute)},(t,e)=>(e-t)/durationMinute,t=>t.getMinutes());timeMinute.range;const utcMinute=timeInterval(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*durationMinute)},(t,e)=>(e-t)/durationMinute,t=>t.getUTCMinutes());utcMinute.range;const timeHour=timeInterval(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*durationSecond-t.getMinutes()*durationMinute)},(t,e)=>{t.setTime(+t+e*durationHour)},(t,e)=>(e-t)/durationHour,t=>t.getHours());timeHour.range;const utcHour=timeInterval(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*durationHour)},(t,e)=>(e-t)/durationHour,t=>t.getUTCHours());utcHour.range;const timeDay=timeInterval(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*durationMinute)/durationDay,t=>t.getDate()-1);timeDay.range;const utcDay=timeInterval(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/durationDay,t=>t.getUTCDate()-1);utcDay.range;const unixDay=timeInterval(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/durationDay,t=>Math.floor(t/durationDay));unixDay.range;function timeWeekday(t){return timeInterval(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*durationMinute)/durationWeek)}const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);timeSunday.range;timeMonday.range;timeTuesday.range;timeWednesday.range;timeThursday.range;timeFriday.range;timeSaturday.range;function utcWeekday(t){return timeInterval(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/durationWeek)}const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range;utcMonday.range;utcTuesday.range;utcWednesday.range;utcThursday.range;utcFriday.range;utcSaturday.range;const timeMonth=timeInterval(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());timeMonth.range;const utcMonth=timeInterval(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());utcMonth.range;const timeYear=timeInterval(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());timeYear.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:timeInterval(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});timeYear.range;const utcYear=timeInterval(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());utcYear.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:timeInterval(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});utcYear.range;function ticker(t,e,n,o,l,u){const h=[[second,1,durationSecond],[second,5,5*durationSecond],[second,15,15*durationSecond],[second,30,30*durationSecond],[u,1,durationMinute],[u,5,5*durationMinute],[u,15,15*durationMinute],[u,30,30*durationMinute],[l,1,durationHour],[l,3,3*durationHour],[l,6,6*durationHour],[l,12,12*durationHour],[o,1,durationDay],[o,2,2*durationDay],[n,1,durationWeek],[e,1,durationMonth],[e,3,3*durationMonth],[t,1,durationYear]];function f(p,m,v){const b=m<p;b&&([p,m]=[m,p]);const S=v&&typeof v.range=="function"?v:d(p,m,v),T=S?S.range(p,+m+1):[];return b?T.reverse():T}function d(p,m,v){const b=Math.abs(m-p)/v,S=bisector(([,,w])=>w).right(h,b);if(S===h.length)return t.every(tickStep(p/durationYear,m/durationYear,v));if(S===0)return millisecond.every(Math.max(tickStep(p,m,v),1));const[T,C]=h[b/h[S-1][2]<h[S][2]/b?S-1:S];return T.every(C)}return[f,d]}const[utcTicks,utcTickInterval]=ticker(utcYear,utcMonth,utcSunday,unixDay,utcHour,utcMinute),[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function utcDate(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function newDate(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function formatLocale(t){var e=t.dateTime,n=t.date,o=t.time,l=t.periods,u=t.days,h=t.shortDays,f=t.months,d=t.shortMonths,p=formatRe(l),m=formatLookup(l),v=formatRe(u),b=formatLookup(u),S=formatRe(h),T=formatLookup(h),C=formatRe(f),w=formatLookup(f),R=formatRe(d),L=formatLookup(d),N={a:ge,A:Z,b:ie,B:oe,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:ae,q:pe,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},F={a:we,A:_e,b:Me,B:Oe,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:Ye,q:qe,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},B={a:q,A:H,b:se,B:le,c:ne,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:Q,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:ce,X:fe,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};N.x=U(n,N),N.X=U(o,N),N.c=U(e,N),F.x=U(n,F),F.X=U(o,F),F.c=U(e,F);function U(Re,Je){return function(ke){var de=[],Be=-1,Pe=0,et=Re.length,He,rt,ot;for(ke instanceof Date||(ke=new Date(+ke));++Be<et;)Re.charCodeAt(Be)===37&&(de.push(Re.slice(Pe,Be)),(rt=pads[He=Re.charAt(++Be)])!=null?He=Re.charAt(++Be):rt=He==="e"?" ":"0",(ot=Je[He])&&(He=ot(ke,rt)),de.push(He),Pe=Be+1);return de.push(Re.slice(Pe,Be)),de.join("")}}function z(Re,Je){return function(ke){var de=newDate(1900,void 0,1),Be=K(de,Re,ke+="",0),Pe,et;if(Be!=ke.length)return null;if("Q"in de)return new Date(de.Q);if("s"in de)return new Date(de.s*1e3+("L"in de?de.L:0));if(Je&&!("Z"in de)&&(de.Z=0),"p"in de&&(de.H=de.H%12+de.p*12),de.m===void 0&&(de.m="q"in de?de.q:0),"V"in de){if(de.V<1||de.V>53)return null;"w"in de||(de.w=1),"Z"in de?(Pe=utcDate(newDate(de.y,0,1)),et=Pe.getUTCDay(),Pe=et>4||et===0?utcMonday.ceil(Pe):utcMonday(Pe),Pe=utcDay.offset(Pe,(de.V-1)*7),de.y=Pe.getUTCFullYear(),de.m=Pe.getUTCMonth(),de.d=Pe.getUTCDate()+(de.w+6)%7):(Pe=localDate(newDate(de.y,0,1)),et=Pe.getDay(),Pe=et>4||et===0?timeMonday.ceil(Pe):timeMonday(Pe),Pe=timeDay.offset(Pe,(de.V-1)*7),de.y=Pe.getFullYear(),de.m=Pe.getMonth(),de.d=Pe.getDate()+(de.w+6)%7)}else("W"in de||"U"in de)&&("w"in de||(de.w="u"in de?de.u%7:"W"in de?1:0),et="Z"in de?utcDate(newDate(de.y,0,1)).getUTCDay():localDate(newDate(de.y,0,1)).getDay(),de.m=0,de.d="W"in de?(de.w+6)%7+de.W*7-(et+5)%7:de.w+de.U*7-(et+6)%7);return"Z"in de?(de.H+=de.Z/100|0,de.M+=de.Z%100,utcDate(de)):localDate(de)}}function K(Re,Je,ke,de){for(var Be=0,Pe=Je.length,et=ke.length,He,rt;Be<Pe;){if(de>=et)return-1;if(He=Je.charCodeAt(Be++),He===37){if(He=Je.charAt(Be++),rt=B[He in pads?Je.charAt(Be++):He],!rt||(de=rt(Re,ke,de))<0)return-1}else if(He!=ke.charCodeAt(de++))return-1}return de}function Q(Re,Je,ke){var de=p.exec(Je.slice(ke));return de?(Re.p=m.get(de[0].toLowerCase()),ke+de[0].length):-1}function q(Re,Je,ke){var de=S.exec(Je.slice(ke));return de?(Re.w=T.get(de[0].toLowerCase()),ke+de[0].length):-1}function H(Re,Je,ke){var de=v.exec(Je.slice(ke));return de?(Re.w=b.get(de[0].toLowerCase()),ke+de[0].length):-1}function se(Re,Je,ke){var de=R.exec(Je.slice(ke));return de?(Re.m=L.get(de[0].toLowerCase()),ke+de[0].length):-1}function le(Re,Je,ke){var de=C.exec(Je.slice(ke));return de?(Re.m=w.get(de[0].toLowerCase()),ke+de[0].length):-1}function ne(Re,Je,ke){return K(Re,e,Je,ke)}function ce(Re,Je,ke){return K(Re,n,Je,ke)}function fe(Re,Je,ke){return K(Re,o,Je,ke)}function ge(Re){return h[Re.getDay()]}function Z(Re){return u[Re.getDay()]}function ie(Re){return d[Re.getMonth()]}function oe(Re){return f[Re.getMonth()]}function ae(Re){return l[+(Re.getHours()>=12)]}function pe(Re){return 1+~~(Re.getMonth()/3)}function we(Re){return h[Re.getUTCDay()]}function _e(Re){return u[Re.getUTCDay()]}function Me(Re){return d[Re.getUTCMonth()]}function Oe(Re){return f[Re.getUTCMonth()]}function Ye(Re){return l[+(Re.getUTCHours()>=12)]}function qe(Re){return 1+~~(Re.getUTCMonth()/3)}return{format:function(Re){var Je=U(Re+="",N);return Je.toString=function(){return Re},Je},parse:function(Re){var Je=z(Re+="",!1);return Je.toString=function(){return Re},Je},utcFormat:function(Re){var Je=U(Re+="",F);return Je.toString=function(){return Re},Je},utcParse:function(Re){var Je=z(Re+="",!0);return Je.toString=function(){return Re},Je}}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad(t,e,n){var o=t<0?"-":"",l=(o?-t:t)+"",u=l.length;return o+(u<n?new Array(n-u+1).join(e)+l:l)}function requote(t){return t.replace(requoteRe,"\\$&")}function formatRe(t){return new RegExp("^(?:"+t.map(requote).join("|")+")","i")}function formatLookup(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function parseWeekdayNumberSunday(t,e,n){var o=numberRe.exec(e.slice(n,n+1));return o?(t.w=+o[0],n+o[0].length):-1}function parseWeekdayNumberMonday(t,e,n){var o=numberRe.exec(e.slice(n,n+1));return o?(t.u=+o[0],n+o[0].length):-1}function parseWeekNumberSunday(t,e,n){var o=numberRe.exec(e.slice(n,n+2));return o?(t.U=+o[0],n+o[0].length):-1}function parseWeekNumberISO(t,e,n){var o=numberRe.exec(e.slice(n,n+2));return o?(t.V=+o[0],n+o[0].length):-1}function parseWeekNumberMonday(t,e,n){var o=numberRe.exec(e.slice(n,n+2));return o?(t.W=+o[0],n+o[0].length):-1}function parseFullYear(t,e,n){var o=numberRe.exec(e.slice(n,n+4));return o?(t.y=+o[0],n+o[0].length):-1}function parseYear(t,e,n){var o=numberRe.exec(e.slice(n,n+2));return o?(t.y=+o[0]+(+o[0]>68?1900:2e3),n+o[0].length):-1}function parseZone(t,e,n){var o=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return o?(t.Z=o[1]?0:-(o[2]+(o[3]||"00")),n+o[0].length):-1}function parseQuarter(t,e,n){var o=numberRe.exec(e.slice(n,n+1));return o?(t.q=o[0]*3-3,n+o[0].length):-1}function parseMonthNumber(t,e,n){var o=numberRe.exec(e.slice(n,n+2));return o?(t.m=o[0]-1,n+o[0].length):-1}function parseDayOfMonth(t,e,n){var o=numberRe.exec(e.slice(n,n+2));return o?(t.d=+o[0],n+o[0].length):-1}function parseDayOfYear(t,e,n){var o=numberRe.exec(e.slice(n,n+3));return o?(t.m=0,t.d=+o[0],n+o[0].length):-1}function parseHour24(t,e,n){var o=numberRe.exec(e.slice(n,n+2));return o?(t.H=+o[0],n+o[0].length):-1}function parseMinutes(t,e,n){var o=numberRe.exec(e.slice(n,n+2));return o?(t.M=+o[0],n+o[0].length):-1}function parseSeconds(t,e,n){var o=numberRe.exec(e.slice(n,n+2));return o?(t.S=+o[0],n+o[0].length):-1}function parseMilliseconds(t,e,n){var o=numberRe.exec(e.slice(n,n+3));return o?(t.L=+o[0],n+o[0].length):-1}function parseMicroseconds(t,e,n){var o=numberRe.exec(e.slice(n,n+6));return o?(t.L=Math.floor(o[0]/1e3),n+o[0].length):-1}function parseLiteralPercent(t,e,n){var o=percentRe.exec(e.slice(n,n+1));return o?n+o[0].length:-1}function parseUnixTimestamp(t,e,n){var o=numberRe.exec(e.slice(n));return o?(t.Q=+o[0],n+o[0].length):-1}function parseUnixTimestampSeconds(t,e,n){var o=numberRe.exec(e.slice(n));return o?(t.s=+o[0],n+o[0].length):-1}function formatDayOfMonth(t,e){return pad(t.getDate(),e,2)}function formatHour24(t,e){return pad(t.getHours(),e,2)}function formatHour12(t,e){return pad(t.getHours()%12||12,e,2)}function formatDayOfYear(t,e){return pad(1+timeDay.count(timeYear(t),t),e,3)}function formatMilliseconds(t,e){return pad(t.getMilliseconds(),e,3)}function formatMicroseconds(t,e){return formatMilliseconds(t,e)+"000"}function formatMonthNumber(t,e){return pad(t.getMonth()+1,e,2)}function formatMinutes(t,e){return pad(t.getMinutes(),e,2)}function formatSeconds(t,e){return pad(t.getSeconds(),e,2)}function formatWeekdayNumberMonday(t){var e=t.getDay();return e===0?7:e}function formatWeekNumberSunday(t,e){return pad(timeSunday.count(timeYear(t)-1,t),e,2)}function dISO(t){var e=t.getDay();return e>=4||e===0?timeThursday(t):timeThursday.ceil(t)}function formatWeekNumberISO(t,e){return t=dISO(t),pad(timeThursday.count(timeYear(t),t)+(timeYear(t).getDay()===4),e,2)}function formatWeekdayNumberSunday(t){return t.getDay()}function formatWeekNumberMonday(t,e){return pad(timeMonday.count(timeYear(t)-1,t),e,2)}function formatYear(t,e){return pad(t.getFullYear()%100,e,2)}function formatYearISO(t,e){return t=dISO(t),pad(t.getFullYear()%100,e,2)}function formatFullYear(t,e){return pad(t.getFullYear()%1e4,e,4)}function formatFullYearISO(t,e){var n=t.getDay();return t=n>=4||n===0?timeThursday(t):timeThursday.ceil(t),pad(t.getFullYear()%1e4,e,4)}function formatZone(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+pad(e/60|0,"0",2)+pad(e%60,"0",2)}function formatUTCDayOfMonth(t,e){return pad(t.getUTCDate(),e,2)}function formatUTCHour24(t,e){return pad(t.getUTCHours(),e,2)}function formatUTCHour12(t,e){return pad(t.getUTCHours()%12||12,e,2)}function formatUTCDayOfYear(t,e){return pad(1+utcDay.count(utcYear(t),t),e,3)}function formatUTCMilliseconds(t,e){return pad(t.getUTCMilliseconds(),e,3)}function formatUTCMicroseconds(t,e){return formatUTCMilliseconds(t,e)+"000"}function formatUTCMonthNumber(t,e){return pad(t.getUTCMonth()+1,e,2)}function formatUTCMinutes(t,e){return pad(t.getUTCMinutes(),e,2)}function formatUTCSeconds(t,e){return pad(t.getUTCSeconds(),e,2)}function formatUTCWeekdayNumberMonday(t){var e=t.getUTCDay();return e===0?7:e}function formatUTCWeekNumberSunday(t,e){return pad(utcSunday.count(utcYear(t)-1,t),e,2)}function UTCdISO(t){var e=t.getUTCDay();return e>=4||e===0?utcThursday(t):utcThursday.ceil(t)}function formatUTCWeekNumberISO(t,e){return t=UTCdISO(t),pad(utcThursday.count(utcYear(t),t)+(utcYear(t).getUTCDay()===4),e,2)}function formatUTCWeekdayNumberSunday(t){return t.getUTCDay()}function formatUTCWeekNumberMonday(t,e){return pad(utcMonday.count(utcYear(t)-1,t),e,2)}function formatUTCYear(t,e){return pad(t.getUTCFullYear()%100,e,2)}function formatUTCYearISO(t,e){return t=UTCdISO(t),pad(t.getUTCFullYear()%100,e,2)}function formatUTCFullYear(t,e){return pad(t.getUTCFullYear()%1e4,e,4)}function formatUTCFullYearISO(t,e){var n=t.getUTCDay();return t=n>=4||n===0?utcThursday(t):utcThursday.ceil(t),pad(t.getUTCFullYear()%1e4,e,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(t){return+t}function formatUnixTimestampSeconds(t){return Math.floor(+t/1e3)}var locale,timeFormat,utcFormat;defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale(t){return locale=formatLocale(t),timeFormat=locale.format,locale.parse,utcFormat=locale.utcFormat,locale.utcParse,locale}function date(t){return new Date(t)}function number(t){return t instanceof Date?+t:+new Date(+t)}function calendar(t,e,n,o,l,u,h,f,d,p){var m=continuous(),v=m.invert,b=m.domain,S=p(".%L"),T=p(":%S"),C=p("%I:%M"),w=p("%I %p"),R=p("%a %d"),L=p("%b %d"),N=p("%B"),F=p("%Y");function B(U){return(d(U)<U?S:f(U)<U?T:h(U)<U?C:u(U)<U?w:o(U)<U?l(U)<U?R:L:n(U)<U?N:F)(U)}return m.invert=function(U){return new Date(v(U))},m.domain=function(U){return arguments.length?b(Array.from(U,number)):b().map(date)},m.ticks=function(U){var z=b();return t(z[0],z[z.length-1],U??10)},m.tickFormat=function(U,z){return z==null?B:p(z)},m.nice=function(U){var z=b();return(!U||typeof U.range!="function")&&(U=e(z[0],z[z.length-1],U??10)),U?b(nice(z,U)):m},m.copy=function(){return copy$1(m,calendar(t,e,n,o,l,u,h,f,d,p))},m}function time(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function utcTime(){return initRange.apply(calendar(utcTicks,utcTickInterval,utcYear,utcMonth,utcSunday,utcDay,utcHour,utcMinute,second,utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function transformer$1(){var t=0,e=1,n,o,l,u,h=identity$4,f=!1,d;function p(v){return v==null||isNaN(v=+v)?d:h(l===0?.5:(v=(u(v)-n)*l,f?Math.max(0,Math.min(1,v)):v))}p.domain=function(v){return arguments.length?([t,e]=v,n=u(t=+t),o=u(e=+e),l=n===o?0:1/(o-n),p):[t,e]},p.clamp=function(v){return arguments.length?(f=!!v,p):f},p.interpolator=function(v){return arguments.length?(h=v,p):h};function m(v){return function(b){var S,T;return arguments.length?([S,T]=b,h=v(S,T),p):[h(0),h(1)]}}return p.range=m(interpolate),p.rangeRound=m(interpolateRound),p.unknown=function(v){return arguments.length?(d=v,p):d},function(v){return u=v,n=v(t),o=v(e),l=n===o?0:1/(o-n),p}}function copy(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function sequential(){var t=linearish(transformer$1()(identity$4));return t.copy=function(){return copy(t,sequential())},initInterpolator.apply(t,arguments)}function sequentialLog(){var t=loggish(transformer$1()).domain([1,10]);return t.copy=function(){return copy(t,sequentialLog()).base(t.base())},initInterpolator.apply(t,arguments)}function sequentialSymlog(){var t=symlogish(transformer$1());return t.copy=function(){return copy(t,sequentialSymlog()).constant(t.constant())},initInterpolator.apply(t,arguments)}function sequentialPow(){var t=powish(transformer$1());return t.copy=function(){return copy(t,sequentialPow()).exponent(t.exponent())},initInterpolator.apply(t,arguments)}function sequentialSqrt(){return sequentialPow.apply(null,arguments).exponent(.5)}function sequentialQuantile(){var t=[],e=identity$4;function n(o){if(o!=null&&!isNaN(o=+o))return e((bisectRight(t,o,1)-1)/(t.length-1))}return n.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(ascending),n},n.interpolator=function(o){return arguments.length?(e=o,n):e},n.range=function(){return t.map((o,l)=>e(l/(t.length-1)))},n.quantiles=function(o){return Array.from({length:o+1},(l,u)=>quantile$1(t,u/o))},n.copy=function(){return sequentialQuantile(e).domain(t)},initInterpolator.apply(n,arguments)}function transformer(){var t=0,e=.5,n=1,o=1,l,u,h,f,d,p=identity$4,m,v=!1,b;function S(C){return isNaN(C=+C)?b:(C=.5+((C=+m(C))-u)*(o*C<o*u?f:d),p(v?Math.max(0,Math.min(1,C)):C))}S.domain=function(C){return arguments.length?([t,e,n]=C,l=m(t=+t),u=m(e=+e),h=m(n=+n),f=l===u?0:.5/(u-l),d=u===h?0:.5/(h-u),o=u<l?-1:1,S):[t,e,n]},S.clamp=function(C){return arguments.length?(v=!!C,S):v},S.interpolator=function(C){return arguments.length?(p=C,S):p};function T(C){return function(w){var R,L,N;return arguments.length?([R,L,N]=w,p=piecewise(C,[R,L,N]),S):[p(0),p(.5),p(1)]}}return S.range=T(interpolate),S.rangeRound=T(interpolateRound),S.unknown=function(C){return arguments.length?(b=C,S):b},function(C){return m=C,l=C(t),u=C(e),h=C(n),f=l===u?0:.5/(u-l),d=u===h?0:.5/(h-u),o=u<l?-1:1,S}}function diverging(){var t=linearish(transformer()(identity$4));return t.copy=function(){return copy(t,diverging())},initInterpolator.apply(t,arguments)}function divergingLog(){var t=loggish(transformer()).domain([.1,1,10]);return t.copy=function(){return copy(t,divergingLog()).base(t.base())},initInterpolator.apply(t,arguments)}function divergingSymlog(){var t=symlogish(transformer());return t.copy=function(){return copy(t,divergingSymlog()).constant(t.constant())},initInterpolator.apply(t,arguments)}function divergingPow(){var t=powish(transformer());return t.copy=function(){return copy(t,divergingPow()).exponent(t.exponent())},initInterpolator.apply(t,arguments)}function divergingSqrt(){return divergingPow.apply(null,arguments).exponent(.5)}const d3Scales=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:band,scaleDiverging:diverging,scaleDivergingLog:divergingLog,scaleDivergingPow:divergingPow,scaleDivergingSqrt:divergingSqrt,scaleDivergingSymlog:divergingSymlog,scaleIdentity:identity$2,scaleImplicit:implicit,scaleLinear:linear,scaleLog:log,scaleOrdinal:ordinal,scalePoint:point,scalePow:pow,scaleQuantile:quantile,scaleQuantize:quantize,scaleRadial:radial,scaleSequential:sequential,scaleSequentialLog:sequentialLog,scaleSequentialPow:sequentialPow,scaleSequentialQuantile:sequentialQuantile,scaleSequentialSqrt:sequentialSqrt,scaleSequentialSymlog:sequentialSymlog,scaleSqrt:sqrt,scaleSymlog:symlog,scaleThreshold:threshold,scaleTime:time,scaleUtc:utcTime,tickFormat},Symbol.toStringTag,{value:"Module"}));var _baseExtremum,hasRequired_baseExtremum;function require_baseExtremum(){if(hasRequired_baseExtremum)return _baseExtremum;hasRequired_baseExtremum=1;var t=requireIsSymbol();function e(n,o,l){for(var u=-1,h=n.length;++u<h;){var f=n[u],d=o(f);if(d!=null&&(p===void 0?d===d&&!t(d):l(d,p)))var p=d,m=f}return m}return _baseExtremum=e,_baseExtremum}var _baseGt,hasRequired_baseGt;function require_baseGt(){if(hasRequired_baseGt)return _baseGt;hasRequired_baseGt=1;function t(e,n){return e>n}return _baseGt=t,_baseGt}var max_1,hasRequiredMax;function requireMax(){if(hasRequiredMax)return max_1;hasRequiredMax=1;var t=require_baseExtremum(),e=require_baseGt(),n=requireIdentity();function o(l){return l&&l.length?t(l,n,e):void 0}return max_1=o,max_1}var maxExports=requireMax();const max=getDefaultExportFromCjs(maxExports);var _baseLt,hasRequired_baseLt;function require_baseLt(){if(hasRequired_baseLt)return _baseLt;hasRequired_baseLt=1;function t(e,n){return e<n}return _baseLt=t,_baseLt}var min_1,hasRequiredMin;function requireMin(){if(hasRequiredMin)return min_1;hasRequiredMin=1;var t=require_baseExtremum(),e=require_baseLt(),n=requireIdentity();function o(l){return l&&l.length?t(l,n,e):void 0}return min_1=o,min_1}var minExports=requireMin();const min=getDefaultExportFromCjs(minExports);var map_1,hasRequiredMap;function requireMap(){if(hasRequiredMap)return map_1;hasRequiredMap=1;var t=require_arrayMap(),e=require_baseIteratee(),n=require_baseMap(),o=requireIsArray();function l(u,h){var f=o(u)?t:n;return f(u,e(h,3))}return map_1=l,map_1}var flatMap_1,hasRequiredFlatMap;function requireFlatMap(){if(hasRequiredFlatMap)return flatMap_1;hasRequiredFlatMap=1;var t=require_baseFlatten(),e=requireMap();function n(o,l){return t(e(o,l),1)}return flatMap_1=n,flatMap_1}var flatMapExports=requireFlatMap();const flatMap=getDefaultExportFromCjs(flatMapExports);var isEqual_1,hasRequiredIsEqual;function requireIsEqual(){if(hasRequiredIsEqual)return isEqual_1;hasRequiredIsEqual=1;var t=require_baseIsEqual();function e(n,o){return t(n,o)}return isEqual_1=e,isEqual_1}var isEqualExports=requireIsEqual();const isEqual=getDefaultExportFromCjs(isEqualExports);var MAX_DIGITS=1e9,defaults={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Decimal,external=!0,decimalError="[DecimalError] ",invalidArgument=decimalError+"Invalid argument: ",exponentOutOfRange=decimalError+"Exponent out of range: ",mathfloor=Math.floor,mathpow=Math.pow,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ONE,BASE=1e7,LOG_BASE=7,MAX_SAFE_INTEGER=9007199254740991,MAX_E=mathfloor(MAX_SAFE_INTEGER/LOG_BASE),P={};P.absoluteValue=P.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};P.comparedTo=P.cmp=function(t){var e,n,o,l,u=this;if(t=new u.constructor(t),u.s!==t.s)return u.s||-t.s;if(u.e!==t.e)return u.e>t.e^u.s<0?1:-1;for(o=u.d.length,l=t.d.length,e=0,n=o<l?o:l;e<n;++e)if(u.d[e]!==t.d[e])return u.d[e]>t.d[e]^u.s<0?1:-1;return o===l?0:o>l^u.s<0?1:-1};P.decimalPlaces=P.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*LOG_BASE;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};P.dividedBy=P.div=function(t){return divide(this,new this.constructor(t))};P.dividedToIntegerBy=P.idiv=function(t){var e=this,n=e.constructor;return round(divide(e,new n(t),0,1),n.precision)};P.equals=P.eq=function(t){return!this.cmp(t)};P.exponent=function(){return getBase10Exponent(this)};P.greaterThan=P.gt=function(t){return this.cmp(t)>0};P.greaterThanOrEqualTo=P.gte=function(t){return this.cmp(t)>=0};P.isInteger=P.isint=function(){return this.e>this.d.length-2};P.isNegative=P.isneg=function(){return this.s<0};P.isPositive=P.ispos=function(){return this.s>0};P.isZero=function(){return this.s===0};P.lessThan=P.lt=function(t){return this.cmp(t)<0};P.lessThanOrEqualTo=P.lte=function(t){return this.cmp(t)<1};P.logarithm=P.log=function(t){var e,n=this,o=n.constructor,l=o.precision,u=l+5;if(t===void 0)t=new o(10);else if(t=new o(t),t.s<1||t.eq(ONE))throw Error(decimalError+"NaN");if(n.s<1)throw Error(decimalError+(n.s?"NaN":"-Infinity"));return n.eq(ONE)?new o(0):(external=!1,e=divide(ln(n,u),ln(t,u),u),external=!0,round(e,l))};P.minus=P.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?subtract(e,t):add(e,(t.s=-t.s,t))};P.modulo=P.mod=function(t){var e,n=this,o=n.constructor,l=o.precision;if(t=new o(t),!t.s)throw Error(decimalError+"NaN");return n.s?(external=!1,e=divide(n,t,0,1).times(t),external=!0,n.minus(e)):round(new o(n),l)};P.naturalExponential=P.exp=function(){return exp(this)};P.naturalLogarithm=P.ln=function(){return ln(this)};P.negated=P.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};P.plus=P.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?add(e,t):subtract(e,(t.s=-t.s,t))};P.precision=P.sd=function(t){var e,n,o,l=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(invalidArgument+t);if(e=getBase10Exponent(l)+1,o=l.d.length-1,n=o*LOG_BASE+1,o=l.d[o],o){for(;o%10==0;o/=10)n--;for(o=l.d[0];o>=10;o/=10)n++}return t&&e>n?e:n};P.squareRoot=P.sqrt=function(){var t,e,n,o,l,u,h,f=this,d=f.constructor;if(f.s<1){if(!f.s)return new d(0);throw Error(decimalError+"NaN")}for(t=getBase10Exponent(f),external=!1,l=Math.sqrt(+f),l==0||l==1/0?(e=digitsToString(f.d),(e.length+t)%2==0&&(e+="0"),l=Math.sqrt(e),t=mathfloor((t+1)/2)-(t<0||t%2),l==1/0?e="5e"+t:(e=l.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),o=new d(e)):o=new d(l.toString()),n=d.precision,l=h=n+3;;)if(u=o,o=u.plus(divide(f,u,h+2)).times(.5),digitsToString(u.d).slice(0,h)===(e=digitsToString(o.d)).slice(0,h)){if(e=e.slice(h-3,h+1),l==h&&e=="4999"){if(round(u,n+1,0),u.times(u).eq(f)){o=u;break}}else if(e!="9999")break;h+=4}return external=!0,round(o,n)};P.times=P.mul=function(t){var e,n,o,l,u,h,f,d,p,m=this,v=m.constructor,b=m.d,S=(t=new v(t)).d;if(!m.s||!t.s)return new v(0);for(t.s*=m.s,n=m.e+t.e,d=b.length,p=S.length,d<p&&(u=b,b=S,S=u,h=d,d=p,p=h),u=[],h=d+p,o=h;o--;)u.push(0);for(o=p;--o>=0;){for(e=0,l=d+o;l>o;)f=u[l]+S[o]*b[l-o-1]+e,u[l--]=f%BASE|0,e=f/BASE|0;u[l]=(u[l]+e)%BASE|0}for(;!u[--h];)u.pop();return e?++n:u.shift(),t.d=u,t.e=n,external?round(t,v.precision):t};P.toDecimalPlaces=P.todp=function(t,e){var n=this,o=n.constructor;return n=new o(n),t===void 0?n:(checkInt32(t,0,MAX_DIGITS),e===void 0?e=o.rounding:checkInt32(e,0,8),round(n,t+getBase10Exponent(n)+1,e))};P.toExponential=function(t,e){var n,o=this,l=o.constructor;return t===void 0?n=toString(o,!0):(checkInt32(t,0,MAX_DIGITS),e===void 0?e=l.rounding:checkInt32(e,0,8),o=round(new l(o),t+1,e),n=toString(o,!0,t+1)),n};P.toFixed=function(t,e){var n,o,l=this,u=l.constructor;return t===void 0?toString(l):(checkInt32(t,0,MAX_DIGITS),e===void 0?e=u.rounding:checkInt32(e,0,8),o=round(new u(l),t+getBase10Exponent(l)+1,e),n=toString(o.abs(),!1,t+getBase10Exponent(o)+1),l.isneg()&&!l.isZero()?"-"+n:n)};P.toInteger=P.toint=function(){var t=this,e=t.constructor;return round(new e(t),getBase10Exponent(t)+1,e.rounding)};P.toNumber=function(){return+this};P.toPower=P.pow=function(t){var e,n,o,l,u,h,f=this,d=f.constructor,p=12,m=+(t=new d(t));if(!t.s)return new d(ONE);if(f=new d(f),!f.s){if(t.s<1)throw Error(decimalError+"Infinity");return f}if(f.eq(ONE))return f;if(o=d.precision,t.eq(ONE))return round(f,o);if(e=t.e,n=t.d.length-1,h=e>=n,u=f.s,h){if((n=m<0?-m:m)<=MAX_SAFE_INTEGER){for(l=new d(ONE),e=Math.ceil(o/LOG_BASE+4),external=!1;n%2&&(l=l.times(f),truncate(l.d,e)),n=mathfloor(n/2),n!==0;)f=f.times(f),truncate(f.d,e);return external=!0,t.s<0?new d(ONE).div(l):round(l,o)}}else if(u<0)throw Error(decimalError+"NaN");return u=u<0&&t.d[Math.max(e,n)]&1?-1:1,f.s=1,external=!1,l=t.times(ln(f,o+p)),external=!0,l=exp(l),l.s=u,l};P.toPrecision=function(t,e){var n,o,l=this,u=l.constructor;return t===void 0?(n=getBase10Exponent(l),o=toString(l,n<=u.toExpNeg||n>=u.toExpPos)):(checkInt32(t,1,MAX_DIGITS),e===void 0?e=u.rounding:checkInt32(e,0,8),l=round(new u(l),t,e),n=getBase10Exponent(l),o=toString(l,t<=n||n<=u.toExpNeg,t)),o};P.toSignificantDigits=P.tosd=function(t,e){var n=this,o=n.constructor;return t===void 0?(t=o.precision,e=o.rounding):(checkInt32(t,1,MAX_DIGITS),e===void 0?e=o.rounding:checkInt32(e,0,8)),round(new o(n),t,e)};P.toString=P.valueOf=P.val=P.toJSON=P[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=getBase10Exponent(t),n=t.constructor;return toString(t,e<=n.toExpNeg||e>=n.toExpPos)};function add(t,e){var n,o,l,u,h,f,d,p,m=t.constructor,v=m.precision;if(!t.s||!e.s)return e.s||(e=new m(t)),external?round(e,v):e;if(d=t.d,p=e.d,h=t.e,l=e.e,d=d.slice(),u=h-l,u){for(u<0?(o=d,u=-u,f=p.length):(o=p,l=h,f=d.length),h=Math.ceil(v/LOG_BASE),f=h>f?h+1:f+1,u>f&&(u=f,o.length=1),o.reverse();u--;)o.push(0);o.reverse()}for(f=d.length,u=p.length,f-u<0&&(u=f,o=p,p=d,d=o),n=0;u;)n=(d[--u]=d[u]+p[u]+n)/BASE|0,d[u]%=BASE;for(n&&(d.unshift(n),++l),f=d.length;d[--f]==0;)d.pop();return e.d=d,e.e=l,external?round(e,v):e}function checkInt32(t,e,n){if(t!==~~t||t<e||t>n)throw Error(invalidArgument+t)}function digitsToString(t){var e,n,o,l=t.length-1,u="",h=t[0];if(l>0){for(u+=h,e=1;e<l;e++)o=t[e]+"",n=LOG_BASE-o.length,n&&(u+=getZeroString(n)),u+=o;h=t[e],o=h+"",n=LOG_BASE-o.length,n&&(u+=getZeroString(n))}else if(h===0)return"0";for(;h%10===0;)h/=10;return u+h}var divide=function(){function t(o,l){var u,h=0,f=o.length;for(o=o.slice();f--;)u=o[f]*l+h,o[f]=u%BASE|0,h=u/BASE|0;return h&&o.unshift(h),o}function e(o,l,u,h){var f,d;if(u!=h)d=u>h?1:-1;else for(f=d=0;f<u;f++)if(o[f]!=l[f]){d=o[f]>l[f]?1:-1;break}return d}function n(o,l,u){for(var h=0;u--;)o[u]-=h,h=o[u]<l[u]?1:0,o[u]=h*BASE+o[u]-l[u];for(;!o[0]&&o.length>1;)o.shift()}return function(o,l,u,h){var f,d,p,m,v,b,S,T,C,w,R,L,N,F,B,U,z,K,Q=o.constructor,q=o.s==l.s?1:-1,H=o.d,se=l.d;if(!o.s)return new Q(o);if(!l.s)throw Error(decimalError+"Division by zero");for(d=o.e-l.e,z=se.length,B=H.length,S=new Q(q),T=S.d=[],p=0;se[p]==(H[p]||0);)++p;if(se[p]>(H[p]||0)&&--d,u==null?L=u=Q.precision:h?L=u+(getBase10Exponent(o)-getBase10Exponent(l))+1:L=u,L<0)return new Q(0);if(L=L/LOG_BASE+2|0,p=0,z==1)for(m=0,se=se[0],L++;(p<B||m)&&L--;p++)N=m*BASE+(H[p]||0),T[p]=N/se|0,m=N%se|0;else{for(m=BASE/(se[0]+1)|0,m>1&&(se=t(se,m),H=t(H,m),z=se.length,B=H.length),F=z,C=H.slice(0,z),w=C.length;w<z;)C[w++]=0;K=se.slice(),K.unshift(0),U=se[0],se[1]>=BASE/2&&++U;do m=0,f=e(se,C,z,w),f<0?(R=C[0],z!=w&&(R=R*BASE+(C[1]||0)),m=R/U|0,m>1?(m>=BASE&&(m=BASE-1),v=t(se,m),b=v.length,w=C.length,f=e(v,C,b,w),f==1&&(m--,n(v,z<b?K:se,b))):(m==0&&(f=m=1),v=se.slice()),b=v.length,b<w&&v.unshift(0),n(C,v,w),f==-1&&(w=C.length,f=e(se,C,z,w),f<1&&(m++,n(C,z<w?K:se,w))),w=C.length):f===0&&(m++,C=[0]),T[p++]=m,f&&C[0]?C[w++]=H[F]||0:(C=[H[F]],w=1);while((F++<B||C[0]!==void 0)&&L--)}return T[0]||T.shift(),S.e=d,round(S,h?u+getBase10Exponent(S)+1:u)}}();function exp(t,e){var n,o,l,u,h,f,d=0,p=0,m=t.constructor,v=m.precision;if(getBase10Exponent(t)>16)throw Error(exponentOutOfRange+getBase10Exponent(t));if(!t.s)return new m(ONE);for(external=!1,f=v,h=new m(.03125);t.abs().gte(.1);)t=t.times(h),p+=5;for(o=Math.log(mathpow(2,p))/Math.LN10*2+5|0,f+=o,n=l=u=new m(ONE),m.precision=f;;){if(l=round(l.times(t),f),n=n.times(++d),h=u.plus(divide(l,n,f)),digitsToString(h.d).slice(0,f)===digitsToString(u.d).slice(0,f)){for(;p--;)u=round(u.times(u),f);return m.precision=v,e==null?(external=!0,round(u,v)):u}u=h}}function getBase10Exponent(t){for(var e=t.e*LOG_BASE,n=t.d[0];n>=10;n/=10)e++;return e}function getLn10(t,e,n){if(e>t.LN10.sd())throw external=!0,n&&(t.precision=n),Error(decimalError+"LN10 precision limit exceeded");return round(new t(t.LN10),e)}function getZeroString(t){for(var e="";t--;)e+="0";return e}function ln(t,e){var n,o,l,u,h,f,d,p,m,v=1,b=10,S=t,T=S.d,C=S.constructor,w=C.precision;if(S.s<1)throw Error(decimalError+(S.s?"NaN":"-Infinity"));if(S.eq(ONE))return new C(0);if(e==null?(external=!1,p=w):p=e,S.eq(10))return e==null&&(external=!0),getLn10(C,p);if(p+=b,C.precision=p,n=digitsToString(T),o=n.charAt(0),u=getBase10Exponent(S),Math.abs(u)<15e14){for(;o<7&&o!=1||o==1&&n.charAt(1)>3;)S=S.times(t),n=digitsToString(S.d),o=n.charAt(0),v++;u=getBase10Exponent(S),o>1?(S=new C("0."+n),u++):S=new C(o+"."+n.slice(1))}else return d=getLn10(C,p+2,w).times(u+""),S=ln(new C(o+"."+n.slice(1)),p-b).plus(d),C.precision=w,e==null?(external=!0,round(S,w)):S;for(f=h=S=divide(S.minus(ONE),S.plus(ONE),p),m=round(S.times(S),p),l=3;;){if(h=round(h.times(m),p),d=f.plus(divide(h,new C(l),p)),digitsToString(d.d).slice(0,p)===digitsToString(f.d).slice(0,p))return f=f.times(2),u!==0&&(f=f.plus(getLn10(C,p+2,w).times(u+""))),f=divide(f,new C(v),p),C.precision=w,e==null?(external=!0,round(f,w)):f;f=d,l+=2}}function parseDecimal(t,e){var n,o,l;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(o=e.search(/e/i))>0?(n<0&&(n=o),n+=+e.slice(o+1),e=e.substring(0,o)):n<0&&(n=e.length),o=0;e.charCodeAt(o)===48;)++o;for(l=e.length;e.charCodeAt(l-1)===48;)--l;if(e=e.slice(o,l),e){if(l-=o,n=n-o-1,t.e=mathfloor(n/LOG_BASE),t.d=[],o=(n+1)%LOG_BASE,n<0&&(o+=LOG_BASE),o<l){for(o&&t.d.push(+e.slice(0,o)),l-=LOG_BASE;o<l;)t.d.push(+e.slice(o,o+=LOG_BASE));e=e.slice(o),o=LOG_BASE-e.length}else o-=l;for(;o--;)e+="0";if(t.d.push(+e),external&&(t.e>MAX_E||t.e<-MAX_E))throw Error(exponentOutOfRange+n)}else t.s=0,t.e=0,t.d=[0];return t}function round(t,e,n){var o,l,u,h,f,d,p,m,v=t.d;for(h=1,u=v[0];u>=10;u/=10)h++;if(o=e-h,o<0)o+=LOG_BASE,l=e,p=v[m=0];else{if(m=Math.ceil((o+1)/LOG_BASE),u=v.length,m>=u)return t;for(p=u=v[m],h=1;u>=10;u/=10)h++;o%=LOG_BASE,l=o-LOG_BASE+h}if(n!==void 0&&(u=mathpow(10,h-l-1),f=p/u%10|0,d=e<0||v[m+1]!==void 0||p%u,d=n<4?(f||d)&&(n==0||n==(t.s<0?3:2)):f>5||f==5&&(n==4||d||n==6&&(o>0?l>0?p/mathpow(10,h-l):0:v[m-1])%10&1||n==(t.s<0?8:7))),e<1||!v[0])return d?(u=getBase10Exponent(t),v.length=1,e=e-u-1,v[0]=mathpow(10,(LOG_BASE-e%LOG_BASE)%LOG_BASE),t.e=mathfloor(-e/LOG_BASE)||0):(v.length=1,v[0]=t.e=t.s=0),t;if(o==0?(v.length=m,u=1,m--):(v.length=m+1,u=mathpow(10,LOG_BASE-o),v[m]=l>0?(p/mathpow(10,h-l)%mathpow(10,l)|0)*u:0),d)for(;;)if(m==0){(v[0]+=u)==BASE&&(v[0]=1,++t.e);break}else{if(v[m]+=u,v[m]!=BASE)break;v[m--]=0,u=1}for(o=v.length;v[--o]===0;)v.pop();if(external&&(t.e>MAX_E||t.e<-MAX_E))throw Error(exponentOutOfRange+getBase10Exponent(t));return t}function subtract(t,e){var n,o,l,u,h,f,d,p,m,v,b=t.constructor,S=b.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new b(t),external?round(e,S):e;if(d=t.d,v=e.d,o=e.e,p=t.e,d=d.slice(),h=p-o,h){for(m=h<0,m?(n=d,h=-h,f=v.length):(n=v,o=p,f=d.length),l=Math.max(Math.ceil(S/LOG_BASE),f)+2,h>l&&(h=l,n.length=1),n.reverse(),l=h;l--;)n.push(0);n.reverse()}else{for(l=d.length,f=v.length,m=l<f,m&&(f=l),l=0;l<f;l++)if(d[l]!=v[l]){m=d[l]<v[l];break}h=0}for(m&&(n=d,d=v,v=n,e.s=-e.s),f=d.length,l=v.length-f;l>0;--l)d[f++]=0;for(l=v.length;l>h;){if(d[--l]<v[l]){for(u=l;u&&d[--u]===0;)d[u]=BASE-1;--d[u],d[l]+=BASE}d[l]-=v[l]}for(;d[--f]===0;)d.pop();for(;d[0]===0;d.shift())--o;return d[0]?(e.d=d,e.e=o,external?round(e,S):e):new b(0)}function toString(t,e,n){var o,l=getBase10Exponent(t),u=digitsToString(t.d),h=u.length;return e?(n&&(o=n-h)>0?u=u.charAt(0)+"."+u.slice(1)+getZeroString(o):h>1&&(u=u.charAt(0)+"."+u.slice(1)),u=u+(l<0?"e":"e+")+l):l<0?(u="0."+getZeroString(-l-1)+u,n&&(o=n-h)>0&&(u+=getZeroString(o))):l>=h?(u+=getZeroString(l+1-h),n&&(o=n-l-1)>0&&(u=u+"."+getZeroString(o))):((o=l+1)<h&&(u=u.slice(0,o)+"."+u.slice(o)),n&&(o=n-h)>0&&(l+1===h&&(u+="."),u+=getZeroString(o))),t.s<0?"-"+u:u}function truncate(t,e){if(t.length>e)return t.length=e,!0}function clone(t){var e,n,o;function l(u){var h=this;if(!(h instanceof l))return new l(u);if(h.constructor=l,u instanceof l){h.s=u.s,h.e=u.e,h.d=(u=u.d)?u.slice():u;return}if(typeof u=="number"){if(u*0!==0)throw Error(invalidArgument+u);if(u>0)h.s=1;else if(u<0)u=-u,h.s=-1;else{h.s=0,h.e=0,h.d=[0];return}if(u===~~u&&u<1e7){h.e=0,h.d=[u];return}return parseDecimal(h,u.toString())}else if(typeof u!="string")throw Error(invalidArgument+u);if(u.charCodeAt(0)===45?(u=u.slice(1),h.s=-1):h.s=1,isDecimal.test(u))parseDecimal(h,u);else throw Error(invalidArgument+u)}if(l.prototype=P,l.ROUND_UP=0,l.ROUND_DOWN=1,l.ROUND_CEIL=2,l.ROUND_FLOOR=3,l.ROUND_HALF_UP=4,l.ROUND_HALF_DOWN=5,l.ROUND_HALF_EVEN=6,l.ROUND_HALF_CEIL=7,l.ROUND_HALF_FLOOR=8,l.clone=clone,l.config=l.set=config,t===void 0&&(t={}),t)for(o=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<o.length;)t.hasOwnProperty(n=o[e++])||(t[n]=this[n]);return l.config(t),l}function config(t){if(!t||typeof t!="object")throw Error(decimalError+"Object expected");var e,n,o,l=["precision",1,MAX_DIGITS,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<l.length;e+=3)if((o=t[n=l[e]])!==void 0)if(mathfloor(o)===o&&o>=l[e+1]&&o<=l[e+2])this[n]=o;else throw Error(invalidArgument+n+": "+o);if((o=t[n="LN10"])!==void 0)if(o==Math.LN10)this[n]=new this(o);else throw Error(invalidArgument+n+": "+o);return this}var Decimal=clone(defaults);ONE=new Decimal(1);const Decimal$1=Decimal;function _toConsumableArray$9(t){return _arrayWithoutHoles$9(t)||_iterableToArray$a(t)||_unsupportedIterableToArray$e(t)||_nonIterableSpread$9()}function _nonIterableSpread$9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$e(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$e(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$e(t,e)}}function _iterableToArray$a(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles$9(t){if(Array.isArray(t))return _arrayLikeToArray$e(t)}function _arrayLikeToArray$e(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var identity$1=function t(e){return e},PLACE_HOLDER={},isPlaceHolder=function t(e){return e===PLACE_HOLDER},curry0=function t(e){return function n(){return arguments.length===0||arguments.length===1&&isPlaceHolder(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},curryN=function t(e,n){return e===1?n:curry0(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var h=l.filter(function(f){return f!==PLACE_HOLDER}).length;return h>=e?n.apply(void 0,l):t(e-h,curry0(function(){for(var f=arguments.length,d=new Array(f),p=0;p<f;p++)d[p]=arguments[p];var m=l.map(function(v){return isPlaceHolder(v)?d.shift():v});return n.apply(void 0,_toConsumableArray$9(m).concat(d))}))})},curry=function t(e){return curryN(e.length,e)},range$1=function t(e,n){for(var o=[],l=e;l<n;++l)o[l-e]=l;return o},map=curry(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),compose=function t(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];if(!n.length)return identity$1;var l=n.reverse(),u=l[0],h=l.slice(1);return function(){return h.reduce(function(f,d){return d(f)},u.apply(void 0,arguments))}},reverse=function t(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},memoize$1=function t(e){var n=null,o=null;return function(){for(var l=arguments.length,u=new Array(l),h=0;h<l;h++)u[h]=arguments[h];return n&&u.every(function(f,d){return f===n[d]})||(n=u,o=e.apply(void 0,u)),o}};function getDigitCount(t){var e;return t===0?e=1:e=Math.floor(new Decimal$1(t).abs().log(10).toNumber())+1,e}function rangeStep(t,e,n){for(var o=new Decimal$1(t),l=0,u=[];o.lt(e)&&l<1e5;)u.push(o.toNumber()),o=o.add(n),l++;return u}var interpolateNumber=curry(function(t,e,n){var o=+t,l=+e;return o+n*(l-o)}),uninterpolateNumber=curry(function(t,e,n){var o=e-+t;return o=o||1/0,(n-t)/o}),uninterpolateTruncation=curry(function(t,e,n){var o=e-+t;return o=o||1/0,Math.max(0,Math.min(1,(n-t)/o))});const Arithmetic={rangeStep,getDigitCount,interpolateNumber,uninterpolateNumber,uninterpolateTruncation};function _toConsumableArray$8(t){return _arrayWithoutHoles$8(t)||_iterableToArray$9(t)||_unsupportedIterableToArray$d(t)||_nonIterableSpread$8()}function _nonIterableSpread$8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$9(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles$8(t){if(Array.isArray(t))return _arrayLikeToArray$d(t)}function _slicedToArray$7(t,e){return _arrayWithHoles$8(t)||_iterableToArrayLimit$7(t,e)||_unsupportedIterableToArray$d(t,e)||_nonIterableRest$8()}function _nonIterableRest$8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$d(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$d(t,e)}}function _arrayLikeToArray$d(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _iterableToArrayLimit$7(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],o=!0,l=!1,u=void 0;try{for(var h=t[Symbol.iterator](),f;!(o=(f=h.next()).done)&&(n.push(f.value),!(e&&n.length===e));o=!0);}catch(d){l=!0,u=d}finally{try{!o&&h.return!=null&&h.return()}finally{if(l)throw u}}return n}}function _arrayWithHoles$8(t){if(Array.isArray(t))return t}function getValidInterval(t){var e=_slicedToArray$7(t,2),n=e[0],o=e[1],l=n,u=o;return n>o&&(l=o,u=n),[l,u]}function getFormatStep(t,e,n){if(t.lte(0))return new Decimal$1(0);var o=Arithmetic.getDigitCount(t.toNumber()),l=new Decimal$1(10).pow(o),u=t.div(l),h=o!==1?.05:.1,f=new Decimal$1(Math.ceil(u.div(h).toNumber())).add(n).mul(h),d=f.mul(l);return e?d:new Decimal$1(Math.ceil(d))}function getTickOfSingleValue(t,e,n){var o=1,l=new Decimal$1(t);if(!l.isint()&&n){var u=Math.abs(t);u<1?(o=new Decimal$1(10).pow(Arithmetic.getDigitCount(t)-1),l=new Decimal$1(Math.floor(l.div(o).toNumber())).mul(o)):u>1&&(l=new Decimal$1(Math.floor(t)))}else t===0?l=new Decimal$1(Math.floor((e-1)/2)):n||(l=new Decimal$1(Math.floor(t)));var h=Math.floor((e-1)/2),f=compose(map(function(d){return l.add(new Decimal$1(d-h).mul(o)).toNumber()}),range$1);return f(0,e)}function calculateStep(t,e,n,o){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Decimal$1(0),tickMin:new Decimal$1(0),tickMax:new Decimal$1(0)};var u=getFormatStep(new Decimal$1(e).sub(t).div(n-1),o,l),h;t<=0&&e>=0?h=new Decimal$1(0):(h=new Decimal$1(t).add(e).div(2),h=h.sub(new Decimal$1(h).mod(u)));var f=Math.ceil(h.sub(t).div(u).toNumber()),d=Math.ceil(new Decimal$1(e).sub(h).div(u).toNumber()),p=f+d+1;return p>n?calculateStep(t,e,n,o,l+1):(p<n&&(d=e>0?d+(n-p):d,f=e>0?f:f+(n-p)),{step:u,tickMin:h.sub(new Decimal$1(f).mul(u)),tickMax:h.add(new Decimal$1(d).mul(u))})}function getNiceTickValuesFn(t){var e=_slicedToArray$7(t,2),n=e[0],o=e[1],l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,h=Math.max(l,2),f=getValidInterval([n,o]),d=_slicedToArray$7(f,2),p=d[0],m=d[1];if(p===-1/0||m===1/0){var v=m===1/0?[p].concat(_toConsumableArray$8(range$1(0,l-1).map(function(){return 1/0}))):[].concat(_toConsumableArray$8(range$1(0,l-1).map(function(){return-1/0})),[m]);return n>o?reverse(v):v}if(p===m)return getTickOfSingleValue(p,l,u);var b=calculateStep(p,m,h,u),S=b.step,T=b.tickMin,C=b.tickMax,w=Arithmetic.rangeStep(T,C.add(new Decimal$1(.1).mul(S)),S);return n>o?reverse(w):w}function getTickValuesFixedDomainFn(t,e){var n=_slicedToArray$7(t,2),o=n[0],l=n[1],u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,h=getValidInterval([o,l]),f=_slicedToArray$7(h,2),d=f[0],p=f[1];if(d===-1/0||p===1/0)return[o,l];if(d===p)return[d];var m=Math.max(e,2),v=getFormatStep(new Decimal$1(p).sub(d).div(m-1),u,0),b=[].concat(_toConsumableArray$8(Arithmetic.rangeStep(new Decimal$1(d),new Decimal$1(p).sub(new Decimal$1(.99).mul(v)),v)),[p]);return o>l?reverse(b):b}var getNiceTickValues=memoize$1(getNiceTickValuesFn),getTickValuesFixedDomain=memoize$1(getTickValuesFixedDomainFn),prefix="Invariant failed";function invariant(t,e){throw new Error(prefix)}var _excluded$9=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function _typeof$u(t){"@babel/helpers - typeof";return _typeof$u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$u(t)}function _extends$i(){return _extends$i=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$i.apply(this,arguments)}function _slicedToArray$6(t,e){return _arrayWithHoles$7(t)||_iterableToArrayLimit$6(t,e)||_unsupportedIterableToArray$c(t,e)||_nonIterableRest$7()}function _nonIterableRest$7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$c(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$c(t,e)}}function _arrayLikeToArray$c(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _iterableToArrayLimit$6(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var o,l,u,h,f=[],d=!0,p=!1;try{if(u=(n=n.call(t)).next,e!==0)for(;!(d=(o=u.call(n)).done)&&(f.push(o.value),f.length!==e);d=!0);}catch(m){p=!0,l=m}finally{try{if(!d&&n.return!=null&&(h=n.return(),Object(h)!==h))return}finally{if(p)throw l}}return f}}function _arrayWithHoles$7(t){if(Array.isArray(t))return t}function _objectWithoutProperties$9(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$9(t,e),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(l=0;l<u.length;l++)o=u[l],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function _objectWithoutPropertiesLoose$9(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function _classCallCheck$c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey$t(o.key),o)}}function _createClass$c(t,e,n){return e&&_defineProperties$c(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$9(t,e,n){return e=_getPrototypeOf$a(e),_possibleConstructorReturn$a(t,_isNativeReflectConstruct$a()?Reflect.construct(e,n||[],_getPrototypeOf$a(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$a(t,e){if(e&&(_typeof$u(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$a(t)}function _assertThisInitialized$a(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$a(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$a=function(){return!!t})()}function _getPrototypeOf$a(t){return _getPrototypeOf$a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$a(t)}function _inherits$a(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$a(t,e)}function _setPrototypeOf$a(t,e){return _setPrototypeOf$a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$a(t,e)}function _defineProperty$t(t,e,n){return e=_toPropertyKey$t(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$t(t){var e=_toPrimitive$t(t,"string");return _typeof$u(e)=="symbol"?e:e+""}function _toPrimitive$t(t,e){if(_typeof$u(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$u(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ErrorBar=function(t){function e(){return _classCallCheck$c(this,e),_callSuper$9(this,e,arguments)}return _inherits$a(e,t),_createClass$c(e,[{key:"render",value:function(){var o=this.props,l=o.offset,u=o.layout,h=o.width,f=o.dataKey,d=o.data,p=o.dataPointFormatter,m=o.xAxis,v=o.yAxis,b=_objectWithoutProperties$9(o,_excluded$9),S=filterProps(b,!1);this.props.direction==="x"&&m.type!=="number"&&invariant();var T=d.map(function(C){var w=p(C,f),R=w.x,L=w.y,N=w.value,F=w.errorVal;if(!F)return null;var B=[],U,z;if(Array.isArray(F)){var K=_slicedToArray$6(F,2);U=K[0],z=K[1]}else U=z=F;if(u==="vertical"){var Q=m.scale,q=L+l,H=q+h,se=q-h,le=Q(N-U),ne=Q(N+z);B.push({x1:ne,y1:H,x2:ne,y2:se}),B.push({x1:le,y1:q,x2:ne,y2:q}),B.push({x1:le,y1:H,x2:le,y2:se})}else if(u==="horizontal"){var ce=v.scale,fe=R+l,ge=fe-h,Z=fe+h,ie=ce(N-U),oe=ce(N+z);B.push({x1:ge,y1:oe,x2:Z,y2:oe}),B.push({x1:fe,y1:ie,x2:fe,y2:oe}),B.push({x1:ge,y1:ie,x2:Z,y2:ie})}return React.createElement(Layer,_extends$i({className:"recharts-errorBar",key:"bar-".concat(B.map(function(ae){return"".concat(ae.x1,"-").concat(ae.x2,"-").concat(ae.y1,"-").concat(ae.y2)}))},S),B.map(function(ae){return React.createElement("line",_extends$i({},ae,{key:"line-".concat(ae.x1,"-").concat(ae.x2,"-").concat(ae.y1,"-").concat(ae.y2)}))}))});return React.createElement(Layer,{className:"recharts-errorBars"},T)}}])}(React.Component);_defineProperty$t(ErrorBar,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});_defineProperty$t(ErrorBar,"displayName","ErrorBar");function _typeof$t(t){"@babel/helpers - typeof";return _typeof$t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$t(t)}function ownKeys$p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$p(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$p(Object(n),!0).forEach(function(o){_defineProperty$s(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$p(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$s(t,e,n){return e=_toPropertyKey$s(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$s(t){var e=_toPrimitive$s(t,"string");return _typeof$t(e)=="symbol"?e:e+""}function _toPrimitive$s(t,e){if(_typeof$t(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$t(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var getLegendProps=function t(e){var n=e.children,o=e.formattedGraphicalItems,l=e.legendWidth,u=e.legendContent,h=findChildByType(n,Legend);if(!h)return null;var f=Legend.defaultProps,d=f!==void 0?_objectSpread$p(_objectSpread$p({},f),h.props):{},p;return h.props&&h.props.payload?p=h.props&&h.props.payload:u==="children"?p=(o||[]).reduce(function(m,v){var b=v.item,S=v.props,T=S.sectors||S.data||[];return m.concat(T.map(function(C){return{type:h.props.iconType||b.props.legendType,value:C.name,color:C.fill,payload:C}}))},[]):p=(o||[]).map(function(m){var v=m.item,b=v.type.defaultProps,S=b!==void 0?_objectSpread$p(_objectSpread$p({},b),v.props):{},T=S.dataKey,C=S.name,w=S.legendType,R=S.hide;return{inactive:R,dataKey:T,type:d.iconType||w||"square",color:getMainColorOfGraphicItem(v),value:C||T,payload:S}}),_objectSpread$p(_objectSpread$p(_objectSpread$p({},d),Legend.getWithHeight(h,l)),{},{payload:p,item:h})};function _typeof$s(t){"@babel/helpers - typeof";return _typeof$s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$s(t)}function _toConsumableArray$7(t){return _arrayWithoutHoles$7(t)||_iterableToArray$8(t)||_unsupportedIterableToArray$b(t)||_nonIterableSpread$7()}function _nonIterableSpread$7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$b(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$b(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$b(t,e)}}function _iterableToArray$8(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles$7(t){if(Array.isArray(t))return _arrayLikeToArray$b(t)}function _arrayLikeToArray$b(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function ownKeys$o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$o(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$o(Object(n),!0).forEach(function(o){_defineProperty$r(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$o(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$r(t,e,n){return e=_toPropertyKey$r(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$r(t){var e=_toPrimitive$r(t,"string");return _typeof$s(e)=="symbol"?e:e+""}function _toPrimitive$r(t,e){if(_typeof$s(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$s(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function getValueByDataKey(t,e,n){return isNil(t)||isNil(e)?n:isNumOrStr(e)?get(t,e,n):isFunction(e)?e(t):n}function getDomainOfDataByKey(t,e,n,o){var l=flatMap(t,function(f){return getValueByDataKey(f,e)});if(n==="number"){var u=l.filter(function(f){return isNumber(f)||parseFloat(f)});return u.length?[min(u),max(u)]:[1/0,-1/0]}var h=o?l.filter(function(f){return!isNil(f)}):l;return h.map(function(f){return isNumOrStr(f)||f instanceof Date?f:""})}var calculateActiveTickIndex=function t(e){var n,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],l=arguments.length>2?arguments[2]:void 0,u=arguments.length>3?arguments[3]:void 0,h=-1,f=(n=o==null?void 0:o.length)!==null&&n!==void 0?n:0;if(f<=1)return 0;if(u&&u.axisType==="angleAxis"&&Math.abs(Math.abs(u.range[1]-u.range[0])-360)<=1e-6)for(var d=u.range,p=0;p<f;p++){var m=p>0?l[p-1].coordinate:l[f-1].coordinate,v=l[p].coordinate,b=p>=f-1?l[0].coordinate:l[p+1].coordinate,S=void 0;if(mathSign(v-m)!==mathSign(b-v)){var T=[];if(mathSign(b-v)===mathSign(d[1]-d[0])){S=b;var C=v+d[1]-d[0];T[0]=Math.min(C,(C+m)/2),T[1]=Math.max(C,(C+m)/2)}else{S=m;var w=b+d[1]-d[0];T[0]=Math.min(v,(w+v)/2),T[1]=Math.max(v,(w+v)/2)}var R=[Math.min(v,(S+v)/2),Math.max(v,(S+v)/2)];if(e>R[0]&&e<=R[1]||e>=T[0]&&e<=T[1]){h=l[p].index;break}}else{var L=Math.min(m,b),N=Math.max(m,b);if(e>(L+v)/2&&e<=(N+v)/2){h=l[p].index;break}}}else for(var F=0;F<f;F++)if(F===0&&e<=(o[F].coordinate+o[F+1].coordinate)/2||F>0&&F<f-1&&e>(o[F].coordinate+o[F-1].coordinate)/2&&e<=(o[F].coordinate+o[F+1].coordinate)/2||F===f-1&&e>(o[F].coordinate+o[F-1].coordinate)/2){h=o[F].index;break}return h},getMainColorOfGraphicItem=function t(e){var n,o=e,l=o.type.displayName,u=(n=e.type)!==null&&n!==void 0&&n.defaultProps?_objectSpread$o(_objectSpread$o({},e.type.defaultProps),e.props):e.props,h=u.stroke,f=u.fill,d;switch(l){case"Line":d=h;break;case"Area":case"Radar":d=h&&h!=="none"?h:f;break;default:d=f;break}return d},getBarSizeList=function t(e){var n=e.barSize,o=e.totalSize,l=e.stackGroups,u=l===void 0?{}:l;if(!u)return{};for(var h={},f=Object.keys(u),d=0,p=f.length;d<p;d++)for(var m=u[f[d]].stackGroups,v=Object.keys(m),b=0,S=v.length;b<S;b++){var T=m[v[b]],C=T.items,w=T.cateAxisId,R=C.filter(function(z){return getDisplayName(z.type).indexOf("Bar")>=0});if(R&&R.length){var L=R[0].type.defaultProps,N=L!==void 0?_objectSpread$o(_objectSpread$o({},L),R[0].props):R[0].props,F=N.barSize,B=N[w];h[B]||(h[B]=[]);var U=isNil(F)?n:F;h[B].push({item:R[0],stackList:R.slice(1),barSize:isNil(U)?void 0:getPercentValue(U,o,0)})}}return h},getBarPosition=function t(e){var n=e.barGap,o=e.barCategoryGap,l=e.bandSize,u=e.sizeList,h=u===void 0?[]:u,f=e.maxBarSize,d=h.length;if(d<1)return null;var p=getPercentValue(n,l,0,!0),m,v=[];if(h[0].barSize===+h[0].barSize){var b=!1,S=l/d,T=h.reduce(function(F,B){return F+B.barSize||0},0);T+=(d-1)*p,T>=l&&(T-=(d-1)*p,p=0),T>=l&&S>0&&(b=!0,S*=.9,T=d*S);var C=(l-T)/2>>0,w={offset:C-p,size:0};m=h.reduce(function(F,B){var U={item:B.item,position:{offset:w.offset+w.size+p,size:b?S:B.barSize}},z=[].concat(_toConsumableArray$7(F),[U]);return w=z[z.length-1].position,B.stackList&&B.stackList.length&&B.stackList.forEach(function(K){z.push({item:K,position:w})}),z},v)}else{var R=getPercentValue(o,l,0,!0);l-2*R-(d-1)*p<=0&&(p=0);var L=(l-2*R-(d-1)*p)/d;L>1&&(L>>=0);var N=f===+f?Math.min(L,f):L;m=h.reduce(function(F,B,U){var z=[].concat(_toConsumableArray$7(F),[{item:B.item,position:{offset:R+(L+p)*U+(L-N)/2,size:N}}]);return B.stackList&&B.stackList.length&&B.stackList.forEach(function(K){z.push({item:K,position:z[z.length-1].position})}),z},v)}return m},appendOffsetOfLegend=function t(e,n,o,l){var u=o.children,h=o.width,f=o.margin,d=h-(f.left||0)-(f.right||0),p=getLegendProps({children:u,legendWidth:d});if(p){var m=l||{},v=m.width,b=m.height,S=p.align,T=p.verticalAlign,C=p.layout;if((C==="vertical"||C==="horizontal"&&T==="middle")&&S!=="center"&&isNumber(e[S]))return _objectSpread$o(_objectSpread$o({},e),{},_defineProperty$r({},S,e[S]+(v||0)));if((C==="horizontal"||C==="vertical"&&S==="center")&&T!=="middle"&&isNumber(e[T]))return _objectSpread$o(_objectSpread$o({},e),{},_defineProperty$r({},T,e[T]+(b||0)))}return e},isErrorBarRelevantForAxis=function t(e,n,o){return isNil(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||o==="x"?n==="xAxis":o==="y"?n==="yAxis":!0},getDomainOfErrorBars=function t(e,n,o,l,u){var h=n.props.children,f=findAllByType(h,ErrorBar).filter(function(p){return isErrorBarRelevantForAxis(l,u,p.props.direction)});if(f&&f.length){var d=f.map(function(p){return p.props.dataKey});return e.reduce(function(p,m){var v=getValueByDataKey(m,o);if(isNil(v))return p;var b=Array.isArray(v)?[min(v),max(v)]:[v,v],S=d.reduce(function(T,C){var w=getValueByDataKey(m,C,0),R=b[0]-Math.abs(Array.isArray(w)?w[0]:w),L=b[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(R,T[0]),Math.max(L,T[1])]},[1/0,-1/0]);return[Math.min(S[0],p[0]),Math.max(S[1],p[1])]},[1/0,-1/0])}return null},parseErrorBarsOfAxis=function t(e,n,o,l,u){var h=n.map(function(f){return getDomainOfErrorBars(e,f,o,u,l)}).filter(function(f){return!isNil(f)});return h&&h.length?h.reduce(function(f,d){return[Math.min(f[0],d[0]),Math.max(f[1],d[1])]},[1/0,-1/0]):null},getDomainOfItemsWithSameAxis=function t(e,n,o,l,u){var h=n.map(function(d){var p=d.props.dataKey;return o==="number"&&p&&getDomainOfErrorBars(e,d,p,l)||getDomainOfDataByKey(e,p,o,u)});if(o==="number")return h.reduce(function(d,p){return[Math.min(d[0],p[0]),Math.max(d[1],p[1])]},[1/0,-1/0]);var f={};return h.reduce(function(d,p){for(var m=0,v=p.length;m<v;m++)f[p[m]]||(f[p[m]]=!0,d.push(p[m]));return d},[])},isCategoricalAxis=function t(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},getTicksOfAxis=function t(e,n,o){if(!e)return null;var l=e.scale,u=e.duplicateDomain,h=e.type,f=e.range,d=e.realScaleType==="scaleBand"?l.bandwidth()/2:2,p=(n||o)&&h==="category"&&l.bandwidth?l.bandwidth()/d:0;if(p=e.axisType==="angleAxis"&&(f==null?void 0:f.length)>=2?mathSign(f[0]-f[1])*2*p:p,n&&(e.ticks||e.niceTicks)){var m=(e.ticks||e.niceTicks).map(function(v){var b=u?u.indexOf(v):v;return{coordinate:l(b)+p,value:v,offset:p}});return m.filter(function(v){return!isNan(v.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(v,b){return{coordinate:l(v)+p,value:v,index:b,offset:p}}):l.ticks&&!o?l.ticks(e.tickCount).map(function(v){return{coordinate:l(v)+p,value:v,offset:p}}):l.domain().map(function(v,b){return{coordinate:l(v)+p,value:u?u[v]:v,index:b,offset:p}})},handlerWeakMap=new WeakMap,combineEventHandlers=function t(e,n){if(typeof n!="function")return e;handlerWeakMap.has(e)||handlerWeakMap.set(e,new WeakMap);var o=handlerWeakMap.get(e);if(o.has(n))return o.get(n);var l=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return o.set(n,l),l},parseScale=function t(e,n,o){var l=e.scale,u=e.type,h=e.layout,f=e.axisType;if(l==="auto")return h==="radial"&&f==="radiusAxis"?{scale:band(),realScaleType:"band"}:h==="radial"&&f==="angleAxis"?{scale:linear(),realScaleType:"linear"}:u==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!o)?{scale:point(),realScaleType:"point"}:u==="category"?{scale:band(),realScaleType:"band"}:{scale:linear(),realScaleType:"linear"};if(isString(l)){var d="scale".concat(upperFirst(l));return{scale:(d3Scales[d]||point)(),realScaleType:d3Scales[d]?d:"point"}}return isFunction(l)?{scale:l}:{scale:point(),realScaleType:"point"}},EPS=1e-4,checkDomainOfScale=function t(e){var n=e.domain();if(!(!n||n.length<=2)){var o=n.length,l=e.range(),u=Math.min(l[0],l[1])-EPS,h=Math.max(l[0],l[1])+EPS,f=e(n[0]),d=e(n[o-1]);(f<u||f>h||d<u||d>h)&&e.domain([n[0],n[o-1]])}},findPositionOfBar=function t(e,n){if(!e)return null;for(var o=0,l=e.length;o<l;o++)if(e[o].item===n)return e[o].position;return null},truncateByDomain=function t(e,n){if(!n||n.length!==2||!isNumber(n[0])||!isNumber(n[1]))return e;var o=Math.min(n[0],n[1]),l=Math.max(n[0],n[1]),u=[e[0],e[1]];return(!isNumber(e[0])||e[0]<o)&&(u[0]=o),(!isNumber(e[1])||e[1]>l)&&(u[1]=l),u[0]>l&&(u[0]=l),u[1]<o&&(u[1]=o),u},offsetSign=function t(e){var n=e.length;if(!(n<=0))for(var o=0,l=e[0].length;o<l;++o)for(var u=0,h=0,f=0;f<n;++f){var d=isNan(e[f][o][1])?e[f][o][0]:e[f][o][1];d>=0?(e[f][o][0]=u,e[f][o][1]=u+d,u=e[f][o][1]):(e[f][o][0]=h,e[f][o][1]=h+d,h=e[f][o][1])}},offsetPositive=function t(e){var n=e.length;if(!(n<=0))for(var o=0,l=e[0].length;o<l;++o)for(var u=0,h=0;h<n;++h){var f=isNan(e[h][o][1])?e[h][o][0]:e[h][o][1];f>=0?(e[h][o][0]=u,e[h][o][1]=u+f,u=e[h][o][1]):(e[h][o][0]=0,e[h][o][1]=0)}},STACK_OFFSET_MAP={sign:offsetSign,expand:stackOffsetExpand,none:stackOffsetNone,silhouette:stackOffsetSilhouette,wiggle:stackOffsetWiggle,positive:offsetPositive},getStackedData=function t(e,n,o){var l=n.map(function(f){return f.props.dataKey}),u=STACK_OFFSET_MAP[o],h=shapeStack().keys(l).value(function(f,d){return+getValueByDataKey(f,d,0)}).order(stackOrderNone).offset(u);return h(e)},getStackGroupsByAxisId=function t(e,n,o,l,u,h){if(!e)return null;var f=h?n.reverse():n,d={},p=f.reduce(function(v,b){var S,T=(S=b.type)!==null&&S!==void 0&&S.defaultProps?_objectSpread$o(_objectSpread$o({},b.type.defaultProps),b.props):b.props,C=T.stackId,w=T.hide;if(w)return v;var R=T[o],L=v[R]||{hasStack:!1,stackGroups:{}};if(isNumOrStr(C)){var N=L.stackGroups[C]||{numericAxisId:o,cateAxisId:l,items:[]};N.items.push(b),L.hasStack=!0,L.stackGroups[C]=N}else L.stackGroups[uniqueId("_stackId_")]={numericAxisId:o,cateAxisId:l,items:[b]};return _objectSpread$o(_objectSpread$o({},v),{},_defineProperty$r({},R,L))},d),m={};return Object.keys(p).reduce(function(v,b){var S=p[b];if(S.hasStack){var T={};S.stackGroups=Object.keys(S.stackGroups).reduce(function(C,w){var R=S.stackGroups[w];return _objectSpread$o(_objectSpread$o({},C),{},_defineProperty$r({},w,{numericAxisId:o,cateAxisId:l,items:R.items,stackedData:getStackedData(e,R.items,u)}))},T)}return _objectSpread$o(_objectSpread$o({},v),{},_defineProperty$r({},b,S))},m)},getTicksOfScale=function t(e,n){var o=n.realScaleType,l=n.type,u=n.tickCount,h=n.originalDomain,f=n.allowDecimals,d=o||n.scale;if(d!=="auto"&&d!=="linear")return null;if(u&&l==="number"&&h&&(h[0]==="auto"||h[1]==="auto")){var p=e.domain();if(!p.length)return null;var m=getNiceTickValues(p,u,f);return e.domain([min(m),max(m)]),{niceTicks:m}}if(u&&l==="number"){var v=e.domain(),b=getTickValuesFixedDomain(v,u,f);return{niceTicks:b}}return null},getCateCoordinateOfBar=function t(e){var n=e.axis,o=e.ticks,l=e.offset,u=e.bandSize,h=e.entry,f=e.index;if(n.type==="category")return o[f]?o[f].coordinate+l:null;var d=getValueByDataKey(h,n.dataKey,n.domain[f]);return isNil(d)?null:n.scale(d)-u/2+l},getBaseValueOfBar=function t(e){var n=e.numericAxis,o=n.scale.domain();if(n.type==="number"){var l=Math.min(o[0],o[1]),u=Math.max(o[0],o[1]);return l<=0&&u>=0?0:u<0?u:l}return o[0]},getStackedDataOfItem=function t(e,n){var o,l=(o=e.type)!==null&&o!==void 0&&o.defaultProps?_objectSpread$o(_objectSpread$o({},e.type.defaultProps),e.props):e.props,u=l.stackId;if(isNumOrStr(u)){var h=n[u];if(h){var f=h.items.indexOf(e);return f>=0?h.stackedData[f]:null}}return null},getDomainOfSingle=function t(e){return e.reduce(function(n,o){return[min(o.concat([n[0]]).filter(isNumber)),max(o.concat([n[1]]).filter(isNumber))]},[1/0,-1/0])},getDomainOfStackGroups=function t(e,n,o){return Object.keys(e).reduce(function(l,u){var h=e[u],f=h.stackedData,d=f.reduce(function(p,m){var v=getDomainOfSingle(m.slice(n,o+1));return[Math.min(p[0],v[0]),Math.max(p[1],v[1])]},[1/0,-1/0]);return[Math.min(d[0],l[0]),Math.max(d[1],l[1])]},[1/0,-1/0]).map(function(l){return l===1/0||l===-1/0?0:l})},MIN_VALUE_REG=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,MAX_VALUE_REG=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,parseSpecifiedDomain=function t(e,n,o){if(isFunction(e))return e(n,o);if(!Array.isArray(e))return n;var l=[];if(isNumber(e[0]))l[0]=o?e[0]:Math.min(e[0],n[0]);else if(MIN_VALUE_REG.test(e[0])){var u=+MIN_VALUE_REG.exec(e[0])[1];l[0]=n[0]-u}else isFunction(e[0])?l[0]=e[0](n[0]):l[0]=n[0];if(isNumber(e[1]))l[1]=o?e[1]:Math.max(e[1],n[1]);else if(MAX_VALUE_REG.test(e[1])){var h=+MAX_VALUE_REG.exec(e[1])[1];l[1]=n[1]+h}else isFunction(e[1])?l[1]=e[1](n[1]):l[1]=n[1];return l},getBandSizeOfAxis=function t(e,n,o){if(e&&e.scale&&e.scale.bandwidth){var l=e.scale.bandwidth();if(!o||l>0)return l}if(e&&n&&n.length>=2){for(var u=sortBy(n,function(v){return v.coordinate}),h=1/0,f=1,d=u.length;f<d;f++){var p=u[f],m=u[f-1];h=Math.min((p.coordinate||0)-(m.coordinate||0),h)}return h===1/0?0:h}return o?void 0:0},parseDomainOfCategoryAxis=function t(e,n,o){return!e||!e.length||isEqual(e,get(o,"type.defaultProps.domain"))?n:e},getTooltipItem=function t(e,n){var o=e.type.defaultProps?_objectSpread$o(_objectSpread$o({},e.type.defaultProps),e.props):e.props,l=o.dataKey,u=o.name,h=o.unit,f=o.formatter,d=o.tooltipType,p=o.chartType,m=o.hide;return _objectSpread$o(_objectSpread$o({},filterProps(e,!1)),{},{dataKey:l,unit:h,formatter:f,name:u||l,color:getMainColorOfGraphicItem(e),value:getValueByDataKey(n,l),type:d,payload:n,chartType:p,hide:m})};function _typeof$r(t){"@babel/helpers - typeof";return _typeof$r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$r(t)}function ownKeys$n(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$n(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$n(Object(n),!0).forEach(function(o){_defineProperty$q(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$n(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$q(t,e,n){return e=_toPropertyKey$q(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$q(t){var e=_toPrimitive$q(t,"string");return _typeof$r(e)=="symbol"?e:e+""}function _toPrimitive$q(t,e){if(_typeof$r(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$r(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var RADIAN=Math.PI/180,radianToDegree=function t(e){return e*180/Math.PI},polarToCartesian=function t(e,n,o,l){return{x:e+Math.cos(-RADIAN*l)*o,y:n+Math.sin(-RADIAN*l)*o}},distanceBetweenPoints=function t(e,n){var o=e.x,l=e.y,u=n.x,h=n.y;return Math.sqrt(Math.pow(o-u,2)+Math.pow(l-h,2))},getAngleOfPoint=function t(e,n){var o=e.x,l=e.y,u=n.cx,h=n.cy,f=distanceBetweenPoints({x:o,y:l},{x:u,y:h});if(f<=0)return{radius:f};var d=(o-u)/f,p=Math.acos(d);return l>h&&(p=2*Math.PI-p),{radius:f,angle:radianToDegree(p),angleInRadian:p}},formatAngleOfSector=function t(e){var n=e.startAngle,o=e.endAngle,l=Math.floor(n/360),u=Math.floor(o/360),h=Math.min(l,u);return{startAngle:n-h*360,endAngle:o-h*360}},reverseFormatAngleOfSetor=function t(e,n){var o=n.startAngle,l=n.endAngle,u=Math.floor(o/360),h=Math.floor(l/360),f=Math.min(u,h);return e+f*360},inRangeOfSector=function t(e,n){var o=e.x,l=e.y,u=getAngleOfPoint({x:o,y:l},n),h=u.radius,f=u.angle,d=n.innerRadius,p=n.outerRadius;if(h<d||h>p)return!1;if(h===0)return!0;var m=formatAngleOfSector(n),v=m.startAngle,b=m.endAngle,S=f,T;if(v<=b){for(;S>b;)S-=360;for(;S<v;)S+=360;T=S>=v&&S<=b}else{for(;S>v;)S-=360;for(;S<b;)S+=360;T=S>=b&&S<=v}return T?_objectSpread$n(_objectSpread$n({},n),{},{radius:h,angle:reverseFormatAngleOfSetor(S,n)}):null};function _typeof$q(t){"@babel/helpers - typeof";return _typeof$q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$q(t)}var _excluded$8=["offset"];function _toConsumableArray$6(t){return _arrayWithoutHoles$6(t)||_iterableToArray$7(t)||_unsupportedIterableToArray$a(t)||_nonIterableSpread$6()}function _nonIterableSpread$6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$a(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$a(t,e)}}function _iterableToArray$7(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles$6(t){if(Array.isArray(t))return _arrayLikeToArray$a(t)}function _arrayLikeToArray$a(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _objectWithoutProperties$8(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$8(t,e),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(l=0;l<u.length;l++)o=u[l],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function _objectWithoutPropertiesLoose$8(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function ownKeys$m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$m(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$m(Object(n),!0).forEach(function(o){_defineProperty$p(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$m(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$p(t,e,n){return e=_toPropertyKey$p(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$p(t){var e=_toPrimitive$p(t,"string");return _typeof$q(e)=="symbol"?e:e+""}function _toPrimitive$p(t,e){if(_typeof$q(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$q(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _extends$h(){return _extends$h=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$h.apply(this,arguments)}var getLabel=function t(e){var n=e.value,o=e.formatter,l=isNil(e.children)?n:e.children;return isFunction(o)?o(l):l},getDeltaAngle$1=function t(e,n){var o=mathSign(n-e),l=Math.min(Math.abs(n-e),360);return o*l},renderRadialLabel=function t(e,n,o){var l=e.position,u=e.viewBox,h=e.offset,f=e.className,d=u,p=d.cx,m=d.cy,v=d.innerRadius,b=d.outerRadius,S=d.startAngle,T=d.endAngle,C=d.clockWise,w=(v+b)/2,R=getDeltaAngle$1(S,T),L=R>=0?1:-1,N,F;l==="insideStart"?(N=S+L*h,F=C):l==="insideEnd"?(N=T-L*h,F=!C):l==="end"&&(N=T+L*h,F=C),F=R<=0?F:!F;var B=polarToCartesian(p,m,w,N),U=polarToCartesian(p,m,w,N+(F?1:-1)*359),z="M".concat(B.x,",").concat(B.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(F?0:1,`,
    `).concat(U.x,",").concat(U.y),K=isNil(e.id)?uniqueId("recharts-radial-line-"):e.id;return React.createElement("text",_extends$h({},o,{dominantBaseline:"central",className:clsx("recharts-radial-bar-label",f)}),React.createElement("defs",null,React.createElement("path",{id:K,d:z})),React.createElement("textPath",{xlinkHref:"#".concat(K)},n))},getAttrsOfPolarLabel=function t(e){var n=e.viewBox,o=e.offset,l=e.position,u=n,h=u.cx,f=u.cy,d=u.innerRadius,p=u.outerRadius,m=u.startAngle,v=u.endAngle,b=(m+v)/2;if(l==="outside"){var S=polarToCartesian(h,f,p+o,b),T=S.x,C=S.y;return{x:T,y:C,textAnchor:T>=h?"start":"end",verticalAnchor:"middle"}}if(l==="center")return{x:h,y:f,textAnchor:"middle",verticalAnchor:"middle"};if(l==="centerTop")return{x:h,y:f,textAnchor:"middle",verticalAnchor:"start"};if(l==="centerBottom")return{x:h,y:f,textAnchor:"middle",verticalAnchor:"end"};var w=(d+p)/2,R=polarToCartesian(h,f,w,b),L=R.x,N=R.y;return{x:L,y:N,textAnchor:"middle",verticalAnchor:"middle"}},getAttrsOfCartesianLabel=function t(e){var n=e.viewBox,o=e.parentViewBox,l=e.offset,u=e.position,h=n,f=h.x,d=h.y,p=h.width,m=h.height,v=m>=0?1:-1,b=v*l,S=v>0?"end":"start",T=v>0?"start":"end",C=p>=0?1:-1,w=C*l,R=C>0?"end":"start",L=C>0?"start":"end";if(u==="top"){var N={x:f+p/2,y:d-v*l,textAnchor:"middle",verticalAnchor:S};return _objectSpread$m(_objectSpread$m({},N),o?{height:Math.max(d-o.y,0),width:p}:{})}if(u==="bottom"){var F={x:f+p/2,y:d+m+b,textAnchor:"middle",verticalAnchor:T};return _objectSpread$m(_objectSpread$m({},F),o?{height:Math.max(o.y+o.height-(d+m),0),width:p}:{})}if(u==="left"){var B={x:f-w,y:d+m/2,textAnchor:R,verticalAnchor:"middle"};return _objectSpread$m(_objectSpread$m({},B),o?{width:Math.max(B.x-o.x,0),height:m}:{})}if(u==="right"){var U={x:f+p+w,y:d+m/2,textAnchor:L,verticalAnchor:"middle"};return _objectSpread$m(_objectSpread$m({},U),o?{width:Math.max(o.x+o.width-U.x,0),height:m}:{})}var z=o?{width:p,height:m}:{};return u==="insideLeft"?_objectSpread$m({x:f+w,y:d+m/2,textAnchor:L,verticalAnchor:"middle"},z):u==="insideRight"?_objectSpread$m({x:f+p-w,y:d+m/2,textAnchor:R,verticalAnchor:"middle"},z):u==="insideTop"?_objectSpread$m({x:f+p/2,y:d+b,textAnchor:"middle",verticalAnchor:T},z):u==="insideBottom"?_objectSpread$m({x:f+p/2,y:d+m-b,textAnchor:"middle",verticalAnchor:S},z):u==="insideTopLeft"?_objectSpread$m({x:f+w,y:d+b,textAnchor:L,verticalAnchor:T},z):u==="insideTopRight"?_objectSpread$m({x:f+p-w,y:d+b,textAnchor:R,verticalAnchor:T},z):u==="insideBottomLeft"?_objectSpread$m({x:f+w,y:d+m-b,textAnchor:L,verticalAnchor:S},z):u==="insideBottomRight"?_objectSpread$m({x:f+p-w,y:d+m-b,textAnchor:R,verticalAnchor:S},z):isObject(u)&&(isNumber(u.x)||isPercent(u.x))&&(isNumber(u.y)||isPercent(u.y))?_objectSpread$m({x:f+getPercentValue(u.x,p),y:d+getPercentValue(u.y,m),textAnchor:"end",verticalAnchor:"end"},z):_objectSpread$m({x:f+p/2,y:d+m/2,textAnchor:"middle",verticalAnchor:"middle"},z)},isPolar=function t(e){return"cx"in e&&isNumber(e.cx)};function Label(t){var e=t.offset,n=e===void 0?5:e,o=_objectWithoutProperties$8(t,_excluded$8),l=_objectSpread$m({offset:n},o),u=l.viewBox,h=l.position,f=l.value,d=l.children,p=l.content,m=l.className,v=m===void 0?"":m,b=l.textBreakAll;if(!u||isNil(f)&&isNil(d)&&!reactExports.isValidElement(p)&&!isFunction(p))return null;if(reactExports.isValidElement(p))return reactExports.cloneElement(p,l);var S;if(isFunction(p)){if(S=reactExports.createElement(p,l),reactExports.isValidElement(S))return S}else S=getLabel(l);var T=isPolar(u),C=filterProps(l,!0);if(T&&(h==="insideStart"||h==="insideEnd"||h==="end"))return renderRadialLabel(l,S,C);var w=T?getAttrsOfPolarLabel(l):getAttrsOfCartesianLabel(l);return React.createElement(Text,_extends$h({className:clsx("recharts-label",v)},C,w,{breakAll:b}),S)}Label.displayName="Label";var parseViewBox=function t(e){var n=e.cx,o=e.cy,l=e.angle,u=e.startAngle,h=e.endAngle,f=e.r,d=e.radius,p=e.innerRadius,m=e.outerRadius,v=e.x,b=e.y,S=e.top,T=e.left,C=e.width,w=e.height,R=e.clockWise,L=e.labelViewBox;if(L)return L;if(isNumber(C)&&isNumber(w)){if(isNumber(v)&&isNumber(b))return{x:v,y:b,width:C,height:w};if(isNumber(S)&&isNumber(T))return{x:S,y:T,width:C,height:w}}return isNumber(v)&&isNumber(b)?{x:v,y:b,width:0,height:0}:isNumber(n)&&isNumber(o)?{cx:n,cy:o,startAngle:u||l||0,endAngle:h||l||0,innerRadius:p||0,outerRadius:m||d||f||0,clockWise:R}:e.viewBox?e.viewBox:{}},parseLabel=function t(e,n){return e?e===!0?React.createElement(Label,{key:"label-implicit",viewBox:n}):isNumOrStr(e)?React.createElement(Label,{key:"label-implicit",viewBox:n,value:e}):reactExports.isValidElement(e)?e.type===Label?reactExports.cloneElement(e,{key:"label-implicit",viewBox:n}):React.createElement(Label,{key:"label-implicit",content:e,viewBox:n}):isFunction(e)?React.createElement(Label,{key:"label-implicit",content:e,viewBox:n}):isObject(e)?React.createElement(Label,_extends$h({viewBox:n},e,{key:"label-implicit"})):null:null},renderCallByParent$1=function t(e,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&o&&!e.label)return null;var l=e.children,u=parseViewBox(e),h=findAllByType(l,Label).map(function(d,p){return reactExports.cloneElement(d,{viewBox:n||u,key:"label-".concat(p)})});if(!o)return h;var f=parseLabel(e.label,n||u);return[f].concat(_toConsumableArray$6(h))};Label.parseViewBox=parseViewBox;Label.renderCallByParent=renderCallByParent$1;var last_1,hasRequiredLast;function requireLast(){if(hasRequiredLast)return last_1;hasRequiredLast=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return last_1=t,last_1}var lastExports=requireLast();const last=getDefaultExportFromCjs(lastExports);function _typeof$p(t){"@babel/helpers - typeof";return _typeof$p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$p(t)}var _excluded$7=["valueAccessor"],_excluded2$2=["data","dataKey","clockWise","id","textBreakAll"];function _toConsumableArray$5(t){return _arrayWithoutHoles$5(t)||_iterableToArray$6(t)||_unsupportedIterableToArray$9(t)||_nonIterableSpread$5()}function _nonIterableSpread$5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$9(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$9(t,e)}}function _iterableToArray$6(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles$5(t){if(Array.isArray(t))return _arrayLikeToArray$9(t)}function _arrayLikeToArray$9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _extends$g(){return _extends$g=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$g.apply(this,arguments)}function ownKeys$l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$l(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$l(Object(n),!0).forEach(function(o){_defineProperty$o(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$l(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$o(t,e,n){return e=_toPropertyKey$o(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$o(t){var e=_toPrimitive$o(t,"string");return _typeof$p(e)=="symbol"?e:e+""}function _toPrimitive$o(t,e){if(_typeof$p(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$p(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _objectWithoutProperties$7(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$7(t,e),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(l=0;l<u.length;l++)o=u[l],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function _objectWithoutPropertiesLoose$7(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}var defaultAccessor=function t(e){return Array.isArray(e.value)?last(e.value):e.value};function LabelList(t){var e=t.valueAccessor,n=e===void 0?defaultAccessor:e,o=_objectWithoutProperties$7(t,_excluded$7),l=o.data,u=o.dataKey,h=o.clockWise,f=o.id,d=o.textBreakAll,p=_objectWithoutProperties$7(o,_excluded2$2);return!l||!l.length?null:React.createElement(Layer,{className:"recharts-label-list"},l.map(function(m,v){var b=isNil(u)?n(m,v):getValueByDataKey(m&&m.payload,u),S=isNil(f)?{}:{id:"".concat(f,"-").concat(v)};return React.createElement(Label,_extends$g({},filterProps(m,!0),p,S,{parentViewBox:m.parentViewBox,value:b,textBreakAll:d,viewBox:Label.parseViewBox(isNil(h)?m:_objectSpread$l(_objectSpread$l({},m),{},{clockWise:h})),key:"label-".concat(v),index:v}))}))}LabelList.displayName="LabelList";function parseLabelList(t,e){return t?t===!0?React.createElement(LabelList,{key:"labelList-implicit",data:e}):React.isValidElement(t)||isFunction(t)?React.createElement(LabelList,{key:"labelList-implicit",data:e,content:t}):isObject(t)?React.createElement(LabelList,_extends$g({data:e},t,{key:"labelList-implicit"})):null:null}function renderCallByParent(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var o=t.children,l=findAllByType(o,LabelList).map(function(h,f){return reactExports.cloneElement(h,{data:e,key:"labelList-".concat(f)})});if(!n)return l;var u=parseLabelList(t.label,e);return[u].concat(_toConsumableArray$5(l))}LabelList.renderCallByParent=renderCallByParent;function _typeof$o(t){"@babel/helpers - typeof";return _typeof$o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$o(t)}function _extends$f(){return _extends$f=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$f.apply(this,arguments)}function ownKeys$k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$k(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$k(Object(n),!0).forEach(function(o){_defineProperty$n(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$k(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$n(t,e,n){return e=_toPropertyKey$n(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$n(t){var e=_toPrimitive$n(t,"string");return _typeof$o(e)=="symbol"?e:e+""}function _toPrimitive$n(t,e){if(_typeof$o(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$o(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var getDeltaAngle=function t(e,n){var o=mathSign(n-e),l=Math.min(Math.abs(n-e),359.999);return o*l},getTangentCircle=function t(e){var n=e.cx,o=e.cy,l=e.radius,u=e.angle,h=e.sign,f=e.isExternal,d=e.cornerRadius,p=e.cornerIsExternal,m=d*(f?1:-1)+l,v=Math.asin(d/m)/RADIAN,b=p?u:u+h*v,S=polarToCartesian(n,o,m,b),T=polarToCartesian(n,o,l,b),C=p?u-h*v:u,w=polarToCartesian(n,o,m*Math.cos(v*RADIAN),C);return{center:S,circleTangency:T,lineTangency:w,theta:v}},getSectorPath=function t(e){var n=e.cx,o=e.cy,l=e.innerRadius,u=e.outerRadius,h=e.startAngle,f=e.endAngle,d=getDeltaAngle(h,f),p=h+d,m=polarToCartesian(n,o,u,h),v=polarToCartesian(n,o,u,p),b="M ".concat(m.x,",").concat(m.y,`
    A `).concat(u,",").concat(u,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(h>p),`,
    `).concat(v.x,",").concat(v.y,`
  `);if(l>0){var S=polarToCartesian(n,o,l,h),T=polarToCartesian(n,o,l,p);b+="L ".concat(T.x,",").concat(T.y,`
            A `).concat(l,",").concat(l,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(h<=p),`,
            `).concat(S.x,",").concat(S.y," Z")}else b+="L ".concat(n,",").concat(o," Z");return b},getSectorWithCorner=function t(e){var n=e.cx,o=e.cy,l=e.innerRadius,u=e.outerRadius,h=e.cornerRadius,f=e.forceCornerRadius,d=e.cornerIsExternal,p=e.startAngle,m=e.endAngle,v=mathSign(m-p),b=getTangentCircle({cx:n,cy:o,radius:u,angle:p,sign:v,cornerRadius:h,cornerIsExternal:d}),S=b.circleTangency,T=b.lineTangency,C=b.theta,w=getTangentCircle({cx:n,cy:o,radius:u,angle:m,sign:-v,cornerRadius:h,cornerIsExternal:d}),R=w.circleTangency,L=w.lineTangency,N=w.theta,F=d?Math.abs(p-m):Math.abs(p-m)-C-N;if(F<0)return f?"M ".concat(T.x,",").concat(T.y,`
        a`).concat(h,",").concat(h,",0,0,1,").concat(h*2,`,0
        a`).concat(h,",").concat(h,",0,0,1,").concat(-h*2,`,0
      `):getSectorPath({cx:n,cy:o,innerRadius:l,outerRadius:u,startAngle:p,endAngle:m});var B="M ".concat(T.x,",").concat(T.y,`
    A`).concat(h,",").concat(h,",0,0,").concat(+(v<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(u,",").concat(u,",0,").concat(+(F>180),",").concat(+(v<0),",").concat(R.x,",").concat(R.y,`
    A`).concat(h,",").concat(h,",0,0,").concat(+(v<0),",").concat(L.x,",").concat(L.y,`
  `);if(l>0){var U=getTangentCircle({cx:n,cy:o,radius:l,angle:p,sign:v,isExternal:!0,cornerRadius:h,cornerIsExternal:d}),z=U.circleTangency,K=U.lineTangency,Q=U.theta,q=getTangentCircle({cx:n,cy:o,radius:l,angle:m,sign:-v,isExternal:!0,cornerRadius:h,cornerIsExternal:d}),H=q.circleTangency,se=q.lineTangency,le=q.theta,ne=d?Math.abs(p-m):Math.abs(p-m)-Q-le;if(ne<0&&h===0)return"".concat(B,"L").concat(n,",").concat(o,"Z");B+="L".concat(se.x,",").concat(se.y,`
      A`).concat(h,",").concat(h,",0,0,").concat(+(v<0),",").concat(H.x,",").concat(H.y,`
      A`).concat(l,",").concat(l,",0,").concat(+(ne>180),",").concat(+(v>0),",").concat(z.x,",").concat(z.y,`
      A`).concat(h,",").concat(h,",0,0,").concat(+(v<0),",").concat(K.x,",").concat(K.y,"Z")}else B+="L".concat(n,",").concat(o,"Z");return B},defaultProps$2={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Sector=function t(e){var n=_objectSpread$k(_objectSpread$k({},defaultProps$2),e),o=n.cx,l=n.cy,u=n.innerRadius,h=n.outerRadius,f=n.cornerRadius,d=n.forceCornerRadius,p=n.cornerIsExternal,m=n.startAngle,v=n.endAngle,b=n.className;if(h<u||m===v)return null;var S=clsx("recharts-sector",b),T=h-u,C=getPercentValue(f,T,0,!0),w;return C>0&&Math.abs(m-v)<360?w=getSectorWithCorner({cx:o,cy:l,innerRadius:u,outerRadius:h,cornerRadius:Math.min(C,T/2),forceCornerRadius:d,cornerIsExternal:p,startAngle:m,endAngle:v}):w=getSectorPath({cx:o,cy:l,innerRadius:u,outerRadius:h,startAngle:m,endAngle:v}),React.createElement("path",_extends$f({},filterProps(n,!0),{className:S,d:w,role:"img"}))};function _typeof$n(t){"@babel/helpers - typeof";return _typeof$n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$n(t)}function _extends$e(){return _extends$e=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$e.apply(this,arguments)}function ownKeys$j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$j(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$j(Object(n),!0).forEach(function(o){_defineProperty$m(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$j(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$m(t,e,n){return e=_toPropertyKey$m(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$m(t){var e=_toPrimitive$m(t,"string");return _typeof$n(e)=="symbol"?e:e+""}function _toPrimitive$m(t,e){if(_typeof$n(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$n(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CURVE_FACTORIES={curveBasisClosed,curveBasisOpen,curveBasis,curveBumpX:bumpX,curveBumpY:bumpY,curveLinearClosed,curveLinear,curveMonotoneX:monotoneX,curveMonotoneY:monotoneY,curveNatural,curveStep,curveStepAfter:stepAfter,curveStepBefore:stepBefore},defined=function t(e){return e.x===+e.x&&e.y===+e.y},getX=function t(e){return e.x},getY=function t(e){return e.y},getCurveFactory=function t(e,n){if(isFunction(e))return e;var o="curve".concat(upperFirst(e));return(o==="curveMonotone"||o==="curveBump")&&n?CURVE_FACTORIES["".concat(o).concat(n==="vertical"?"Y":"X")]:CURVE_FACTORIES[o]||curveLinear},getPath$1=function t(e){var n=e.type,o=n===void 0?"linear":n,l=e.points,u=l===void 0?[]:l,h=e.baseLine,f=e.layout,d=e.connectNulls,p=d===void 0?!1:d,m=getCurveFactory(o,f),v=p?u.filter(function(C){return defined(C)}):u,b;if(Array.isArray(h)){var S=p?h.filter(function(C){return defined(C)}):h,T=v.map(function(C,w){return _objectSpread$j(_objectSpread$j({},C),{},{base:S[w]})});return f==="vertical"?b=shapeArea().y(getY).x1(getX).x0(function(C){return C.base.x}):b=shapeArea().x(getX).y1(getY).y0(function(C){return C.base.y}),b.defined(defined).curve(m),b(T)}return f==="vertical"&&isNumber(h)?b=shapeArea().y(getY).x1(getX).x0(h):isNumber(h)?b=shapeArea().x(getX).y1(getY).y0(h):b=shapeLine().x(getX).y(getY),b.defined(defined).curve(m),b(v)},Curve=function t(e){var n=e.className,o=e.points,l=e.path,u=e.pathRef;if((!o||!o.length)&&!l)return null;var h=o&&o.length?getPath$1(e):l;return React.createElement("path",_extends$e({},filterProps(e,!1),adaptEventHandlers(e),{className:clsx("recharts-curve",n),d:h,ref:u}))},getOwnPropertyNames=Object.getOwnPropertyNames,getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty=Object.prototype.hasOwnProperty;function combineComparators(t,e){return function(o,l,u){return t(o,l,u)&&e(o,l,u)}}function createIsCircular(t){return function(n,o,l){if(!n||!o||typeof n!="object"||typeof o!="object")return t(n,o,l);var u=l.cache,h=u.get(n),f=u.get(o);if(h&&f)return h===o&&f===n;u.set(n,o),u.set(o,n);var d=t(n,o,l);return u.delete(n),u.delete(o),d}}function getStrictProperties(t){return getOwnPropertyNames(t).concat(getOwnPropertySymbols(t))}var hasOwn=Object.hasOwn||function(t,e){return hasOwnProperty.call(t,e)};function sameValueZeroEqual(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var PREACT_VNODE="__v",PREACT_OWNER="__o",REACT_OWNER="_owner",getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,keys=Object.keys;function areArraysEqual(t,e,n){var o=t.length;if(e.length!==o)return!1;for(;o-- >0;)if(!n.equals(t[o],e[o],o,o,t,e,n))return!1;return!0}function areDatesEqual(t,e){return sameValueZeroEqual(t.getTime(),e.getTime())}function areErrorsEqual(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function areFunctionsEqual(t,e){return t===e}function areMapsEqual(t,e,n){var o=t.size;if(o!==e.size)return!1;if(!o)return!0;for(var l=new Array(o),u=t.entries(),h,f,d=0;(h=u.next())&&!h.done;){for(var p=e.entries(),m=!1,v=0;(f=p.next())&&!f.done;){if(l[v]){v++;continue}var b=h.value,S=f.value;if(n.equals(b[0],S[0],d,v,t,e,n)&&n.equals(b[1],S[1],b[0],S[0],t,e,n)){m=l[v]=!0;break}v++}if(!m)return!1;d++}return!0}var areNumbersEqual=sameValueZeroEqual;function areObjectsEqual(t,e,n){var o=keys(t),l=o.length;if(keys(e).length!==l)return!1;for(;l-- >0;)if(!isPropertyEqual(t,e,n,o[l]))return!1;return!0}function areObjectsEqualStrict(t,e,n){var o=getStrictProperties(t),l=o.length;if(getStrictProperties(e).length!==l)return!1;for(var u,h,f;l-- >0;)if(u=o[l],!isPropertyEqual(t,e,n,u)||(h=getOwnPropertyDescriptor(t,u),f=getOwnPropertyDescriptor(e,u),(h||f)&&(!h||!f||h.configurable!==f.configurable||h.enumerable!==f.enumerable||h.writable!==f.writable)))return!1;return!0}function arePrimitiveWrappersEqual(t,e){return sameValueZeroEqual(t.valueOf(),e.valueOf())}function areRegExpsEqual(t,e){return t.source===e.source&&t.flags===e.flags}function areSetsEqual(t,e,n){var o=t.size;if(o!==e.size)return!1;if(!o)return!0;for(var l=new Array(o),u=t.values(),h,f;(h=u.next())&&!h.done;){for(var d=e.values(),p=!1,m=0;(f=d.next())&&!f.done;){if(!l[m]&&n.equals(h.value,f.value,h.value,f.value,t,e,n)){p=l[m]=!0;break}m++}if(!p)return!1}return!0}function areTypedArraysEqual(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function areUrlsEqual(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function isPropertyEqual(t,e,n,o){return(o===REACT_OWNER||o===PREACT_OWNER||o===PREACT_VNODE)&&(t.$$typeof||e.$$typeof)?!0:hasOwn(e,o)&&n.equals(t[o],e[o],o,o,t,e,n)}var ARGUMENTS_TAG="[object Arguments]",BOOLEAN_TAG="[object Boolean]",DATE_TAG="[object Date]",ERROR_TAG="[object Error]",MAP_TAG="[object Map]",NUMBER_TAG="[object Number]",OBJECT_TAG="[object Object]",REG_EXP_TAG="[object RegExp]",SET_TAG="[object Set]",STRING_TAG="[object String]",URL_TAG="[object URL]",isArray=Array.isArray,isTypedArray=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,assign=Object.assign,getTag=Object.prototype.toString.call.bind(Object.prototype.toString);function createEqualityComparator(t){var e=t.areArraysEqual,n=t.areDatesEqual,o=t.areErrorsEqual,l=t.areFunctionsEqual,u=t.areMapsEqual,h=t.areNumbersEqual,f=t.areObjectsEqual,d=t.arePrimitiveWrappersEqual,p=t.areRegExpsEqual,m=t.areSetsEqual,v=t.areTypedArraysEqual,b=t.areUrlsEqual;return function(T,C,w){if(T===C)return!0;if(T==null||C==null)return!1;var R=typeof T;if(R!==typeof C)return!1;if(R!=="object")return R==="number"?h(T,C,w):R==="function"?l(T,C,w):!1;var L=T.constructor;if(L!==C.constructor)return!1;if(L===Object)return f(T,C,w);if(isArray(T))return e(T,C,w);if(isTypedArray!=null&&isTypedArray(T))return v(T,C,w);if(L===Date)return n(T,C,w);if(L===RegExp)return p(T,C,w);if(L===Map)return u(T,C,w);if(L===Set)return m(T,C,w);var N=getTag(T);return N===DATE_TAG?n(T,C,w):N===REG_EXP_TAG?p(T,C,w):N===MAP_TAG?u(T,C,w):N===SET_TAG?m(T,C,w):N===OBJECT_TAG?typeof T.then!="function"&&typeof C.then!="function"&&f(T,C,w):N===URL_TAG?b(T,C,w):N===ERROR_TAG?o(T,C,w):N===ARGUMENTS_TAG?f(T,C,w):N===BOOLEAN_TAG||N===NUMBER_TAG||N===STRING_TAG?d(T,C,w):!1}}function createEqualityComparatorConfig(t){var e=t.circular,n=t.createCustomConfig,o=t.strict,l={areArraysEqual:o?areObjectsEqualStrict:areArraysEqual,areDatesEqual,areErrorsEqual,areFunctionsEqual,areMapsEqual:o?combineComparators(areMapsEqual,areObjectsEqualStrict):areMapsEqual,areNumbersEqual,areObjectsEqual:o?areObjectsEqualStrict:areObjectsEqual,arePrimitiveWrappersEqual,areRegExpsEqual,areSetsEqual:o?combineComparators(areSetsEqual,areObjectsEqualStrict):areSetsEqual,areTypedArraysEqual:o?areObjectsEqualStrict:areTypedArraysEqual,areUrlsEqual};if(n&&(l=assign({},l,n(l))),e){var u=createIsCircular(l.areArraysEqual),h=createIsCircular(l.areMapsEqual),f=createIsCircular(l.areObjectsEqual),d=createIsCircular(l.areSetsEqual);l=assign({},l,{areArraysEqual:u,areMapsEqual:h,areObjectsEqual:f,areSetsEqual:d})}return l}function createInternalEqualityComparator(t){return function(e,n,o,l,u,h,f){return t(e,n,f)}}function createIsEqual(t){var e=t.circular,n=t.comparator,o=t.createState,l=t.equals,u=t.strict;if(o)return function(d,p){var m=o(),v=m.cache,b=v===void 0?e?new WeakMap:void 0:v,S=m.meta;return n(d,p,{cache:b,equals:l,meta:S,strict:u})};if(e)return function(d,p){return n(d,p,{cache:new WeakMap,equals:l,meta:void 0,strict:u})};var h={cache:void 0,equals:l,meta:void 0,strict:u};return function(d,p){return n(d,p,h)}}var deepEqual=createCustomEqual();createCustomEqual({strict:!0});createCustomEqual({circular:!0});createCustomEqual({circular:!0,strict:!0});createCustomEqual({createInternalComparator:function(){return sameValueZeroEqual}});createCustomEqual({strict:!0,createInternalComparator:function(){return sameValueZeroEqual}});createCustomEqual({circular:!0,createInternalComparator:function(){return sameValueZeroEqual}});createCustomEqual({circular:!0,createInternalComparator:function(){return sameValueZeroEqual},strict:!0});function createCustomEqual(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,o=t.createInternalComparator,l=t.createState,u=t.strict,h=u===void 0?!1:u,f=createEqualityComparatorConfig(t),d=createEqualityComparator(f),p=o?o(d):createInternalEqualityComparator(d);return createIsEqual({circular:n,comparator:d,createState:l,equals:p,strict:h})}function safeRequestAnimationFrame(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function setRafTimeout(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,o=function l(u){n<0&&(n=u),u-n>e?(t(u),n=-1):safeRequestAnimationFrame(l)};requestAnimationFrame(o)}function _typeof$m(t){"@babel/helpers - typeof";return _typeof$m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$m(t)}function _toArray(t){return _arrayWithHoles$6(t)||_iterableToArray$5(t)||_unsupportedIterableToArray$8(t)||_nonIterableRest$6()}function _nonIterableRest$6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$8(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$8(t,e)}}function _arrayLikeToArray$8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _iterableToArray$5(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithHoles$6(t){if(Array.isArray(t))return t}function createAnimateManager(){var t={},e=function(){return null},n=!1,o=function l(u){if(!n){if(Array.isArray(u)){if(!u.length)return;var h=u,f=_toArray(h),d=f[0],p=f.slice(1);if(typeof d=="number"){setRafTimeout(l.bind(null,p),d);return}l(d),setRafTimeout(l.bind(null,p));return}_typeof$m(u)==="object"&&(t=u,e(t)),typeof u=="function"&&u()}};return{stop:function(){n=!0},start:function(u){n=!1,o(u)},subscribe:function(u){return e=u,function(){e=function(){return null}}}}}function _typeof$l(t){"@babel/helpers - typeof";return _typeof$l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$l(t)}function ownKeys$i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$i(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$i(Object(n),!0).forEach(function(o){_defineProperty$l(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$i(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$l(t,e,n){return e=_toPropertyKey$l(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$l(t){var e=_toPrimitive$l(t,"string");return _typeof$l(e)==="symbol"?e:String(e)}function _toPrimitive$l(t,e){if(_typeof$l(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$l(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var getIntersectionKeys=function t(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(o,l){return o.filter(function(u){return l.includes(u)})})},identity=function t(e){return e},getDashCase=function t(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},mapObject=function t(e,n){return Object.keys(n).reduce(function(o,l){return _objectSpread$i(_objectSpread$i({},o),{},_defineProperty$l({},l,e(l,n[l])))},{})},getTransitionVal=function t(e,n,o){return e.map(function(l){return"".concat(getDashCase(l)," ").concat(n,"ms ").concat(o)}).join(",")};function _slicedToArray$5(t,e){return _arrayWithHoles$5(t)||_iterableToArrayLimit$5(t,e)||_unsupportedIterableToArray$7(t,e)||_nonIterableRest$5()}function _nonIterableRest$5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArrayLimit$5(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var o,l,u,h,f=[],d=!0,p=!1;try{if(u=(n=n.call(t)).next,e!==0)for(;!(d=(o=u.call(n)).done)&&(f.push(o.value),f.length!==e);d=!0);}catch(m){p=!0,l=m}finally{try{if(!d&&n.return!=null&&(h=n.return(),Object(h)!==h))return}finally{if(p)throw l}}return f}}function _arrayWithHoles$5(t){if(Array.isArray(t))return t}function _toConsumableArray$4(t){return _arrayWithoutHoles$4(t)||_iterableToArray$4(t)||_unsupportedIterableToArray$7(t)||_nonIterableSpread$4()}function _nonIterableSpread$4(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$7(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$7(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$7(t,e)}}function _iterableToArray$4(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles$4(t){if(Array.isArray(t))return _arrayLikeToArray$7(t)}function _arrayLikeToArray$7(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var ACCURACY=1e-4,cubicBezierFactor=function t(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},multyTime=function t(e,n){return e.map(function(o,l){return o*Math.pow(n,l)}).reduce(function(o,l){return o+l})},cubicBezier=function t(e,n){return function(o){var l=cubicBezierFactor(e,n);return multyTime(l,o)}},derivativeCubicBezier=function t(e,n){return function(o){var l=cubicBezierFactor(e,n),u=[].concat(_toConsumableArray$4(l.map(function(h,f){return h*f}).slice(1)),[0]);return multyTime(u,o)}},configBezier=function t(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var l=n[0],u=n[1],h=n[2],f=n[3];if(n.length===1)switch(n[0]){case"linear":l=0,u=0,h=1,f=1;break;case"ease":l=.25,u=.1,h=.25,f=1;break;case"ease-in":l=.42,u=0,h=1,f=1;break;case"ease-out":l=.42,u=0,h=.58,f=1;break;case"ease-in-out":l=0,u=0,h=.58,f=1;break;default:{var d=n[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var p=d[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),m=_slicedToArray$5(p,4);l=m[0],u=m[1],h=m[2],f=m[3]}}}var v=cubicBezier(l,h),b=cubicBezier(u,f),S=derivativeCubicBezier(l,h),T=function(R){return R>1?1:R<0?0:R},C=function(R){for(var L=R>1?1:R,N=L,F=0;F<8;++F){var B=v(N)-L,U=S(N);if(Math.abs(B-L)<ACCURACY||U<ACCURACY)return b(N);N=T(N-B/U)}return b(N)};return C.isStepper=!1,C},configSpring=function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,o=n===void 0?100:n,l=e.damping,u=l===void 0?8:l,h=e.dt,f=h===void 0?17:h,d=function(m,v,b){var S=-(m-v)*o,T=b*u,C=b+(S-T)*f/1e3,w=b*f/1e3+m;return Math.abs(w-v)<ACCURACY&&Math.abs(C)<ACCURACY?[v,0]:[w,C]};return d.isStepper=!0,d.dt=f,d},configEasing=function t(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var l=n[0];if(typeof l=="string")switch(l){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return configBezier(l);case"spring":return configSpring();default:if(l.split("(")[0]==="cubic-bezier")return configBezier(l)}return typeof l=="function"?l:null};function _typeof$k(t){"@babel/helpers - typeof";return _typeof$k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$k(t)}function _toConsumableArray$3(t){return _arrayWithoutHoles$3(t)||_iterableToArray$3(t)||_unsupportedIterableToArray$6(t)||_nonIterableSpread$3()}function _nonIterableSpread$3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$3(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles$3(t){if(Array.isArray(t))return _arrayLikeToArray$6(t)}function ownKeys$h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$h(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$h(Object(n),!0).forEach(function(o){_defineProperty$k(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$h(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$k(t,e,n){return e=_toPropertyKey$k(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$k(t){var e=_toPrimitive$k(t,"string");return _typeof$k(e)==="symbol"?e:String(e)}function _toPrimitive$k(t,e){if(_typeof$k(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$k(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _slicedToArray$4(t,e){return _arrayWithHoles$4(t)||_iterableToArrayLimit$4(t,e)||_unsupportedIterableToArray$6(t,e)||_nonIterableRest$4()}function _nonIterableRest$4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$6(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$6(t,e)}}function _arrayLikeToArray$6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _iterableToArrayLimit$4(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var o,l,u,h,f=[],d=!0,p=!1;try{if(u=(n=n.call(t)).next,e!==0)for(;!(d=(o=u.call(n)).done)&&(f.push(o.value),f.length!==e);d=!0);}catch(m){p=!0,l=m}finally{try{if(!d&&n.return!=null&&(h=n.return(),Object(h)!==h))return}finally{if(p)throw l}}return f}}function _arrayWithHoles$4(t){if(Array.isArray(t))return t}var alpha=function t(e,n,o){return e+(n-e)*o},needContinue=function t(e){var n=e.from,o=e.to;return n!==o},calStepperVals=function t(e,n,o){var l=mapObject(function(u,h){if(needContinue(h)){var f=e(h.from,h.to,h.velocity),d=_slicedToArray$4(f,2),p=d[0],m=d[1];return _objectSpread$h(_objectSpread$h({},h),{},{from:p,velocity:m})}return h},n);return o<1?mapObject(function(u,h){return needContinue(h)?_objectSpread$h(_objectSpread$h({},h),{},{velocity:alpha(h.velocity,l[u].velocity,o),from:alpha(h.from,l[u].from,o)}):h},n):t(e,l,o-1)};const configUpdate=function(t,e,n,o,l){var u=getIntersectionKeys(t,e),h=u.reduce(function(w,R){return _objectSpread$h(_objectSpread$h({},w),{},_defineProperty$k({},R,[t[R],e[R]]))},{}),f=u.reduce(function(w,R){return _objectSpread$h(_objectSpread$h({},w),{},_defineProperty$k({},R,{from:t[R],velocity:0,to:e[R]}))},{}),d=-1,p,m,v=function(){return null},b=function(){return mapObject(function(R,L){return L.from},f)},S=function(){return!Object.values(f).filter(needContinue).length},T=function(R){p||(p=R);var L=R-p,N=L/n.dt;f=calStepperVals(n,f,N),l(_objectSpread$h(_objectSpread$h(_objectSpread$h({},t),e),b())),p=R,S()||(d=requestAnimationFrame(v))},C=function(R){m||(m=R);var L=(R-m)/o,N=mapObject(function(B,U){return alpha.apply(void 0,_toConsumableArray$3(U).concat([n(L)]))},h);if(l(_objectSpread$h(_objectSpread$h(_objectSpread$h({},t),e),N)),L<1)d=requestAnimationFrame(v);else{var F=mapObject(function(B,U){return alpha.apply(void 0,_toConsumableArray$3(U).concat([n(1)]))},h);l(_objectSpread$h(_objectSpread$h(_objectSpread$h({},t),e),F))}};return v=n.isStepper?T:C,function(){return requestAnimationFrame(v),function(){cancelAnimationFrame(d)}}};function _typeof$j(t){"@babel/helpers - typeof";return _typeof$j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$j(t)}var _excluded$6=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function _objectWithoutProperties$6(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$6(t,e),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(l=0;l<u.length;l++)o=u[l],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function _objectWithoutPropertiesLoose$6(t,e){if(t==null)return{};var n={},o=Object.keys(t),l,u;for(u=0;u<o.length;u++)l=o[u],!(e.indexOf(l)>=0)&&(n[l]=t[l]);return n}function _toConsumableArray$2(t){return _arrayWithoutHoles$2(t)||_iterableToArray$2(t)||_unsupportedIterableToArray$5(t)||_nonIterableSpread$2()}function _nonIterableSpread$2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$5(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$5(t,e)}}function _iterableToArray$2(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles$2(t){if(Array.isArray(t))return _arrayLikeToArray$5(t)}function _arrayLikeToArray$5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function ownKeys$g(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$g(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$g(Object(n),!0).forEach(function(o){_defineProperty$j(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$g(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$j(t,e,n){return e=_toPropertyKey$j(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _classCallCheck$b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$b(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey$j(o.key),o)}}function _createClass$b(t,e,n){return e&&_defineProperties$b(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey$j(t){var e=_toPrimitive$j(t,"string");return _typeof$j(e)==="symbol"?e:String(e)}function _toPrimitive$j(t,e){if(_typeof$j(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$j(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _inherits$9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$9(t,e)}function _setPrototypeOf$9(t,e){return _setPrototypeOf$9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$9(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct$9();return function(){var o=_getPrototypeOf$9(t),l;if(e){var u=_getPrototypeOf$9(this).constructor;l=Reflect.construct(o,arguments,u)}else l=o.apply(this,arguments);return _possibleConstructorReturn$9(this,l)}}function _possibleConstructorReturn$9(t,e){if(e&&(_typeof$j(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$9(t)}function _assertThisInitialized$9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$9(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$9(t){return _getPrototypeOf$9=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$9(t)}var Animate=function(t){_inherits$9(n,t);var e=_createSuper(n);function n(o,l){var u;_classCallCheck$b(this,n),u=e.call(this,o,l);var h=u.props,f=h.isActive,d=h.attributeName,p=h.from,m=h.to,v=h.steps,b=h.children,S=h.duration;if(u.handleStyleChange=u.handleStyleChange.bind(_assertThisInitialized$9(u)),u.changeStyle=u.changeStyle.bind(_assertThisInitialized$9(u)),!f||S<=0)return u.state={style:{}},typeof b=="function"&&(u.state={style:m}),_possibleConstructorReturn$9(u);if(v&&v.length)u.state={style:v[0].style};else if(p){if(typeof b=="function")return u.state={style:p},_possibleConstructorReturn$9(u);u.state={style:d?_defineProperty$j({},d,p):p}}else u.state={style:{}};return u}return _createClass$b(n,[{key:"componentDidMount",value:function(){var l=this.props,u=l.isActive,h=l.canBegin;this.mounted=!0,!(!u||!h)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(l){var u=this.props,h=u.isActive,f=u.canBegin,d=u.attributeName,p=u.shouldReAnimate,m=u.to,v=u.from,b=this.state.style;if(f){if(!h){var S={style:d?_defineProperty$j({},d,m):m};this.state&&b&&(d&&b[d]!==m||!d&&b!==m)&&this.setState(S);return}if(!(deepEqual(l.to,m)&&l.canBegin&&l.isActive)){var T=!l.canBegin||!l.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var C=T||p?v:l.to;if(this.state&&b){var w={style:d?_defineProperty$j({},d,C):C};(d&&b[d]!==C||!d&&b!==C)&&this.setState(w)}this.runAnimation(_objectSpread$g(_objectSpread$g({},this.props),{},{from:C,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var l=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),l&&l()}},{key:"handleStyleChange",value:function(l){this.changeStyle(l)}},{key:"changeStyle",value:function(l){this.mounted&&this.setState({style:l})}},{key:"runJSAnimation",value:function(l){var u=this,h=l.from,f=l.to,d=l.duration,p=l.easing,m=l.begin,v=l.onAnimationEnd,b=l.onAnimationStart,S=configUpdate(h,f,configEasing(p),d,this.changeStyle),T=function(){u.stopJSAnimation=S()};this.manager.start([b,m,T,d,v])}},{key:"runStepAnimation",value:function(l){var u=this,h=l.steps,f=l.begin,d=l.onAnimationStart,p=h[0],m=p.style,v=p.duration,b=v===void 0?0:v,S=function(C,w,R){if(R===0)return C;var L=w.duration,N=w.easing,F=N===void 0?"ease":N,B=w.style,U=w.properties,z=w.onAnimationEnd,K=R>0?h[R-1]:w,Q=U||Object.keys(B);if(typeof F=="function"||F==="spring")return[].concat(_toConsumableArray$2(C),[u.runJSAnimation.bind(u,{from:K.style,to:B,duration:L,easing:F}),L]);var q=getTransitionVal(Q,L,F),H=_objectSpread$g(_objectSpread$g(_objectSpread$g({},K.style),B),{},{transition:q});return[].concat(_toConsumableArray$2(C),[H,L,z]).filter(identity)};return this.manager.start([d].concat(_toConsumableArray$2(h.reduce(S,[m,Math.max(b,f)])),[l.onAnimationEnd]))}},{key:"runAnimation",value:function(l){this.manager||(this.manager=createAnimateManager());var u=l.begin,h=l.duration,f=l.attributeName,d=l.to,p=l.easing,m=l.onAnimationStart,v=l.onAnimationEnd,b=l.steps,S=l.children,T=this.manager;if(this.unSubscribe=T.subscribe(this.handleStyleChange),typeof p=="function"||typeof S=="function"||p==="spring"){this.runJSAnimation(l);return}if(b.length>1){this.runStepAnimation(l);return}var C=f?_defineProperty$j({},f,d):d,w=getTransitionVal(Object.keys(C),h,p);T.start([m,u,_objectSpread$g(_objectSpread$g({},C),{},{transition:w}),h,v])}},{key:"render",value:function(){var l=this.props,u=l.children;l.begin;var h=l.duration;l.attributeName,l.easing;var f=l.isActive;l.steps,l.from,l.to,l.canBegin,l.onAnimationEnd,l.shouldReAnimate,l.onAnimationReStart;var d=_objectWithoutProperties$6(l,_excluded$6),p=reactExports.Children.count(u),m=this.state.style;if(typeof u=="function")return u(m);if(!f||p===0||h<=0)return u;var v=function(S){var T=S.props,C=T.style,w=C===void 0?{}:C,R=T.className,L=reactExports.cloneElement(S,_objectSpread$g(_objectSpread$g({},d),{},{style:_objectSpread$g(_objectSpread$g({},w),m),className:R}));return L};return p===1?v(reactExports.Children.only(u)):React.createElement("div",null,reactExports.Children.map(u,function(b){return v(b)}))}}]),n}(reactExports.PureComponent);Animate.displayName="Animate";Animate.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function t(){},onAnimationStart:function t(){}};Animate.propTypes={from:PropTypes.oneOfType([PropTypes.object,PropTypes.string]),to:PropTypes.oneOfType([PropTypes.object,PropTypes.string]),attributeName:PropTypes.string,duration:PropTypes.number,begin:PropTypes.number,easing:PropTypes.oneOfType([PropTypes.string,PropTypes.func]),steps:PropTypes.arrayOf(PropTypes.shape({duration:PropTypes.number.isRequired,style:PropTypes.object.isRequired,easing:PropTypes.oneOfType([PropTypes.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),PropTypes.func]),properties:PropTypes.arrayOf("string"),onAnimationEnd:PropTypes.func})),children:PropTypes.oneOfType([PropTypes.node,PropTypes.func]),isActive:PropTypes.bool,canBegin:PropTypes.bool,onAnimationEnd:PropTypes.func,shouldReAnimate:PropTypes.bool,onAnimationStart:PropTypes.func,onAnimationReStart:PropTypes.func};function _typeof$i(t){"@babel/helpers - typeof";return _typeof$i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$i(t)}function _extends$d(){return _extends$d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$d.apply(this,arguments)}function _slicedToArray$3(t,e){return _arrayWithHoles$3(t)||_iterableToArrayLimit$3(t,e)||_unsupportedIterableToArray$4(t,e)||_nonIterableRest$3()}function _nonIterableRest$3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$4(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$4(t,e)}}function _arrayLikeToArray$4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _iterableToArrayLimit$3(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var o,l,u,h,f=[],d=!0,p=!1;try{if(u=(n=n.call(t)).next,e!==0)for(;!(d=(o=u.call(n)).done)&&(f.push(o.value),f.length!==e);d=!0);}catch(m){p=!0,l=m}finally{try{if(!d&&n.return!=null&&(h=n.return(),Object(h)!==h))return}finally{if(p)throw l}}return f}}function _arrayWithHoles$3(t){if(Array.isArray(t))return t}function ownKeys$f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$f(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$f(Object(n),!0).forEach(function(o){_defineProperty$i(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$f(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$i(t,e,n){return e=_toPropertyKey$i(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$i(t){var e=_toPrimitive$i(t,"string");return _typeof$i(e)=="symbol"?e:e+""}function _toPrimitive$i(t,e){if(_typeof$i(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$i(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var getRectanglePath=function t(e,n,o,l,u){var h=Math.min(Math.abs(o)/2,Math.abs(l)/2),f=l>=0?1:-1,d=o>=0?1:-1,p=l>=0&&o>=0||l<0&&o<0?1:0,m;if(h>0&&u instanceof Array){for(var v=[0,0,0,0],b=0,S=4;b<S;b++)v[b]=u[b]>h?h:u[b];m="M".concat(e,",").concat(n+f*v[0]),v[0]>0&&(m+="A ".concat(v[0],",").concat(v[0],",0,0,").concat(p,",").concat(e+d*v[0],",").concat(n)),m+="L ".concat(e+o-d*v[1],",").concat(n),v[1]>0&&(m+="A ".concat(v[1],",").concat(v[1],",0,0,").concat(p,`,
        `).concat(e+o,",").concat(n+f*v[1])),m+="L ".concat(e+o,",").concat(n+l-f*v[2]),v[2]>0&&(m+="A ".concat(v[2],",").concat(v[2],",0,0,").concat(p,`,
        `).concat(e+o-d*v[2],",").concat(n+l)),m+="L ".concat(e+d*v[3],",").concat(n+l),v[3]>0&&(m+="A ".concat(v[3],",").concat(v[3],",0,0,").concat(p,`,
        `).concat(e,",").concat(n+l-f*v[3])),m+="Z"}else if(h>0&&u===+u&&u>0){var T=Math.min(h,u);m="M ".concat(e,",").concat(n+f*T,`
            A `).concat(T,",").concat(T,",0,0,").concat(p,",").concat(e+d*T,",").concat(n,`
            L `).concat(e+o-d*T,",").concat(n,`
            A `).concat(T,",").concat(T,",0,0,").concat(p,",").concat(e+o,",").concat(n+f*T,`
            L `).concat(e+o,",").concat(n+l-f*T,`
            A `).concat(T,",").concat(T,",0,0,").concat(p,",").concat(e+o-d*T,",").concat(n+l,`
            L `).concat(e+d*T,",").concat(n+l,`
            A `).concat(T,",").concat(T,",0,0,").concat(p,",").concat(e,",").concat(n+l-f*T," Z")}else m="M ".concat(e,",").concat(n," h ").concat(o," v ").concat(l," h ").concat(-o," Z");return m},isInRectangle=function t(e,n){if(!e||!n)return!1;var o=e.x,l=e.y,u=n.x,h=n.y,f=n.width,d=n.height;if(Math.abs(f)>0&&Math.abs(d)>0){var p=Math.min(u,u+f),m=Math.max(u,u+f),v=Math.min(h,h+d),b=Math.max(h,h+d);return o>=p&&o<=m&&l>=v&&l<=b}return!1},defaultProps$1={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rectangle=function t(e){var n=_objectSpread$f(_objectSpread$f({},defaultProps$1),e),o=reactExports.useRef(),l=reactExports.useState(-1),u=_slicedToArray$3(l,2),h=u[0],f=u[1];reactExports.useEffect(function(){if(o.current&&o.current.getTotalLength)try{var F=o.current.getTotalLength();F&&f(F)}catch{}},[]);var d=n.x,p=n.y,m=n.width,v=n.height,b=n.radius,S=n.className,T=n.animationEasing,C=n.animationDuration,w=n.animationBegin,R=n.isAnimationActive,L=n.isUpdateAnimationActive;if(d!==+d||p!==+p||m!==+m||v!==+v||m===0||v===0)return null;var N=clsx("recharts-rectangle",S);return L?React.createElement(Animate,{canBegin:h>0,from:{width:m,height:v,x:d,y:p},to:{width:m,height:v,x:d,y:p},duration:C,animationEasing:T,isActive:L},function(F){var B=F.width,U=F.height,z=F.x,K=F.y;return React.createElement(Animate,{canBegin:h>0,from:"0px ".concat(h===-1?1:h,"px"),to:"".concat(h,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:C,isActive:R,easing:T},React.createElement("path",_extends$d({},filterProps(n,!0),{className:N,d:getRectanglePath(z,K,B,U,b),ref:o})))}):React.createElement("path",_extends$d({},filterProps(n,!0),{className:N,d:getRectanglePath(d,p,m,v,b)}))};function _extends$c(){return _extends$c=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$c.apply(this,arguments)}var Dot=function t(e){var n=e.cx,o=e.cy,l=e.r,u=e.className,h=clsx("recharts-dot",u);return n===+n&&o===+o&&l===+l?React.createElement("circle",_extends$c({},filterProps(e,!1),adaptEventHandlers(e),{className:h,cx:n,cy:o,r:l})):null};function _typeof$h(t){"@babel/helpers - typeof";return _typeof$h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$h(t)}var _excluded$5=["x","y","top","left","width","height","className"];function _extends$b(){return _extends$b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$b.apply(this,arguments)}function ownKeys$e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$e(Object(n),!0).forEach(function(o){_defineProperty$h(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$e(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$h(t,e,n){return e=_toPropertyKey$h(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$h(t){var e=_toPrimitive$h(t,"string");return _typeof$h(e)=="symbol"?e:e+""}function _toPrimitive$h(t,e){if(_typeof$h(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$h(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _objectWithoutProperties$5(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$5(t,e),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(l=0;l<u.length;l++)o=u[l],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function _objectWithoutPropertiesLoose$5(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}var getPath=function t(e,n,o,l,u,h){return"M".concat(e,",").concat(u,"v").concat(l,"M").concat(h,",").concat(n,"h").concat(o)},Cross=function t(e){var n=e.x,o=n===void 0?0:n,l=e.y,u=l===void 0?0:l,h=e.top,f=h===void 0?0:h,d=e.left,p=d===void 0?0:d,m=e.width,v=m===void 0?0:m,b=e.height,S=b===void 0?0:b,T=e.className,C=_objectWithoutProperties$5(e,_excluded$5),w=_objectSpread$e({x:o,y:u,top:f,left:p,width:v,height:S},C);return!isNumber(o)||!isNumber(u)||!isNumber(v)||!isNumber(S)||!isNumber(f)||!isNumber(p)?null:React.createElement("path",_extends$b({},filterProps(w,!0),{className:clsx("recharts-cross",T),d:getPath(o,u,v,S,f,p)}))},_getPrototype,hasRequired_getPrototype;function require_getPrototype(){if(hasRequired_getPrototype)return _getPrototype;hasRequired_getPrototype=1;var t=require_overArg(),e=t(Object.getPrototypeOf,Object);return _getPrototype=e,_getPrototype}var isPlainObject_1,hasRequiredIsPlainObject;function requireIsPlainObject(){if(hasRequiredIsPlainObject)return isPlainObject_1;hasRequiredIsPlainObject=1;var t=require_baseGetTag(),e=require_getPrototype(),n=requireIsObjectLike(),o="[object Object]",l=Function.prototype,u=Object.prototype,h=l.toString,f=u.hasOwnProperty,d=h.call(Object);function p(m){if(!n(m)||t(m)!=o)return!1;var v=e(m);if(v===null)return!0;var b=f.call(v,"constructor")&&v.constructor;return typeof b=="function"&&b instanceof b&&h.call(b)==d}return isPlainObject_1=p,isPlainObject_1}var isPlainObjectExports=requireIsPlainObject();const isPlainObject=getDefaultExportFromCjs(isPlainObjectExports);var isBoolean_1,hasRequiredIsBoolean;function requireIsBoolean(){if(hasRequiredIsBoolean)return isBoolean_1;hasRequiredIsBoolean=1;var t=require_baseGetTag(),e=requireIsObjectLike(),n="[object Boolean]";function o(l){return l===!0||l===!1||e(l)&&t(l)==n}return isBoolean_1=o,isBoolean_1}var isBooleanExports=requireIsBoolean();const isBoolean=getDefaultExportFromCjs(isBooleanExports);function _typeof$g(t){"@babel/helpers - typeof";return _typeof$g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$g(t)}function _extends$a(){return _extends$a=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$a.apply(this,arguments)}function _slicedToArray$2(t,e){return _arrayWithHoles$2(t)||_iterableToArrayLimit$2(t,e)||_unsupportedIterableToArray$3(t,e)||_nonIterableRest$2()}function _nonIterableRest$2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$3(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$3(t,e)}}function _arrayLikeToArray$3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _iterableToArrayLimit$2(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var o,l,u,h,f=[],d=!0,p=!1;try{if(u=(n=n.call(t)).next,e!==0)for(;!(d=(o=u.call(n)).done)&&(f.push(o.value),f.length!==e);d=!0);}catch(m){p=!0,l=m}finally{try{if(!d&&n.return!=null&&(h=n.return(),Object(h)!==h))return}finally{if(p)throw l}}return f}}function _arrayWithHoles$2(t){if(Array.isArray(t))return t}function ownKeys$d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$d(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$d(Object(n),!0).forEach(function(o){_defineProperty$g(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$d(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$g(t,e,n){return e=_toPropertyKey$g(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$g(t){var e=_toPrimitive$g(t,"string");return _typeof$g(e)=="symbol"?e:e+""}function _toPrimitive$g(t,e){if(_typeof$g(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$g(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var getTrapezoidPath=function t(e,n,o,l,u){var h=o-l,f;return f="M ".concat(e,",").concat(n),f+="L ".concat(e+o,",").concat(n),f+="L ".concat(e+o-h/2,",").concat(n+u),f+="L ".concat(e+o-h/2-l,",").concat(n+u),f+="L ".concat(e,",").concat(n," Z"),f},defaultProps={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Trapezoid=function t(e){var n=_objectSpread$d(_objectSpread$d({},defaultProps),e),o=reactExports.useRef(),l=reactExports.useState(-1),u=_slicedToArray$2(l,2),h=u[0],f=u[1];reactExports.useEffect(function(){if(o.current&&o.current.getTotalLength)try{var N=o.current.getTotalLength();N&&f(N)}catch{}},[]);var d=n.x,p=n.y,m=n.upperWidth,v=n.lowerWidth,b=n.height,S=n.className,T=n.animationEasing,C=n.animationDuration,w=n.animationBegin,R=n.isUpdateAnimationActive;if(d!==+d||p!==+p||m!==+m||v!==+v||b!==+b||m===0&&v===0||b===0)return null;var L=clsx("recharts-trapezoid",S);return R?React.createElement(Animate,{canBegin:h>0,from:{upperWidth:0,lowerWidth:0,height:b,x:d,y:p},to:{upperWidth:m,lowerWidth:v,height:b,x:d,y:p},duration:C,animationEasing:T,isActive:R},function(N){var F=N.upperWidth,B=N.lowerWidth,U=N.height,z=N.x,K=N.y;return React.createElement(Animate,{canBegin:h>0,from:"0px ".concat(h===-1?1:h,"px"),to:"".concat(h,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:C,easing:T},React.createElement("path",_extends$a({},filterProps(n,!0),{className:L,d:getTrapezoidPath(z,K,F,B,U),ref:o})))}):React.createElement("g",null,React.createElement("path",_extends$a({},filterProps(n,!0),{className:L,d:getTrapezoidPath(d,p,m,v,b)})))},_excluded$4=["option","shapeType","propTransformer","activeClassName","isActive"];function _typeof$f(t){"@babel/helpers - typeof";return _typeof$f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$f(t)}function _objectWithoutProperties$4(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$4(t,e),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(l=0;l<u.length;l++)o=u[l],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function _objectWithoutPropertiesLoose$4(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function ownKeys$c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$c(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$c(Object(n),!0).forEach(function(o){_defineProperty$f(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$c(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$f(t,e,n){return e=_toPropertyKey$f(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$f(t){var e=_toPrimitive$f(t,"string");return _typeof$f(e)=="symbol"?e:e+""}function _toPrimitive$f(t,e){if(_typeof$f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$f(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function defaultPropTransformer(t,e){return _objectSpread$c(_objectSpread$c({},e),t)}function isSymbolsProps(t,e){return t==="symbols"}function ShapeSelector(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return React.createElement(Rectangle,n);case"trapezoid":return React.createElement(Trapezoid,n);case"sector":return React.createElement(Sector,n);case"symbols":if(isSymbolsProps(e))return React.createElement(Symbols,n);break;default:return null}}function getPropsFromShapeOption(t){return reactExports.isValidElement(t)?t.props:t}function Shape(t){var e=t.option,n=t.shapeType,o=t.propTransformer,l=o===void 0?defaultPropTransformer:o,u=t.activeClassName,h=u===void 0?"recharts-active-shape":u,f=t.isActive,d=_objectWithoutProperties$4(t,_excluded$4),p;if(reactExports.isValidElement(e))p=reactExports.cloneElement(e,_objectSpread$c(_objectSpread$c({},d),getPropsFromShapeOption(e)));else if(isFunction(e))p=e(d);else if(isPlainObject(e)&&!isBoolean(e)){var m=l(e,d);p=React.createElement(ShapeSelector,{shapeType:n,elementProps:m})}else{var v=d;p=React.createElement(ShapeSelector,{shapeType:n,elementProps:v})}return f?React.createElement(Layer,{className:h},p):p}function isFunnel(t,e){return e!=null&&"trapezoids"in t.props}function isPie(t,e){return e!=null&&"sectors"in t.props}function isScatter(t,e){return e!=null&&"points"in t.props}function compareFunnel(t,e){var n,o,l=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,u=t.y===(e==null||(o=e.labelViewBox)===null||o===void 0?void 0:o.y)||t.y===e.y;return l&&u}function comparePie(t,e){var n=t.endAngle===e.endAngle,o=t.startAngle===e.startAngle;return n&&o}function compareScatter(t,e){var n=t.x===e.x,o=t.y===e.y,l=t.z===e.z;return n&&o&&l}function getComparisonFn(t,e){var n;return isFunnel(t,e)?n=compareFunnel:isPie(t,e)?n=comparePie:isScatter(t,e)&&(n=compareScatter),n}function getShapeDataKey(t,e){var n;return isFunnel(t,e)?n="trapezoids":isPie(t,e)?n="sectors":isScatter(t,e)&&(n="points"),n}function getActiveShapeTooltipPayload(t,e){if(isFunnel(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(isPie(t,e)){var o;return(o=e.tooltipPayload)===null||o===void 0||(o=o[0])===null||o===void 0||(o=o.payload)===null||o===void 0?void 0:o.payload}return isScatter(t,e)?e.payload:{}}function getActiveShapeIndexForTooltip(t){var e=t.activeTooltipItem,n=t.graphicalItem,o=t.itemData,l=getShapeDataKey(n,e),u=getActiveShapeTooltipPayload(n,e),h=o.filter(function(d,p){var m=isEqual(u,d),v=n.props[l].filter(function(T){var C=getComparisonFn(n,e);return C(T,e)}),b=n.props[l].indexOf(v[v.length-1]),S=p===b;return m&&S}),f=o.indexOf(h[h.length-1]);return f}var _baseRange,hasRequired_baseRange;function require_baseRange(){if(hasRequired_baseRange)return _baseRange;hasRequired_baseRange=1;var t=Math.ceil,e=Math.max;function n(o,l,u,h){for(var f=-1,d=e(t((l-o)/(u||1)),0),p=Array(d);d--;)p[h?d:++f]=o,o+=u;return p}return _baseRange=n,_baseRange}var toFinite_1,hasRequiredToFinite;function requireToFinite(){if(hasRequiredToFinite)return toFinite_1;hasRequiredToFinite=1;var t=requireToNumber(),e=1/0,n=17976931348623157e292;function o(l){if(!l)return l===0?l:0;if(l=t(l),l===e||l===-1/0){var u=l<0?-1:1;return u*n}return l===l?l:0}return toFinite_1=o,toFinite_1}var _createRange,hasRequired_createRange;function require_createRange(){if(hasRequired_createRange)return _createRange;hasRequired_createRange=1;var t=require_baseRange(),e=require_isIterateeCall(),n=requireToFinite();function o(l){return function(u,h,f){return f&&typeof f!="number"&&e(u,h,f)&&(h=f=void 0),u=n(u),h===void 0?(h=u,u=0):h=n(h),f=f===void 0?u<h?1:-1:n(f),t(u,h,f,l)}}return _createRange=o,_createRange}var range_1,hasRequiredRange;function requireRange(){if(hasRequiredRange)return range_1;hasRequiredRange=1;var t=require_createRange(),e=t();return range_1=e,range_1}var rangeExports=requireRange();const range=getDefaultExportFromCjs(rangeExports);function _typeof$e(t){"@babel/helpers - typeof";return _typeof$e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$e(t)}function ownKeys$b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$b(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$b(Object(n),!0).forEach(function(o){_defineProperty$e(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$b(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$e(t,e,n){return e=_toPropertyKey$e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$e(t){var e=_toPrimitive$e(t,"string");return _typeof$e(e)=="symbol"?e:e+""}function _toPrimitive$e(t,e){if(_typeof$e(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$e(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PREFIX_LIST=["Webkit","Moz","O","ms"],generatePrefixStyle=function t(e,n){var o=e.replace(/(\w)/,function(u){return u.toUpperCase()}),l=PREFIX_LIST.reduce(function(u,h){return _objectSpread$b(_objectSpread$b({},u),{},_defineProperty$e({},h+o,n))},{});return l[e]=n,l};function _typeof$d(t){"@babel/helpers - typeof";return _typeof$d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$d(t)}function _extends$9(){return _extends$9=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$9.apply(this,arguments)}function ownKeys$a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$a(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$a(Object(n),!0).forEach(function(o){_defineProperty$d(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$a(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _classCallCheck$a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey$d(o.key),o)}}function _createClass$a(t,e,n){return e&&_defineProperties$a(t.prototype,e),n&&_defineProperties$a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$8(t,e,n){return e=_getPrototypeOf$8(e),_possibleConstructorReturn$8(t,_isNativeReflectConstruct$8()?Reflect.construct(e,n||[],_getPrototypeOf$8(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$8(t,e){if(e&&(_typeof$d(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$8(t)}function _assertThisInitialized$8(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$8=function(){return!!t})()}function _getPrototypeOf$8(t){return _getPrototypeOf$8=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$8(t)}function _inherits$8(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$8(t,e)}function _setPrototypeOf$8(t,e){return _setPrototypeOf$8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$8(t,e)}function _defineProperty$d(t,e,n){return e=_toPropertyKey$d(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$d(t){var e=_toPrimitive$d(t,"string");return _typeof$d(e)=="symbol"?e:e+""}function _toPrimitive$d(t,e){if(_typeof$d(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$d(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var createScale=function t(e){var n=e.data,o=e.startIndex,l=e.endIndex,u=e.x,h=e.width,f=e.travellerWidth;if(!n||!n.length)return{};var d=n.length,p=point().domain(range(0,d)).range([u,u+h-f]),m=p.domain().map(function(v){return p(v)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:p(o),endX:p(l),scale:p,scaleValues:m}},isTouch=function t(e){return e.changedTouches&&!!e.changedTouches.length},Brush=function(t){function e(n){var o;return _classCallCheck$a(this,e),o=_callSuper$8(this,e,[n]),_defineProperty$d(o,"handleDrag",function(l){o.leaveTimer&&(clearTimeout(o.leaveTimer),o.leaveTimer=null),o.state.isTravellerMoving?o.handleTravellerMove(l):o.state.isSlideMoving&&o.handleSlideDrag(l)}),_defineProperty$d(o,"handleTouchMove",function(l){l.changedTouches!=null&&l.changedTouches.length>0&&o.handleDrag(l.changedTouches[0])}),_defineProperty$d(o,"handleDragEnd",function(){o.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var l=o.props,u=l.endIndex,h=l.onDragEnd,f=l.startIndex;h==null||h({endIndex:u,startIndex:f})}),o.detachDragEndListener()}),_defineProperty$d(o,"handleLeaveWrapper",function(){(o.state.isTravellerMoving||o.state.isSlideMoving)&&(o.leaveTimer=window.setTimeout(o.handleDragEnd,o.props.leaveTimeOut))}),_defineProperty$d(o,"handleEnterSlideOrTraveller",function(){o.setState({isTextActive:!0})}),_defineProperty$d(o,"handleLeaveSlideOrTraveller",function(){o.setState({isTextActive:!1})}),_defineProperty$d(o,"handleSlideDragStart",function(l){var u=isTouch(l)?l.changedTouches[0]:l;o.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:u.pageX}),o.attachDragEndListener()}),o.travellerDragStartHandlers={startX:o.handleTravellerDragStart.bind(o,"startX"),endX:o.handleTravellerDragStart.bind(o,"endX")},o.state={},o}return _inherits$8(e,t),_createClass$a(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(o){var l=o.startX,u=o.endX,h=this.state.scaleValues,f=this.props,d=f.gap,p=f.data,m=p.length-1,v=Math.min(l,u),b=Math.max(l,u),S=e.getIndexInRange(h,v),T=e.getIndexInRange(h,b);return{startIndex:S-S%d,endIndex:T===m?m:T-T%d}}},{key:"getTextOfTick",value:function(o){var l=this.props,u=l.data,h=l.tickFormatter,f=l.dataKey,d=getValueByDataKey(u[o],f,o);return isFunction(h)?h(d,o):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(o){var l=this.state,u=l.slideMoveStartX,h=l.startX,f=l.endX,d=this.props,p=d.x,m=d.width,v=d.travellerWidth,b=d.startIndex,S=d.endIndex,T=d.onChange,C=o.pageX-u;C>0?C=Math.min(C,p+m-v-f,p+m-v-h):C<0&&(C=Math.max(C,p-h,p-f));var w=this.getIndex({startX:h+C,endX:f+C});(w.startIndex!==b||w.endIndex!==S)&&T&&T(w),this.setState({startX:h+C,endX:f+C,slideMoveStartX:o.pageX})}},{key:"handleTravellerDragStart",value:function(o,l){var u=isTouch(l)?l.changedTouches[0]:l;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:o,brushMoveStartX:u.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(o){var l=this.state,u=l.brushMoveStartX,h=l.movingTravellerId,f=l.endX,d=l.startX,p=this.state[h],m=this.props,v=m.x,b=m.width,S=m.travellerWidth,T=m.onChange,C=m.gap,w=m.data,R={startX:this.state.startX,endX:this.state.endX},L=o.pageX-u;L>0?L=Math.min(L,v+b-S-p):L<0&&(L=Math.max(L,v-p)),R[h]=p+L;var N=this.getIndex(R),F=N.startIndex,B=N.endIndex,U=function(){var K=w.length-1;return h==="startX"&&(f>d?F%C===0:B%C===0)||f<d&&B===K||h==="endX"&&(f>d?B%C===0:F%C===0)||f>d&&B===K};this.setState(_defineProperty$d(_defineProperty$d({},h,p+L),"brushMoveStartX",o.pageX),function(){T&&U()&&T(N)})}},{key:"handleTravellerMoveKeyboard",value:function(o,l){var u=this,h=this.state,f=h.scaleValues,d=h.startX,p=h.endX,m=this.state[l],v=f.indexOf(m);if(v!==-1){var b=v+o;if(!(b===-1||b>=f.length)){var S=f[b];l==="startX"&&S>=p||l==="endX"&&S<=d||this.setState(_defineProperty$d({},l,S),function(){u.props.onChange(u.getIndex({startX:u.state.startX,endX:u.state.endX}))})}}}},{key:"renderBackground",value:function(){var o=this.props,l=o.x,u=o.y,h=o.width,f=o.height,d=o.fill,p=o.stroke;return React.createElement("rect",{stroke:p,fill:d,x:l,y:u,width:h,height:f})}},{key:"renderPanorama",value:function(){var o=this.props,l=o.x,u=o.y,h=o.width,f=o.height,d=o.data,p=o.children,m=o.padding,v=reactExports.Children.only(p);return v?React.cloneElement(v,{x:l,y:u,width:h,height:f,margin:m,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(o,l){var u,h,f=this,d=this.props,p=d.y,m=d.travellerWidth,v=d.height,b=d.traveller,S=d.ariaLabel,T=d.data,C=d.startIndex,w=d.endIndex,R=Math.max(o,this.props.x),L=_objectSpread$a(_objectSpread$a({},filterProps(this.props,!1)),{},{x:R,y:p,width:m,height:v}),N=S||"Min value: ".concat((u=T[C])===null||u===void 0?void 0:u.name,", Max value: ").concat((h=T[w])===null||h===void 0?void 0:h.name);return React.createElement(Layer,{tabIndex:0,role:"slider","aria-label":N,"aria-valuenow":o,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[l],onTouchStart:this.travellerDragStartHandlers[l],onKeyDown:function(B){["ArrowLeft","ArrowRight"].includes(B.key)&&(B.preventDefault(),B.stopPropagation(),f.handleTravellerMoveKeyboard(B.key==="ArrowRight"?1:-1,l))},onFocus:function(){f.setState({isTravellerFocused:!0})},onBlur:function(){f.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(b,L))}},{key:"renderSlide",value:function(o,l){var u=this.props,h=u.y,f=u.height,d=u.stroke,p=u.travellerWidth,m=Math.min(o,l)+p,v=Math.max(Math.abs(l-o)-p,0);return React.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:m,y:h,width:v,height:f})}},{key:"renderText",value:function(){var o=this.props,l=o.startIndex,u=o.endIndex,h=o.y,f=o.height,d=o.travellerWidth,p=o.stroke,m=this.state,v=m.startX,b=m.endX,S=5,T={pointerEvents:"none",fill:p};return React.createElement(Layer,{className:"recharts-brush-texts"},React.createElement(Text,_extends$9({textAnchor:"end",verticalAnchor:"middle",x:Math.min(v,b)-S,y:h+f/2},T),this.getTextOfTick(l)),React.createElement(Text,_extends$9({textAnchor:"start",verticalAnchor:"middle",x:Math.max(v,b)+d+S,y:h+f/2},T),this.getTextOfTick(u)))}},{key:"render",value:function(){var o=this.props,l=o.data,u=o.className,h=o.children,f=o.x,d=o.y,p=o.width,m=o.height,v=o.alwaysShowText,b=this.state,S=b.startX,T=b.endX,C=b.isTextActive,w=b.isSlideMoving,R=b.isTravellerMoving,L=b.isTravellerFocused;if(!l||!l.length||!isNumber(f)||!isNumber(d)||!isNumber(p)||!isNumber(m)||p<=0||m<=0)return null;var N=clsx("recharts-brush",u),F=React.Children.count(h)===1,B=generatePrefixStyle("userSelect","none");return React.createElement(Layer,{className:N,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:B},this.renderBackground(),F&&this.renderPanorama(),this.renderSlide(S,T),this.renderTravellerLayer(S,"startX"),this.renderTravellerLayer(T,"endX"),(C||w||R||L||v)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(o){var l=o.x,u=o.y,h=o.width,f=o.height,d=o.stroke,p=Math.floor(u+f/2)-1;return React.createElement(React.Fragment,null,React.createElement("rect",{x:l,y:u,width:h,height:f,fill:d,stroke:"none"}),React.createElement("line",{x1:l+1,y1:p,x2:l+h-1,y2:p,fill:"none",stroke:"#fff"}),React.createElement("line",{x1:l+1,y1:p+2,x2:l+h-1,y2:p+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(o,l){var u;return React.isValidElement(o)?u=React.cloneElement(o,l):isFunction(o)?u=o(l):u=e.renderDefaultTraveller(l),u}},{key:"getDerivedStateFromProps",value:function(o,l){var u=o.data,h=o.width,f=o.x,d=o.travellerWidth,p=o.updateId,m=o.startIndex,v=o.endIndex;if(u!==l.prevData||p!==l.prevUpdateId)return _objectSpread$a({prevData:u,prevTravellerWidth:d,prevUpdateId:p,prevX:f,prevWidth:h},u&&u.length?createScale({data:u,width:h,x:f,travellerWidth:d,startIndex:m,endIndex:v}):{scale:null,scaleValues:null});if(l.scale&&(h!==l.prevWidth||f!==l.prevX||d!==l.prevTravellerWidth)){l.scale.range([f,f+h-d]);var b=l.scale.domain().map(function(S){return l.scale(S)});return{prevData:u,prevTravellerWidth:d,prevUpdateId:p,prevX:f,prevWidth:h,startX:l.scale(o.startIndex),endX:l.scale(o.endIndex),scaleValues:b}}return null}},{key:"getIndexInRange",value:function(o,l){for(var u=o.length,h=0,f=u-1;f-h>1;){var d=Math.floor((h+f)/2);o[d]>l?f=d:h=d}return l>=o[f]?f:h}}])}(reactExports.PureComponent);_defineProperty$d(Brush,"displayName","Brush");_defineProperty$d(Brush,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var _baseSome,hasRequired_baseSome;function require_baseSome(){if(hasRequired_baseSome)return _baseSome;hasRequired_baseSome=1;var t=require_baseEach();function e(n,o){var l;return t(n,function(u,h,f){return l=o(u,h,f),!l}),!!l}return _baseSome=e,_baseSome}var some_1,hasRequiredSome;function requireSome(){if(hasRequiredSome)return some_1;hasRequiredSome=1;var t=require_arraySome(),e=require_baseIteratee(),n=require_baseSome(),o=requireIsArray(),l=require_isIterateeCall();function u(h,f,d){var p=o(h)?t:n;return d&&l(h,f,d)&&(f=void 0),p(h,e(f,3))}return some_1=u,some_1}var someExports=requireSome();const some=getDefaultExportFromCjs(someExports);var ifOverflowMatches=function t(e,n){var o=e.alwaysShow,l=e.ifOverflow;return o&&(l="extendDomain"),l===n},_baseAssignValue,hasRequired_baseAssignValue;function require_baseAssignValue(){if(hasRequired_baseAssignValue)return _baseAssignValue;hasRequired_baseAssignValue=1;var t=require_defineProperty();function e(n,o,l){o=="__proto__"&&t?t(n,o,{configurable:!0,enumerable:!0,value:l,writable:!0}):n[o]=l}return _baseAssignValue=e,_baseAssignValue}var mapValues_1,hasRequiredMapValues;function requireMapValues(){if(hasRequiredMapValues)return mapValues_1;hasRequiredMapValues=1;var t=require_baseAssignValue(),e=require_baseForOwn(),n=require_baseIteratee();function o(l,u){var h={};return u=n(u,3),e(l,function(f,d,p){t(h,d,u(f,d,p))}),h}return mapValues_1=o,mapValues_1}var mapValuesExports=requireMapValues();const mapValues=getDefaultExportFromCjs(mapValuesExports);var _arrayEvery,hasRequired_arrayEvery;function require_arrayEvery(){if(hasRequired_arrayEvery)return _arrayEvery;hasRequired_arrayEvery=1;function t(e,n){for(var o=-1,l=e==null?0:e.length;++o<l;)if(!n(e[o],o,e))return!1;return!0}return _arrayEvery=t,_arrayEvery}var _baseEvery,hasRequired_baseEvery;function require_baseEvery(){if(hasRequired_baseEvery)return _baseEvery;hasRequired_baseEvery=1;var t=require_baseEach();function e(n,o){var l=!0;return t(n,function(u,h,f){return l=!!o(u,h,f),l}),l}return _baseEvery=e,_baseEvery}var every_1,hasRequiredEvery;function requireEvery(){if(hasRequiredEvery)return every_1;hasRequiredEvery=1;var t=require_arrayEvery(),e=require_baseEvery(),n=require_baseIteratee(),o=requireIsArray(),l=require_isIterateeCall();function u(h,f,d){var p=o(h)?t:e;return d&&l(h,f,d)&&(f=void 0),p(h,n(f,3))}return every_1=u,every_1}var everyExports=requireEvery();const every=getDefaultExportFromCjs(everyExports);var _excluded$3=["x","y"];function _typeof$c(t){"@babel/helpers - typeof";return _typeof$c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$c(t)}function _extends$8(){return _extends$8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$8.apply(this,arguments)}function ownKeys$9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$9(Object(n),!0).forEach(function(o){_defineProperty$c(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$9(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$c(t,e,n){return e=_toPropertyKey$c(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$c(t){var e=_toPrimitive$c(t,"string");return _typeof$c(e)=="symbol"?e:e+""}function _toPrimitive$c(t,e){if(_typeof$c(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$c(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _objectWithoutProperties$3(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$3(t,e),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(l=0;l<u.length;l++)o=u[l],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function _objectWithoutPropertiesLoose$3(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function typeguardBarRectangleProps(t,e){var n=t.x,o=t.y,l=_objectWithoutProperties$3(t,_excluded$3),u="".concat(n),h=parseInt(u,10),f="".concat(o),d=parseInt(f,10),p="".concat(e.height||l.height),m=parseInt(p,10),v="".concat(e.width||l.width),b=parseInt(v,10);return _objectSpread$9(_objectSpread$9(_objectSpread$9(_objectSpread$9(_objectSpread$9({},e),l),h?{x:h}:{}),d?{y:d}:{}),{},{height:m,width:b,name:e.name,radius:e.radius})}function BarRectangle(t){return React.createElement(Shape,_extends$8({shapeType:"rectangle",propTransformer:typeguardBarRectangleProps,activeClassName:"recharts-active-bar"},t))}var minPointSizeCallback=function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(o,l){if(typeof e=="number")return e;var u=typeof o=="number";return u?e(o,l):(u||invariant(),n)}},_excluded$2=["value","background"],_Bar;function _typeof$b(t){"@babel/helpers - typeof";return _typeof$b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$b(t)}function _objectWithoutProperties$2(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$2(t,e),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(l=0;l<u.length;l++)o=u[l],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function _objectWithoutPropertiesLoose$2(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function _extends$7(){return _extends$7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$7.apply(this,arguments)}function ownKeys$8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$8(Object(n),!0).forEach(function(o){_defineProperty$b(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$8(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _classCallCheck$9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$9(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey$b(o.key),o)}}function _createClass$9(t,e,n){return e&&_defineProperties$9(t.prototype,e),n&&_defineProperties$9(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$7(t,e,n){return e=_getPrototypeOf$7(e),_possibleConstructorReturn$7(t,_isNativeReflectConstruct$7()?Reflect.construct(e,n||[],_getPrototypeOf$7(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$7(t,e){if(e&&(_typeof$b(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$7(t)}function _assertThisInitialized$7(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$7=function(){return!!t})()}function _getPrototypeOf$7(t){return _getPrototypeOf$7=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$7(t)}function _inherits$7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$7(t,e)}function _setPrototypeOf$7(t,e){return _setPrototypeOf$7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$7(t,e)}function _defineProperty$b(t,e,n){return e=_toPropertyKey$b(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$b(t){var e=_toPrimitive$b(t,"string");return _typeof$b(e)=="symbol"?e:e+""}function _toPrimitive$b(t,e){if(_typeof$b(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$b(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Bar=function(t){function e(){var n;_classCallCheck$9(this,e);for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];return n=_callSuper$7(this,e,[].concat(l)),_defineProperty$b(n,"state",{isAnimationFinished:!1}),_defineProperty$b(n,"id",uniqueId("recharts-bar-")),_defineProperty$b(n,"handleAnimationEnd",function(){var h=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),h&&h()}),_defineProperty$b(n,"handleAnimationStart",function(){var h=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),h&&h()}),n}return _inherits$7(e,t),_createClass$9(e,[{key:"renderRectanglesStatically",value:function(o){var l=this,u=this.props,h=u.shape,f=u.dataKey,d=u.activeIndex,p=u.activeBar,m=filterProps(this.props,!1);return o&&o.map(function(v,b){var S=b===d,T=S?p:h,C=_objectSpread$8(_objectSpread$8(_objectSpread$8({},m),v),{},{isActive:S,option:T,index:b,dataKey:f,onAnimationStart:l.handleAnimationStart,onAnimationEnd:l.handleAnimationEnd});return React.createElement(Layer,_extends$7({className:"recharts-bar-rectangle"},adaptEventsOfChild(l.props,v,b),{key:"rectangle-".concat(v==null?void 0:v.x,"-").concat(v==null?void 0:v.y,"-").concat(v==null?void 0:v.value,"-").concat(b)}),React.createElement(BarRectangle,C))})}},{key:"renderRectanglesWithAnimation",value:function(){var o=this,l=this.props,u=l.data,h=l.layout,f=l.isAnimationActive,d=l.animationBegin,p=l.animationDuration,m=l.animationEasing,v=l.animationId,b=this.state.prevData;return React.createElement(Animate,{begin:d,duration:p,isActive:f,easing:m,from:{t:0},to:{t:1},key:"bar-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var T=S.t,C=u.map(function(w,R){var L=b&&b[R];if(L){var N=interpolateNumber$2(L.x,w.x),F=interpolateNumber$2(L.y,w.y),B=interpolateNumber$2(L.width,w.width),U=interpolateNumber$2(L.height,w.height);return _objectSpread$8(_objectSpread$8({},w),{},{x:N(T),y:F(T),width:B(T),height:U(T)})}if(h==="horizontal"){var z=interpolateNumber$2(0,w.height),K=z(T);return _objectSpread$8(_objectSpread$8({},w),{},{y:w.y+w.height-K,height:K})}var Q=interpolateNumber$2(0,w.width),q=Q(T);return _objectSpread$8(_objectSpread$8({},w),{},{width:q})});return React.createElement(Layer,null,o.renderRectanglesStatically(C))})}},{key:"renderRectangles",value:function(){var o=this.props,l=o.data,u=o.isAnimationActive,h=this.state.prevData;return u&&l&&l.length&&(!h||!isEqual(h,l))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(l)}},{key:"renderBackground",value:function(){var o=this,l=this.props,u=l.data,h=l.dataKey,f=l.activeIndex,d=filterProps(this.props.background,!1);return u.map(function(p,m){p.value;var v=p.background,b=_objectWithoutProperties$2(p,_excluded$2);if(!v)return null;var S=_objectSpread$8(_objectSpread$8(_objectSpread$8(_objectSpread$8(_objectSpread$8({},b),{},{fill:"#eee"},v),d),adaptEventsOfChild(o.props,p,m)),{},{onAnimationStart:o.handleAnimationStart,onAnimationEnd:o.handleAnimationEnd,dataKey:h,index:m,className:"recharts-bar-background-rectangle"});return React.createElement(BarRectangle,_extends$7({key:"background-bar-".concat(m),option:o.props.background,isActive:m===f},S))})}},{key:"renderErrorBar",value:function(o,l){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var u=this.props,h=u.data,f=u.xAxis,d=u.yAxis,p=u.layout,m=u.children,v=findAllByType(m,ErrorBar);if(!v)return null;var b=p==="vertical"?h[0].height/2:h[0].width/2,S=function(w,R){var L=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:L,errorVal:getValueByDataKey(w,R)}},T={clipPath:o?"url(#clipPath-".concat(l,")"):null};return React.createElement(Layer,T,v.map(function(C){return React.cloneElement(C,{key:"error-bar-".concat(l,"-").concat(C.props.dataKey),data:h,xAxis:f,yAxis:d,layout:p,offset:b,dataPointFormatter:S})}))}},{key:"render",value:function(){var o=this.props,l=o.hide,u=o.data,h=o.className,f=o.xAxis,d=o.yAxis,p=o.left,m=o.top,v=o.width,b=o.height,S=o.isAnimationActive,T=o.background,C=o.id;if(l||!u||!u.length)return null;var w=this.state.isAnimationFinished,R=clsx("recharts-bar",h),L=f&&f.allowDataOverflow,N=d&&d.allowDataOverflow,F=L||N,B=isNil(C)?this.id:C;return React.createElement(Layer,{className:R},L||N?React.createElement("defs",null,React.createElement("clipPath",{id:"clipPath-".concat(B)},React.createElement("rect",{x:L?p:p-v/2,y:N?m:m-b/2,width:L?v:v*2,height:N?b:b*2}))):null,React.createElement(Layer,{className:"recharts-bar-rectangles",clipPath:F?"url(#clipPath-".concat(B,")"):null},T?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(F,B),(!S||w)&&LabelList.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(o,l){return o.animationId!==l.prevAnimationId?{prevAnimationId:o.animationId,curData:o.data,prevData:l.curData}:o.data!==l.curData?{curData:o.data}:null}}])}(reactExports.PureComponent);_Bar=Bar;_defineProperty$b(Bar,"displayName","Bar");_defineProperty$b(Bar,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Global.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});_defineProperty$b(Bar,"getComposedData",function(t){var e=t.props,n=t.item,o=t.barPosition,l=t.bandSize,u=t.xAxis,h=t.yAxis,f=t.xAxisTicks,d=t.yAxisTicks,p=t.stackedData,m=t.dataStartIndex,v=t.displayedData,b=t.offset,S=findPositionOfBar(o,n);if(!S)return null;var T=e.layout,C=n.type.defaultProps,w=C!==void 0?_objectSpread$8(_objectSpread$8({},C),n.props):n.props,R=w.dataKey,L=w.children,N=w.minPointSize,F=T==="horizontal"?h:u,B=p?F.scale.domain():null,U=getBaseValueOfBar({numericAxis:F}),z=findAllByType(L,Cell),K=v.map(function(Q,q){var H,se,le,ne,ce,fe;p?H=truncateByDomain(p[m+q],B):(H=getValueByDataKey(Q,R),Array.isArray(H)||(H=[U,H]));var ge=minPointSizeCallback(N,_Bar.defaultProps.minPointSize)(H[1],q);if(T==="horizontal"){var Z,ie=[h.scale(H[0]),h.scale(H[1])],oe=ie[0],ae=ie[1];se=getCateCoordinateOfBar({axis:u,ticks:f,bandSize:l,offset:S.offset,entry:Q,index:q}),le=(Z=ae??oe)!==null&&Z!==void 0?Z:void 0,ne=S.size;var pe=oe-ae;if(ce=Number.isNaN(pe)?0:pe,fe={x:se,y:h.y,width:ne,height:h.height},Math.abs(ge)>0&&Math.abs(ce)<Math.abs(ge)){var we=mathSign(ce||ge)*(Math.abs(ge)-Math.abs(ce));le-=we,ce+=we}}else{var _e=[u.scale(H[0]),u.scale(H[1])],Me=_e[0],Oe=_e[1];if(se=Me,le=getCateCoordinateOfBar({axis:h,ticks:d,bandSize:l,offset:S.offset,entry:Q,index:q}),ne=Oe-Me,ce=S.size,fe={x:u.x,y:le,width:u.width,height:ce},Math.abs(ge)>0&&Math.abs(ne)<Math.abs(ge)){var Ye=mathSign(ne||ge)*(Math.abs(ge)-Math.abs(ne));ne+=Ye}}return _objectSpread$8(_objectSpread$8(_objectSpread$8({},Q),{},{x:se,y:le,width:ne,height:ce,value:p?H:H[1],payload:Q,background:fe},z&&z[q]&&z[q].props),{},{tooltipPayload:[getTooltipItem(n,Q)],tooltipPosition:{x:se+ne/2,y:le+ce/2}})});return _objectSpread$8({data:K,layout:T},b)});function _typeof$a(t){"@babel/helpers - typeof";return _typeof$a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$a(t)}function _classCallCheck$8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$8(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey$a(o.key),o)}}function _createClass$8(t,e,n){return e&&_defineProperties$8(t.prototype,e),n&&_defineProperties$8(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ownKeys$7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$7(Object(n),!0).forEach(function(o){_defineProperty$a(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$7(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$a(t,e,n){return e=_toPropertyKey$a(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$a(t){var e=_toPrimitive$a(t,"string");return _typeof$a(e)=="symbol"?e:e+""}function _toPrimitive$a(t,e){if(_typeof$a(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$a(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var formatAxisMap=function t(e,n,o,l,u){var h=e.width,f=e.height,d=e.layout,p=e.children,m=Object.keys(n),v={left:o.left,leftMirror:o.left,right:h-o.right,rightMirror:h-o.right,top:o.top,topMirror:o.top,bottom:f-o.bottom,bottomMirror:f-o.bottom},b=!!findChildByType(p,Bar);return m.reduce(function(S,T){var C=n[T],w=C.orientation,R=C.domain,L=C.padding,N=L===void 0?{}:L,F=C.mirror,B=C.reversed,U="".concat(w).concat(F?"Mirror":""),z,K,Q,q,H;if(C.type==="number"&&(C.padding==="gap"||C.padding==="no-gap")){var se=R[1]-R[0],le=1/0,ne=C.categoricalDomain.sort(compareValues);if(ne.forEach(function(_e,Me){Me>0&&(le=Math.min((_e||0)-(ne[Me-1]||0),le))}),Number.isFinite(le)){var ce=le/se,fe=C.layout==="vertical"?o.height:o.width;if(C.padding==="gap"&&(z=ce*fe/2),C.padding==="no-gap"){var ge=getPercentValue(e.barCategoryGap,ce*fe),Z=ce*fe/2;z=Z-ge-(Z-ge)/fe*ge}}}l==="xAxis"?K=[o.left+(N.left||0)+(z||0),o.left+o.width-(N.right||0)-(z||0)]:l==="yAxis"?K=d==="horizontal"?[o.top+o.height-(N.bottom||0),o.top+(N.top||0)]:[o.top+(N.top||0)+(z||0),o.top+o.height-(N.bottom||0)-(z||0)]:K=C.range,B&&(K=[K[1],K[0]]);var ie=parseScale(C,u,b),oe=ie.scale,ae=ie.realScaleType;oe.domain(R).range(K),checkDomainOfScale(oe);var pe=getTicksOfScale(oe,_objectSpread$7(_objectSpread$7({},C),{},{realScaleType:ae}));l==="xAxis"?(H=w==="top"&&!F||w==="bottom"&&F,Q=o.left,q=v[U]-H*C.height):l==="yAxis"&&(H=w==="left"&&!F||w==="right"&&F,Q=v[U]-H*C.width,q=o.top);var we=_objectSpread$7(_objectSpread$7(_objectSpread$7({},C),pe),{},{realScaleType:ae,x:Q,y:q,scale:oe,width:l==="xAxis"?o.width:C.width,height:l==="yAxis"?o.height:C.height});return we.bandSize=getBandSizeOfAxis(we,pe),!C.hide&&l==="xAxis"?v[U]+=(H?-1:1)*we.height:C.hide||(v[U]+=(H?-1:1)*we.width),_objectSpread$7(_objectSpread$7({},S),{},_defineProperty$a({},T,we))},{})},rectWithPoints=function t(e,n){var o=e.x,l=e.y,u=n.x,h=n.y;return{x:Math.min(o,u),y:Math.min(l,h),width:Math.abs(u-o),height:Math.abs(h-l)}},rectWithCoords=function t(e){var n=e.x1,o=e.y1,l=e.x2,u=e.y2;return rectWithPoints({x:n,y:o},{x:l,y:u})},ScaleHelper=function(){function t(e){_classCallCheck$8(this,t),this.scale=e}return _createClass$8(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=o.bandAware,u=o.position;if(n!==void 0){if(u)switch(u){case"start":return this.scale(n);case"middle":{var h=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+h}case"end":{var f=this.bandwidth?this.bandwidth():0;return this.scale(n)+f}default:return this.scale(n)}if(l){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+d}return this.scale(n)}}},{key:"isInRange",value:function(n){var o=this.range(),l=o[0],u=o[o.length-1];return l<=u?n>=l&&n<=u:n>=u&&n<=l}}],[{key:"create",value:function(n){return new t(n)}}])}();_defineProperty$a(ScaleHelper,"EPS",1e-4);var createLabeledScales=function t(e){var n=Object.keys(e).reduce(function(o,l){return _objectSpread$7(_objectSpread$7({},o),{},_defineProperty$a({},l,ScaleHelper.create(e[l])))},{});return _objectSpread$7(_objectSpread$7({},n),{},{apply:function(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=u.bandAware,f=u.position;return mapValues(l,function(d,p){return n[p].apply(d,{bandAware:h,position:f})})},isInRange:function(l){return every(l,function(u,h){return n[h].isInRange(u)})}})};function normalizeAngle(t){return(t%180+180)%180}var getAngledRectangleWidth=function t(e){var n=e.width,o=e.height,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,u=normalizeAngle(l),h=u*Math.PI/180,f=Math.atan(o/n),d=h>f&&h<Math.PI-f?o/Math.sin(h):n/Math.cos(h);return Math.abs(d)},_createFind,hasRequired_createFind;function require_createFind(){if(hasRequired_createFind)return _createFind;hasRequired_createFind=1;var t=require_baseIteratee(),e=requireIsArrayLike(),n=requireKeys();function o(l){return function(u,h,f){var d=Object(u);if(!e(u)){var p=t(h,3);u=n(u),h=function(v){return p(d[v],v,d)}}var m=l(u,h,f);return m>-1?d[p?u[m]:m]:void 0}}return _createFind=o,_createFind}var toInteger_1,hasRequiredToInteger;function requireToInteger(){if(hasRequiredToInteger)return toInteger_1;hasRequiredToInteger=1;var t=requireToFinite();function e(n){var o=t(n),l=o%1;return o===o?l?o-l:o:0}return toInteger_1=e,toInteger_1}var findIndex_1,hasRequiredFindIndex;function requireFindIndex(){if(hasRequiredFindIndex)return findIndex_1;hasRequiredFindIndex=1;var t=require_baseFindIndex(),e=require_baseIteratee(),n=requireToInteger(),o=Math.max;function l(u,h,f){var d=u==null?0:u.length;if(!d)return-1;var p=f==null?0:n(f);return p<0&&(p=o(d+p,0)),t(u,e(h,3),p)}return findIndex_1=l,findIndex_1}var find_1,hasRequiredFind;function requireFind(){if(hasRequiredFind)return find_1;hasRequiredFind=1;var t=require_createFind(),e=requireFindIndex(),n=t(e);return find_1=n,find_1}requireFind();var memoizeExports=requireMemoize();const memoize=getDefaultExportFromCjs(memoizeExports);var calculateViewBox=memoize(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),XAxisContext=reactExports.createContext(void 0),YAxisContext=reactExports.createContext(void 0),ViewBoxContext=reactExports.createContext(void 0),OffsetContext=reactExports.createContext({}),ClipPathIdContext=reactExports.createContext(void 0),ChartHeightContext=reactExports.createContext(0),ChartWidthContext=reactExports.createContext(0),ChartLayoutContextProvider=function t(e){var n=e.state,o=n.xAxisMap,l=n.yAxisMap,u=n.offset,h=e.clipPathId,f=e.children,d=e.width,p=e.height,m=calculateViewBox(u);return React.createElement(XAxisContext.Provider,{value:o},React.createElement(YAxisContext.Provider,{value:l},React.createElement(OffsetContext.Provider,{value:u},React.createElement(ViewBoxContext.Provider,{value:m},React.createElement(ClipPathIdContext.Provider,{value:h},React.createElement(ChartHeightContext.Provider,{value:p},React.createElement(ChartWidthContext.Provider,{value:d},f)))))))},useClipPathId=function t(){return reactExports.useContext(ClipPathIdContext)},useXAxisOrThrow=function t(e){var n=reactExports.useContext(XAxisContext);n==null&&invariant();var o=n[e];return o==null&&invariant(),o},useYAxisOrThrow=function t(e){var n=reactExports.useContext(YAxisContext);n==null&&invariant();var o=n[e];return o==null&&invariant(),o},useViewBox=function t(){var e=reactExports.useContext(ViewBoxContext);return e},useChartWidth=function t(){return reactExports.useContext(ChartWidthContext)},useChartHeight=function t(){return reactExports.useContext(ChartHeightContext)};function _typeof$9(t){"@babel/helpers - typeof";return _typeof$9=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$9(t)}function _classCallCheck$7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$7(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey$9(o.key),o)}}function _createClass$7(t,e,n){return e&&_defineProperties$7(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$6(t,e,n){return e=_getPrototypeOf$6(e),_possibleConstructorReturn$6(t,_isNativeReflectConstruct$6()?Reflect.construct(e,n||[],_getPrototypeOf$6(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$6(t,e){if(e&&(_typeof$9(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$6(t)}function _assertThisInitialized$6(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$6=function(){return!!t})()}function _getPrototypeOf$6(t){return _getPrototypeOf$6=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$6(t)}function _inherits$6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$6(t,e)}function _setPrototypeOf$6(t,e){return _setPrototypeOf$6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$6(t,e)}function ownKeys$6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$6(Object(n),!0).forEach(function(o){_defineProperty$9(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$6(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$9(t,e,n){return e=_toPropertyKey$9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$9(t){var e=_toPrimitive$9(t,"string");return _typeof$9(e)=="symbol"?e:e+""}function _toPrimitive$9(t,e){if(_typeof$9(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$9(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function _slicedToArray$1(t,e){return _arrayWithHoles$1(t)||_iterableToArrayLimit$1(t,e)||_unsupportedIterableToArray$2(t,e)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$2(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$2(t,e)}}function _arrayLikeToArray$2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _iterableToArrayLimit$1(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var o,l,u,h,f=[],d=!0,p=!1;try{if(u=(n=n.call(t)).next,e!==0)for(;!(d=(o=u.call(n)).done)&&(f.push(o.value),f.length!==e);d=!0);}catch(m){p=!0,l=m}finally{try{if(!d&&n.return!=null&&(h=n.return(),Object(h)!==h))return}finally{if(p)throw l}}return f}}function _arrayWithHoles$1(t){if(Array.isArray(t))return t}function _extends$6(){return _extends$6=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$6.apply(this,arguments)}var renderLine=function t(e,n){var o;return React.isValidElement(e)?o=React.cloneElement(e,n):isFunction(e)?o=e(n):o=React.createElement("line",_extends$6({},n,{className:"recharts-reference-line-line"})),o},getEndPoints=function t(e,n,o,l,u,h,f,d,p){var m=u.x,v=u.y,b=u.width,S=u.height;if(o){var T=p.y,C=e.y.apply(T,{position:h});if(ifOverflowMatches(p,"discard")&&!e.y.isInRange(C))return null;var w=[{x:m+b,y:C},{x:m,y:C}];return d==="left"?w.reverse():w}if(n){var R=p.x,L=e.x.apply(R,{position:h});if(ifOverflowMatches(p,"discard")&&!e.x.isInRange(L))return null;var N=[{x:L,y:v+S},{x:L,y:v}];return f==="top"?N.reverse():N}if(l){var F=p.segment,B=F.map(function(U){return e.apply(U,{position:h})});return ifOverflowMatches(p,"discard")&&some(B,function(U){return!e.isInRange(U)})?null:B}return null};function ReferenceLineImpl(t){var e=t.x,n=t.y,o=t.segment,l=t.xAxisId,u=t.yAxisId,h=t.shape,f=t.className,d=t.alwaysShow,p=useClipPathId(),m=useXAxisOrThrow(l),v=useYAxisOrThrow(u),b=useViewBox();if(!p||!b)return null;warn(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var S=createLabeledScales({x:m.scale,y:v.scale}),T=isNumOrStr(e),C=isNumOrStr(n),w=o&&o.length===2,R=getEndPoints(S,T,C,w,b,t.position,m.orientation,v.orientation,t);if(!R)return null;var L=_slicedToArray$1(R,2),N=L[0],F=N.x,B=N.y,U=L[1],z=U.x,K=U.y,Q=ifOverflowMatches(t,"hidden")?"url(#".concat(p,")"):void 0,q=_objectSpread$6(_objectSpread$6({clipPath:Q},filterProps(t,!0)),{},{x1:F,y1:B,x2:z,y2:K});return React.createElement(Layer,{className:clsx("recharts-reference-line",f)},renderLine(h,q),Label.renderCallByParent(t,rectWithCoords({x1:F,y1:B,x2:z,y2:K})))}var ReferenceLine=function(t){function e(){return _classCallCheck$7(this,e),_callSuper$6(this,e,arguments)}return _inherits$6(e,t),_createClass$7(e,[{key:"render",value:function(){return React.createElement(ReferenceLineImpl,this.props)}}])}(React.Component);_defineProperty$9(ReferenceLine,"displayName","ReferenceLine");_defineProperty$9(ReferenceLine,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function _extends$5(){return _extends$5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$5.apply(this,arguments)}function _typeof$8(t){"@babel/helpers - typeof";return _typeof$8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$8(t)}function ownKeys$5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$5(Object(n),!0).forEach(function(o){_defineProperty$8(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$5(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _classCallCheck$6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$6(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey$8(o.key),o)}}function _createClass$6(t,e,n){return e&&_defineProperties$6(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$5(t,e,n){return e=_getPrototypeOf$5(e),_possibleConstructorReturn$5(t,_isNativeReflectConstruct$5()?Reflect.construct(e,n||[],_getPrototypeOf$5(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$5(t,e){if(e&&(_typeof$8(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$5(t)}function _assertThisInitialized$5(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$5=function(){return!!t})()}function _getPrototypeOf$5(t){return _getPrototypeOf$5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$5(t)}function _inherits$5(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$5(t,e)}function _setPrototypeOf$5(t,e){return _setPrototypeOf$5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$5(t,e)}function _defineProperty$8(t,e,n){return e=_toPropertyKey$8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$8(t){var e=_toPrimitive$8(t,"string");return _typeof$8(e)=="symbol"?e:e+""}function _toPrimitive$8(t,e){if(_typeof$8(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$8(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var getCoordinate=function t(e){var n=e.x,o=e.y,l=e.xAxis,u=e.yAxis,h=createLabeledScales({x:l.scale,y:u.scale}),f=h.apply({x:n,y:o},{bandAware:!0});return ifOverflowMatches(e,"discard")&&!h.isInRange(f)?null:f},ReferenceDot=function(t){function e(){return _classCallCheck$6(this,e),_callSuper$5(this,e,arguments)}return _inherits$5(e,t),_createClass$6(e,[{key:"render",value:function(){var o=this.props,l=o.x,u=o.y,h=o.r,f=o.alwaysShow,d=o.clipPathId,p=isNumOrStr(l),m=isNumOrStr(u);if(warn(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!p||!m)return null;var v=getCoordinate(this.props);if(!v)return null;var b=v.x,S=v.y,T=this.props,C=T.shape,w=T.className,R=ifOverflowMatches(this.props,"hidden")?"url(#".concat(d,")"):void 0,L=_objectSpread$5(_objectSpread$5({clipPath:R},filterProps(this.props,!0)),{},{cx:b,cy:S});return React.createElement(Layer,{className:clsx("recharts-reference-dot",w)},e.renderDot(C,L),Label.renderCallByParent(this.props,{x:b-h,y:S-h,width:2*h,height:2*h}))}}])}(React.Component);_defineProperty$8(ReferenceDot,"displayName","ReferenceDot");_defineProperty$8(ReferenceDot,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});_defineProperty$8(ReferenceDot,"renderDot",function(t,e){var n;return React.isValidElement(t)?n=React.cloneElement(t,e):isFunction(t)?n=t(e):n=React.createElement(Dot,_extends$5({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$4.apply(this,arguments)}function _typeof$7(t){"@babel/helpers - typeof";return _typeof$7=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$7(t)}function ownKeys$4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$4(Object(n),!0).forEach(function(o){_defineProperty$7(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$4(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _classCallCheck$5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$5(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey$7(o.key),o)}}function _createClass$5(t,e,n){return e&&_defineProperties$5(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$4(t,e,n){return e=_getPrototypeOf$4(e),_possibleConstructorReturn$4(t,_isNativeReflectConstruct$4()?Reflect.construct(e,n||[],_getPrototypeOf$4(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$4(t,e){if(e&&(_typeof$7(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$4(t)}function _assertThisInitialized$4(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$4=function(){return!!t})()}function _getPrototypeOf$4(t){return _getPrototypeOf$4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$4(t)}function _inherits$4(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$4(t,e)}function _setPrototypeOf$4(t,e){return _setPrototypeOf$4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$4(t,e)}function _defineProperty$7(t,e,n){return e=_toPropertyKey$7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$7(t){var e=_toPrimitive$7(t,"string");return _typeof$7(e)=="symbol"?e:e+""}function _toPrimitive$7(t,e){if(_typeof$7(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$7(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var getRect=function t(e,n,o,l,u){var h=u.x1,f=u.x2,d=u.y1,p=u.y2,m=u.xAxis,v=u.yAxis;if(!m||!v)return null;var b=createLabeledScales({x:m.scale,y:v.scale}),S={x:e?b.x.apply(h,{position:"start"}):b.x.rangeMin,y:o?b.y.apply(d,{position:"start"}):b.y.rangeMin},T={x:n?b.x.apply(f,{position:"end"}):b.x.rangeMax,y:l?b.y.apply(p,{position:"end"}):b.y.rangeMax};return ifOverflowMatches(u,"discard")&&(!b.isInRange(S)||!b.isInRange(T))?null:rectWithPoints(S,T)},ReferenceArea=function(t){function e(){return _classCallCheck$5(this,e),_callSuper$4(this,e,arguments)}return _inherits$4(e,t),_createClass$5(e,[{key:"render",value:function(){var o=this.props,l=o.x1,u=o.x2,h=o.y1,f=o.y2,d=o.className,p=o.alwaysShow,m=o.clipPathId;warn(p===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=isNumOrStr(l),b=isNumOrStr(u),S=isNumOrStr(h),T=isNumOrStr(f),C=this.props.shape;if(!v&&!b&&!S&&!T&&!C)return null;var w=getRect(v,b,S,T,this.props);if(!w&&!C)return null;var R=ifOverflowMatches(this.props,"hidden")?"url(#".concat(m,")"):void 0;return React.createElement(Layer,{className:clsx("recharts-reference-area",d)},e.renderRect(C,_objectSpread$4(_objectSpread$4({clipPath:R},filterProps(this.props,!0)),w)),Label.renderCallByParent(this.props,w))}}])}(React.Component);_defineProperty$7(ReferenceArea,"displayName","ReferenceArea");_defineProperty$7(ReferenceArea,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});_defineProperty$7(ReferenceArea,"renderRect",function(t,e){var n;return React.isValidElement(t)?n=React.cloneElement(t,e):isFunction(t)?n=t(e):n=React.createElement(Rectangle,_extends$4({},e,{className:"recharts-reference-area-rect"})),n});function getEveryNthWithCondition(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var o=[],l=0;l<t.length;l+=e)o.push(t[l]);return o}function getAngledTickWidth(t,e,n){var o={width:t.width+e.width,height:t.height+e.height};return getAngledRectangleWidth(o,n)}function getTickBoundaries(t,e,n){var o=n==="width",l=t.x,u=t.y,h=t.width,f=t.height;return e===1?{start:o?l:u,end:o?l+h:u+f}:{start:o?l+h:u+f,end:o?l:u}}function isVisible(t,e,n,o,l){if(t*e<t*o||t*e>t*l)return!1;var u=n();return t*(e-t*u/2-o)>=0&&t*(e+t*u/2-l)<=0}function getNumberIntervalTicks(t,e){return getEveryNthWithCondition(t,e+1)}function getEquidistantTicks(t,e,n,o,l){for(var u=(o||[]).slice(),h=e.start,f=e.end,d=0,p=1,m=h,v=function(){var T=o==null?void 0:o[d];if(T===void 0)return{v:getEveryNthWithCondition(o,p)};var C=d,w,R=function(){return w===void 0&&(w=n(T,C)),w},L=T.coordinate,N=d===0||isVisible(t,L,R,m,f);N||(d=0,m=h,p+=1),N&&(m=L+t*(R()/2+l),d+=p)},b;p<=u.length;)if(b=v(),b)return b.v;return[]}function _typeof$6(t){"@babel/helpers - typeof";return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$6(t)}function ownKeys$3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$3(Object(n),!0).forEach(function(o){_defineProperty$6(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$3(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$6(t,e,n){return e=_toPropertyKey$6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$6(t){var e=_toPrimitive$6(t,"string");return _typeof$6(e)=="symbol"?e:e+""}function _toPrimitive$6(t,e){if(_typeof$6(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$6(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function getTicksEnd(t,e,n,o,l){for(var u=(o||[]).slice(),h=u.length,f=e.start,d=e.end,p=function(b){var S=u[b],T,C=function(){return T===void 0&&(T=n(S,b)),T};if(b===h-1){var w=t*(S.coordinate+t*C()/2-d);u[b]=S=_objectSpread$3(_objectSpread$3({},S),{},{tickCoord:w>0?S.coordinate-w*t:S.coordinate})}else u[b]=S=_objectSpread$3(_objectSpread$3({},S),{},{tickCoord:S.coordinate});var R=isVisible(t,S.tickCoord,C,f,d);R&&(d=S.tickCoord-t*(C()/2+l),u[b]=_objectSpread$3(_objectSpread$3({},S),{},{isShow:!0}))},m=h-1;m>=0;m--)p(m);return u}function getTicksStart(t,e,n,o,l,u){var h=(o||[]).slice(),f=h.length,d=e.start,p=e.end;if(u){var m=o[f-1],v=n(m,f-1),b=t*(m.coordinate+t*v/2-p);h[f-1]=m=_objectSpread$3(_objectSpread$3({},m),{},{tickCoord:b>0?m.coordinate-b*t:m.coordinate});var S=isVisible(t,m.tickCoord,function(){return v},d,p);S&&(p=m.tickCoord-t*(v/2+l),h[f-1]=_objectSpread$3(_objectSpread$3({},m),{},{isShow:!0}))}for(var T=u?f-1:f,C=function(L){var N=h[L],F,B=function(){return F===void 0&&(F=n(N,L)),F};if(L===0){var U=t*(N.coordinate-t*B()/2-d);h[L]=N=_objectSpread$3(_objectSpread$3({},N),{},{tickCoord:U<0?N.coordinate-U*t:N.coordinate})}else h[L]=N=_objectSpread$3(_objectSpread$3({},N),{},{tickCoord:N.coordinate});var z=isVisible(t,N.tickCoord,B,d,p);z&&(d=N.tickCoord+t*(B()/2+l),h[L]=_objectSpread$3(_objectSpread$3({},N),{},{isShow:!0}))},w=0;w<T;w++)C(w);return h}function getTicks(t,e,n){var o=t.tick,l=t.ticks,u=t.viewBox,h=t.minTickGap,f=t.orientation,d=t.interval,p=t.tickFormatter,m=t.unit,v=t.angle;if(!l||!l.length||!o)return[];if(isNumber(d)||Global.isSsr)return getNumberIntervalTicks(l,typeof d=="number"&&isNumber(d)?d:0);var b=[],S=f==="top"||f==="bottom"?"width":"height",T=m&&S==="width"?getStringSize(m,{fontSize:e,letterSpacing:n}):{width:0,height:0},C=function(N,F){var B=isFunction(p)?p(N.value,F):N.value;return S==="width"?getAngledTickWidth(getStringSize(B,{fontSize:e,letterSpacing:n}),T,v):getStringSize(B,{fontSize:e,letterSpacing:n})[S]},w=l.length>=2?mathSign(l[1].coordinate-l[0].coordinate):1,R=getTickBoundaries(u,w,S);return d==="equidistantPreserveStart"?getEquidistantTicks(w,R,C,l,h):(d==="preserveStart"||d==="preserveStartEnd"?b=getTicksStart(w,R,C,l,h,d==="preserveStartEnd"):b=getTicksEnd(w,R,C,l,h),b.filter(function(L){return L.isShow}))}var _excluded$1=["viewBox"],_excluded2$1=["viewBox"],_excluded3=["ticks"];function _typeof$5(t){"@babel/helpers - typeof";return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$5(t)}function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$3.apply(this,arguments)}function ownKeys$2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$2(Object(n),!0).forEach(function(o){_defineProperty$5(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$2(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _objectWithoutProperties$1(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose$1(t,e),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(l=0;l<u.length;l++)o=u[l],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function _objectWithoutPropertiesLoose$1(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function _classCallCheck$4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$4(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey$5(o.key),o)}}function _createClass$4(t,e,n){return e&&_defineProperties$4(t.prototype,e),n&&_defineProperties$4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$3(t,e,n){return e=_getPrototypeOf$3(e),_possibleConstructorReturn$3(t,_isNativeReflectConstruct$3()?Reflect.construct(e,n||[],_getPrototypeOf$3(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$3(t,e){if(e&&(_typeof$5(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$3(t)}function _assertThisInitialized$3(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$3=function(){return!!t})()}function _getPrototypeOf$3(t){return _getPrototypeOf$3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$3(t)}function _inherits$3(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$3(t,e)}function _setPrototypeOf$3(t,e){return _setPrototypeOf$3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$3(t,e)}function _defineProperty$5(t,e,n){return e=_toPropertyKey$5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$5(t){var e=_toPrimitive$5(t,"string");return _typeof$5(e)=="symbol"?e:e+""}function _toPrimitive$5(t,e){if(_typeof$5(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$5(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var CartesianAxis=function(t){function e(n){var o;return _classCallCheck$4(this,e),o=_callSuper$3(this,e,[n]),o.state={fontSize:"",letterSpacing:""},o}return _inherits$3(e,t),_createClass$4(e,[{key:"shouldComponentUpdate",value:function(o,l){var u=o.viewBox,h=_objectWithoutProperties$1(o,_excluded$1),f=this.props,d=f.viewBox,p=_objectWithoutProperties$1(f,_excluded2$1);return!shallowEqual(u,d)||!shallowEqual(h,p)||!shallowEqual(l,this.state)}},{key:"componentDidMount",value:function(){var o=this.layerReference;if(o){var l=o.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];l&&this.setState({fontSize:window.getComputedStyle(l).fontSize,letterSpacing:window.getComputedStyle(l).letterSpacing})}}},{key:"getTickLineCoord",value:function(o){var l=this.props,u=l.x,h=l.y,f=l.width,d=l.height,p=l.orientation,m=l.tickSize,v=l.mirror,b=l.tickMargin,S,T,C,w,R,L,N=v?-1:1,F=o.tickSize||m,B=isNumber(o.tickCoord)?o.tickCoord:o.coordinate;switch(p){case"top":S=T=o.coordinate,w=h+ +!v*d,C=w-N*F,L=C-N*b,R=B;break;case"left":C=w=o.coordinate,T=u+ +!v*f,S=T-N*F,R=S-N*b,L=B;break;case"right":C=w=o.coordinate,T=u+ +v*f,S=T+N*F,R=S+N*b,L=B;break;default:S=T=o.coordinate,w=h+ +v*d,C=w+N*F,L=C+N*b,R=B;break}return{line:{x1:S,y1:C,x2:T,y2:w},tick:{x:R,y:L}}}},{key:"getTickTextAnchor",value:function(){var o=this.props,l=o.orientation,u=o.mirror,h;switch(l){case"left":h=u?"start":"end";break;case"right":h=u?"end":"start";break;default:h="middle";break}return h}},{key:"getTickVerticalAnchor",value:function(){var o=this.props,l=o.orientation,u=o.mirror,h="end";switch(l){case"left":case"right":h="middle";break;case"top":h=u?"start":"end";break;default:h=u?"end":"start";break}return h}},{key:"renderAxisLine",value:function(){var o=this.props,l=o.x,u=o.y,h=o.width,f=o.height,d=o.orientation,p=o.mirror,m=o.axisLine,v=_objectSpread$2(_objectSpread$2(_objectSpread$2({},filterProps(this.props,!1)),filterProps(m,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var b=+(d==="top"&&!p||d==="bottom"&&p);v=_objectSpread$2(_objectSpread$2({},v),{},{x1:l,y1:u+b*f,x2:l+h,y2:u+b*f})}else{var S=+(d==="left"&&!p||d==="right"&&p);v=_objectSpread$2(_objectSpread$2({},v),{},{x1:l+S*h,y1:u,x2:l+S*h,y2:u+f})}return React.createElement("line",_extends$3({},v,{className:clsx("recharts-cartesian-axis-line",get(m,"className"))}))}},{key:"renderTicks",value:function(o,l,u){var h=this,f=this.props,d=f.tickLine,p=f.stroke,m=f.tick,v=f.tickFormatter,b=f.unit,S=getTicks(_objectSpread$2(_objectSpread$2({},this.props),{},{ticks:o}),l,u),T=this.getTickTextAnchor(),C=this.getTickVerticalAnchor(),w=filterProps(this.props,!1),R=filterProps(m,!1),L=_objectSpread$2(_objectSpread$2({},w),{},{fill:"none"},filterProps(d,!1)),N=S.map(function(F,B){var U=h.getTickLineCoord(F),z=U.line,K=U.tick,Q=_objectSpread$2(_objectSpread$2(_objectSpread$2(_objectSpread$2({textAnchor:T,verticalAnchor:C},w),{},{stroke:"none",fill:p},R),K),{},{index:B,payload:F,visibleTicksCount:S.length,tickFormatter:v});return React.createElement(Layer,_extends$3({className:"recharts-cartesian-axis-tick",key:"tick-".concat(F.value,"-").concat(F.coordinate,"-").concat(F.tickCoord)},adaptEventsOfChild(h.props,F,B)),d&&React.createElement("line",_extends$3({},L,z,{className:clsx("recharts-cartesian-axis-tick-line",get(d,"className"))})),m&&e.renderTickItem(m,Q,"".concat(isFunction(v)?v(F.value,B):F.value).concat(b||"")))});return React.createElement("g",{className:"recharts-cartesian-axis-ticks"},N)}},{key:"render",value:function(){var o=this,l=this.props,u=l.axisLine,h=l.width,f=l.height,d=l.ticksGenerator,p=l.className,m=l.hide;if(m)return null;var v=this.props,b=v.ticks,S=_objectWithoutProperties$1(v,_excluded3),T=b;return isFunction(d)&&(T=b&&b.length>0?d(this.props):d(S)),h<=0||f<=0||!T||!T.length?null:React.createElement(Layer,{className:clsx("recharts-cartesian-axis",p),ref:function(w){o.layerReference=w}},u&&this.renderAxisLine(),this.renderTicks(T,this.state.fontSize,this.state.letterSpacing),Label.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(o,l,u){var h;return React.isValidElement(o)?h=React.cloneElement(o,l):isFunction(o)?h=o(l):h=React.createElement(Text,_extends$3({},l,{className:"recharts-cartesian-axis-tick-value"}),u),h}}])}(reactExports.Component);_defineProperty$5(CartesianAxis,"displayName","CartesianAxis");_defineProperty$5(CartesianAxis,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});function _typeof$4(t){"@babel/helpers - typeof";return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$4(t)}function _classCallCheck$3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$3(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey$4(o.key),o)}}function _createClass$3(t,e,n){return e&&_defineProperties$3(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$2(t,e,n){return e=_getPrototypeOf$2(e),_possibleConstructorReturn$2(t,_isNativeReflectConstruct$2()?Reflect.construct(e,n||[],_getPrototypeOf$2(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$2(t,e){if(e&&(_typeof$4(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$2(t)}function _assertThisInitialized$2(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$2=function(){return!!t})()}function _getPrototypeOf$2(t){return _getPrototypeOf$2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$2(t)}function _inherits$2(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$2(t,e)}function _setPrototypeOf$2(t,e){return _setPrototypeOf$2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$2(t,e)}function _defineProperty$4(t,e,n){return e=_toPropertyKey$4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$4(t){var e=_toPrimitive$4(t,"string");return _typeof$4(e)=="symbol"?e:e+""}function _toPrimitive$4(t,e){if(_typeof$4(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$4(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$2.apply(this,arguments)}function XAxisImpl(t){var e=t.xAxisId,n=useChartWidth(),o=useChartHeight(),l=useXAxisOrThrow(e);return l==null?null:React.createElement(CartesianAxis,_extends$2({},l,{className:clsx("recharts-".concat(l.axisType," ").concat(l.axisType),l.className),viewBox:{x:0,y:0,width:n,height:o},ticksGenerator:function(h){return getTicksOfAxis(h,!0)}}))}var XAxis=function(t){function e(){return _classCallCheck$3(this,e),_callSuper$2(this,e,arguments)}return _inherits$2(e,t),_createClass$3(e,[{key:"render",value:function(){return React.createElement(XAxisImpl,this.props)}}])}(React.Component);_defineProperty$4(XAxis,"displayName","XAxis");_defineProperty$4(XAxis,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function _typeof$3(t){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$3(t)}function _classCallCheck$2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$2(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey$3(o.key),o)}}function _createClass$2(t,e,n){return e&&_defineProperties$2(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$1(t,e,n){return e=_getPrototypeOf$1(e),_possibleConstructorReturn$1(t,_isNativeReflectConstruct$1()?Reflect.construct(e,n||[],_getPrototypeOf$1(t).constructor):e.apply(t,n))}function _possibleConstructorReturn$1(t,e){if(e&&(_typeof$3(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$1(t)}function _assertThisInitialized$1(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$1(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$1=function(){return!!t})()}function _getPrototypeOf$1(t){return _getPrototypeOf$1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$1(t)}function _inherits$1(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$1(t,e)}function _setPrototypeOf$1(t,e){return _setPrototypeOf$1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$1(t,e)}function _defineProperty$3(t,e,n){return e=_toPropertyKey$3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$3(t){var e=_toPrimitive$3(t,"string");return _typeof$3(e)=="symbol"?e:e+""}function _toPrimitive$3(t,e){if(_typeof$3(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$3(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$1.apply(this,arguments)}var YAxisImpl=function t(e){var n=e.yAxisId,o=useChartWidth(),l=useChartHeight(),u=useYAxisOrThrow(n);return u==null?null:React.createElement(CartesianAxis,_extends$1({},u,{className:clsx("recharts-".concat(u.axisType," ").concat(u.axisType),u.className),viewBox:{x:0,y:0,width:o,height:l},ticksGenerator:function(f){return getTicksOfAxis(f,!0)}}))},YAxis=function(t){function e(){return _classCallCheck$2(this,e),_callSuper$1(this,e,arguments)}return _inherits$1(e,t),_createClass$2(e,[{key:"render",value:function(){return React.createElement(YAxisImpl,this.props)}}])}(React.Component);_defineProperty$3(YAxis,"displayName","YAxis");_defineProperty$3(YAxis,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function _toConsumableArray$1(t){return _arrayWithoutHoles$1(t)||_iterableToArray$1(t)||_unsupportedIterableToArray$1(t)||_nonIterableSpread$1()}function _nonIterableSpread$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$1(t,e)}}function _iterableToArray$1(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles$1(t){if(Array.isArray(t))return _arrayLikeToArray$1(t)}function _arrayLikeToArray$1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var detectReferenceElementsDomain=function t(e,n,o,l,u){var h=findAllByType(e,ReferenceLine),f=findAllByType(e,ReferenceDot),d=[].concat(_toConsumableArray$1(h),_toConsumableArray$1(f)),p=findAllByType(e,ReferenceArea),m="".concat(l,"Id"),v=l[0],b=n;if(d.length&&(b=d.reduce(function(C,w){if(w.props[m]===o&&ifOverflowMatches(w.props,"extendDomain")&&isNumber(w.props[v])){var R=w.props[v];return[Math.min(C[0],R),Math.max(C[1],R)]}return C},b)),p.length){var S="".concat(v,"1"),T="".concat(v,"2");b=p.reduce(function(C,w){if(w.props[m]===o&&ifOverflowMatches(w.props,"extendDomain")&&isNumber(w.props[S])&&isNumber(w.props[T])){var R=w.props[S],L=w.props[T];return[Math.min(C[0],R,L),Math.max(C[1],R,L)]}return C},b)}return u&&u.length&&(b=u.reduce(function(C,w){return isNumber(w)?[Math.min(C[0],w),Math.max(C[1],w)]:C},b)),b},eventemitter3={exports:{}},hasRequiredEventemitter3;function requireEventemitter3(){return hasRequiredEventemitter3||(hasRequiredEventemitter3=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(n=!1));function l(d,p,m){this.fn=d,this.context=p,this.once=m||!1}function u(d,p,m,v,b){if(typeof m!="function")throw new TypeError("The listener must be a function");var S=new l(m,v||d,b),T=n?n+p:p;return d._events[T]?d._events[T].fn?d._events[T]=[d._events[T],S]:d._events[T].push(S):(d._events[T]=S,d._eventsCount++),d}function h(d,p){--d._eventsCount===0?d._events=new o:delete d._events[p]}function f(){this._events=new o,this._eventsCount=0}f.prototype.eventNames=function(){var p=[],m,v;if(this._eventsCount===0)return p;for(v in m=this._events)e.call(m,v)&&p.push(n?v.slice(1):v);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(m)):p},f.prototype.listeners=function(p){var m=n?n+p:p,v=this._events[m];if(!v)return[];if(v.fn)return[v.fn];for(var b=0,S=v.length,T=new Array(S);b<S;b++)T[b]=v[b].fn;return T},f.prototype.listenerCount=function(p){var m=n?n+p:p,v=this._events[m];return v?v.fn?1:v.length:0},f.prototype.emit=function(p,m,v,b,S,T){var C=n?n+p:p;if(!this._events[C])return!1;var w=this._events[C],R=arguments.length,L,N;if(w.fn){switch(w.once&&this.removeListener(p,w.fn,void 0,!0),R){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,m),!0;case 3:return w.fn.call(w.context,m,v),!0;case 4:return w.fn.call(w.context,m,v,b),!0;case 5:return w.fn.call(w.context,m,v,b,S),!0;case 6:return w.fn.call(w.context,m,v,b,S,T),!0}for(N=1,L=new Array(R-1);N<R;N++)L[N-1]=arguments[N];w.fn.apply(w.context,L)}else{var F=w.length,B;for(N=0;N<F;N++)switch(w[N].once&&this.removeListener(p,w[N].fn,void 0,!0),R){case 1:w[N].fn.call(w[N].context);break;case 2:w[N].fn.call(w[N].context,m);break;case 3:w[N].fn.call(w[N].context,m,v);break;case 4:w[N].fn.call(w[N].context,m,v,b);break;default:if(!L)for(B=1,L=new Array(R-1);B<R;B++)L[B-1]=arguments[B];w[N].fn.apply(w[N].context,L)}}return!0},f.prototype.on=function(p,m,v){return u(this,p,m,v,!1)},f.prototype.once=function(p,m,v){return u(this,p,m,v,!0)},f.prototype.removeListener=function(p,m,v,b){var S=n?n+p:p;if(!this._events[S])return this;if(!m)return h(this,S),this;var T=this._events[S];if(T.fn)T.fn===m&&(!b||T.once)&&(!v||T.context===v)&&h(this,S);else{for(var C=0,w=[],R=T.length;C<R;C++)(T[C].fn!==m||b&&!T[C].once||v&&T[C].context!==v)&&w.push(T[C]);w.length?this._events[S]=w.length===1?w[0]:w:h(this,S)}return this},f.prototype.removeAllListeners=function(p){var m;return p?(m=n?n+p:p,this._events[m]&&h(this,m)):(this._events=new o,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=n,f.EventEmitter=f,t.exports=f}(eventemitter3)),eventemitter3.exports}var eventemitter3Exports=requireEventemitter3();const EventEmitter=getDefaultExportFromCjs(eventemitter3Exports);var eventCenter=new EventEmitter,SYNC_EVENT="recharts.syncMouseEvents";function _typeof$2(t){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$2(t)}function _classCallCheck$1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey$2(o.key),o)}}function _createClass$1(t,e,n){return e&&_defineProperties$1(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _defineProperty$2(t,e,n){return e=_toPropertyKey$2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$2(t){var e=_toPrimitive$2(t,"string");return _typeof$2(e)=="symbol"?e:e+""}function _toPrimitive$2(t,e){if(_typeof$2(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$2(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var AccessibilityManager=function(){function t(){_classCallCheck$1(this,t),_defineProperty$2(this,"activeIndex",0),_defineProperty$2(this,"coordinateList",[]),_defineProperty$2(this,"layout","horizontal")}return _createClass$1(t,[{key:"setDetails",value:function(n){var o,l=n.coordinateList,u=l===void 0?null:l,h=n.container,f=h===void 0?null:h,d=n.layout,p=d===void 0?null:d,m=n.offset,v=m===void 0?null:m,b=n.mouseHandlerCallback,S=b===void 0?null:b;this.coordinateList=(o=u??this.coordinateList)!==null&&o!==void 0?o:[],this.container=f??this.container,this.layout=p??this.layout,this.offset=v??this.offset,this.mouseHandlerCallback=S??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,o;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var l=this.container.getBoundingClientRect(),u=l.x,h=l.y,f=l.height,d=this.coordinateList[this.activeIndex].coordinate,p=((n=window)===null||n===void 0?void 0:n.scrollX)||0,m=((o=window)===null||o===void 0?void 0:o.scrollY)||0,v=u+d+p,b=h+this.offset.top+f/2+m;this.mouseHandlerCallback({pageX:v,pageY:b})}}}])}();function isDomainSpecifiedByUser(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var o=t==null?void 0:t[0],l=t==null?void 0:t[1];if(o&&l&&isNumber(o)&&isNumber(l))return!0}return!1}function getCursorRectangle(t,e,n,o){var l=o/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-l:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-l,width:t==="horizontal"?o:n.width-1,height:t==="horizontal"?n.height-1:o}}function getRadialCursorPoints(t){var e=t.cx,n=t.cy,o=t.radius,l=t.startAngle,u=t.endAngle,h=polarToCartesian(e,n,o,l),f=polarToCartesian(e,n,o,u);return{points:[h,f],cx:e,cy:n,radius:o,startAngle:l,endAngle:u}}function getCursorPoints(t,e,n){var o,l,u,h;if(t==="horizontal")o=e.x,u=o,l=n.top,h=n.top+n.height;else if(t==="vertical")l=e.y,h=l,o=n.left,u=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var f=e.cx,d=e.cy,p=e.innerRadius,m=e.outerRadius,v=e.angle,b=polarToCartesian(f,d,p,v),S=polarToCartesian(f,d,m,v);o=b.x,l=b.y,u=S.x,h=S.y}else return getRadialCursorPoints(e);return[{x:o,y:l},{x:u,y:h}]}function _typeof$1(t){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$1(t)}function ownKeys$1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$1(Object(n),!0).forEach(function(o){_defineProperty$1(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$1(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty$1(t,e,n){return e=_toPropertyKey$1(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey$1(t){var e=_toPrimitive$1(t,"string");return _typeof$1(e)=="symbol"?e:e+""}function _toPrimitive$1(t,e){if(_typeof$1(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof$1(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cursor(t){var e,n,o=t.element,l=t.tooltipEventType,u=t.isActive,h=t.activeCoordinate,f=t.activePayload,d=t.offset,p=t.activeTooltipIndex,m=t.tooltipAxisBandSize,v=t.layout,b=t.chartName,S=(e=o.props.cursor)!==null&&e!==void 0?e:(n=o.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!o||!S||!u||!h||b!=="ScatterChart"&&l!=="axis")return null;var T,C=Curve;if(b==="ScatterChart")T=h,C=Cross;else if(b==="BarChart")T=getCursorRectangle(v,h,d,m),C=Rectangle;else if(v==="radial"){var w=getRadialCursorPoints(h),R=w.cx,L=w.cy,N=w.radius,F=w.startAngle,B=w.endAngle;T={cx:R,cy:L,startAngle:F,endAngle:B,innerRadius:N,outerRadius:N},C=Sector}else T={points:getCursorPoints(v,h,d)},C=Curve;var U=_objectSpread$1(_objectSpread$1(_objectSpread$1(_objectSpread$1({stroke:"#ccc",pointerEvents:"none"},d),T),filterProps(S,!1)),{},{payload:f,payloadIndex:p,className:clsx("recharts-tooltip-cursor",S.className)});return reactExports.isValidElement(S)?reactExports.cloneElement(S,U):reactExports.createElement(C,U)}var _excluded=["item"],_excluded2=["children","className","width","height","style","compact","title","desc"];function _typeof(t){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(t)}function _extends(){return _extends=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends.apply(this,arguments)}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArrayLimit(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var o,l,u,h,f=[],d=!0,p=!1;try{if(u=(n=n.call(t)).next,e!==0)for(;!(d=(o=u.call(n)).done)&&(f.push(o.value),f.length!==e);d=!0);}catch(m){p=!0,l=m}finally{try{if(!d&&n.return!=null&&(h=n.return(),Object(h)!==h))return}finally{if(p)throw l}}return f}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _objectWithoutProperties(t,e){if(t==null)return{};var n=_objectWithoutPropertiesLoose(t,e),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(l=0;l<u.length;l++)o=u[l],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function _objectWithoutPropertiesLoose(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey(o.key),o)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper(t,e,n){return e=_getPrototypeOf(e),_possibleConstructorReturn(t,_isNativeReflectConstruct()?Reflect.construct(e,n||[],_getPrototypeOf(t).constructor):e.apply(t,n))}function _possibleConstructorReturn(t,e){if(e&&(_typeof(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct=function(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf(t)}function _inherits(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf(t,e)}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(t,e)}}function _iterableToArray(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(o){_defineProperty(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _defineProperty(t,e,n){return e=_toPropertyKey(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return _typeof(e)=="symbol"?e:e+""}function _toPrimitive(t,e){if(_typeof(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(_typeof(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ORIENT_MAP={xAxis:["bottom","top"],yAxis:["left","right"]},FULL_WIDTH_AND_HEIGHT={width:"100%",height:"100%"},originCoordinate={x:0,y:0};function renderAsIs(t){return t}var calculateTooltipPos=function t(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},getActiveCoordinate=function t(e,n,o,l){var u=n.find(function(m){return m&&m.index===o});if(u){if(e==="horizontal")return{x:u.coordinate,y:l.y};if(e==="vertical")return{x:l.x,y:u.coordinate};if(e==="centric"){var h=u.coordinate,f=l.radius;return _objectSpread(_objectSpread(_objectSpread({},l),polarToCartesian(l.cx,l.cy,f,h)),{},{angle:h,radius:f})}var d=u.coordinate,p=l.angle;return _objectSpread(_objectSpread(_objectSpread({},l),polarToCartesian(l.cx,l.cy,d,p)),{},{angle:p,radius:d})}return originCoordinate},getDisplayedData=function t(e,n){var o=n.graphicalItems,l=n.dataStartIndex,u=n.dataEndIndex,h=(o??[]).reduce(function(f,d){var p=d.props.data;return p&&p.length?[].concat(_toConsumableArray(f),_toConsumableArray(p)):f},[]);return h.length>0?h:e&&e.length&&isNumber(l)&&isNumber(u)?e.slice(l,u+1):[]};function getDefaultDomainByAxisType(t){return t==="number"?[0,"auto"]:void 0}var getTooltipContent=function t(e,n,o,l){var u=e.graphicalItems,h=e.tooltipAxis,f=getDisplayedData(n,e);return o<0||!u||!u.length||o>=f.length?null:u.reduce(function(d,p){var m,v=(m=p.props.data)!==null&&m!==void 0?m:n;v&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=o&&(v=v.slice(e.dataStartIndex,e.dataEndIndex+1));var b;if(h.dataKey&&!h.allowDuplicatedCategory){var S=v===void 0?f:v;b=findEntryInArray(S,h.dataKey,l)}else b=v&&v[o]||f[o];return b?[].concat(_toConsumableArray(d),[getTooltipItem(p,b)]):d},[])},getTooltipData=function t(e,n,o,l){var u=l||{x:e.chartX,y:e.chartY},h=calculateTooltipPos(u,o),f=e.orderedTooltipTicks,d=e.tooltipAxis,p=e.tooltipTicks,m=calculateActiveTickIndex(h,f,p,d);if(m>=0&&p){var v=p[m]&&p[m].value,b=getTooltipContent(e,n,m,v),S=getActiveCoordinate(o,f,m,u);return{activeTooltipIndex:m,activeLabel:v,activePayload:b,activeCoordinate:S}}return null},getAxisMapByAxes=function t(e,n){var o=n.axes,l=n.graphicalItems,u=n.axisType,h=n.axisIdKey,f=n.stackGroups,d=n.dataStartIndex,p=n.dataEndIndex,m=e.layout,v=e.children,b=e.stackOffset,S=isCategoricalAxis(m,u);return o.reduce(function(T,C){var w,R=C.type.defaultProps!==void 0?_objectSpread(_objectSpread({},C.type.defaultProps),C.props):C.props,L=R.type,N=R.dataKey,F=R.allowDataOverflow,B=R.allowDuplicatedCategory,U=R.scale,z=R.ticks,K=R.includeHidden,Q=R[h];if(T[Q])return T;var q=getDisplayedData(e.data,{graphicalItems:l.filter(function(pe){var we,_e=h in pe.props?pe.props[h]:(we=pe.type.defaultProps)===null||we===void 0?void 0:we[h];return _e===Q}),dataStartIndex:d,dataEndIndex:p}),H=q.length,se,le,ne;isDomainSpecifiedByUser(R.domain,F,L)&&(se=parseSpecifiedDomain(R.domain,null,F),S&&(L==="number"||U!=="auto")&&(ne=getDomainOfDataByKey(q,N,"category")));var ce=getDefaultDomainByAxisType(L);if(!se||se.length===0){var fe,ge=(fe=R.domain)!==null&&fe!==void 0?fe:ce;if(N){if(se=getDomainOfDataByKey(q,N,L),L==="category"&&S){var Z=hasDuplicate(se);B&&Z?(le=se,se=range(0,H)):B||(se=parseDomainOfCategoryAxis(ge,se,C).reduce(function(pe,we){return pe.indexOf(we)>=0?pe:[].concat(_toConsumableArray(pe),[we])},[]))}else if(L==="category")B?se=se.filter(function(pe){return pe!==""&&!isNil(pe)}):se=parseDomainOfCategoryAxis(ge,se,C).reduce(function(pe,we){return pe.indexOf(we)>=0||we===""||isNil(we)?pe:[].concat(_toConsumableArray(pe),[we])},[]);else if(L==="number"){var ie=parseErrorBarsOfAxis(q,l.filter(function(pe){var we,_e,Me=h in pe.props?pe.props[h]:(we=pe.type.defaultProps)===null||we===void 0?void 0:we[h],Oe="hide"in pe.props?pe.props.hide:(_e=pe.type.defaultProps)===null||_e===void 0?void 0:_e.hide;return Me===Q&&(K||!Oe)}),N,u,m);ie&&(se=ie)}S&&(L==="number"||U!=="auto")&&(ne=getDomainOfDataByKey(q,N,"category"))}else S?se=range(0,H):f&&f[Q]&&f[Q].hasStack&&L==="number"?se=b==="expand"?[0,1]:getDomainOfStackGroups(f[Q].stackGroups,d,p):se=getDomainOfItemsWithSameAxis(q,l.filter(function(pe){var we=h in pe.props?pe.props[h]:pe.type.defaultProps[h],_e="hide"in pe.props?pe.props.hide:pe.type.defaultProps.hide;return we===Q&&(K||!_e)}),L,m,!0);if(L==="number")se=detectReferenceElementsDomain(v,se,Q,u,z),ge&&(se=parseSpecifiedDomain(ge,se,F));else if(L==="category"&&ge){var oe=ge,ae=se.every(function(pe){return oe.indexOf(pe)>=0});ae&&(se=oe)}}return _objectSpread(_objectSpread({},T),{},_defineProperty({},Q,_objectSpread(_objectSpread({},R),{},{axisType:u,domain:se,categoricalDomain:ne,duplicateDomain:le,originalDomain:(w=R.domain)!==null&&w!==void 0?w:ce,isCategorical:S,layout:m})))},{})},getAxisMapByItems=function t(e,n){var o=n.graphicalItems,l=n.Axis,u=n.axisType,h=n.axisIdKey,f=n.stackGroups,d=n.dataStartIndex,p=n.dataEndIndex,m=e.layout,v=e.children,b=getDisplayedData(e.data,{graphicalItems:o,dataStartIndex:d,dataEndIndex:p}),S=b.length,T=isCategoricalAxis(m,u),C=-1;return o.reduce(function(w,R){var L=R.type.defaultProps!==void 0?_objectSpread(_objectSpread({},R.type.defaultProps),R.props):R.props,N=L[h],F=getDefaultDomainByAxisType("number");if(!w[N]){C++;var B;return T?B=range(0,S):f&&f[N]&&f[N].hasStack?(B=getDomainOfStackGroups(f[N].stackGroups,d,p),B=detectReferenceElementsDomain(v,B,N,u)):(B=parseSpecifiedDomain(F,getDomainOfItemsWithSameAxis(b,o.filter(function(U){var z,K,Q=h in U.props?U.props[h]:(z=U.type.defaultProps)===null||z===void 0?void 0:z[h],q="hide"in U.props?U.props.hide:(K=U.type.defaultProps)===null||K===void 0?void 0:K.hide;return Q===N&&!q}),"number",m),l.defaultProps.allowDataOverflow),B=detectReferenceElementsDomain(v,B,N,u)),_objectSpread(_objectSpread({},w),{},_defineProperty({},N,_objectSpread(_objectSpread({axisType:u},l.defaultProps),{},{hide:!0,orientation:get(ORIENT_MAP,"".concat(u,".").concat(C%2),null),domain:B,originalDomain:F,isCategorical:T,layout:m})))}return w},{})},getAxisMap=function t(e,n){var o=n.axisType,l=o===void 0?"xAxis":o,u=n.AxisComp,h=n.graphicalItems,f=n.stackGroups,d=n.dataStartIndex,p=n.dataEndIndex,m=e.children,v="".concat(l,"Id"),b=findAllByType(m,u),S={};return b&&b.length?S=getAxisMapByAxes(e,{axes:b,graphicalItems:h,axisType:l,axisIdKey:v,stackGroups:f,dataStartIndex:d,dataEndIndex:p}):h&&h.length&&(S=getAxisMapByItems(e,{Axis:u,graphicalItems:h,axisType:l,axisIdKey:v,stackGroups:f,dataStartIndex:d,dataEndIndex:p})),S},tooltipTicksGenerator=function t(e){var n=getAnyElementOfObject(e),o=getTicksOfAxis(n,!1,!0);return{tooltipTicks:o,orderedTooltipTicks:sortBy(o,function(l){return l.coordinate}),tooltipAxis:n,tooltipAxisBandSize:getBandSizeOfAxis(n,o)}},createDefaultState=function t(e){var n=e.children,o=e.defaultShowTooltip,l=findChildByType(n,Brush),u=0,h=0;return e.data&&e.data.length!==0&&(h=e.data.length-1),l&&l.props&&(l.props.startIndex>=0&&(u=l.props.startIndex),l.props.endIndex>=0&&(h=l.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:u,dataEndIndex:h,activeTooltipIndex:-1,isTooltipActive:!!o}},hasGraphicalBarItem=function t(e){return!e||!e.length?!1:e.some(function(n){var o=getDisplayName(n&&n.type);return o&&o.indexOf("Bar")>=0})},getAxisNameByLayout=function t(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},calculateOffset=function t(e,n){var o=e.props,l=e.graphicalItems,u=e.xAxisMap,h=u===void 0?{}:u,f=e.yAxisMap,d=f===void 0?{}:f,p=o.width,m=o.height,v=o.children,b=o.margin||{},S=findChildByType(v,Brush),T=findChildByType(v,Legend),C=Object.keys(d).reduce(function(B,U){var z=d[U],K=z.orientation;return!z.mirror&&!z.hide?_objectSpread(_objectSpread({},B),{},_defineProperty({},K,B[K]+z.width)):B},{left:b.left||0,right:b.right||0}),w=Object.keys(h).reduce(function(B,U){var z=h[U],K=z.orientation;return!z.mirror&&!z.hide?_objectSpread(_objectSpread({},B),{},_defineProperty({},K,get(B,"".concat(K))+z.height)):B},{top:b.top||0,bottom:b.bottom||0}),R=_objectSpread(_objectSpread({},w),C),L=R.bottom;S&&(R.bottom+=S.props.height||Brush.defaultProps.height),T&&n&&(R=appendOffsetOfLegend(R,l,o,n));var N=p-R.left-R.right,F=m-R.top-R.bottom;return _objectSpread(_objectSpread({brushBottom:L},R),{},{width:Math.max(N,0),height:Math.max(F,0)})},getCartesianAxisSize=function t(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},generateCategoricalChart=function t(e){var n=e.chartName,o=e.GraphicalChild,l=e.defaultTooltipEventType,u=l===void 0?"axis":l,h=e.validateTooltipEventTypes,f=h===void 0?["axis"]:h,d=e.axisComponents,p=e.legendContent,m=e.formatAxisMap,v=e.defaultProps,b=function(R,L){var N=L.graphicalItems,F=L.stackGroups,B=L.offset,U=L.updateId,z=L.dataStartIndex,K=L.dataEndIndex,Q=R.barSize,q=R.layout,H=R.barGap,se=R.barCategoryGap,le=R.maxBarSize,ne=getAxisNameByLayout(q),ce=ne.numericAxisName,fe=ne.cateAxisName,ge=hasGraphicalBarItem(N),Z=[];return N.forEach(function(ie,oe){var ae=getDisplayedData(R.data,{graphicalItems:[ie],dataStartIndex:z,dataEndIndex:K}),pe=ie.type.defaultProps!==void 0?_objectSpread(_objectSpread({},ie.type.defaultProps),ie.props):ie.props,we=pe.dataKey,_e=pe.maxBarSize,Me=pe["".concat(ce,"Id")],Oe=pe["".concat(fe,"Id")],Ye={},qe=d.reduce(function(me,he){var Ne=L["".concat(he.axisType,"Map")],Ve=pe["".concat(he.axisType,"Id")];Ne&&Ne[Ve]||he.axisType==="zAxis"||invariant();var tt=Ne[Ve];return _objectSpread(_objectSpread({},me),{},_defineProperty(_defineProperty({},he.axisType,tt),"".concat(he.axisType,"Ticks"),getTicksOfAxis(tt)))},Ye),Re=qe[fe],Je=qe["".concat(fe,"Ticks")],ke=F&&F[Me]&&F[Me].hasStack&&getStackedDataOfItem(ie,F[Me].stackGroups),de=getDisplayName(ie.type).indexOf("Bar")>=0,Be=getBandSizeOfAxis(Re,Je),Pe=[],et=ge&&getBarSizeList({barSize:Q,stackGroups:F,totalSize:getCartesianAxisSize(qe,fe)});if(de){var He,rt,ot=isNil(_e)?le:_e,ht=(He=(rt=getBandSizeOfAxis(Re,Je,!0))!==null&&rt!==void 0?rt:ot)!==null&&He!==void 0?He:0;Pe=getBarPosition({barGap:H,barCategoryGap:se,bandSize:ht!==Be?ht:Be,sizeList:et[Oe],maxBarSize:ot}),ht!==Be&&(Pe=Pe.map(function(me){return _objectSpread(_objectSpread({},me),{},{position:_objectSpread(_objectSpread({},me.position),{},{offset:me.position.offset-ht/2})})}))}var xt=ie&&ie.type&&ie.type.getComposedData;xt&&Z.push({props:_objectSpread(_objectSpread({},xt(_objectSpread(_objectSpread({},qe),{},{displayedData:ae,props:R,dataKey:we,item:ie,bandSize:Be,barPosition:Pe,offset:B,stackedData:ke,layout:q,dataStartIndex:z,dataEndIndex:K}))),{},_defineProperty(_defineProperty(_defineProperty({key:ie.key||"item-".concat(oe)},ce,qe[ce]),fe,qe[fe]),"animationId",U)),childIndex:parseChildIndex(ie,R.children),item:ie})}),Z},S=function(R,L){var N=R.props,F=R.dataStartIndex,B=R.dataEndIndex,U=R.updateId;if(!validateWidthHeight({props:N}))return null;var z=N.children,K=N.layout,Q=N.stackOffset,q=N.data,H=N.reverseStackOrder,se=getAxisNameByLayout(K),le=se.numericAxisName,ne=se.cateAxisName,ce=findAllByType(z,o),fe=getStackGroupsByAxisId(q,ce,"".concat(le,"Id"),"".concat(ne,"Id"),Q,H),ge=d.reduce(function(pe,we){var _e="".concat(we.axisType,"Map");return _objectSpread(_objectSpread({},pe),{},_defineProperty({},_e,getAxisMap(N,_objectSpread(_objectSpread({},we),{},{graphicalItems:ce,stackGroups:we.axisType===le&&fe,dataStartIndex:F,dataEndIndex:B}))))},{}),Z=calculateOffset(_objectSpread(_objectSpread({},ge),{},{props:N,graphicalItems:ce}),L==null?void 0:L.legendBBox);Object.keys(ge).forEach(function(pe){ge[pe]=m(N,ge[pe],Z,pe.replace("Map",""),n)});var ie=ge["".concat(ne,"Map")],oe=tooltipTicksGenerator(ie),ae=b(N,_objectSpread(_objectSpread({},ge),{},{dataStartIndex:F,dataEndIndex:B,updateId:U,graphicalItems:ce,stackGroups:fe,offset:Z}));return _objectSpread(_objectSpread({formattedGraphicalItems:ae,graphicalItems:ce,offset:Z,stackGroups:fe},oe),ge)},T=function(w){function R(L){var N,F,B;return _classCallCheck(this,R),B=_callSuper(this,R,[L]),_defineProperty(B,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),_defineProperty(B,"accessibilityManager",new AccessibilityManager),_defineProperty(B,"handleLegendBBoxUpdate",function(U){if(U){var z=B.state,K=z.dataStartIndex,Q=z.dataEndIndex,q=z.updateId;B.setState(_objectSpread({legendBBox:U},S({props:B.props,dataStartIndex:K,dataEndIndex:Q,updateId:q},_objectSpread(_objectSpread({},B.state),{},{legendBBox:U}))))}}),_defineProperty(B,"handleReceiveSyncEvent",function(U,z,K){if(B.props.syncId===U){if(K===B.eventEmitterSymbol&&typeof B.props.syncMethod!="function")return;B.applySyncEvent(z)}}),_defineProperty(B,"handleBrushChange",function(U){var z=U.startIndex,K=U.endIndex;if(z!==B.state.dataStartIndex||K!==B.state.dataEndIndex){var Q=B.state.updateId;B.setState(function(){return _objectSpread({dataStartIndex:z,dataEndIndex:K},S({props:B.props,dataStartIndex:z,dataEndIndex:K,updateId:Q},B.state))}),B.triggerSyncEvent({dataStartIndex:z,dataEndIndex:K})}}),_defineProperty(B,"handleMouseEnter",function(U){var z=B.getMouseInfo(U);if(z){var K=_objectSpread(_objectSpread({},z),{},{isTooltipActive:!0});B.setState(K),B.triggerSyncEvent(K);var Q=B.props.onMouseEnter;isFunction(Q)&&Q(K,U)}}),_defineProperty(B,"triggeredAfterMouseMove",function(U){var z=B.getMouseInfo(U),K=z?_objectSpread(_objectSpread({},z),{},{isTooltipActive:!0}):{isTooltipActive:!1};B.setState(K),B.triggerSyncEvent(K);var Q=B.props.onMouseMove;isFunction(Q)&&Q(K,U)}),_defineProperty(B,"handleItemMouseEnter",function(U){B.setState(function(){return{isTooltipActive:!0,activeItem:U,activePayload:U.tooltipPayload,activeCoordinate:U.tooltipPosition||{x:U.cx,y:U.cy}}})}),_defineProperty(B,"handleItemMouseLeave",function(){B.setState(function(){return{isTooltipActive:!1}})}),_defineProperty(B,"handleMouseMove",function(U){U.persist(),B.throttleTriggeredAfterMouseMove(U)}),_defineProperty(B,"handleMouseLeave",function(U){B.throttleTriggeredAfterMouseMove.cancel();var z={isTooltipActive:!1};B.setState(z),B.triggerSyncEvent(z);var K=B.props.onMouseLeave;isFunction(K)&&K(z,U)}),_defineProperty(B,"handleOuterEvent",function(U){var z=getReactEventByType(U),K=get(B.props,"".concat(z));if(z&&isFunction(K)){var Q,q;/.*touch.*/i.test(z)?q=B.getMouseInfo(U.changedTouches[0]):q=B.getMouseInfo(U),K((Q=q)!==null&&Q!==void 0?Q:{},U)}}),_defineProperty(B,"handleClick",function(U){var z=B.getMouseInfo(U);if(z){var K=_objectSpread(_objectSpread({},z),{},{isTooltipActive:!0});B.setState(K),B.triggerSyncEvent(K);var Q=B.props.onClick;isFunction(Q)&&Q(K,U)}}),_defineProperty(B,"handleMouseDown",function(U){var z=B.props.onMouseDown;if(isFunction(z)){var K=B.getMouseInfo(U);z(K,U)}}),_defineProperty(B,"handleMouseUp",function(U){var z=B.props.onMouseUp;if(isFunction(z)){var K=B.getMouseInfo(U);z(K,U)}}),_defineProperty(B,"handleTouchMove",function(U){U.changedTouches!=null&&U.changedTouches.length>0&&B.throttleTriggeredAfterMouseMove(U.changedTouches[0])}),_defineProperty(B,"handleTouchStart",function(U){U.changedTouches!=null&&U.changedTouches.length>0&&B.handleMouseDown(U.changedTouches[0])}),_defineProperty(B,"handleTouchEnd",function(U){U.changedTouches!=null&&U.changedTouches.length>0&&B.handleMouseUp(U.changedTouches[0])}),_defineProperty(B,"handleDoubleClick",function(U){var z=B.props.onDoubleClick;if(isFunction(z)){var K=B.getMouseInfo(U);z(K,U)}}),_defineProperty(B,"handleContextMenu",function(U){var z=B.props.onContextMenu;if(isFunction(z)){var K=B.getMouseInfo(U);z(K,U)}}),_defineProperty(B,"triggerSyncEvent",function(U){B.props.syncId!==void 0&&eventCenter.emit(SYNC_EVENT,B.props.syncId,U,B.eventEmitterSymbol)}),_defineProperty(B,"applySyncEvent",function(U){var z=B.props,K=z.layout,Q=z.syncMethod,q=B.state.updateId,H=U.dataStartIndex,se=U.dataEndIndex;if(U.dataStartIndex!==void 0||U.dataEndIndex!==void 0)B.setState(_objectSpread({dataStartIndex:H,dataEndIndex:se},S({props:B.props,dataStartIndex:H,dataEndIndex:se,updateId:q},B.state)));else if(U.activeTooltipIndex!==void 0){var le=U.chartX,ne=U.chartY,ce=U.activeTooltipIndex,fe=B.state,ge=fe.offset,Z=fe.tooltipTicks;if(!ge)return;if(typeof Q=="function")ce=Q(Z,U);else if(Q==="value"){ce=-1;for(var ie=0;ie<Z.length;ie++)if(Z[ie].value===U.activeLabel){ce=ie;break}}var oe=_objectSpread(_objectSpread({},ge),{},{x:ge.left,y:ge.top}),ae=Math.min(le,oe.x+oe.width),pe=Math.min(ne,oe.y+oe.height),we=Z[ce]&&Z[ce].value,_e=getTooltipContent(B.state,B.props.data,ce),Me=Z[ce]?{x:K==="horizontal"?Z[ce].coordinate:ae,y:K==="horizontal"?pe:Z[ce].coordinate}:originCoordinate;B.setState(_objectSpread(_objectSpread({},U),{},{activeLabel:we,activeCoordinate:Me,activePayload:_e,activeTooltipIndex:ce}))}else B.setState(U)}),_defineProperty(B,"renderCursor",function(U){var z,K=B.state,Q=K.isTooltipActive,q=K.activeCoordinate,H=K.activePayload,se=K.offset,le=K.activeTooltipIndex,ne=K.tooltipAxisBandSize,ce=B.getTooltipEventType(),fe=(z=U.props.active)!==null&&z!==void 0?z:Q,ge=B.props.layout,Z=U.key||"_recharts-cursor";return React.createElement(Cursor,{key:Z,activeCoordinate:q,activePayload:H,activeTooltipIndex:le,chartName:n,element:U,isActive:fe,layout:ge,offset:se,tooltipAxisBandSize:ne,tooltipEventType:ce})}),_defineProperty(B,"renderPolarAxis",function(U,z,K){var Q=get(U,"type.axisType"),q=get(B.state,"".concat(Q,"Map")),H=U.type.defaultProps,se=H!==void 0?_objectSpread(_objectSpread({},H),U.props):U.props,le=q&&q[se["".concat(Q,"Id")]];return reactExports.cloneElement(U,_objectSpread(_objectSpread({},le),{},{className:clsx(Q,le.className),key:U.key||"".concat(z,"-").concat(K),ticks:getTicksOfAxis(le,!0)}))}),_defineProperty(B,"renderPolarGrid",function(U){var z=U.props,K=z.radialLines,Q=z.polarAngles,q=z.polarRadius,H=B.state,se=H.radiusAxisMap,le=H.angleAxisMap,ne=getAnyElementOfObject(se),ce=getAnyElementOfObject(le),fe=ce.cx,ge=ce.cy,Z=ce.innerRadius,ie=ce.outerRadius;return reactExports.cloneElement(U,{polarAngles:Array.isArray(Q)?Q:getTicksOfAxis(ce,!0).map(function(oe){return oe.coordinate}),polarRadius:Array.isArray(q)?q:getTicksOfAxis(ne,!0).map(function(oe){return oe.coordinate}),cx:fe,cy:ge,innerRadius:Z,outerRadius:ie,key:U.key||"polar-grid",radialLines:K})}),_defineProperty(B,"renderLegend",function(){var U=B.state.formattedGraphicalItems,z=B.props,K=z.children,Q=z.width,q=z.height,H=B.props.margin||{},se=Q-(H.left||0)-(H.right||0),le=getLegendProps({children:K,formattedGraphicalItems:U,legendWidth:se,legendContent:p});if(!le)return null;var ne=le.item,ce=_objectWithoutProperties(le,_excluded);return reactExports.cloneElement(ne,_objectSpread(_objectSpread({},ce),{},{chartWidth:Q,chartHeight:q,margin:H,onBBoxUpdate:B.handleLegendBBoxUpdate}))}),_defineProperty(B,"renderTooltip",function(){var U,z=B.props,K=z.children,Q=z.accessibilityLayer,q=findChildByType(K,Tooltip);if(!q)return null;var H=B.state,se=H.isTooltipActive,le=H.activeCoordinate,ne=H.activePayload,ce=H.activeLabel,fe=H.offset,ge=(U=q.props.active)!==null&&U!==void 0?U:se;return reactExports.cloneElement(q,{viewBox:_objectSpread(_objectSpread({},fe),{},{x:fe.left,y:fe.top}),active:ge,label:ce,payload:ge?ne:[],coordinate:le,accessibilityLayer:Q})}),_defineProperty(B,"renderBrush",function(U){var z=B.props,K=z.margin,Q=z.data,q=B.state,H=q.offset,se=q.dataStartIndex,le=q.dataEndIndex,ne=q.updateId;return reactExports.cloneElement(U,{key:U.key||"_recharts-brush",onChange:combineEventHandlers(B.handleBrushChange,U.props.onChange),data:Q,x:isNumber(U.props.x)?U.props.x:H.left,y:isNumber(U.props.y)?U.props.y:H.top+H.height+H.brushBottom-(K.bottom||0),width:isNumber(U.props.width)?U.props.width:H.width,startIndex:se,endIndex:le,updateId:"brush-".concat(ne)})}),_defineProperty(B,"renderReferenceElement",function(U,z,K){if(!U)return null;var Q=B,q=Q.clipPathId,H=B.state,se=H.xAxisMap,le=H.yAxisMap,ne=H.offset,ce=U.type.defaultProps||{},fe=U.props,ge=fe.xAxisId,Z=ge===void 0?ce.xAxisId:ge,ie=fe.yAxisId,oe=ie===void 0?ce.yAxisId:ie;return reactExports.cloneElement(U,{key:U.key||"".concat(z,"-").concat(K),xAxis:se[Z],yAxis:le[oe],viewBox:{x:ne.left,y:ne.top,width:ne.width,height:ne.height},clipPathId:q})}),_defineProperty(B,"renderActivePoints",function(U){var z=U.item,K=U.activePoint,Q=U.basePoint,q=U.childIndex,H=U.isRange,se=[],le=z.props.key,ne=z.item.type.defaultProps!==void 0?_objectSpread(_objectSpread({},z.item.type.defaultProps),z.item.props):z.item.props,ce=ne.activeDot,fe=ne.dataKey,ge=_objectSpread(_objectSpread({index:q,dataKey:fe,cx:K.x,cy:K.y,r:4,fill:getMainColorOfGraphicItem(z.item),strokeWidth:2,stroke:"#fff",payload:K.payload,value:K.value},filterProps(ce,!1)),adaptEventHandlers(ce));return se.push(R.renderActiveDot(ce,ge,"".concat(le,"-activePoint-").concat(q))),Q?se.push(R.renderActiveDot(ce,_objectSpread(_objectSpread({},ge),{},{cx:Q.x,cy:Q.y}),"".concat(le,"-basePoint-").concat(q))):H&&se.push(null),se}),_defineProperty(B,"renderGraphicChild",function(U,z,K){var Q=B.filterFormatItem(U,z,K);if(!Q)return null;var q=B.getTooltipEventType(),H=B.state,se=H.isTooltipActive,le=H.tooltipAxis,ne=H.activeTooltipIndex,ce=H.activeLabel,fe=B.props.children,ge=findChildByType(fe,Tooltip),Z=Q.props,ie=Z.points,oe=Z.isRange,ae=Z.baseLine,pe=Q.item.type.defaultProps!==void 0?_objectSpread(_objectSpread({},Q.item.type.defaultProps),Q.item.props):Q.item.props,we=pe.activeDot,_e=pe.hide,Me=pe.activeBar,Oe=pe.activeShape,Ye=!!(!_e&&se&&ge&&(we||Me||Oe)),qe={};q!=="axis"&&ge&&ge.props.trigger==="click"?qe={onClick:combineEventHandlers(B.handleItemMouseEnter,U.props.onClick)}:q!=="axis"&&(qe={onMouseLeave:combineEventHandlers(B.handleItemMouseLeave,U.props.onMouseLeave),onMouseEnter:combineEventHandlers(B.handleItemMouseEnter,U.props.onMouseEnter)});var Re=reactExports.cloneElement(U,_objectSpread(_objectSpread({},Q.props),qe));function Je(he){return typeof le.dataKey=="function"?le.dataKey(he.payload):null}if(Ye)if(ne>=0){var ke,de;if(le.dataKey&&!le.allowDuplicatedCategory){var Be=typeof le.dataKey=="function"?Je:"payload.".concat(le.dataKey.toString());ke=findEntryInArray(ie,Be,ce),de=oe&&ae&&findEntryInArray(ae,Be,ce)}else ke=ie==null?void 0:ie[ne],de=oe&&ae&&ae[ne];if(Oe||Me){var Pe=U.props.activeIndex!==void 0?U.props.activeIndex:ne;return[reactExports.cloneElement(U,_objectSpread(_objectSpread(_objectSpread({},Q.props),qe),{},{activeIndex:Pe})),null,null]}if(!isNil(ke))return[Re].concat(_toConsumableArray(B.renderActivePoints({item:Q,activePoint:ke,basePoint:de,childIndex:ne,isRange:oe})))}else{var et,He=(et=B.getItemByXY(B.state.activeCoordinate))!==null&&et!==void 0?et:{graphicalItem:Re},rt=He.graphicalItem,ot=rt.item,ht=ot===void 0?U:ot,xt=rt.childIndex,me=_objectSpread(_objectSpread(_objectSpread({},Q.props),qe),{},{activeIndex:xt});return[reactExports.cloneElement(ht,me),null,null]}return oe?[Re,null,null]:[Re,null]}),_defineProperty(B,"renderCustomized",function(U,z,K){return reactExports.cloneElement(U,_objectSpread(_objectSpread({key:"recharts-customized-".concat(K)},B.props),B.state))}),_defineProperty(B,"renderMap",{CartesianGrid:{handler:renderAsIs,once:!0},ReferenceArea:{handler:B.renderReferenceElement},ReferenceLine:{handler:renderAsIs},ReferenceDot:{handler:B.renderReferenceElement},XAxis:{handler:renderAsIs},YAxis:{handler:renderAsIs},Brush:{handler:B.renderBrush,once:!0},Bar:{handler:B.renderGraphicChild},Line:{handler:B.renderGraphicChild},Area:{handler:B.renderGraphicChild},Radar:{handler:B.renderGraphicChild},RadialBar:{handler:B.renderGraphicChild},Scatter:{handler:B.renderGraphicChild},Pie:{handler:B.renderGraphicChild},Funnel:{handler:B.renderGraphicChild},Tooltip:{handler:B.renderCursor,once:!0},PolarGrid:{handler:B.renderPolarGrid,once:!0},PolarAngleAxis:{handler:B.renderPolarAxis},PolarRadiusAxis:{handler:B.renderPolarAxis},Customized:{handler:B.renderCustomized}}),B.clipPathId="".concat((N=L.id)!==null&&N!==void 0?N:uniqueId("recharts"),"-clip"),B.throttleTriggeredAfterMouseMove=throttle(B.triggeredAfterMouseMove,(F=L.throttleDelay)!==null&&F!==void 0?F:1e3/60),B.state={},B}return _inherits(R,w),_createClass(R,[{key:"componentDidMount",value:function(){var N,F;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(F=this.props.margin.top)!==null&&F!==void 0?F:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var N=this.props,F=N.children,B=N.data,U=N.height,z=N.layout,K=findChildByType(F,Tooltip);if(K){var Q=K.props.defaultIndex;if(!(typeof Q!="number"||Q<0||Q>this.state.tooltipTicks.length-1)){var q=this.state.tooltipTicks[Q]&&this.state.tooltipTicks[Q].value,H=getTooltipContent(this.state,B,Q,q),se=this.state.tooltipTicks[Q].coordinate,le=(this.state.offset.top+U)/2,ne=z==="horizontal",ce=ne?{x:se,y:le}:{y:se,x:le},fe=this.state.formattedGraphicalItems.find(function(Z){var ie=Z.item;return ie.type.name==="Scatter"});fe&&(ce=_objectSpread(_objectSpread({},ce),fe.props.points[Q].tooltipPosition),H=fe.props.points[Q].tooltipPayload);var ge={activeTooltipIndex:Q,isTooltipActive:!0,activeLabel:q,activePayload:H,activeCoordinate:ce};this.setState(ge),this.renderCursor(K),this.accessibilityManager.setIndex(Q)}}}},{key:"getSnapshotBeforeUpdate",value:function(N,F){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==F.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==N.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==N.margin){var B,U;this.accessibilityManager.setDetails({offset:{left:(B=this.props.margin.left)!==null&&B!==void 0?B:0,top:(U=this.props.margin.top)!==null&&U!==void 0?U:0}})}return null}},{key:"componentDidUpdate",value:function(N){isChildrenEqual([findChildByType(N.children,Tooltip)],[findChildByType(this.props.children,Tooltip)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var N=findChildByType(this.props.children,Tooltip);if(N&&typeof N.props.shared=="boolean"){var F=N.props.shared?"axis":"item";return f.indexOf(F)>=0?F:u}return u}},{key:"getMouseInfo",value:function(N){if(!this.container)return null;var F=this.container,B=F.getBoundingClientRect(),U=getOffset(B),z={chartX:Math.round(N.pageX-U.left),chartY:Math.round(N.pageY-U.top)},K=B.width/F.offsetWidth||1,Q=this.inRange(z.chartX,z.chartY,K);if(!Q)return null;var q=this.state,H=q.xAxisMap,se=q.yAxisMap,le=this.getTooltipEventType(),ne=getTooltipData(this.state,this.props.data,this.props.layout,Q);if(le!=="axis"&&H&&se){var ce=getAnyElementOfObject(H).scale,fe=getAnyElementOfObject(se).scale,ge=ce&&ce.invert?ce.invert(z.chartX):null,Z=fe&&fe.invert?fe.invert(z.chartY):null;return _objectSpread(_objectSpread({},z),{},{xValue:ge,yValue:Z},ne)}return ne?_objectSpread(_objectSpread({},z),ne):null}},{key:"inRange",value:function(N,F){var B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,U=this.props.layout,z=N/B,K=F/B;if(U==="horizontal"||U==="vertical"){var Q=this.state.offset,q=z>=Q.left&&z<=Q.left+Q.width&&K>=Q.top&&K<=Q.top+Q.height;return q?{x:z,y:K}:null}var H=this.state,se=H.angleAxisMap,le=H.radiusAxisMap;if(se&&le){var ne=getAnyElementOfObject(se);return inRangeOfSector({x:z,y:K},ne)}return null}},{key:"parseEventsOfWrapper",value:function(){var N=this.props.children,F=this.getTooltipEventType(),B=findChildByType(N,Tooltip),U={};B&&F==="axis"&&(B.props.trigger==="click"?U={onClick:this.handleClick}:U={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var z=adaptEventHandlers(this.props,this.handleOuterEvent);return _objectSpread(_objectSpread({},z),U)}},{key:"addListener",value:function(){eventCenter.on(SYNC_EVENT,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){eventCenter.removeListener(SYNC_EVENT,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(N,F,B){for(var U=this.state.formattedGraphicalItems,z=0,K=U.length;z<K;z++){var Q=U[z];if(Q.item===N||Q.props.key===N.key||F===getDisplayName(Q.item.type)&&B===Q.childIndex)return Q}return null}},{key:"renderClipPath",value:function(){var N=this.clipPathId,F=this.state.offset,B=F.left,U=F.top,z=F.height,K=F.width;return React.createElement("defs",null,React.createElement("clipPath",{id:N},React.createElement("rect",{x:B,y:U,height:z,width:K})))}},{key:"getXScales",value:function(){var N=this.state.xAxisMap;return N?Object.entries(N).reduce(function(F,B){var U=_slicedToArray(B,2),z=U[0],K=U[1];return _objectSpread(_objectSpread({},F),{},_defineProperty({},z,K.scale))},{}):null}},{key:"getYScales",value:function(){var N=this.state.yAxisMap;return N?Object.entries(N).reduce(function(F,B){var U=_slicedToArray(B,2),z=U[0],K=U[1];return _objectSpread(_objectSpread({},F),{},_defineProperty({},z,K.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(N){var F;return(F=this.state.xAxisMap)===null||F===void 0||(F=F[N])===null||F===void 0?void 0:F.scale}},{key:"getYScaleByAxisId",value:function(N){var F;return(F=this.state.yAxisMap)===null||F===void 0||(F=F[N])===null||F===void 0?void 0:F.scale}},{key:"getItemByXY",value:function(N){var F=this.state,B=F.formattedGraphicalItems,U=F.activeItem;if(B&&B.length)for(var z=0,K=B.length;z<K;z++){var Q=B[z],q=Q.props,H=Q.item,se=H.type.defaultProps!==void 0?_objectSpread(_objectSpread({},H.type.defaultProps),H.props):H.props,le=getDisplayName(H.type);if(le==="Bar"){var ne=(q.data||[]).find(function(Z){return isInRectangle(N,Z)});if(ne)return{graphicalItem:Q,payload:ne}}else if(le==="RadialBar"){var ce=(q.data||[]).find(function(Z){return inRangeOfSector(N,Z)});if(ce)return{graphicalItem:Q,payload:ce}}else if(isFunnel(Q,U)||isPie(Q,U)||isScatter(Q,U)){var fe=getActiveShapeIndexForTooltip({graphicalItem:Q,activeTooltipItem:U,itemData:se.data}),ge=se.activeIndex===void 0?fe:se.activeIndex;return{graphicalItem:_objectSpread(_objectSpread({},Q),{},{childIndex:ge}),payload:isScatter(Q,U)?se.data[fe]:Q.props.data[fe]}}}return null}},{key:"render",value:function(){var N=this;if(!validateWidthHeight(this))return null;var F=this.props,B=F.children,U=F.className,z=F.width,K=F.height,Q=F.style,q=F.compact,H=F.title,se=F.desc,le=_objectWithoutProperties(F,_excluded2),ne=filterProps(le,!1);if(q)return React.createElement(ChartLayoutContextProvider,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},React.createElement(Surface,_extends({},ne,{width:z,height:K,title:H,desc:se}),this.renderClipPath(),renderByOrder(B,this.renderMap)));if(this.props.accessibilityLayer){var ce,fe;ne.tabIndex=(ce=this.props.tabIndex)!==null&&ce!==void 0?ce:0,ne.role=(fe=this.props.role)!==null&&fe!==void 0?fe:"application",ne.onKeyDown=function(Z){N.accessibilityManager.keyboardEvent(Z)},ne.onFocus=function(){N.accessibilityManager.focus()}}var ge=this.parseEventsOfWrapper();return React.createElement(ChartLayoutContextProvider,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},React.createElement("div",_extends({className:clsx("recharts-wrapper",U),style:_objectSpread({position:"relative",cursor:"default",width:z,height:K},Q)},ge,{ref:function(ie){N.container=ie}}),React.createElement(Surface,_extends({},ne,{width:z,height:K,title:H,desc:se,style:FULL_WIDTH_AND_HEIGHT}),this.renderClipPath(),renderByOrder(B,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(reactExports.Component);_defineProperty(T,"displayName",n),_defineProperty(T,"defaultProps",_objectSpread({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},v)),_defineProperty(T,"getDerivedStateFromProps",function(w,R){var L=w.dataKey,N=w.data,F=w.children,B=w.width,U=w.height,z=w.layout,K=w.stackOffset,Q=w.margin,q=R.dataStartIndex,H=R.dataEndIndex;if(R.updateId===void 0){var se=createDefaultState(w);return _objectSpread(_objectSpread(_objectSpread({},se),{},{updateId:0},S(_objectSpread(_objectSpread({props:w},se),{},{updateId:0}),R)),{},{prevDataKey:L,prevData:N,prevWidth:B,prevHeight:U,prevLayout:z,prevStackOffset:K,prevMargin:Q,prevChildren:F})}if(L!==R.prevDataKey||N!==R.prevData||B!==R.prevWidth||U!==R.prevHeight||z!==R.prevLayout||K!==R.prevStackOffset||!shallowEqual(Q,R.prevMargin)){var le=createDefaultState(w),ne={chartX:R.chartX,chartY:R.chartY,isTooltipActive:R.isTooltipActive},ce=_objectSpread(_objectSpread({},getTooltipData(R,N,z)),{},{updateId:R.updateId+1}),fe=_objectSpread(_objectSpread(_objectSpread({},le),ne),ce);return _objectSpread(_objectSpread(_objectSpread({},fe),S(_objectSpread({props:w},fe),R)),{},{prevDataKey:L,prevData:N,prevWidth:B,prevHeight:U,prevLayout:z,prevStackOffset:K,prevMargin:Q,prevChildren:F})}if(!isChildrenEqual(F,R.prevChildren)){var ge,Z,ie,oe,ae=findChildByType(F,Brush),pe=ae&&(ge=(Z=ae.props)===null||Z===void 0?void 0:Z.startIndex)!==null&&ge!==void 0?ge:q,we=ae&&(ie=(oe=ae.props)===null||oe===void 0?void 0:oe.endIndex)!==null&&ie!==void 0?ie:H,_e=pe!==q||we!==H,Me=!isNil(N),Oe=Me&&!_e?R.updateId:R.updateId+1;return _objectSpread(_objectSpread({updateId:Oe},S(_objectSpread(_objectSpread({props:w},R),{},{updateId:Oe,dataStartIndex:pe,dataEndIndex:we}),R)),{},{prevChildren:F,dataStartIndex:pe,dataEndIndex:we})}return null}),_defineProperty(T,"renderActiveDot",function(w,R,L){var N;return reactExports.isValidElement(w)?N=reactExports.cloneElement(w,R):isFunction(w)?N=w(R):N=React.createElement(Dot,R),React.createElement(Layer,{className:"recharts-active-dot",key:L},N)});var C=reactExports.forwardRef(function(R,L){return React.createElement(T,_extends({},R,{ref:L}))});return C.displayName=T.displayName,C},BarChart=generateCategoricalChart({chartName:"BarChart",GraphicalChild:Bar,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:XAxis},{axisType:"yAxis",AxisComp:YAxis}],formatAxisMap});const WaterAccessChart=()=>{const{regions:t,seasonType:e}=useAppContext(),n=[{name:"Ótimo",range:"80-100%",count:0},{name:"Bom",range:"60-80%",count:0},{name:"Moderado",range:"40-60%",count:0},{name:"Deficiente",range:"20-40%",count:0},{name:"Crítico",range:"0-20%",count:0}];return t.forEach(o=>{const l=o[e].waterAccessLevel;l>=80?n[0].count++:l>=60?n[1].count++:l>=40?n[2].count++:l>=20?n[3].count++:n[4].count++}),jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:180,children:jsxRuntimeExports.jsxs(BarChart,{data:n,margin:{top:5,right:5,left:-20,bottom:5},children:[jsxRuntimeExports.jsx(XAxis,{dataKey:"name",tick:{fontSize:10},axisLine:{stroke:"#e5e7eb"},tickLine:!1}),jsxRuntimeExports.jsx(YAxis,{tick:{fontSize:10},axisLine:{stroke:"#e5e7eb"},tickLine:!1}),jsxRuntimeExports.jsx(Tooltip,{formatter:o=>[`${o} regiões`,"Quantidade"],labelFormatter:(o,l)=>{var h;const u=(h=l[0])==null?void 0:h.payload;return`${o} (${u==null?void 0:u.range})`}}),jsxRuntimeExports.jsx(Bar,{dataKey:"count",fill:"#3b82f6",radius:[4,4,0,0]})]})})},InfoPanel=()=>{const{regions:t,seasonType:e}=useAppContext(),n=t.reduce((u,h)=>u+h[e].waterAccessLevel,0)/t.length,l=t.filter(u=>u[e].waterAccessLevel<40).length/t.length*100;return jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Visão Geral"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[jsxRuntimeExports.jsx(Droplets,{className:"h-6 w-6 text-blue-500 mb-2"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:"Acesso Hídrico Médio"}),jsxRuntimeExports.jsxs("p",{className:"text-xl font-semibold text-gray-800",children:[n.toFixed(1),"%"]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[jsxRuntimeExports.jsx(AlertTriangle,{className:"h-6 w-6 text-orange-500 mb-2"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:"Regiões com Déficit"}),jsxRuntimeExports.jsxs("p",{className:"text-xl font-semibold text-gray-800",children:[l.toFixed(0),"%"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-3",children:[jsxRuntimeExports.jsx(AreaChart,{className:"h-5 w-5 text-gray-500 mr-2"}),jsxRuntimeExports.jsx("h3",{className:"text-md font-medium text-gray-700",children:"Distribuição de Acesso Hídrico"})]}),jsxRuntimeExports.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:jsxRuntimeExports.jsx(WaterAccessChart,{})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-3",children:[jsxRuntimeExports.jsx(Info,{className:"h-5 w-5 text-gray-500 mr-2"}),jsxRuntimeExports.jsx("h3",{className:"text-md font-medium text-gray-700",children:"Informações"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 text-sm text-gray-600 space-y-2",children:[jsxRuntimeExports.jsx("p",{children:"O mapa mostra a análise de acesso hídrico para plantação de algodão. As regiões são coloridas de acordo com o nível de acesso à água."}),jsxRuntimeExports.jsx("p",{children:"Selecione uma região no mapa para ver detalhes específicos e recomendações de como melhorar o acesso hídrico em áreas com déficit."}),jsxRuntimeExports.jsx("p",{children:"Use o controle de temporada para alternar entre estação seca e chuvosa e ver como o acesso hídrico varia durante o ano."})]})]})]})},SolutionRecommendations=({waterAccessLevel:t})=>{const n=t<20?[{title:"Sistema de Irrigação por Gotejamento",description:"Implementação de sistema de irrigação por gotejamento para maximizar a eficiência do uso da água.",impact:"high"},{title:"Captação de Água da Chuva",description:"Criação de reservatórios para captação e armazenamento de água da chuva para uso durante períodos de seca.",impact:"high"},{title:"Barreiras Contra Vento",description:"Instalação de barreiras físicas para reduzir a evaporação causada por ventos fortes.",impact:"medium"},{title:"Variedades de Algodão Resistentes à Seca",description:"Utilização de variedades de algodão geneticamente adaptadas para resistir a condições de baixa disponibilidade de água.",impact:"high"}]:t<40?[{title:"Irrigação Eficiente",description:"Implementação de sistema de irrigação por aspersão com controle de fluxo para reduzir o consumo de água.",impact:"high"},{title:"Cobertura do Solo",description:"Uso de cobertura vegetal ou mulch para reduzir a evaporação e manter a umidade do solo.",impact:"medium"},{title:"Monitoramento de Umidade do Solo",description:"Instalação de sensores de umidade para monitoramento em tempo real e otimização da irrigação.",impact:"medium"},{title:"Plantio em Curvas de Nível",description:"Técnica de plantio seguindo as curvas de nível do terreno para melhor retenção de água no solo.",impact:"medium"}]:[{title:"Otimização de Horários de Irrigação",description:"Ajuste dos horários de irrigação para períodos de menor evaporação (início da manhã ou final da tarde).",impact:"medium"},{title:"Manejo Integrado de Pragas",description:"Implementação de estratégias de controle biológico para reduzir o estresse das plantas e melhorar o uso da água.",impact:"low"},{title:"Rotação de Culturas",description:"Inclusão de culturas que melhoram a estrutura do solo e sua capacidade de retenção de água.",impact:"medium"}];return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-3",children:[jsxRuntimeExports.jsx(Lightbulb,{className:"h-5 w-5 text-yellow-500 mr-2"}),jsxRuntimeExports.jsx("h3",{className:"text-md font-medium text-gray-700",children:"Recomendações para Melhorar o Acesso Hídrico"})]}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:n.map((o,l)=>jsxRuntimeExports.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center p-3 cursor-pointer hover:bg-gray-50",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:`h-8 w-8 rounded-full flex items-center justify-center mr-3 
                  ${o.impact==="high"?"bg-green-100 text-green-600":o.impact==="medium"?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600"}`,children:jsxRuntimeExports.jsx(Check,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("h4",{className:"font-medium text-gray-800",children:o.title})]}),jsxRuntimeExports.jsx(ChevronRight,{className:"h-5 w-5 text-gray-400"})]}),jsxRuntimeExports.jsxs("div",{className:"px-4 pb-3 text-sm text-gray-600",children:[jsxRuntimeExports.jsx("p",{children:o.description}),jsxRuntimeExports.jsxs("div",{className:"mt-2 flex items-center",children:[jsxRuntimeExports.jsx("span",{className:"text-xs font-medium mr-1",children:"Impacto:"}),jsxRuntimeExports.jsx("span",{className:`text-xs font-bold ${o.impact==="high"?"text-green-600":o.impact==="medium"?"text-blue-600":"text-gray-600"}`,children:o.impact==="high"?"Alto":o.impact==="medium"?"Médio":"Baixo"})]})]})]},l))})]})},RegionDetail=({region:t})=>{const{name:e,currentData:n}=t,{waterAccessLevel:o,precipitation:l,temperature:u,soilMoisture:h}=n,f=p=>p>=80?"Ótimo":p>=60?"Bom":p>=40?"Moderado":p>=20?"Deficiente":"Crítico",d=p=>p>=80?"text-green-600":p>=60?"text-blue-600":p>=40?"text-yellow-600":p>=20?"text-orange-600":"text-red-600";return jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>window.history.back(),className:"p-1 rounded-full hover:bg-gray-100 mr-2",children:jsxRuntimeExports.jsx(ChevronLeft,{className:"h-5 w-5 text-gray-500"})}),jsxRuntimeExports.jsxs("h2",{className:"text-xl font-semibold text-gray-800",children:["Região ",e]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(Droplets,{className:"h-6 w-6 text-blue-500 mr-2"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-600",children:"Acesso Hídrico"})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center",children:jsxRuntimeExports.jsxs("span",{className:`text-xl font-bold ${d(o)}`,children:[o,"%"]})})]}),jsxRuntimeExports.jsxs("div",{className:"mt-2",children:[jsxRuntimeExports.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:jsxRuntimeExports.jsx("div",{className:"h-2.5 rounded-full",style:{width:`${o}%`,backgroundColor:o>=80?"#22c55e":o>=60?"#3b82f6":o>=40?"#eab308":o>=20?"#f97316":"#ef4444"}})}),jsxRuntimeExports.jsxs("p",{className:"text-sm mt-1 text-gray-600",children:["Classificação: ",jsxRuntimeExports.jsx("span",{className:`font-medium ${d(o)}`,children:f(o)})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white border border-gray-200 p-3 rounded-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-2",children:[jsxRuntimeExports.jsx(CloudRain,{className:"h-5 w-5 text-blue-500 mr-1"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Precipitação"})]}),jsxRuntimeExports.jsxs("p",{className:"text-lg font-medium",children:[l," mm"]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white border border-gray-200 p-3 rounded-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-2",children:[jsxRuntimeExports.jsx(Thermometer,{className:"h-5 w-5 text-orange-500 mr-1"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Temperatura"})]}),jsxRuntimeExports.jsxs("p",{className:"text-lg font-medium",children:[u,"°C"]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white border border-gray-200 p-3 rounded-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-2",children:[jsxRuntimeExports.jsx(Wind,{className:"h-5 w-5 text-teal-500 mr-1"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Umidade do Solo"})]}),jsxRuntimeExports.jsxs("p",{className:"text-lg font-medium",children:[h,"%"]})]}),jsxRuntimeExports.jsx("div",{className:"bg-white border border-gray-200 p-3 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsxs("button",{className:"text-blue-600 text-sm font-medium flex items-center",children:["Ver dados históricos",jsxRuntimeExports.jsx(ArrowUpRight,{className:"h-4 w-4 ml-1"})]})})]}),o<60&&jsxRuntimeExports.jsx(SolutionRecommendations,{waterAccessLevel:o})]})};function MapaDinamico(){const[t,e]=React.useState(null);return jsxRuntimeExports.jsx(AppProvider,{children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-screen bg-gray-50",children:[jsxRuntimeExports.jsx(Header,{}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col lg:flex-row flex-1 overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"flex-1 relative h-[60vh] lg:h-auto",children:jsxRuntimeExports.jsx(MapContainer,{onSelectRegion:e})}),jsxRuntimeExports.jsx("div",{className:"w-full lg:w-96 border-t lg:border-t-0 lg:border-l border-gray-200 bg-white overflow-y-auto",children:t?jsxRuntimeExports.jsx(RegionDetail,{region:t}):jsxRuntimeExports.jsx(InfoPanel,{})})]})]})})}function App(){return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(AnimatedBackground,{}),jsxRuntimeExports.jsx(FlyingBirds,{}),jsxRuntimeExports.jsx(Routes,{children:jsxRuntimeExports.jsxs(Route,{path:"/",element:jsxRuntimeExports.jsx(Layout,{}),children:[jsxRuntimeExports.jsx(Route,{index:!0,element:jsxRuntimeExports.jsx(HomePage,{})}),jsxRuntimeExports.jsx(Route,{path:"what-is-yield-gap",element:jsxRuntimeExports.jsx(WhatIsYieldGap,{})}),jsxRuntimeExports.jsx(Route,{path:"historical-evolution",element:jsxRuntimeExports.jsx(HistoricalEvolution,{})}),jsxRuntimeExports.jsx(Route,{path:"tools-for-yield-gap",element:jsxRuntimeExports.jsx(ToolsForYieldGap,{})}),jsxRuntimeExports.jsx(Route,{path:"solve-yield-gap",element:jsxRuntimeExports.jsx(SolveYieldGap,{})}),jsxRuntimeExports.jsx(Route,{path:"minecraft-yield-gap",element:jsxRuntimeExports.jsx(MinecraftYieldGap,{})}),jsxRuntimeExports.jsx(Route,{path:"steps-to-avoid",element:jsxRuntimeExports.jsx(StepsToAvoid,{})}),jsxRuntimeExports.jsx(Route,{path:"about-us",element:jsxRuntimeExports.jsx(AboutUs,{})}),jsxRuntimeExports.jsx(Route,{path:"conclusions",element:jsxRuntimeExports.jsx(Conclusions,{})}),jsxRuntimeExports.jsx(Route,{path:"*",element:jsxRuntimeExports.jsx(NotFound,{})}),jsxRuntimeExports.jsx(Route,{path:"mapa",element:jsxRuntimeExports.jsx(MapaDinamico,{})})]})}),jsxRuntimeExports.jsx(ParrotMascot,{})]})}clientExports.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsx(App,{})})}));
